# cURL 项目

# cURL 项目

![curl 标志](img/curl-logo.jpg)

有关开源项目的一个有趣细节是，它们被称为“项目”，好像它们在时间上有所限制，或者永远也无法完成一样。cURL “项目”是一些松散耦合的个人志愿者一起编写软件的集合，共同的使命是使用互联网协议进行可靠的数据传输。并免费提供代码供任何人使用。

# 如何开始

## 如何开始

1996 年，[Daniel Stenberg](https://daniel.haxx.se/) 在业余时间写了一个 IRC 机器人，一个自动程序，为专门讨论 Amiga 计算机的聊天室（IRC 网络 EFnet 上的 #amiga）的参与者提供服务。他开始想到，从网上获取一些更新的货币汇率并让他的机器人为聊天室用户提供在线服务是件有趣的事情，让他们询问机器人“请将 200 美元兑换成瑞典克朗”或类似的事情。

为了尽可能准确地提供汇率，机器人每天会从托管汇率的网站下载汇率。需要一个小工具通过 HTTP 下载数据来完成此任务。当时，Daniel 找到了一个名为 httpget 的小工具（由一位名叫 Rafael Sagula 的巴西人编写）。它几乎可以胜任工作，只需要稍微进行一些小的调整，不久 Daniel 就接手了几百行代码的维护。

HttpGet 1.0 随后于 1997 年 4 月 8 日发布，具有全新的 HTTP 代理支持。

我们很快发现并修复了通过 GOPHER 获取货币的支持。一旦添加了 FTP 下载支持，项目的名称就被更改了，urlget 2.0 在 1997 年 8 月发布。仅支持 http 的时代已经过去了。

该项目逐渐扩大。当添加了上传功能并且名称再次具有误导性时，进行了第二次更名，并于 1998 年 3 月 20 日发布了 curl 4 版本。（从以前的名称中保留了版本编号。）

我们认为**1998 年 3 月 20 日**是 curl 的生日。

# 名字

## 名字

给事物命名是困难的。

这个工具是关于使用 URL 指定上传和下载数据的。它会显示数据（默认情况下）。用户可能会“看到”URL，然后用单个字母 'c' 拼写“看到”。它也是一个客户端程序，一个 URL 客户端。所以 'c' 代表 Client 和 URL：**cURL**。

没有更多的需要，所以选择了这个名字，我们再也没有回头看过。

后来，有人建议 curl 实际上可以是一个聪明的“递归缩写”（其中缩写中的第一个字母指回同一个词）：“Curl URL 请求库”

虽然这很棒，但实际上这并不是最初的想法。我们有点希望自己那么聪明...

这个时候我们对其他以各种方式使用 curl 名称的项目并不知晓。

### 混淆和混乱

在 curl 刚刚创建之后，另一个名为“curl”的东西出现了，它是一种编程语言。那个 curl 仍然 [存在](http://www.curl.com)。

几种针对各种编程语言的 libcurl 绑定部分或完全使用 “curl” 或 “CURL” 一词来描述它们的绑定，所以有时你会发现用户谈论 curl，但目标既不是命令行工具也不是由此项目制作的库。

### 作为一个动词

“curl something”的意思有时候是使用非浏览器工具从 URL 下载文件或资源的参考。

# curl 是做什么的？

## curl 是做什么的？

cURL 是一个项目，其主要目的和重点是制作两种产品：

+   curl，命令行工具

+   libcurl 是一个带有 C API 的传输库。

这个工具和库使用 Internet 协议为指定为 URL 的资源进行 Internet 传输。

一切与 Internet 协议传输相关的事情都可以被认为是 curl 的业务。与此无关的事情应该避免，留给其他项目和产品。

也许重要的是要考虑到 curl 和 libcurl 避免处理实际传输的数据。例如，它不了解 HTML 或任何其他流行的内容，但它知道如何通过 HTTP 传输这样的数据。

这两个产品不仅被广泛用于驱动成千上万的脚本和应用程序，使其能够连接到互联网，而且它们也被广泛用于服务器测试、协议调整和尝试新事物。

这个库被用于各种嵌入式设备中，这些设备需要进行 Internet 传输：汽车信息娱乐系统、电视、蓝光播放器、机顶盒、打印机、路由器、游戏系统等等。

### 命令行工具

从命令行运行 curl 是自然而然的，Daniel 从未考虑过除了默认情况下将数据输出到 stdout（标准输出）到终端之外的其他情况。标准 Unix 哲学中的 “一切都是管道” 的格言是 Daniel 信奉的。curl 就像 'cat' 或其他 Unix 工具之一；它将数据发送到 stdout，以便轻松地与其他工具链在一起执行你想要的操作。这也是为什么几乎所有允许从文件读取或写入文件的 curl 选项，也都可以选择将其输出到 stdout 或从 stdin 进行读取的能力。

遵循 Unix 命令行工具的工作风格，它也从来没有任何疑问，即它应该支持命令行上的多个 URL。

这个命令行工具旨在能够完美地从脚本或其他自动手段工作。除了纯文本输入和输出之外，它不包含任何其他 GUI 或 UI。

### 这个库

尽管命令行工具首先出现，但网络引擎在 2000 年被剥离并转换为库，今天我们仍然使用的概念是在 2000 年 8 月 libcurl 7.1 中引入的。从那时起，命令行工具一直是一个薄逻辑层，用于围绕执行所有繁重工作的库创建工具。

libcurl 被设计和旨在为任何想要在其软件中添加客户端文件传输功能的人提供支持，无论是在任何平台、任何架构和任何目的上。libcurl 的许可证也非常自由，以避免成为障碍。

libcurl 是用传统和保守的 C 语言编写的。在其他语言更受青睐的情况下，人们已经为它们创建了 libcurl 绑定。

# 项目沟通

## 项目沟通

cURL 是一个由来自世界各地、生活和工作在世界许多时区的自愿成员组成的开源项目。要使这样的设置真正起作用，沟通和开放是关键。我们保持所有沟通公开，并使用开放的沟通渠道。大多数讨论都在邮件列表上进行，我们使用 bug 跟踪器，所有问题都在那里进行讨论和处理，每个关心的人都可以完全了解。

重要的是要意识到我们都共同照顾这个项目，我们解决问题并添加功能。有时，常规贡献者会感到厌倦并逐渐消失，有时，一个新的热心贡献者会从阴影中走出来，开始更多地帮助。为了尽可能使这艘船向前航行，重要的是我们保持开放的讨论，这也是我们不赞成私下讨论或尝试通过电子邮件联系个别团队成员讨论开发问题、问题、调试或其他问题的原因之一。

在当今这个时代，邮件列表可能被认为是一种老式的沟通方式——没有花哨的网络论坛或类似的东西。因此，使用邮件列表正在成为一种并非到处都有的艺术，对你来说可能有点奇怪和不寻常。但不要担心。这只是向一个地址发送电子邮件，然后该地址将该电子邮件发送给所有订阅者。我们的邮件列表最多有几千个订阅者。如果您是第一次发邮件，最好先阅读一些旧邮件，以了解文化和被认为是良好做法的内容。

邮件列表和 bug 跟踪器已经多次更换托管提供商，有理由怀疑将来可能会再次发生。这只是一个长期存在的项目可能会发生的事情。

一些用户也会在 freenode 的#curl 频道上的 IRC 上聊天。

# 邮件列表礼仪

### 邮件列表礼仪

像许多社区和亚文化一样，我们已经制定了我们认为是正确行为方式和如何在邮件列表上进行沟通的准则和规则。[curl 邮件列表礼仪](https://curl.haxx.se/mail/etiquette.html)遵循传统开源项目的风格。

#### 不要给单个人发邮件

许多人直接向一个人发送一个问题。一个人收到很多邮件，只有一个人能回复你。这个问题可能是其他人也想问的。其他人没有办法阅读回复，只能向这个人提问。这个人因此会被邮件淹没。

如果你真的想联系一个个人，也许愿意为他或她的服务付费，那就尽管去做，但如果只是另一个 curl 问题，请将其带到适当的列表中。

#### 回复或新邮件

请不要将回复现有消息作为发布消息到列表的快捷方式。

许多邮件程序和网络存档程序使用邮件中的信息将它们组合在一起作为“线程”，作为讨论某一主题的帖子集合。如果您不打算回复相同或类似的主题，请不要只是回复现有的邮件并更改主题；创建一个新邮件。

#### 回复给列表

当回复列表中的消息时，请确保选择“群组回复”或“回复所有”，而不仅仅是回复给你回复的单个邮件的作者。

我们正在积极地阻止通过将传出邮件中的“回复至”字段设置回邮件列表地址，使人们更难以错误地仅向作者发送邮件。

#### 使用一个明智的主题

请使用一个有意义且与邮件内容相关的邮件主题。这样可以更容易找到您的邮件，也更容易跟踪邮件线程和主题。

#### 不要顶部回复

如果您回复消息，请不要使用顶部回复。顶部回复是指您在邮件顶部编写新文本，并在下面插入先前引用的邮件对话。这迫使用户以逆序阅读邮件以正确理解其内容。

这就是为什么顶部回复是如此糟糕的原因：

```
A: Because it messes up the order in which people normally read text.
Q: Why is top-posting such a bad thing?
A: Top-posting.
Q: What is the most annoying thing in e-mail? 
```

除了读取顺序混乱（特别是当在一个线程中混合在一起时，当有人使用规定的底部回复风格回复时），这也使得只引用原始邮件的部分变得不可能。

当您回复邮件时，让邮件客户端插入先前引用的邮件。然后将光标放在邮件的第一行，并通过邮件向下移动，删除所有不为您的评论添加上下文的引用部分。当您想添加评论时，请在引用与您的评论相关的位置内联添加。然后再继续向下移动。

当大部分引用已被删除并且您已添加了自己的文字时，您就完成了！

#### HTML 不适用于邮件

请关闭那些 HTML 编码的消息。您可以将所有那些有趣的邮件发送给您的朋友。我们使用纯文本邮件。

#### 引用

尽量少引用。仅提供您不能忽略的上下文的足够部分。您可以在[这里](https://www.netmeister.org/news/learn2quote.html)找到详细的描述。

#### 摘要

我们允许订阅者订阅邮件列表的“摘要”版本。摘要是将所有邮件汇集在一个邮件中的集合。

如果您决定回复作为摘要发送的邮件，如果您确实无法正常订阅，请务必考虑以下两件事：

切断与您要回复的邮件无关的所有邮件和闲聊。

将主题名称更改为合理且与主题相关的内容，最好甚至是您要回复的单个邮件的实际主题。

#### 请告诉我们您是如何解决问题的！

许多人向列表发送问题，人们花费一些时间并努力提供对这些问题的良好答案。

如果您是提问者，请考虑再次回复，以防其中的提示是解决问题的方法。回答问题的人们很高兴知道他们提供了一个好答案，并且您解决了问题。太多时候，提出问题的人再也没有消息了，我们永远不知道他/她是否离开是因为问题已解决还是因为问题无法解决！

发布解决方案也有助于其他遇到相同问题的用户。他们可以看到（可能在网络档案中）建议的修复实际上已经帮助了至少一个人。

# 邮件列表

## 邮件列表

一些最重要的邮件列表是……

### curl-users

主要是 curl 命令行工具的用户和开发者的主要邮件列表，用于有关 curl 概念、命令行选项、curl 可以使用的协议甚至相关工具的问题和帮助。我们倾向于将开发问题或更高级别的错误修复讨论转移到 curl-library，因为 libcurl 是驱动大多数 curl 的引擎。  

请参阅[`cool.haxx.se/mailman/listinfo/curl-users`](https://cool.haxx.se/mailman/listinfo/curl-users)

### curl-library

主要是开发列表，也是 libcurl 用户的列表。我们讨论如何在应用程序中使用 libcurl 以及 libcurl 本身的开发。您会发现有关 libcurl 行为、调试和文档问题的大量问题。

请参阅[`cool.haxx.se/mailman/listinfo/curl-library`](https://cool.haxx.se/mailman/listinfo/curl-library)

### curl-announce

此邮件列表仅收到有关新版本和安全问题的公告——没有其他内容。这是给那些希望从项目中获得更随意信息的人的。[`cool.haxx.se/mailman/listinfo/curl-announce`](https://cool.haxx.se/mailman/listinfo/curl-announce)

# 报告错误

## 报告错误

开发团队进行了大量的测试。我们有一个完整的测试套件，每天在多个平台上频繁运行，以便执行所有代码并确保一切按照预期工作。

但是，有时事情不按照应该的方式运行。这时，我们很感激能够收到这些问题的报告。

### 一个 bug 是一个问题

任何问题都可以被视为一个 bug。手册中奇怪措辞阻止你理解某事是一个 bug。组合多个选项的意外副作用可能是一个 bug——或者也许应该更好地记录？也许这个选项根本没有做你期望的事情？那就是一个问题，我们应该修复它！

### 必须了解问题才能解决。

这听起来可能很容易和简单，但这是我们和其他项目中的一个基本真理。仅仅因为这是一个老项目，有成千上万的用户，并不意味着开发团队知道你刚刚遇到的问题。也许用户没有像你一样关注细节，或者也许这个问题从未对其他人触发过。

我们依赖于遇到问题的用户来报告问题。我们需要知道问题的存在，以便我们可以解决它们。

### 解决问题

软件工程在很大程度上是关于解决问题。要解决问题，开发人员需要了解如何重现问题，为此，调试人员需要告诉触发问题的一系列情况。

### 一个好的 bug 报告

一个好的报告解释了发生了什么以及你认为会发生什么。告诉我们你使用的不同组件的确切版本，并逐步向我们展示你如何解决问题。

提交 bug 报告后，您可以期待有后续问题或者也许请求您尝试不同的事情和任务，以便开发人员能够缩小嫌疑并确保您的问题得到适当的解决。

提交但被提交者放弃的 bug 报告，如果开发人员无法理解、无法重现或在处理时遇到其他问题，可能会被关闭。不要放弃你的报告！

在[GitHub 上的 curl bug 跟踪器](https://github.com/curl/curl/issues)中报告 curl 的 bug！

## 测试

彻底和正确地测试软件是一项艰巨的工作。测试在数十个操作系统和数十个 CPU 架构上运行的软件，具有其自己一套 bug 和规范解释的服务器实现，甚至更加艰巨。

curl 项目有一个测试套件，遍历所有现有的测试用例，运行测试并验证结果是否正确，以及是否发生了其他问题，比如内存泄漏或协议层中的异常情况。

测试套件应该在您自己构建 curl 后才能运行，还有一些志愿者会自动运行测试套件几次以确保最新的提交得到运行。这样，我们希望尽快发现引入的最严重的缺陷。

我们不会测试一切，即使我们尝试测试一切，仍然会有一些微妙的细节被忽略，而且有时是数年之后我们才发现是错误的。

由于不同系统的特性和互联网上有趣的用例，最终一些最佳测试是由用户在运行代码以执行自己的用例时进行的。

测试套件的另一个限制因素是测试设置本身不如 curl 和 libcurl 可移植，因此实际上有一些平台可以正常运行 curl，但测试套件根本无法执行。

# 发布

## 发布

curl 项目中的发布意味着打包所有代码存储库主分支中的源代码，对软件包进行签名，标记代码仓库中的时间点，然后将其放在网站上供全世界下载。

这是所有 curl 可以运行的平台的一个单一源代码存档。它是 curl 和 libcurl 的唯一包。

我们从未从项目中提供任何 curl 或 libcurl *二进制文件*。所有提供的打包二进制文件都是由项目外的慷慨的志愿者制作的。

几年前，我们努力在一个八周的周期内发布版本，除非出现了一些真正严重和紧急的问题，否则我们会坚持这个计划。我们在星期三发布，然后在八周后的星期三再次发布，依此类推。不间断。

对于每个发布，我们都会用"curl-release 版本"标记仓库中的源代码，并更新[更改日志](https://curl.haxx.se/changes.html)。

我们在 2016 年 11 月之前发布了 160 个 curl 版本，自 1999 年末以来发布的所有版本在我们的[curl 发布日志](https://curl.haxx.se/docs/releases.html)中都有大量的发布统计信息可供查看。

## 每日快照

每一次对源代码的更改都会提交并推送到源代码仓库。此存储库托管在 github.com 上，并且目前正在使用 git（但并不总是这样）。在从仓库构建 curl 时，有一些需要生成和设置的东西，有时会给人们带来一些问题或摩擦。为了帮助解决这个问题，我们提供每日快照。

每天都会生成日常快照（聪明的命名，不是吗？），就好像在那个时间点发布了一个版本一样。它会生成一个包含所有源代码和通常作为发布的一部分的所有文件的包，并将其放入一个特殊位置的包中，并将其上传到一个特殊的地方（[`curl.haxx.se/snapshots/`](https://curl.haxx.se/snapshots/)），以允许有兴趣的人获取最新的代码进行测试、实验或其他用途。

快照只保留大约 20 天，然后被删除。

# 安全

## 安全

安全是我们在 curl 项目中的首要关注点。我们认真对待它，努力提供所有协议和相关代码的安全和安全实现。一旦我们获悉与安全相关的问题或仅仅是疑似问题，我们会处理它，并尽量在下一个待发布的版本中提供修复和安全通知。

我们采用负责任的披露政策，意味着我们更喜欢在公众视线之外讨论和解决安全问题，并在向世界宣布问题和修复之前几天提醒 openwall.org 列出的供应商。这样做是为了缩短坏人利用问题直到修复版本部署的时间跨度。

### 过去的安全问题

多年来，我们遇到了许多与安全相关的问题。我们努力[详细记录每个问题](https://curl.haxx.se/docs/security.html)，列出所有细节并清楚说明，以帮助用户。curl 的用户应该能够弄清楚他们特定的 curl 版本和使用情况容易受到哪些问题的影响。

为了帮助解决这个问题，我们提供[这个瀑布图](https://curl.haxx.se/docs/vulnerabilities.html)，展示所有漏洞如何影响哪些 curl 版本，我们还有这个自项目诞生以来所有已知安全问题的完整列表。

# 信任

## 信任

要让软件征服世界，它需要被信任。建立更多信任需要信任，如果基础被证明有裂缝，一切都可能很快崩溃。

在 curl 项目中，我们通过几种不同的方式建立用户的信任：

1.  我们对一切都完全透明。每个决定，每次讨论以及每行代码都是公开的并在公开场合完成。

1.  我们努力编写可靠的代码。我们编写测试用例，审查代码，记录最佳实践，并有一个样式指南，帮助我们保持代码一致。

1.  我们尽可能遵守承诺和保证。我们不更改 API，也不放弃对旧系统的支持。

1.  安全至关重要，我们非常认真对待每一起报告的事件，并意识到我们**必须**解决所有已知问题，而且我们需要负责任地这样做。我们尽力不危害我们的用户。

1.  我们表现得像成年人。我们可以很傻，可以开玩笑，但我们会负责任地行事，并遵守我们的行为准则。每个人都应该能够信任我们的行为。

# 开发团队

## 开发团队

Daniel Stenberg 是该项目的创始人和自封的领导者。其他所有参与或贡献项目的人员都是在稍后的时间点加入的。一些贡献者工作了一段时间然后又离开了。大多数贡献者只是短暂地留下来修复他们的错误或合并功能等。在我们知道姓名的所有贡献者中，我们已经从 1400 多个个人那里得到了帮助。

在过去几年里反复出现在讨论和提交中的人员名单包括这些杰出的个人：

+   Daniel Stenberg

+   Steve Holme

+   Jay Satiro

+   Dan Fandrich

+   Marc Hörsken

+   Kamil Dudka

+   Alessandro Ghedini

+   Yang Tse

+   Günter Knauf

+   辻川龙弘

+   Patrick Monnerat

+   Nick Zitzmann

# curl 的用户

## curl 的用户

![十亿用户](img/one-billion-users.jpg)

我们曾经说过 curl 有十亿用户。这是一个好的说法，但实际上，我们当然没有确切的数字。我们只是根据观察和趋势估计和猜测。这也取决于你对“用户”到底是什么的定义。我们来详细说明一下。

### 开源

这个项目是开源的，且授权非常宽松，这意味着几乎任何人都可以以源代码格式或编译成的二进制形式重新分发 curl。

### 计算下载量

curl 命令行工具和 libcurl 库可以通过 curl 网站下载到大多数操作系统中，它们通过第三方安装程序提供给一些用户，并且它们还预装在更多操作系统中。这使得从 curl 网站计算下载量完全不合适作为一种衡量手段。

### 寻找用户

所以，我们无法计算下载量，任何人都可以重新分发它，也没有人被迫告诉我们他们使用了 curl。我们怎么能算出数字？我们怎么能算出用户数？答案是我们实际上不能以任何可接受的精度。

相反，我们依靠目击报告、间接证据、在互联网上的发现、偶尔的“关于”框或提到 curl 的许可协议，或者作者寻求帮助并告诉我们他们的使用情况。

curl 许可证表示用户需要在某处重复它，比如在文档中，但对于我们来说，在许多情况下很难找到，而且如果他们决定不遵循这个非常小的许可要求，我们也很难采取任何行动。

### 命令行工具的用户

curl 命令行工具被世界各地的程序员广泛使用在 shell 和批处理脚本中，用于调试服务器和测试各种功能。毫无疑问，它每天被数百万人使用。

### 嵌入式库

libcurl 是使我们的项目达到大量用户的关键。快速轻松地将客户端文件传输功能集成到您的应用程序中对许多用户来说是可取的，而 libcurl 的出色可移植性也有所帮助：您可以在各种平台上编写几乎相同的应用程序，并且仍然可以继续使用 libcurl 进行传输。

libcurl 用 C 语言编写，没有或只有少量必需的依赖项，这也有助于在嵌入式系统中使用它。

libcurl 在智能手机操作系统中广泛使用，在汽车信息娱乐设置中使用，在电视机中使用，在机顶盒中使用，在蓝光播放机和高端接收器等音频和视频设备中使用。它经常用于家用路由器和打印机。

许多畅销游戏也在 Windows 和游戏机上使用 libcurl。

### 在网站后端

用于 PHP 的 libcurl 绑定是第一个，如果不是唯一一个，真正受欢迎并广泛使用的 libcurl 绑定。它很快被采纳为 PHP 用户传输数据的默认方式，而且现在已经在这个位置上超过十年，PHP 已经成为互联网上相当受欢迎的技术（最近的数据表明大约四分之一的互联网站点使用 PHP）。

一些需求非常高的网站正在使用 PHP，并在后端使用 libcurl。Facebook 和 Yahoo 是这样的两个网站。

## 知名用户

没有什么强迫用户告诉我们他们在服务或产品中使用 curl 或 libcurl。我们通常只是偶然发现他们这样做，通过阅读对话，文档和许可协议。当然，一些公司也直截了当地告诉我们。

我们在我们的网站上收集使用项目产品“在商业环境中”的用户的公司和产品名称。我们这样做主要是为了向其他大品牌炫耀，如果这些其他人可以构建依赖于我们的产品，也许你也可以？

公司名单超过 200 个名称，但提取一些较大或更知名的品牌，这是一个相当不错的列表，当然，这只是一个小的选择：

Adobe，Altera，AOL，Apple，AT＆T，BBC，Blackberry，BMW，Bosch，Broadcom，Chevrolet，Cisco，Comcast，Facebook，Google，Hitachi，Honeywell，HP，华为，HTC，IBM，Intel，LG，马自达，梅赛德斯-奔驰，摩托罗拉，Netflix，任天堂，Oracle，Panasonic，飞利浦，先锋，RBS，三星，SanDisk，SAP，SAS Institute，SEB，夏普，西门子，索尼，Spotify，Sun，瑞士电信，Tomtom，东芝，VMware，Xilinx，雅虎，雅马哈

# 未来

## 未来

![curl 未来](img/devgraph-800.png)

在 curl 的未来，报告的错误，开发速度或互联网协议的开发或更新方式都没有放缓的迹象。

我们期待支持更多协议，支持已支持协议内更多功能，并为 libcurl 提供更多更好的 API，以使用户能够进行更好更快的传输。

该项目随意维护一个[待办事项](https://curl.haxx.se/docs/todo.html)文件，其中包含一堆我们将来可能要处理的想法。它还保留了一个[已知问题](https://curl.haxx.se/docs/knownbugs.html)文档，其中列出了我们想要解决的已知问题。

有一个[路线图](https://curl.haxx.se/dev/roadmap.html)文档描述了一些短期计划，一些活跃的开发人员认为他们接下来会处理的。当然，我们不能保证我们总是完美地遵循它。

我们高度依赖开发人员加入并处理他们想要完成的工作，无论是修复错误还是添加新功能。
