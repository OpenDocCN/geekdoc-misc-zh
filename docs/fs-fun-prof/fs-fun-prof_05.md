# 学习 F#

函数式语言与标准命令式语言非常不同，最初可能会很棘手。本页提供了一些关于如何有效学习 F# 的提示。

## 以初学者的身份学习 F#

如果你有 C# 和 Java 等语言的经验，你可能会发现，即使你不熟悉关键字或库，你也可以对其他类似语言编写的源代码有相当好的理解。这是因为所有命令式语言都使用相同的思维方式，一个语言的经验可以很容易地转移到另一个语言。

如果你和许多人一样，学习一门新编程语言的标准方法是找出如何实现你已经熟悉的概念。你可能会问“如何给变量赋值？”或“如何做循环？”，有了这些答案，你就能够很快地进行一些基本编程。

在学习 F# 时，**你不应该试图带着你的旧命令式概念**。在纯函数式语言中，没有变量，没有循环，也没有对象！

是的，F# 是一种混合语言，支持这些概念。但如果你从一个初学者的角度开始学习，你会学得更快。

## 改变你的思维方式

重要的是要理解函数式编程不仅仅是一种风格上的差异；它是一种完全不同的编程思维方式，就像真正的面向对象编程（比如 Smalltalk 中的）也是与传统命令式语言（比如 C）不同的思维方式一样。

F# 确实允许非函数式风格，而且很容易保留你已经熟悉的习惯。你可以只是以非函数式的方式使用 F#，而不真正改变你的思维方式，并且没有意识到你错过了什么。为了充分利用 F#，并且对函数式编程有流利和舒适的掌握，至关重要的是你要以函数式思维而不是命令式思维来思考。

目前你可以做的最重要的事情就是花时间和精力去理解 F# 的工作原理，特别是涉及函数和类型系统的核心概念。因此，请阅读并反复阅读系列文章"思考函数式"和"理解 F# 类型"，玩弄示例，并在尝试进行严肃编码之前熟悉这些概念。如果你不理解函数和类型的工作原理，那么你将很难提高生产力。

## 做和不做

这里有一些鼓励你思考函数式的做和不做的列表。一开始可能会很困难，但就像学习一门外语一样，你必须深入其中，强迫自己像当地人一样说话。

+   初学者不要使用`mutable`关键字**任何时候**。在没有可变状态的支撑下编写复杂函数将真正迫使你理解函数式范式。

+   不要使用`for`循环或`if-then-else`。使用模式匹配来测试布尔值并通过列表进行递归。

+   不要使用“点符号”。而不是“点进”对象，尽量使用函数来完成一切。也就是说，写`String.length "hello"`而不是`"hello".Length`。这可能看起来多余，但在使用管道和高阶函数如`List.map`时，这种工作方式是必不可少的。也不要编写自己的方法！参见此帖子了解详情。

+   作为推论，不要创建类。只使用纯粹的 F# 类型，如元组、记录和联合。

+   不要使用调试器。如果你依赖调试器来查找和修复不正确的代码，你会受到严重打击。在 F# 中，你可能不会走得那么远，因为编译器在许多方面要严格得多。当然，没有工具可以“调试”编译器并逐步处理其处理过程。调试编译器错误的最佳工具是你的大脑，而 F# 强制你使用它！

另一方面：

+   创建许多“小型类型”，特别是联合类型。它们轻量且易于使用，它们的使用将有助于记录你的领域模型并确保正确性。

+   理解`list`和`seq`类型及其相关的库模块。像`List.fold`和`List.map`这样的函数非常强大。一旦你理解如何使用它们，你就会在理解高阶函数方面迈出重要的一步。

+   一旦你理解了集合模块，请尽量避免递归。递归容易出错，并且很难确保它是正确的尾递归。当你使用`List.fold`时，你永远不会遇到这个问题。

+   尽量使用管道（`|>`）和组合（`>>`）。这种风格比像`f(g(x))`这样的嵌套函数调用更符合习惯。

+   理解部分应用的工作原理，并尝试熟悉点无（tacit）风格。

+   逐步开发代码，使用交互式窗口测试代码片段。如果你盲目地创建大量代码，然后尝试一次性编译所有代码，你可能会遇到许多痛苦且难以调试的编译错误。

## 故障排除

初学者经常犯一些极为常见的错误，如果你对让代码编译感到沮丧，请阅读"F#故障排除"页面。
