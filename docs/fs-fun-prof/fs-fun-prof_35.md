# 为什么我不会写一个单子教程

# 为什么我不会写一个单子教程

*“在 Haskell 中，一个‘新手’是指还没有实现编译器的人。他们只是写了一个单子教程” - [笔名](http://sequence.complete.org/node?page=10)*

让我们从一个故事开始...

### 爱丽丝学会了数数

*年轻的爱丽丝和她的父亲（碰巧是一位数学家）正在参观一个动物园...*

爱丽丝：看那些小猫。

![两只小猫](img/two_kitties.jpg)

爸爸：它们很可爱。有*两*只。

爱丽丝：看那些小狗。

![两只小猫](img/two_puppies.jpg)

爸爸：没错。你能数数吗？有*两*只小狗。

爱丽丝：看那些小马。

![两只小猫](img/two_horses.jpg)

爸爸：是的亲爱的。你知道小猫、小狗和小马有什么共同之处吗？

爱丽丝：没有。没有共同之处！

爸爸：实际上它们*确实*有一些共同之处。你能看出来是什么吗？

爱丽丝：不！小狗不是小猫。小马也不是小猫。

爸爸：我来为你解释好吗？首先，让我们考虑[一个集合 S，严格按照集合成员关系进行良序排列，其中 S 的每个元素也是 S 的子集](http://en.wikipedia.org/wiki/Ordinal_number#Von_Neumann_definition_of_ordinals)。这给你一点线索吗？

爱丽丝：[哭泣起来]

### 如何不赢得朋友和影响人

没有（明智的）父母会试图通过从序数的正式定义开始来解释如何计数。

那么为什么许多人感觉有必要强调单子的正式定义来解释概念呢？

这对于大学级数学课程可能没问题，但显然对于普通程序员来说行不通，他们只想创造出有用的东西。

不幸的是，由于这种方法，现在单子的概念周围有了一整个神秘感。它已经成为通往真正启蒙的[一座桥梁](http://www.thefreedictionary.com/pons+asinorum)。当然，有[大量的单子教程](http://www.haskell.org/haskellwiki/Monad_tutorials_timeline)可以帮助你跨越它。

这是事实：你*不需要*理解单子就能编写有用的函数式代码。这对于 F#来说尤其如此，与 Haskell 相比。

单子不是[金色锤子](http://en.wikipedia.org/wiki/Law_of_the_instrument)。它们不会让你更有效率。它们不会让你的代码更少出错。

所以真的，不要担心它们。

### 为什么我不会写一个单子教程

这就是为什么我不会写一个单子教程。我认为这不会帮助人们了解函数式编程。如果有的话，它只会制造混乱和焦虑。

是的，我将在许多不同的帖子中使用单子的例子，但除了这里之外，我会尽量避免在这个网站的任何地方使用“单子”这个词。事实上，它在我的禁用词列表中占据了重要位置！

### 为什么你应该写一个单子教程

另一方面，我确实认为*你*应该写一个单子教程。当你试图向别人解释某事时，你最终会更好地理解它。

这是我认为你应该遵循的过程：

1.  首先，写很多涉及列表、序列、选项、异步工作流、计算表达式等实际代码。

1.  随着经验的增加，你会开始使用更多的抽象，关注事物的形状而不是细节。

1.  在某个时刻，你会有一个恍然大悟的时刻 -- 突然领悟到所有抽象都有共同之处。

1.  太棒了！是时候写你的单子教程了！

关键点在于[*你必须按照这个顺序来做*](http://byorgey.wordpress.com/2009/01/12/abstraction-intuition-and-the-monad-tutorial-fallacy/) -- 你不能直接跳到最后一步然后逆向操作。正是通过逐步解决细节的过程，使你能够在看到抽象时理解它。

祝你的教程好运 -- 我去吃个墨西哥卷饼了。
