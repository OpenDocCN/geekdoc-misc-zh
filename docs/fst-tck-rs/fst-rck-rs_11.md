# 类型

> 原文：[`freddiehaddad.github.io/fast-track-to-rust/types.html`](https://freddiehaddad.github.io/fast-track-to-rust/types.html)

让我们花一点时间来讨论一下我们遇到的不同类型：

+   空单元类型 `()` 用于函数或表达式不返回值的情况。它本质上是一个占位符，表示没有有意义的价值。

+   字符串切片 `&str` 是对字符串一部分的引用。它们允许你处理字符串的一部分，而无需拥有整个字符串，这使得它们既高效又灵活。

+   有符号 32 位整数 `i32` 可以在特定范围内存储正负值。它们通常用于已知大小且适合 32 位限制的数值操作。

理解这些类型将帮助我们编写更高效和有效的 Rust 代码，随着我们继续构建 rustle 程序。

## 字符串切片 `str`

最有趣的可能就是 `str` 类型。`str` 是 Rust 中的原始字符串类型，通常以借用形式 `&str` 出现。

你可以将字符串切片想象成一个具有两个组件的对象：

| 字段 | 值 |
| --- | --- |
| `ptr` | `地址` |
| `len` | `无符号整数` |

想象一个从地址 `0x10` 开始的内存块，包含字符串字面量 `"rust"` 的字节。这个内存块将存储表示字符串中每个字符的单独字节。在这种情况下，内存将包含 `'r'`、`'u'`、`'s'` 和 `'t'` 的字节，从地址 0x10 开始顺序存储。

这种可视化有助于理解字符串字面量如何在内存中存储和访问：

| 0x10 | 0x11 | 0x12 | 0x13 |
| --- | --- | --- | --- |
| r | u | s | t |

当我们将字符串字面量 `"rust"` 绑定到变量 `language` 时：

```rs
let language = "rust";
```

内存看起来会是这样：

| 字段 | 值 |
| --- | --- |
| `ptr` | `0x10` |
| `len` | `4` |

## 原始类型

这里是 Rust 中的一些其他[原始类型](https://doc.rust-lang.org/std/index.html#primitives)：

| 类型 | 描述 |
| --- | --- |
| 数组 | 一个固定大小的数组，表示为 `[T; N]`，其中 `T` 是元素类型，`N` 是非负编译时常量大小。 |
| `bool` | 布尔类型。 |
| `char` | 字符类型。 |
| `f32` | 32 位浮点类型（具体来说，是 IEEE 754-2008 中定义的“binary32”类型）。 |
| `f64` | 64 位浮点类型（具体来说，是 IEEE 754-2008 中定义的“binary64”类型）。 |
| `i8` | 8 位有符号整数类型。 |
| `i16` | 16 位有符号整数类型。 |
| `i32` | 32 位有符号整数类型。 |
| `i64` | 64 位有符号整数类型。 |
| `i128` | 128 位有符号整数类型。 |
| `isize` | 指针大小的有符号整数类型。 |
| `str` | 字符串切片。 |
| `u8` | 8 位无符号整数类型。 |
| `u16` | 16 位无符号整数类型。 |
| `u32` | 32 位无符号整数类型。 |
| `u64` | 64 位无符号整数类型。 |
| `u128` | 128 位无符号整数类型。 |
| `usize` | 指针大小的无符号整数类型。 |

## 用户定义的类型

除了原始类型之外，Rust 支持 [用户定义的类型](https://doc.rust-lang.org/reference/types.html)。随着我们构建 rustle 程序，我们将更详细地介绍它们。但为了满足你的好奇心，一些用户定义的类型包括：

| 类型 | 描述 |
| --- | --- |
| `struct` | 其他类型的异构积，称为类型的 *字段*.^(2) |
| `enum` | 枚举类型是一种命名、异构的互斥联合类型，由枚举项的名称表示.^(3) |
| `union` | 联合类型是一种命名、异构的类似 C 的联合类型，由联合项的名称表示。 |

这些用户定义的类型允许编写更复杂和表达性更强的代码，使你能够更有效地模拟现实世界中的概念。随着我们项目的进展，我们将更深入地探讨这些内容。

* * *

1.  我们将在课程中探讨借用（borrowing）的含义。↩

1.  `struct` 类型类似于 C 中的 `struct` 类型。↩

1.  枚举类型类似于 Haskell 中的数据构造器声明，或者 Limbo 中的 *选择 ADT*。↩
