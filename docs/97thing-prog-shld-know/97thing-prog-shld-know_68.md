# 将所有内容放入版本控制

# 将所有内容放入版本控制

将所有项目中的所有内容放入版本控制。您需要的资源都在那里：免费工具，如 Subversion、Git、Mercurial 和 CVS；充足的磁盘空间；便宜而强大的服务器；无处不在的网络；甚至项目托管服务。安装版本控制软件后，您只需在包含您的代码的干净目录中发出适当的命令，即可将您的工作放入其存储库。而且只需学习两个新的基本操作：将代码更改提交到存储库中，然后使用存储库的版本更新项目的工作版本。

一旦您的项目处于版本控制下，您显然可以跟踪其历史，查看谁编写了哪些代码，并通过唯一标识符引用文件或项目版本。更重要的是，您可以大胆进行代码更改，不必担心——不再需要注释掉的代码以防将来需要，因为旧版本安全地存储在存储库中。您可以（也应该）使用符号名称标记软件发布，以便将来轻松查看客户运行的软件的确切版本。您可以创建并行开发的分支：大多数项目都有一个活跃的开发分支和一个或多个维护分支，用于支持已发布版本。

版本控制系统可以最大程度地减少开发人员之间的摩擦。当程序员独立工作时，这些软件部分几乎可以像魔术一样集成在一起。当他们互相干扰时，系统会注意到并允许他们解决冲突。通过一些额外的设置，系统可以通知所有开发人员每次提交的更改，建立对项目进展的共同理解。

在设置项目时，不要吝啬：将*所有*项目资产放入版本控制中。除了源代码，还包括文档、工具、构建脚本、测试用例、艺术品甚至库。将完整的项目安全地放入（定期备份的）存储库中，以最小化丢失磁盘或数据的损害。在新机器上进行开发设置只需从存储库中检出项目。这简化了在不同平台上分发、构建和测试代码：在每台机器上，单个更新命令将确保软件是当前版本。

一旦您看到使用版本控制系统的美丽之处，遵循一些规则将使您和您的团队更加有效：

+   每个逻辑更改都要在单独的操作中提交。将许多更改合并到单个提交中将使将来难以解开它们。当您进行项目范围的重构或样式更改时，这一点尤为重要，因为这很容易掩盖其他修改。

+   每次提交都要附上解释性消息。至少简要描述你所做的更改，但如果你还想记录更改的理由，这是存储它的最佳位置。

+   最后，避免提交可能破坏项目构建的代码，否则你将会在项目的其他开发人员中变得不受欢迎。

在版本控制系统下的生活太美好了，不要因为可以轻易避免的错误而破坏它。

作者：[Diomidis Spinellis](http://programmer.97things.oreilly.com/wiki/index.php/Diomidis_Spinellis)
