# 睡前进行测试（还有周末）

# 睡前进行测试（还有周末）

放松。我不是指海外开发中心、周末加班或夜班工作。相反，我想吸引你注意我们拥有多少计算能力。具体来说，我们没有利用多少计算能力来让我们程序员的生活变得更容易。你在工作日是否经常发现很难获得足够的计算能力？如果是这样，你的测试服务器在正常工作时间以外的时间在做什么？往往测试服务器在晚上和周末都处于闲置状态。你可以利用这一点。

+   *你有没有犯过在未运行所有测试的情况下进行更改的错？* 程序员在提交代码之前不运行测试套件的主要原因之一是因为测试可能需要的时间太长。当截止日期逼近，情况紧急时，人们自然而然地开始走捷径。解决这个问题的一种方法是将大型测试套件拆分为两个或更多个配置文件。一个较小的，强制性的测试配置文件可以快速运行，这将有助于确保在每次提交之前都运行了测试。所有的测试配置文件（包括强制性配置文件 —— 以确保）都可以自动化运行，准备好在第二天早上报告结果。

+   *你是否有足够的机会测试产品的稳定性？* 长时间运行的测试对于识别内存泄漏和其他稳定性问题至关重要。它们很少在白天运行，因为这会占用时间和资源。您可以自动运行一个泡沫测试，让它在夜间运行，而在周末运行时间更长一点。从星期五下午 6 点到下周一上午 6 点，有 60 个小时的潜在测试时间。

+   *您是否在性能测试环境上获得了足够的时间？* 我看到团队争吵着争夺性能测试环境的时间。在大多数情况下，白天团队都没有足够的高质量时间，而在晚上环境几乎闲置。在夜间或周末，服务器和网络都不太忙碌。这是进行一些高质量性能测试的理想时间。

+   *手动测试的排列组合太多了吗？* 在许多情况下，您的产品目标是在各种平台上运行。例如，32 位和 64 位，Linux、Solaris 和 Windows，或者仅仅在同一操作系统的不同版本上。更糟糕的是，许多现代应用程序暴露给各种传输机制和协议（HTTP、AMQP、SOAP、CORBA 等）。手动测试所有这些排列组合非常耗时，而且很可能在资源压力下接近发布时才完成。可惜的是，在周期的后期捕捉某些讨厌的错误可能太迟了。

在夜间或周末运行自动化测试将更频繁地确保测试了所有这些排列组合。只需稍加思考和一些脚本知识，你就可以安排一些*cron*作业在夜间和周末启动一些测试。还有许多测试工具可用。一些组织甚至拥有服务器网格，跨不同部门和团队汇集服务器，以确保资源的有效利用。如果你的组织有这种设施，你可以提交测试以在夜间或周末运行。

由[Rajith Attapattu](http://programmer.97things.oreilly.com/wiki/index.php/Rajith_Attapattu)提供。
