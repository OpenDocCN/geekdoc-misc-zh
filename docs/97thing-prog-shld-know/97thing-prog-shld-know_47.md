# 知道你的下一个提交

# 知道你的下一个提交

我拍了拍三位程序员的肩膀，问了他们在做什么。“我正在重构这些方法，”第一位回答道。“我正在为这个 Web 操作添加一些参数，”第二位回答道。第三位回答说：“我正在处理这个用户故事。”

或许看起来前两位程序员沉迷于他们工作的细节，而只有第三位能够看到更大的画面，并且后者拥有更好的专注力。然而，当我问他们什么时候以及他们会提交什么时，情况截然不同。前两位对哪些文件将涉及和大约在一个小时内完成的事情非常清楚。第三位程序员回答说：“哦，我猜我会在几天内准备好。我可能会添加几个类，并可能以某种方式更改那些服务。”

前两位程序员并不缺乏对整体目标的远见。他们选择了他们认为朝着有生产力方向发展并且可以在几个小时内完成的任务。一旦完成了这些任务，他们就会选择一个新的功能或重构来工作。因此，编写的所有代码都是有明确目的和有限、可实现的目标。

第三位程序员无法分解问题，同时处理所有方面。他不知道需要多长时间，基本上是在进行投机性编程，希望最终能够提交。很可能在这次漫长的工作开始时编写的代码与最终出现的解决方案不匹配。

如果前两位程序员的任务超过两个小时，他们会怎么做？在意识到他们承担了太多任务后，他们很可能会放弃更改，定义更小的任务，并重新开始。继续工作将缺乏重点，并导致投机性代码进入存储库。相反，更改将被抛弃，但洞察力将被保留。

第三位程序员可能会继续猜测，拼命试图将他的更改拼凑成可以提交的东西。毕竟，你不能丢弃已经做过的代码更改——那将是浪费的工作，不是吗？不幸的是，不抛弃代码会导致略显奇怪、缺乏明确目的的代码进入存储库。

即使是专注于提交的程序员，有时也可能无法找到他们认为在两小时内可以完成的有用内容。然后，他们会直接进入投机模式，玩弄代码，并在某些想法将他们带回正轨时抛弃更改。即使这些看似无结构的黑客会话也有其目的：了解代码，以便能够定义构成有生产力步骤的任务。

知道你的下一个提交。如果你无法完成，那么放弃你的更改，然后根据你所获得的见解定义一个你相信的新任务。在必要时进行推测性实验，但不要让自己不知不觉地陷入推测模式。不要将猜测性工作提交到你的仓库中。

作者：[丹·伯格·约翰逊](http://programmer.97things.oreilly.com/wiki/index.php/Dan_Bergh_Johnsson)
