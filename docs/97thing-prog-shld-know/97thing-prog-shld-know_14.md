# 代码审查

# 代码审查

你应该进行代码审查。为什么呢？因为它们*提高了代码质量*并*减少了缺陷率*。但并不一定是你想的那些原因。

由于他们可能之前曾经有过一些不好的审查经历，许多程序员倾向于不喜欢代码审查。我见过一些组织要求所有代码在部署到生产环境之前都必须通过正式审查。通常是架构师或首席开发人员进行这种审查，这种做法可以被描述为*架构师审查一切*。这在他们的软件开发流程手册中有所陈述，因此程序员必须遵守。可能有些组织需要如此严格和正式的流程，但大多数组织不需要。在大多数组织中，这样的方法是适得其反的。审查对象会觉得自己像是被假释委员会审判。审查人员既需要时间阅读代码，也需要时间跟进系统的所有细节。审查人员很快就会成为这一流程的瓶颈，流程很快就会崩溃。

代码审查的目的不应该只是简单地纠正代码中的错误，而应该是*分享知识*并建立共同的编码指南。与其他程序员分享你的代码可以实现集体代码所有权。让一个随机的团队成员与团队的其他成员一起*浏览代码*。你应该试图通过审查代码来学习和理解它，而不是寻找错误。

在代码审查过程中要温和。确保评论是*建设性的，而不是刻薄的*。在审查会议中引入不同的*审查角色*，以避免组织内部资历的高低影响代码审查。例如，一个审查者专注于文档，另一个审查者专注于异常，第三个审查者专注于功能。这种方法有助于将审查负担分散到团队成员之间。

每周定期安排一个*代码审查*日。在审查会议中花几个小时。每次审查会议轮换审查对象，采用简单的轮流模式。记得每次审查会议也要在团队成员之间交换角色。*让新手参与*代码审查。他们可能经验不足，但他们新鲜的大学知识可以提供不同的视角。*请专家参与*，因为他们的经验和知识。他们将更快地识别出容易出错的代码，并且更准确。如果团队有*编码规范*并由工具检查，代码审查会更加顺利。这样，在代码审查会议中就不会讨论代码格式问题了。

使代码审查变得有趣*可能是成功的最重要因素。审查是关于审查人员的。如果审查会议令人痛苦或无聊，那么很难激励任何人。让它成为一个*非正式的代码审查*，其主要目的是团队成员之间的知识共享。请不要留下讽刺性的评论，而是带上蛋糕或便当午餐。

由[Mattias Karlsson](http://programmer.97things.oreilly.com/wiki/index.php/Mattias_Karlsson)所撰写
