## 本地绑定的语法

问题的一部分实际上是语法的。当我们编写上述程序时，`y`的作用域（即`y`被绑定的区域）没有明确的开始或结束。这实际上是括号语法的一个优点：它暗示了一个清晰的区域（括号之间）。当然，我们有责任确保变量实际上绑定在那里（尽管我们稍后会发现这并不那么简单）。

按照 Racket 的语法，我们将在我们的语言中添加一个新的结构。到目前为止，跟踪完整的语法变得有点棘手，因此我们将使用一种称为 BNF（Backus-Naur Form 的缩写）的符号。让我们从我们的算术语言开始：

```
<expr> ::= <num>
         | {+ <expr> <expr>}
```

它读作“定义（`::=`）`expr`（表达式）为数字或（`|`）由一个开括号（`{`）、一个加号（`+`）、一个`expr`、另一个`expr`和一个闭括号组成的表面语法”。BNF 通过其具体语法为我们提供了一种方便的符号来表示语言的语法，我们的抽象语法通常将与 BNF 以非常自然的方式直接对应。（然而，请注意，在 BNF 中，我们只是简单地说每个子表达式都是一个`expr`，因为这是我们正确形成程序所需知道的一切。然而，在 AST 中，我们给不同的部分赋予不同的名称以区分它们。）

符号：BNF 分为终结符和非终结符。非终结符是像`expr`和`num`上面的占位符：它们代表许多更多的可能性（上面的`expr`可以替换为两种可能性之一（目前是这样），而`num`有许多可能的写法）。它们之所以被赋予这个名字，是因为语法在这里没有“终止”：这个名字是一个占位符，可以（并且必须）进一步展开。

习惯上，将非终结符写在`尖括号`内。相比之下，终结符是具体的语法，如`{`、`}`和`+`上面的。它们被称为终结符，因为它们代表自身并且不能进一步展开。它们有时也被称为字面量，因为它们必须按所示字面地写出。因此，它们不被任何装饰性符号包围。除非是非终结符，否则一切都是按字面意思写的，在这种情况下，它将被根据非终结符的定义替换为某种东西。

现在，我们可以定义一个扩展语言：

```
<expr> ::= <num>
         | {+ <expr> <expr>}
         | {let1 {<var> <expr>} <expr>}
```

即，我们正在添加一个新的语言结构`let1`，它有三个部分：一个变量（`var`）和两个表达式（两个`expr`）。
