- en: Variables
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 变量
- en: 原文：[https://rust-exercises.com/100-exercises/02_basic_calculator/02_variables.html](https://rust-exercises.com/100-exercises/02_basic_calculator/02_variables.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://rust-exercises.com/100-exercises/02_basic_calculator/02_variables.html](https://rust-exercises.com/100-exercises/02_basic_calculator/02_variables.html)
- en: In Rust, you can use the `let` keyword to declare **variables**.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Rust 中，你可以使用 `let` 关键字来声明**变量**。
- en: 'For example:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE0]'
  id: totrans-4
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Above we defined a variable `x` and assigned it the value `42`.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 上面我们定义了一个变量 `x` 并将其赋值为 `42`。
- en: '[Type](#type)'
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[类型](#type)'
- en: Every variable in Rust must have a type. It can either be inferred by the compiler
    or explicitly specified by the developer.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: Rust 中的每个变量都必须有一个类型。它可以是编译器推断的，也可以是开发者显式指定的。
- en: '[Explicit type annotation](#explicit-type-annotation)'
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[显式类型注解](#explicit-type-annotation)'
- en: 'You can specify the variable type by adding a colon `:` followed by the type
    after the variable name. For example:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在变量名后添加冒号 `:` 并跟类型来指定变量类型。例如：
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: In the example above, we explicitly constrained the type of `x` to be `u32`.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面的例子中，我们显式地将 `x` 的类型约束为 `u32`。
- en: '[Type inference](#type-inference)'
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[类型推断](#type-inference)'
- en: If we don't specify the type of a variable, the compiler will try to infer it
    based on the context in which the variable is used.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们没有指定变量的类型，编译器将尝试根据变量使用的上下文来推断它。
- en: '[PRE2]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In the example above, we didn't specify the type of `x`.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面的例子中，我们没有指定 `x` 的类型。
- en: '`x` is later assigned to `y`, which is explicitly typed as `u32`. Since Rust
    doesn''t perform automatic type coercion, the compiler infers the type of `x`
    to be `u32`—the same as `y` and the only type that will allow the program to compile
    without errors.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '`x` 之后被赋值给 `y`，`y` 被显式地指定为 `u32` 类型。由于 Rust 不执行自动类型转换，编译器推断 `x` 的类型为 `u32`——与
    `y` 相同，并且是唯一允许程序编译无误的类型。'
- en: '[Inference limitations](#inference-limitations)'
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[推断限制](#inference-limitations)'
- en: The compiler sometimes needs a little help to infer the correct variable type
    based on its usage.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 编译器有时需要一点帮助来根据其使用情况推断正确的变量类型。
- en: In those cases you'll get a compilation error and the compiler will ask you
    to provide an explicit type hint to disambiguate the situation.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些情况下，你会得到一个编译错误，编译器会要求你提供一个显式的类型提示来消除歧义。
- en: '[Function arguments are variables](#function-arguments-are-variables)'
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[函数参数是变量](#function-arguments-are-variables)'
- en: Not all heroes wear capes, not all variables are declared with `let`.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 不是所有的英雄都穿斗篷，不是所有的变量都是用 `let` 声明的。
- en: Function arguments are variables too!
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 函数参数也是变量！
- en: '[PRE3]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: In the example above, `x` is a variable of type `u32`.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面的例子中，`x` 是类型为 `u32` 的变量。
- en: The only difference between `x` and a variable declared with `let` is that functions
    arguments **must** have their type explicitly declared. The compiler won't infer
    it for you.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '`x` 和用 `let` 声明的变量之间的唯一区别是，函数参数**必须**显式声明其类型。编译器不会为你推断它。'
- en: This constraint allows the Rust compiler (and us humans!) to understand the
    function's signature without having to look at its implementation. That's a big
    boost for compilation speed^([1](#footnote-speed))!
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这个约束允许 Rust 编译器（以及我们人类！）理解函数的签名，而无需查看其实现。这对编译速度有很大的提升^([1](#footnote-speed))！
- en: '[Initialization](#initialization)'
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[初始化](#initialization)'
- en: You don't have to initialize a variable when you declare it.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在声明变量时，你不必初始化它。
- en: For example
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 例如
- en: '[PRE4]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: is a valid variable declaration.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 是一个有效的变量声明。
- en: 'However, you must initialize the variable before using it. The compiler will
    throw an error if you don''t:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在使用变量之前，你必须初始化它。如果你不这样做，编译器会抛出错误：
- en: '[PRE5]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'will throw a compilation error:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 将引发编译错误：
- en: '[PRE6]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[Exercise](#exercise)'
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[练习](#exercise)'
- en: The exercise for this section is located in [`02_basic_calculator/02_variables`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/02_basic_calculator/02_variables)
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的练习位于[`02_basic_calculator/02_variables`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/02_basic_calculator/02_variables)
- en: '* * *'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: The Rust compiler needs all the help it can get when it comes to compilation
    speed. [↩](#fr-speed-1)
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当涉及到编译速度时，Rust 编译器需要所有它能得到的帮助。[↩](#fr-speed-1)
