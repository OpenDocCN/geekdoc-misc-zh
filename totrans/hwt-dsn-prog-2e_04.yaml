- en: IÂ Fixed-Size DatağŸ”—
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: I   å›ºå®šå¤§å°æ•°æ®ğŸ”—
- en: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/part_one.html](https://htdp.org/2024-11-6/Book/part_one.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/part_one.html](https://htdp.org/2024-11-6/Book/part_one.html)
- en: '| Â Â Â Â [1Â Arithmetic](#%28part._ch~3abasic-arithmetic%29) |'
  id: totrans-2
  prefs: []
  type: TYPE_TB
  zh: '|   [1 ç®—æœ¯](#%28part._ch~3abasic-arithmetic%29) |'
- en: '| Â Â Â Â Â Â [1.1Â The Arithmetic of Numbers](#%28part._sec~3aarith-num%29) |'
  id: totrans-3
  prefs: []
  type: TYPE_TB
  zh: '|   [1.1 æ•°å­—çš„ç®—æœ¯](#%28part._sec~3aarith-num%29) |'
- en: '| Â Â Â Â Â Â [1.2Â The Arithmetic of Strings](#%28part._sec~3aarith-str%29) |'
  id: totrans-4
  prefs: []
  type: TYPE_TB
  zh: '|   [1.2 å­—ç¬¦ä¸²çš„ç®—æœ¯](#%28part._sec~3aarith-str%29) |'
- en: '| Â Â Â Â Â Â [1.3Â Mixing It Up](#%28part._sec~3aarith-mix%29) |'
  id: totrans-5
  prefs: []
  type: TYPE_TB
  zh: '|   [1.3 æ··åˆä½¿ç”¨](#%28part._sec~3aarith-mix%29) |'
- en: '| Â Â Â Â Â Â [1.4Â The Arithmetic of Images](#%28part._sec~3aarith-images%29) |'
  id: totrans-6
  prefs: []
  type: TYPE_TB
  zh: '|   [1.4 å›¾åƒçš„ç®—æœ¯](#%28part._sec~3aarith-images%29) |'
- en: '| Â Â Â Â Â Â [1.5Â The Arithmetic of Booleans](#%28part._sec~3aarith-bools%29) |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
  zh: '|   [1.5 å¸ƒå°”å€¼çš„ç®—æœ¯](#%28part._sec~3aarith-bools%29) |'
- en: '| Â Â Â Â Â Â [1.6Â Mixing It Up with Booleans](#%28part._sec~3aboolean-if%29) |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: '|   [1.6 ä½¿ç”¨å¸ƒå°”å€¼æ··åˆ](#%28part._sec~3aboolean-if%29) |'
- en: '| Â Â Â Â Â Â [1.7Â Predicates: Know Thy Data](#%28part._sec~3apredicates%29) |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: '|   [1.7 è°“è¯ï¼šäº†è§£ä½ çš„æ•°æ®](#%28part._sec~3apredicates%29) |'
- en: '| Â Â Â Â [2Â Functions and Programs](#%28part._ch~3afuncs-progs%29) |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: '|   [2 å‡½æ•°å’Œç¨‹åº](#%28part._ch~3afuncs-progs%29) |'
- en: '| Â Â Â Â Â Â [2.1Â Functions](#%28part._sec~3afuncs%29) |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '|   [2.1 å‡½æ•°](#%28part._sec~3afuncs%29) |'
- en: '| Â Â Â Â Â Â [2.2Â Computing](#%28part._sec~3acomputing%29) |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: '|   [2.2 è®¡ç®—](#%28part._sec~3acomputing%29) |'
- en: '| Â Â Â Â Â Â [2.3Â Composing Functions](#%28part._sec~3acomposing%29) |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '|   [2.3 å‡½æ•°ç»„åˆ](#%28part._sec~3acomposing%29) |'
- en: '| Â Â Â Â Â Â [2.4Â Global Constants](#%28part._sec~3aglobal%29) |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '|   [2.4 å…¨å±€å¸¸é‡](#%28part._sec~3aglobal%29) |'
- en: '| Â Â Â Â Â Â [2.5Â Programs](#%28part._sec~3aprogs%29) |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '|   [2.5 ç¨‹åº](#%28part._sec~3aprogs%29) |'
- en: '| Â Â Â Â [3Â How to Design Programs](#%28part._ch~3ahtdp%29) |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '|   [3 å¦‚ä½•è®¾è®¡ç¨‹åº](#%28part._ch~3ahtdp%29) |'
- en: '| Â Â Â Â Â Â [3.1Â Designing Functions](#%28part._sec~3adesign-func%29) |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '|   [3.1 è®¾è®¡å‡½æ•°](#%28part._sec~3adesign-func%29) |'
- en: '| Â Â Â Â Â Â [3.2Â Finger Exercises: Functions](#%28part._sec~3afinger-design%29)
    |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '|   [3.2 æ‰‹æŒ‡ç»ƒä¹ ï¼šå‡½æ•°](#%28part._sec~3afinger-design%29) |'
- en: '| Â Â Â Â Â Â [3.3Â Domain Knowledge](#%28part._sec~3adomain%29) |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '|   [3.3 é¢†åŸŸçŸ¥è¯†](#%28part._sec~3adomain%29) |'
- en: '| Â Â Â Â Â Â [3.4Â From Functions to Programs](#%28part._sec~3adesign%29) |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '|   [3.4 ä»å‡½æ•°åˆ°ç¨‹åº](#%28part._sec~3adesign%29) |'
- en: '| Â Â Â Â Â Â [3.5Â On Testing](#%28part._sec~3atesting%29) |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '|   [3.5 å…³äºæµ‹è¯•](#%28part._sec~3atesting%29) |'
- en: '| Â Â Â Â Â Â [3.6Â Designing World Programs](#%28part._.D.K._sec~3adesign-world%29)
    |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '|   [3.6 è®¾è®¡ä¸–ç•Œç¨‹åº](#%28part._.D.K._sec~3adesign-world%29) |'
- en: '| Â Â Â Â Â Â [3.7Â Virtual Pet Worlds](#%28part._sec~3azoo1%29) |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '|   [3.7 è™šæ‹Ÿå® ç‰©ä¸–ç•Œ](#%28part._sec~3azoo1%29) |'
- en: '| Â Â Â Â [4Â Intervals, Enumerations, and Itemizations](#%28part._ch~3aintervals-enums%29)
    |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '|   [4 é—´éš”ã€æšä¸¾å’Œé¡¹ç›®åŒ–](#%28part._ch~3aintervals-enums%29) |'
- en: '| Â Â Â Â Â Â [4.1Â Programming with Conditionals](#%28part._sec~3acond%29) |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '|   [4.1 ä½¿ç”¨æ¡ä»¶ç¼–ç¨‹](#%28part._sec~3acond%29) |'
- en: '| Â Â Â Â Â Â [4.2Â Computing Conditionally](#%28part._sec~3aworks%29) |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '|   [4.2 æ¡ä»¶è®¡ç®—](#%28part._sec~3aworks%29) |'
- en: '| Â Â Â Â Â Â [4.3Â Enumerations](#%28part._sec~3aenums%29) |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '|   [4.3 æšä¸¾](#%28part._sec~3aenums%29) |'
- en: '| Â Â Â Â Â Â [4.4Â Intervals](#%28part._sec~3aintervals%29) |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '|   [4.4 é—´éš”](#%28part._sec~3aintervals%29) |'
- en: '| Â Â Â Â Â Â [4.5Â Itemizations](#%28part._itemization._sec~3aitemization%29) |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '|   [4.5 é¡¹ç›®åŒ–](#%28part._itemization._sec~3aitemization%29) |'
- en: '| Â Â Â Â Â Â [4.6Â Designing with Itemizations](#%28part._sec~3adesign-itemization%29)
    |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '|   [4.6 ä½¿ç”¨é¡¹ç›®åŒ–è®¾è®¡](#%28part._sec~3adesign-itemization%29) |'
- en: '| Â Â Â Â Â Â [4.7Â Finite State Worlds](#%28part._sec~3aworlds-more%29) |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '|   [4.7 æœ‰é™çŠ¶æ€ä¸–ç•Œ](#%28part._sec~3aworlds-more%29) |'
- en: '| Â Â Â Â [5Â Adding Structure](#%28part._ch~3astructure%29) |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '|   [5 æ·»åŠ ç»“æ„](#%28part._ch~3astructure%29) |'
- en: '| Â Â Â Â Â Â [5.1Â From Positions to posn Structures](#%28part._sec~3aposn-structures%29)
    |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '|   [5.1 ä»ä½ç½®åˆ°ä½ç½®ç»“æ„](#%28part._sec~3aposn-structures%29) |'
- en: '| Â Â Â Â Â Â [5.2Â Computing with posns](#%28part._sec~3aeval-posns%29) |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '|   [5.2 ä½¿ç”¨ä½ç½®è®¡ç®—](#%28part._sec~3aeval-posns%29) |'
- en: '| Â Â Â Â Â Â [5.3Â Programming with posn](#%28part._sec~3aprogramming-posn%29) |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '|   [5.3 ä½¿ç”¨ä½ç½®ç¼–ç¨‹](#%28part._sec~3aprogramming-posn%29) |'
- en: '| Â Â Â Â Â Â [5.4Â Defining Structure Types](#%28part._sec~3astructures%29) |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '|   [5.4 å®šä¹‰ç»“æ„ç±»å‹](#%28part._sec~3astructures%29) |'
- en: '| Â Â Â Â Â Â [5.5Â Computing with Structures](#%28part._sec~3aeval-structs%29) |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '|   [5.5 ä½¿ç”¨ç»“æ„è®¡ç®—](#%28part._sec~3aeval-structs%29) |'
- en: '| Â Â Â Â Â Â [5.6Â Programming with Structures](#%28part._sec~3aprogstructs%29) |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '|   [5.6 ä½¿ç”¨ç»“æ„ç¼–ç¨‹](#%28part._sec~3aprogstructs%29) |'
- en: '| Â Â Â Â Â Â [5.7Â The Universe of Data](#%28part._data-uni._sec~3adata-uni%29) |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '|   [5.7 æ•°æ®çš„å®‡å®™](#%28part._data-uni._sec~3adata-uni%29) |'
- en: '| Â Â Â Â Â Â [5.8Â Designing with Structures](#%28part._sec~3adesignstructs%29) |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '|   [5.8 ä½¿ç”¨ç»“æ„è®¾è®¡](#%28part._sec~3adesignstructs%29) |'
- en: '| Â Â Â Â Â Â [5.9Â Structure in the World](#%28part._sec~3aworld-structs%29) |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '|   [5.9 ä¸–ç•Œä¸­çš„ç»“æ„](#%28part._sec~3aworld-structs%29) |'
- en: '| Â Â Â Â Â Â [5.10Â A Graphical Editor](#%28part._sec~3aedit1%29) |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '|   [5.10 å›¾å½¢ç¼–è¾‘å™¨](#%28part._sec~3aedit1%29) |'
- en: '| Â Â Â Â Â Â [5.11Â More Virtual Pets](#%28part._sec~3azoo2%29) |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '|   [5.11 æ›´å¤šè™šæ‹Ÿå® ç‰©](#%28part._sec~3azoo2%29) |'
- en: '| Â Â Â Â [6Â Itemizations and Structures](#%28part._ch~3amix%29) |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â Â [6Â é¡¹ç›®ç¬¦å·å’Œç»“æ„](#%28part._ch~3amix%29) |'
- en: '| Â Â Â Â Â Â [6.1Â Designing with Itemizations, Again](#%28part._mix._sec~3aitemization-design2%29)
    |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â Â [6.1Â å†æ¬¡ä½¿ç”¨é¡¹ç›®ç¬¦å·è¿›è¡Œè®¾è®¡](#%28part._mix._sec~3aitemization-design2%29) |'
- en: '| Â Â Â Â Â Â [6.2Â Mixing Up Worlds](#%28part._sec~3aworlds-mix%29) |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â Â [6.2Â æ··åˆä¸–ç•Œ](#%28part._sec~3aworlds-mix%29) |'
- en: '| Â Â Â Â Â Â [6.3Â Input Errors](#%28part._sec~3ainput-errors%29) |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â Â [6.3Â è¾“å…¥é”™è¯¯](#%28part._sec~3ainput-errors%29) |'
- en: '| Â Â Â Â Â Â [6.4Â Checking the World](#%28part._sec~3aworld-checking%29) |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â Â [6.4Â æ£€æŸ¥ä¸–ç•Œ](#%28part._sec~3aworld-checking%29) |'
- en: '| Â Â Â Â Â Â [6.5Â Equality Predicates](#%28part._sec~3aequality1%29) |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â Â [6.5Â ç­‰ä»·è°“è¯](#%28part._sec~3aequality1%29) |'
- en: '| Â Â Â Â [7Â Summary](#%28part._ch~3asummary1%29) |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â Â [7Â æ€»ç»“](#%28part._ch~3asummary1%29) |'
- en: Every programming language comes with a language of data and a language of operations
    on data. The first language always provides some forms of atomic data; to represent
    the variety of information in the real world as data, a programmer must learn
    to compose basic data and to describe such compositions. Similarly, the second
    language provides some basic operations on atomic data; it is the programmerâ€™s
    task to compose these operations into programs that perform the desired computations.
    We use arithmetic for the combination of these two parts of a programming language
    because it generalizes what you know from grade school.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½åŒ…å«ä¸€ç§æ•°æ®è¯­è¨€å’Œä¸€ç§å¯¹æ•°æ®è¿›è¡Œæ“ä½œçš„è¯­è¨€ã€‚ç¬¬ä¸€ç§è¯­è¨€æ€»æ˜¯æä¾›ä¸€äº›åŸå­æ•°æ®çš„å½¢å¼ï¼›ä¸ºäº†å°†ç°å®ä¸–ç•Œä¸­çš„å„ç§ä¿¡æ¯è¡¨ç¤ºä¸ºæ•°æ®ï¼Œç¨‹åºå‘˜å¿…é¡»å­¦ä¼šç»„åˆåŸºæœ¬æ•°æ®å¹¶æè¿°è¿™äº›ç»„åˆã€‚åŒæ ·ï¼Œç¬¬äºŒç§è¯­è¨€æä¾›ä¸€äº›å¯¹åŸå­æ•°æ®çš„åŸºæœ¬æ“ä½œï¼›ç¨‹åºå‘˜çš„ä»»åŠ¡æ˜¯å°†è¿™äº›æ“ä½œç»„åˆæˆæ‰§è¡Œæ‰€éœ€è®¡ç®—çš„ç¨‹åºã€‚æˆ‘ä»¬ä½¿ç”¨ç®—æœ¯æ¥ç»„åˆç¼–ç¨‹è¯­è¨€çš„è¿™ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå› ä¸ºå®ƒæ¦‚æ‹¬äº†ä½ ä»å°å­¦å°±çŸ¥é“çš„å†…å®¹ã€‚
- en: This first part of the book (I) introduces the arithmetic of BSL, the programming
    language used in the Prologue. From arithmetic, it is a short step to your first
    simple programs, which you may know as functions from mathematics. Before you
    know it, though, the process of writing programs looks confusing, and you will
    long for a way to organize your thoughts. We equate â€œorganizing thoughtsâ€ with
    design, and this first part of the book introduces you to a systematic way of
    designing programs.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æœ¬ä¹¦çš„ç¬¬ä¸€éƒ¨åˆ†ï¼ˆIï¼‰ä»‹ç»äº† BSL çš„ç®—æœ¯ï¼Œè¿™æ˜¯åºè¨€ä¸­ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ã€‚ä»ç®—æœ¯å¼€å§‹ï¼Œå¾ˆå¿«ä½ å°±èƒ½ç¼–å†™å‡ºä½ çš„ç¬¬ä¸€ä¸ªç®€å•ç¨‹åºï¼Œä½ å¯èƒ½çŸ¥é“è¿™äº›ç¨‹åºå°±æ˜¯æ•°å­¦ä¸­çš„å‡½æ•°ã€‚ç„¶è€Œï¼Œç¼–å†™ç¨‹åºçš„è¿‡ç¨‹çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½ å°†æ¸´æœ›ä¸€ç§ç»„ç»‡æ€è·¯çš„æ–¹æ³•ã€‚æˆ‘ä»¬å°†â€œç»„ç»‡æ€è·¯â€ç­‰åŒäºè®¾è®¡ï¼Œè¿™æœ¬ä¹¦çš„ç¬¬ä¸€éƒ¨åˆ†å°†å‘ä½ ä»‹ç»ä¸€ç§ç³»ç»ŸåŒ–çš„ç¨‹åºè®¾è®¡æ–¹æ³•ã€‚
- en: 1Arithmetic[ğŸ”—](#(part._ch~3abasic-arithmetic) "Link to here")
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1ç®—æœ¯[ğŸ”—](#(part._ch~3abasic-arithmetic) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'From [Prologue: How to Program](part_prologue.html), you know how to write
    down the kind of expression you know from first grade in BSL notation:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: ä» [åºè¨€ï¼šå¦‚ä½•ç¼–ç¨‹](part_prologue.html)ï¼Œä½ çŸ¥é“å¦‚ä½•åœ¨ BSL ç¬¦å·ä¸­å†™ä¸‹ä½ ä»ä¸€å¹´çº§å°±çŸ¥é“çš„è¡¨è¾¾å¼ï¼š
- en: write â€œ(â€,Scan this first chapter quickly, skip ahead to the second one, and
    return here, when you encounter â€œarithmeticâ€ that you donâ€™t recognize.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹â€œï¼ˆâ€ï¼Œå¿«é€Ÿæµè§ˆæœ¬ç« ï¼Œè·³åˆ°ä¸‹ä¸€ç« ï¼Œå½“ä½ é‡åˆ°ä¸è®¤è¯†çš„â€œç®—æœ¯â€æ—¶è¿”å›è¿™é‡Œã€‚
- en: write down the name of a primitive operation op,
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹åŸå§‹æ“ä½œ op çš„åç§°ï¼Œ
- en: write down the arguments, separated by some space, and
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹å‚æ•°ï¼Œç”¨ä¸€äº›ç©ºæ ¼åˆ†éš”ï¼Œå¹¶ä¸”
- en: write down â€œ)â€.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹â€œï¼‰â€ã€‚
- en: 'Just as a reminder, here is a primitive expression:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: å°±åƒæé†’ä¸€ä¸‹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªåŸå§‹è¡¨è¾¾å¼ï¼š
- en: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2)
  id: totrans-60
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2)
- en: 'It uses [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29),
    the operation for adding two numbers, followed by two arguments, which are plain
    numbers. But here is another example:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä½¿ç”¨ [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)ï¼Œè¿™æ˜¯åŠ ä¸¤ä¸ªæ•°çš„æ“ä½œï¼Œåé¢è·Ÿç€ä¸¤ä¸ªå‚æ•°ï¼Œå®ƒä»¬æ˜¯æ™®é€šçš„æ•°å­—ã€‚ä½†è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªä¾‹å­ï¼š
- en: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1)Â 2)Â 3Â 4Â 5)
  id: totrans-62
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1)Â 2)Â 3Â 4Â 5)
- en: This second example exploits two points in the above description that are open
    to interpretation. First, primitive operations may consume more than two arguments.
    Second, the arguments donâ€™t have to be numbers per se; they can be expressions,
    too.Evaluating expressions is also straightforward. First, BSL evaluates all the
    arguments of a primitive operation. Second, it â€œfeedsâ€ the resulting pieces of
    data to the operation, which produces a result. Thus,
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒä¸ªä¾‹å­åˆ©ç”¨äº†ä¸Šè¿°æè¿°ä¸­ä¸¤ä¸ªå¯ä»¥è§£é‡Šçš„ç‚¹ã€‚é¦–å…ˆï¼ŒåŸå§‹æ“ä½œå¯èƒ½éœ€è¦è¶…è¿‡ä¸¤ä¸ªå‚æ•°ã€‚å…¶æ¬¡ï¼Œå‚æ•°æœ¬èº«ä¸å¿…ä¸€å®šæ˜¯æ•°å­—ï¼›å®ƒä»¬ä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼ã€‚è¯„ä¼°è¡¨è¾¾å¼ä¹Ÿæ˜¯ç›´æ¥çš„ã€‚é¦–å…ˆï¼ŒBSLä¼šè¯„ä¼°åŸå§‹æ“ä½œçš„æ‰€æœ‰å‚æ•°ã€‚å…¶æ¬¡ï¼Œå®ƒâ€œæä¾›â€è¿™äº›æ•°æ®ç‰‡æ®µç»™æ“ä½œï¼Œä»è€Œäº§ç”Ÿä¸€ä¸ªç»“æœã€‚å› æ­¤ï¼Œ
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2)
    |'
  id: totrans-64
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2)
    |'
- en: '| == |'
  id: totrans-65
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| 3 |'
  id: totrans-66
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 3 |'
- en: We use == to mean â€œis equal to according to the laws of computation.â€ and
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ `==` æ¥è¡¨ç¤ºâ€œæ ¹æ®è®¡ç®—æ³•åˆ™ç›¸ç­‰ã€‚â€å¹¶ä¸”
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1)Â 2)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 2Â 2)Â 5)
    |'
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1)Â 2)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 2Â 2)Â 5)
    |'
- en: '| == |'
  id: totrans-69
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2Â 2)Â 3Â 4Â 5)
    |'
  id: totrans-70
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2Â 2)Â 3Â 4Â 5)
    |'
- en: '| == |'
  id: totrans-71
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 5Â 3Â 4Â 5)
    |'
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 5Â 3Â 4Â 5)
    |'
- en: '| == |'
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| 18 |'
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 18 |'
- en: These calculations should look familiar because they are the same kind of calculations
    that you performed in mathematics classes. You may have written down the steps
    in a different way; you may have never been taught how to write down a sequence
    of calculation steps. Yet, BSL performs calculations just like you do, and this
    should be a relief. It guarantees that you understand what it does with primitive
    operations and primitive data, so there is some hope that you can predict what
    your programs will compute. Generally speaking, it is critical for a programmer
    to know how the chosen language calculates because otherwise a programâ€™s computation
    may harm the people who use them or on whose behalf the programs calculate.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›è®¡ç®—çœ‹èµ·æ¥åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œå› ä¸ºå®ƒä»¬ä¸ä½ æ•°å­¦è¯¾ä¸Šæ‰€åšçš„è®¡ç®—ç±»å‹ç›¸åŒã€‚ä½ å¯èƒ½ä»¥ä¸åŒçš„æ–¹å¼å†™ä¸‹äº†æ­¥éª¤ï¼›ä½ å¯èƒ½ä»æœªè¢«æ•™å¯¼è¿‡å¦‚ä½•å†™ä¸‹è®¡ç®—æ­¥éª¤çš„åºåˆ—ã€‚ç„¶è€Œï¼ŒBSLçš„è®¡ç®—æ–¹å¼ä¸ä½ ä¸€æ ·ï¼Œè¿™åº”è¯¥æ˜¯ä¸€ç§å®‰æ…°ã€‚å®ƒä¿è¯äº†ä½ ç†è§£å®ƒå¦‚ä½•ä½¿ç”¨åŸå§‹æ“ä½œå’ŒåŸå§‹æ•°æ®ï¼Œå› æ­¤æœ‰ä¸€äº›å¸Œæœ›ä½ å¯ä»¥é¢„æµ‹ä½ çš„ç¨‹åºå°†è®¡ç®—ä»€ä¹ˆã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç¨‹åºå‘˜äº†è§£æ‰€é€‰è¯­è¨€çš„è®¡ç®—æ–¹å¼æ˜¯è‡³å…³é‡è¦çš„ï¼Œå¦åˆ™ç¨‹åºçš„è®¡ç®—å¯èƒ½ä¼šä¼¤å®³ä½¿ç”¨å®ƒä»¬çš„äººæˆ–ä¸ºè°è®¡ç®—çš„äººã€‚
- en: 'The rest of this chapter introduces four forms of atomic data of BSL: numbers,
    strings, images, and Boolean values.The next volume, How to Design Components,
    will explain how to design atomic data. We use the word â€œatomicâ€ here in analogy
    to physics. You cannot peek inside atomic pieces of data, but you do have functions
    that combine several pieces of atomic data into another one, retrieve â€œpropertiesâ€
    of them, also in terms of atomic data, and so on. The sections of this chapter
    introduce some of these functions, also called primitive operations or pre-defined
    operations. You can find others in the documentation of BSL that comes with DrRacket.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« çš„å…¶ä½™éƒ¨åˆ†ä»‹ç»äº†BSLçš„å››ç§åŸå­æ•°æ®å½¢å¼ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€å›¾åƒå’Œå¸ƒå°”å€¼ã€‚ä¸‹ä¸€å·ã€Šå¦‚ä½•è®¾è®¡ç»„ä»¶ã€‹å°†è§£é‡Šå¦‚ä½•è®¾è®¡åŸå­æ•°æ®ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨â€œåŸå­â€è¿™ä¸ªè¯ï¼Œæ˜¯ä¸ºäº†ç±»æ¯”ç‰©ç†å­¦ã€‚ä½ ä¸èƒ½çª¥è§†åŸå­æ•°æ®å†…éƒ¨çš„ç»†èŠ‚ï¼Œä½†ä½ ç¡®å®æœ‰ä¸€äº›å‡½æ•°å¯ä»¥å°†å¤šä¸ªåŸå­æ•°æ®ç»„åˆæˆå¦ä¸€ä¸ªæ•°æ®ï¼Œä»¥åŸå­æ•°æ®çš„å½¢å¼æ£€ç´¢â€œå±æ€§â€ï¼Œç­‰ç­‰ã€‚æœ¬ç« å„èŠ‚ä»‹ç»äº†è¿™äº›å‡½æ•°ï¼Œä¹Ÿç§°ä¸ºåŸå§‹æ“ä½œæˆ–é¢„å®šä¹‰æ“ä½œã€‚ä½ å¯ä»¥åœ¨éšDrRacketæä¾›çš„BSLæ–‡æ¡£ä¸­æ‰¾åˆ°å…¶ä»–å‡½æ•°ã€‚
- en: 1.1The Arithmetic of Numbers[ğŸ”—](#(part._sec~3aarith-num) "Link to here")
  id: totrans-77
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1.1 æ•°å­—ç®—æœ¯[ğŸ”—](#(part._sec~3aarith-num) "é“¾æ¥è‡³æ­¤")
- en: Most people think â€œnumbersâ€ and â€œoperations on numbersâ€ when they hear â€œarithmetic.â€
    â€œOperations on numbersâ€ means adding two numbers to yield a third, subtracting
    one number from another, determining the greatest common divisor of two numbers,
    and many more such things. If we donâ€™t take arithmetic too literally, we may even
    include the sine of an angle, rounding a real number to the closest integer, and
    so on.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: å½“äººä»¬å¬åˆ°â€œç®—æœ¯â€è¿™ä¸ªè¯æ—¶ï¼Œé€šå¸¸ä¼šæƒ³åˆ°â€œæ•°å­—â€å’Œâ€œæ•°å­—è¿ç®—â€ã€‚ â€œæ•°å­—è¿ç®—â€æ„å‘³ç€å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ å¾—åˆ°ç¬¬ä¸‰ä¸ªæ•°å­—ï¼Œä»ä¸€ä¸ªæ•°å­—ä¸­å‡å»å¦ä¸€ä¸ªæ•°å­—ï¼Œç¡®å®šä¸¤ä¸ªæ•°å­—çš„æœ€å¤§å…¬çº¦æ•°ï¼Œä»¥åŠè®¸å¤šç±»ä¼¼çš„äº‹æƒ…ã€‚å¦‚æœæˆ‘ä»¬ä¸å¯¹ç®—æœ¯è¿‡äºå­—é¢åŒ–ï¼Œç”šè‡³å¯ä»¥åŒ…æ‹¬è§’åº¦çš„æ­£å¼¦å€¼ï¼Œå°†å®æ•°å››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„æ•´æ•°ï¼Œç­‰ç­‰ã€‚
- en: 'The BSL language supports Numbers and arithmetic on them. As discussed in the
    Prologue, an arithmetic operation such as [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    is used like this:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: BSLè¯­è¨€æ”¯æŒæ•°å­—åŠå…¶è¿ç®—ã€‚æ­£å¦‚åºè¨€ä¸­è®¨è®ºçš„ï¼Œç®—æœ¯è¿ç®—ç¬¦å¦‚[+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)çš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š
- en: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 3Â 4)
  id: totrans-80
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 3Â 4)
- en: 'that is, in prefix notation form. Here are some of the operations on numbers
    that our language provides: [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29),
    [-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29),
    [*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29),
    [/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29),
    [abs](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._abs%29%29),
    [add1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._add1%29%29),
    [ceiling](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._ceiling%29%29),
    [denominator](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._denominator%29%29),
    [exact->inexact](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._exact-~3einexact%29%29),
    [expt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._expt%29%29),
    [floor](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._floor%29%29),
    [gcd](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._gcd%29%29),
    [log](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._log%29%29),
    [max](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._max%29%29),
    [numerator](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._numerator%29%29),
    [quotient](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._quotient%29%29),
    [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29),
    [remainder](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._remainder%29%29),
    [sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29),
    and [tan](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._tan%29%29).
    We picked our way through the alphabet just to show the variety of operations.
    Explore what they compute, and then find out how many more there are.If you need
    an operation on numbers that you know from your mathematics courses, chances are
    that BSL knows about it, too. Guess its name and experiment in the interactions
    area. Say you need to compute the sin of some angle; try'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: å³ï¼Œä»¥å‰ç¼€è¡¨ç¤ºæ³•çš„å½¢å¼ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬è¯­è¨€æä¾›çš„ä¸€äº›æ•°å­—æ“ä½œï¼š[+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29),
    [-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29),
    [*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29),
    [/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29),
    [abs](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._abs%29%29),
    [add1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._add1%29%29),
    [ceiling](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._ceiling%29%29),
    [denominator](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._denominator%29%29),
    [exact->inexact](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._exact-~3einexact%29%29),
    [expt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._expt%29%29),
    [floor](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._floor%29%29),
    [gcd](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._gcd%29%29),
    [log](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._log%29%29),
    [max](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._max%29%29),
    [numerator](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._numerator%29%29),
    [quotient](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._quotient%29%29),
    [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29),
    [remainder](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._remainder%29%29),
    [sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29),
    å’Œ [tan](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._tan%29%29)ã€‚æˆ‘ä»¬åªæ˜¯æŒ‘é€‰äº†ä¸€äº›å­—æ¯æ¥å±•ç¤ºæ“ä½œçš„å¤šæ ·æ€§ã€‚æ¢ç´¢å®ƒä»¬è®¡ç®—çš„å†…å®¹ï¼Œç„¶åæ‰¾å‡ºè¿˜æœ‰å¤šå°‘ç§ã€‚å¦‚æœä½ éœ€è¦ä»ä½ çš„æ•°å­¦è¯¾ç¨‹ä¸­äº†è§£çš„æ•°å­—æ“ä½œï¼ŒBSLå¯èƒ½ä¹Ÿäº†è§£å®ƒã€‚çŒœæµ‹å®ƒçš„åå­—ï¼Œå¹¶åœ¨äº¤äº’åŒºåŸŸè¿›è¡Œå®éªŒã€‚æ¯”å¦‚è¯´ï¼Œä½ éœ€è¦è®¡ç®—æŸä¸ªè§’åº¦çš„æ­£å¼¦å€¼ï¼›å°è¯•
- en: '| > ([sin](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sin%29%29)Â 0)
    |'
  id: totrans-82
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([sin](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sin%29%29)Â 0)
    |'
- en: '| 0 |'
  id: totrans-83
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0 |'
- en: and use it happily ever after. Or look in the HelpDesk.You might know [e](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._e%29%29)
    from calculus. Itâ€™s a real number, close to 2.718, called â€œEulerâ€™s constant.â€
    You will find there that in addition to operations BSL also recognizes the names
    of some widely used numbers, for example, [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29)
    and [e](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._e%29%29).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶ä¸”ä»æ­¤å¿«ä¹åœ°ç”Ÿæ´»ä¸‹å»ã€‚æˆ–è€…æŸ¥çœ‹å¸®åŠ©å°ã€‚ä½ å¯èƒ½ä»å¾®ç§¯åˆ†ä¸­çŸ¥é“[e](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._e%29%29)ã€‚å®ƒæ˜¯ä¸€ä¸ªæ¥è¿‘2.718çš„å®æ•°ï¼Œè¢«ç§°ä¸ºâ€œæ¬§æ‹‰å¸¸æ•°â€ã€‚ä½ ä¼šåœ¨é‚£é‡Œå‘ç°ï¼Œé™¤äº†æ“ä½œä¹‹å¤–ï¼ŒBSLè¿˜è¯†åˆ«ä¸€äº›å¸¸ç”¨æ•°å­—çš„åç§°ï¼Œä¾‹å¦‚[pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29)å’Œ[e](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._e%29%29)ã€‚
- en: When it comes to numbers, BSL programs may use natural numbers, integers, rational
    numbers, real numbers, and complex numbers. We assume that you have heard of all
    but the last one. The last one may have been mentioned in your high school class.
    If not, donâ€™t worry; while complex numbers are useful for all kinds of calculations,
    a novice doesnâ€™t have to know about them.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æ¶‰åŠåˆ°æ•°å­—æ—¶ï¼ŒBSLç¨‹åºå¯ä»¥ä½¿ç”¨è‡ªç„¶æ•°ã€æ•´æ•°ã€æœ‰ç†æ•°ã€å®æ•°å’Œå¤æ•°ã€‚æˆ‘ä»¬å‡è®¾ä½ å·²ç»å¬è¯´è¿‡é™¤äº†æœ€åä¸€ä¸ªä¹‹å¤–çš„æ‰€æœ‰è¿™äº›ã€‚æœ€åä¸€ä¸ªå¯èƒ½åœ¨ä½ é«˜ä¸­çš„è¯¾å ‚ä¸Šæåˆ°è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œä¸è¦æ‹…å¿ƒï¼›è™½ç„¶å¤æ•°å¯¹å„ç§è®¡ç®—éƒ½å¾ˆæœ‰ç”¨ï¼Œä½†æ–°æ‰‹ä¸å¿…äº†è§£å®ƒä»¬ã€‚
- en: A truly important distinction concerns the precision of numbers. For now, it
    is important to understand that BSL distinguishes exact numbers and inexact numbers.
    When it calculates with exact numbers, BSL preserves this precision whenever possible.
    For example, ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)  4  6)
    produces the precise fraction 2/3, which DrRacket can render as a proper fraction,
    an improper fraction, or a mixed decimal. Play with your computerâ€™s mouse to find
    the menu that changes the fraction into decimal expansion.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªçœŸæ­£é‡è¦çš„åŒºåˆ«æ˜¯æ•°å­—çš„ç²¾åº¦ã€‚ç°åœ¨ï¼Œé‡è¦çš„æ˜¯è¦ç†è§£BSLåŒºåˆ†ç²¾ç¡®æ•°å’Œä¸ç²¾ç¡®æ•°ã€‚å½“å®ƒä½¿ç”¨ç²¾ç¡®æ•°è¿›è¡Œè®¡ç®—æ—¶ï¼ŒBSLå°½å¯èƒ½ä¿ç•™è¿™ç§ç²¾åº¦ã€‚ä¾‹å¦‚ï¼Œ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)  4  6)äº§ç”Ÿç²¾ç¡®çš„åˆ†æ•°2/3ï¼ŒDrRacketå¯ä»¥å°†å®ƒæ¸²æŸ“ä¸ºçœŸåˆ†æ•°ã€å‡åˆ†æ•°æˆ–æ··åˆå°æ•°ã€‚ç”¨ä½ çš„é¼ æ ‡ç©ä¸€ç©ï¼Œæ‰¾åˆ°å°†åˆ†æ•°è½¬æ¢ä¸ºå°æ•°å±•å¼€çš„èœå•ã€‚
- en: 'Some of BSLâ€™s numeric operations cannot produce an exact result. For example,
    using the [sqrt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)
    operation on 2 produces an irrational number that cannot be described with a finite
    number of digits. Because computers are of finite size and BSL must somehow fit
    such numbers into the computer, it chooses an approximation: 1.4142135623730951.
    As mentioned in the Prologue, the #i prefix warns novice programmers of this lack
    of precision. While most programming languages choose to reduce precision in this
    manner, few advertise it and even fewer warn programmers.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: BSLçš„ä¸€äº›æ•°å€¼è¿ç®—æ— æ³•äº§ç”Ÿç²¾ç¡®ç»“æœã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨[sqrt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)è¿ç®—å¯¹2è¿›è¡Œæ“ä½œä¼šäº§ç”Ÿä¸€ä¸ªæ— æ³•ç”¨æœ‰é™ä½æ•°æè¿°çš„æ— ç†æ•°ã€‚å› ä¸ºè®¡ç®—æœºçš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œè€ŒBSLå¿…é¡»ä»¥æŸç§æ–¹å¼å°†è¿™äº›æ•°å­—æ”¾å…¥è®¡ç®—æœºä¸­ï¼Œæ‰€ä»¥å®ƒé€‰æ‹©äº†ä¸€ä¸ªè¿‘ä¼¼å€¼ï¼š1.4142135623730951ã€‚æ­£å¦‚åºè¨€ä¸­æåˆ°çš„ï¼Œ#iå‰ç¼€è­¦å‘Šæ–°æ‰‹ç¨‹åºå‘˜è¿™ç§ç¼ºä¹ç²¾åº¦çš„æƒ…å†µã€‚è™½ç„¶å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¼šé€‰æ‹©ä»¥è¿™ç§æ–¹å¼é™ä½ç²¾åº¦ï¼Œä½†å¾ˆå°‘æœ‰è¯­è¨€ä¼šå®£ä¼ è¿™ä¸€ç‚¹ï¼Œç”šè‡³æ›´å°‘ä¼šè­¦å‘Šç¨‹åºå‘˜ã€‚
- en: 'Note on Numbers The word â€œ[Number](#%28tech._number%29)â€ refers to a wide variety
    of numbers, including counting numbers, integers, rational numbers, real numbers,
    and even complex numbers. For most uses, you can safely equate [Number](#%28tech._number%29)
    with the number line from elementary school, though on occasion this translation
    is too imprecise. If we wish to be precise, we use appropriate words: Integer,
    Rational, and so on. We may even refine these notions using such standard terms
    as PositiveInteger, NonnegativeNumber, NegativeNumber, and so on. End'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºæ•°å­—çš„è¯´æ˜ï¼šâ€œ[Number](#%28tech._number%29)â€ä¸€è¯æŒ‡çš„æ˜¯å„ç§æ•°å­—ï¼ŒåŒ…æ‹¬è®¡æ•°æ•°å­—ã€æ•´æ•°ã€æœ‰ç†æ•°ã€å®æ•°ï¼Œç”šè‡³å¤æ•°ã€‚å¯¹äºå¤§å¤šæ•°ç”¨é€”ï¼Œä½ å¯ä»¥å®‰å…¨åœ°å°†[Number](#%28tech._number%29)ä¸å°å­¦çš„æ•°è½´ç­‰åŒèµ·æ¥ï¼Œå°½ç®¡æœ‰æ—¶è¿™ç§ç¿»è¯‘ä¸å¤Ÿç²¾ç¡®ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›ç²¾ç¡®ï¼Œæˆ‘ä»¬ä½¿ç”¨é€‚å½“çš„è¯è¯­ï¼šæ•´æ•°ã€æœ‰ç†æ•°ç­‰ç­‰ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨è¯¸å¦‚PositiveIntegerã€NonnegativeNumberã€NegativeNumberç­‰æ ‡å‡†æœ¯è¯­æ¥ç»†åŒ–è¿™äº›æ¦‚å¿µã€‚ç»“æŸ
- en: 'ExerciseÂ 1\. Add the following definitions for x and y to DrRacketâ€™s definitions
    area:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  1\. å°†ä»¥ä¸‹å…³äº x å’Œ y çš„å®šä¹‰æ·»åŠ åˆ° DrRacket çš„å®šä¹‰åŒºåŸŸï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 3)
    |'
  id: totrans-90
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 3)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â yÂ 4)
    |'
  id: totrans-91
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â yÂ 4)
    |'
- en: Now imagine that x and y are the coordinates of a Cartesian point. Write down
    an expression that computes the distance of this point to the origin, that is,
    a point with the coordinates (0,0).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æƒ³è±¡ x å’Œ y æ˜¯ä¸€ä¸ªç¬›å¡å°”ç‚¹çš„åæ ‡ã€‚å†™ä¸‹è®¡ç®—è¿™ä¸ªç‚¹åˆ°åŸç‚¹è·ç¦»çš„è¡¨è¾¾å¼ï¼Œå³åæ ‡ä¸º (0,0) çš„ç‚¹ã€‚
- en: The expected result for these values is 5, but your expression should produce
    the correct result even after you change these definitions.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™äº›å€¼ï¼Œé¢„æœŸçš„ç»“æœæ˜¯ 5ï¼Œä½†å³ä½¿ä½ æ›´æ”¹äº†è¿™äº›å®šä¹‰ï¼Œä½ çš„è¡¨è¾¾å¼ä¹Ÿåº”è¯¥äº§ç”Ÿæ­£ç¡®çš„ç»“æœã€‚
- en: Just in case you have not taken geometry courses or in case you forgot the formula
    that you encountered there, the point (x,y) has the distance
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‡ä¸€ä½ æ²¡æœ‰å­¦ä¹ è¿‡å‡ ä½•è¯¾ç¨‹ï¼Œæˆ–è€…å¿˜è®°äº†åœ¨é‚£é‡Œé‡åˆ°çš„å…¬å¼ï¼Œç‚¹ï¼ˆx,yï¼‰åˆ°åŸç‚¹çš„è·ç¦»æ˜¯
- en: '![image](../Images/2077a7d831a75922c4d318f2d8365c3e.png)'
  id: totrans-95
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/2077a7d831a75922c4d318f2d8365c3e.png)'
- en: 'from the origin. After all, we are teaching you how to design programs, not
    how to be a geometer.To develop the desired expression, it is best to click RUN
    and to experiment in the interactions area. The RUN action tells DrRacket what
    the current values of x and y are so that you can experiment with expressions
    that involve x and y:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ä»åŸç‚¹ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬æ˜¯åœ¨æ•™ä½ å¦‚ä½•è®¾è®¡ç¨‹åºï¼Œè€Œä¸æ˜¯å¦‚ä½•æˆä¸ºä¸€ä¸ªå‡ ä½•å­¦å®¶ã€‚ä¸ºäº†å¼€å‘æ‰€éœ€çš„è¡¨è¾¾å¼ï¼Œæœ€å¥½ç‚¹å‡» RUN å¹¶åœ¨äº¤äº’åŒºåŸŸè¿›è¡Œå®éªŒã€‚RUN æ“ä½œå‘Šè¯‰ DrRacket
    x å’Œ y çš„å½“å‰å€¼ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å®éªŒæ¶‰åŠ x å’Œ y çš„è¡¨è¾¾å¼ï¼š
- en: '| > x |'
  id: totrans-97
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > x |'
- en: '| 3 |'
  id: totrans-98
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 3 |'
- en: '| > y |'
  id: totrans-99
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > y |'
- en: '| 4 |'
  id: totrans-100
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 4 |'
- en: '| > ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â xÂ 10)
    |'
  id: totrans-101
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â xÂ 10)
    |'
- en: '| 13 |'
  id: totrans-102
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 13 |'
- en: '| > ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â xÂ y)
    |'
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â xÂ y)
    |'
- en: '| 12 |'
  id: totrans-104
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 12 |'
- en: Once you have the expression that produces the correct result, copy it from
    the interactions area to the definitions area.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä½ å¾—åˆ°äº†äº§ç”Ÿæ­£ç¡®ç»“æœçš„è¡¨è¾¾å¼ï¼Œå°†å…¶ä»äº¤äº’åŒºåŸŸå¤åˆ¶åˆ°å®šä¹‰åŒºåŸŸã€‚
- en: To confirm that the expression works properly, change x to 12 and y to 5, then
    click RUN. The result should be 13.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç¡®è®¤è¡¨è¾¾å¼æ­£å¸¸å·¥ä½œï¼Œå°† x æ”¹ä¸º 12ï¼Œy æ”¹ä¸º 5ï¼Œç„¶åç‚¹å‡» RUNã€‚ç»“æœåº”è¯¥æ˜¯ 13ã€‚
- en: Your mathematics teacher would say that you computed the distance formula. To
    use the formula on alternative inputs, you need to open DrRacket, edit the definitions
    of x and y so they represent the desired coordinates, and click RUN. But this
    way of reusing the distance formula is cumbersome and naive. We will soon show
    you a way to define functions, which makes reusing formulas straightforward. For
    now, we use this kind of exercise to call attention to the idea of functions and
    to prepare you for programming with them.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çš„æ•°å­¦è€å¸ˆä¼šè¯´ï¼Œä½ å·²ç»è®¡ç®—äº†è·ç¦»å…¬å¼ã€‚è¦ä½¿ç”¨è¯¥å…¬å¼å¯¹ä¸åŒçš„è¾“å…¥è¿›è¡Œè®¡ç®—ï¼Œä½ éœ€è¦æ‰“å¼€ DrRacketï¼Œç¼–è¾‘ x å’Œ y çš„å®šä¹‰ï¼Œä½¿å®ƒä»¬ä»£è¡¨æ‰€éœ€çš„åæ ‡ï¼Œç„¶åç‚¹å‡»
    RUNã€‚ä½†è¿™ç§æ–¹å¼é‡ç”¨è·ç¦»å…¬å¼æ—¢ç¹çåˆç®€å•ã€‚æˆ‘ä»¬å¾ˆå¿«å°±ä¼šå‘ä½ å±•ç¤ºå®šä¹‰å‡½æ•°çš„æ–¹æ³•ï¼Œè¿™ä½¿å¾—é‡ç”¨å…¬å¼å˜å¾—ç®€å•ç›´æ¥ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ç§ç±»å‹çš„ç»ƒä¹ æ¥å¼•èµ·å¯¹å‡½æ•°æ¦‚å¿µçš„æ³¨æ„ï¼Œå¹¶ä¸ºä½ ä½¿ç”¨å®ƒä»¬è¿›è¡Œç¼–ç¨‹åšå‡†å¤‡ã€‚
- en: 1.2The Arithmetic of Strings[ğŸ”—](#(part._sec~3aarith-str) "Link to here")
  id: totrans-108
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1.2 å­—ç¬¦ä¸²çš„ç®—æœ¯[ğŸ”—](#(part._sec~3aarith-str) "é“¾æ¥åˆ°æ­¤å¤„")
- en: A widespread prejudice about computers concerns their innards. Many believe
    that it is all about bits and bytesâ€”<wbr>whatever those areâ€”<wbr>and possibly
    numbers because everyone knows that computers can calculate. While it is true
    that electrical engineers must understand and study the computer as just such
    an object, beginning programmers and everyone else need never (ever) succumb to
    this thinking.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºè®¡ç®—æœºçš„ä¸€ä¸ªæ™®éåè§æ˜¯å®ƒä»¬çš„å†…éƒ¨ç»“æ„ã€‚è®¸å¤šäººè®¤ä¸ºï¼Œè®¡ç®—æœºçš„ä¸€åˆ‡éƒ½æ˜¯å…³äºæ¯”ç‰¹å’Œå­—èŠ‚â€”â€”æ— è®ºè¿™äº›æ˜¯ä»€ä¹ˆâ€”â€”ä»¥åŠå¯èƒ½è¿˜æœ‰æ•°å­—ï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½çŸ¥é“è®¡ç®—æœºå¯ä»¥è®¡ç®—ã€‚è™½ç„¶ç”µæ°”å·¥ç¨‹å¸ˆå¿…é¡»ç†è§£å’Œç ”ç©¶è®¡ç®—æœºå°±åƒè¿™æ ·ä¸€ä¸ªå¯¹è±¡ï¼Œä½†åˆå­¦è€…ç¨‹åºå‘˜å’Œå…¶ä»–äººæ°¸è¿œä¸éœ€è¦ï¼ˆæ°¸è¿œä¸è¦ï¼‰å±ˆæœäºè¿™ç§æƒ³æ³•ã€‚
- en: Programming languages are about computing with information, and information
    comes in all shapes and forms. For example, a program may deal with colors, names,
    business letters, or conversations between people. Even though we could encode
    this kind of information as numbers, it would be a horrible idea. Just imagine
    remembering large tables of codes, such as 0 means â€œredâ€ and 1 means â€œhello,â€
    and the like.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: ç¼–ç¨‹è¯­è¨€æ˜¯å…³äºç”¨ä¿¡æ¯è¿›è¡Œè®¡ç®—ï¼Œä¿¡æ¯å¯ä»¥ä»¥å„ç§å½¢çŠ¶å’Œå½¢å¼å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç¨‹åºå¯èƒ½å¤„ç†é¢œè‰²ã€åç§°ã€å•†ä¸šä¿¡å‡½æˆ–äººä»¬ä¹‹é—´çš„å¯¹è¯ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥å°†è¿™äº›ä¿¡æ¯ç¼–ç ä¸ºæ•°å­—ï¼Œä½†è¿™å°†æ˜¯ä¸€ä¸ªç³Ÿç³•çš„æƒ³æ³•ã€‚æƒ³è±¡ä¸€ä¸‹è®°ä½å¤§é‡ä»£ç è¡¨ï¼Œæ¯”å¦‚0ä»£è¡¨â€œçº¢è‰²â€ï¼Œ1ä»£è¡¨â€œä½ å¥½â€ï¼Œè¯¸å¦‚æ­¤ç±»ã€‚
- en: 'Instead, most programming languages provide at least one kind of data that
    deals with such symbolic information. For now, we use BSLâ€™s strings. Generally
    speaking, a String is a sequence of the characters that you can enter on the keyboard,
    plus a few others, about which we arenâ€™t concerned just yet, enclosed in double
    quotes. In [Prologue: How to Program](part_prologue.html), we have seen a number
    of BSL strings: "hello", "world", "blue", "red", and others. The first two are
    words that may show up in a conversation or in a letter; the others are names
    of colors that we may wish to use.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: ç›¸åï¼Œå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€è‡³å°‘æä¾›ä¸€ç§å¤„ç†è¿™ç§ç¬¦å·ä¿¡æ¯çš„æ•°æ®ç±»å‹ã€‚ç›®å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨BSLçš„å­—ç¬¦ä¸²ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå­—ç¬¦ä¸²æ˜¯ç”±ä½ å¯ä»¥ä»é”®ç›˜è¾“å…¥çš„å­—ç¬¦åºåˆ—ç»„æˆï¼ŒåŠ ä¸Šä¸€äº›æˆ‘ä»¬ç›®å‰è¿˜ä¸éœ€è¦å…³å¿ƒçš„å­—ç¬¦ï¼Œç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚åœ¨[åºè¨€ï¼šå¦‚ä½•ç¼–ç¨‹](part_prologue.html)ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†è®¸å¤šBSLå­—ç¬¦ä¸²ï¼šâ€œhelloâ€ã€â€œworldâ€ã€â€œblueâ€ã€â€œredâ€ä»¥åŠå…¶ä»–ã€‚å‰ä¸¤ä¸ªå¯èƒ½æ˜¯å‡ºç°åœ¨å¯¹è¯æˆ–ä¿¡ä»¶ä¸­çš„å•è¯ï¼›å…¶ä»–çš„æ˜¯æˆ‘ä»¬å¯èƒ½å¸Œæœ›ä½¿ç”¨çš„é¢œè‰²åç§°ã€‚
- en: 'Note We use 1String to refer to the keyboard characters that make up a [String](#%28tech._string%29).
    For example, "red" consists of three such [1String](#%28tech._1string%29)s: "r",
    "e", "d". As it turns out, there is a bit more to the definition of [1String](#%28tech._1string%29),
    but for now thinking of them as [String](#%28tech._string%29)s of length 1 is
    fine. End'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šæˆ‘ä»¬ç”¨1Stringæ¥æŒ‡ä»£ç»„æˆ[å­—ç¬¦ä¸²](#%28tech._string%29)çš„é”®ç›˜å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œredâ€ç”±ä¸‰ä¸ªè¿™æ ·çš„[1String](#%28tech._1string%29)sç»„æˆï¼šâ€œrâ€ã€â€œeâ€ã€â€œdâ€ã€‚å®é™…ä¸Šï¼Œ[1String](#%28tech._1string%29)çš„å®šä¹‰è¿˜æœ‰æ›´å¤šå†…å®¹ï¼Œä½†å°±ç›®å‰è€Œè¨€ï¼Œå°†å®ƒä»¬è§†ä¸ºé•¿åº¦ä¸º1çš„[å­—ç¬¦ä¸²](#%28tech._string%29)sæ˜¯è¶³å¤Ÿçš„ã€‚ç»“æŸ
- en: 'BSL includes only one operation that exclusively consumes and produces strings:
    [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29),
    which, as we have seen in [Prologue: How to Program](part_prologue.html), concatenates
    two given strings into one. Think of [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    as an operation that is just like [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29).
    While the latter consumes two (or more) numbers and produces a new number, the
    former consumes two or more strings and produces a new string:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: BSLåªåŒ…å«ä¸€ä¸ªä¸“é—¨æ¶ˆè€—å¹¶äº§ç”Ÿå­—ç¬¦ä¸²çš„æ“ä½œï¼š[string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨[åºè¨€ï¼šå¦‚ä½•ç¼–ç¨‹](part_prologue.html)ä¸­çœ‹åˆ°çš„ï¼Œå®ƒå°†ä¸¤ä¸ªç»™å®šçš„å­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªã€‚å°†[string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)è§†ä¸ºä¸€ä¸ªç±»ä¼¼äº[+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)çš„æ“ä½œã€‚è™½ç„¶åè€…æ¶ˆè€—ä¸¤ä¸ªï¼ˆæˆ–æ›´å¤šï¼‰æ•°å­—å¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„æ•°å­—ï¼Œä½†å‰è€…æ¶ˆè€—ä¸¤ä¸ªæˆ–æ›´å¤šçš„å­—ç¬¦ä¸²å¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼š
- en: '| > ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "what
    a "Â "lovely "Â "day"Â " 4 BSL") |'
  id: totrans-114
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "what
    a "Â "lovely "Â "day"Â " 4 BSL") |'
- en: '| "what a lovely day 4 BSL" |'
  id: totrans-115
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "what a lovely day 4 BSL" |'
- en: 'Nothing about the given numbers changes when [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    adds them up, and nothing about the given strings changes when [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    concatenates them into one big string. If you wish to evaluate such expressions,
    you just need to think that the obvious laws hold for [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29),
    similar to those for [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29):'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½¿ç”¨ [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    è¿›è¡ŒåŠ æ³•è¿ç®—æ—¶ï¼Œç»™å®šçš„æ•°å­—ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå½“ä½¿ç”¨ [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    è¿æ¥å­—ç¬¦ä¸²æ—¶ï¼Œç»™å®šçš„å­—ç¬¦ä¸²ä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å¦‚æœä½ å¸Œæœ›è¯„ä¼°è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œä½ åªéœ€è®¤ä¸º [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    çš„æ˜æ˜¾æ³•åˆ™ä¸ [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    çš„æ³•åˆ™ç±»ä¼¼å³å¯ï¼š
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |  | ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  "a"  "b")  ==  "ab"
    |'
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |  | ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  "a"  "b")  ==  "ab"
    |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  2)  ==  3
    |  | ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  "ab"  "c")  ==  "abc"
    |'
  id: totrans-118
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  2)  ==  3
    |  | ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  "ab"  "c")  ==  "abc"
    |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  2  2)  ==  4
    |  | ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  "a"  "
    ")  ==  "a " |'
  id: totrans-119
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  2  2)  ==  4
    |  | ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  "a"  "
    ")  ==  "a " |'
- en: '| ... |  | ... |'
  id: totrans-120
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ... |  | ... |'
- en: 'ExerciseÂ 2\. Add the following two lines to the definitions area:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  2\. å°†ä»¥ä¸‹ä¸¤è¡Œæ·»åŠ åˆ°å®šä¹‰åŒºåŸŸï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â prefixÂ "hello")
    |'
  id: totrans-122
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â prefixÂ "hello")
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â suffixÂ "world")
    |'
  id: totrans-123
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â suffixÂ "world")
    |'
- en: Then use string primitives to create an expression that concatenates prefix
    and suffix and adds "_" between them. When you run this program, you will see
    "hello_world" in the interactions area.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åä½¿ç”¨å­—ç¬¦ä¸²åŸè¯­åˆ›å»ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼å°†å‰ç¼€å’Œåç¼€è¿æ¥èµ·æ¥ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´æ·»åŠ ä¸‹åˆ’çº¿ã€‚å½“ä½ è¿è¡Œè¿™ä¸ªç¨‹åºæ—¶ï¼Œä½ å°†åœ¨äº¤äº’åŒºåŸŸçœ‹åˆ° "hello_world"ã€‚
- en: See [exerciseÂ 1](#%28counter._%28exercise._arith-n%29%29) for how to create
    expressions using DrRacket.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹[ç»ƒä¹  1](#%28counter._%28exercise._arith-n%29%29)äº†è§£å¦‚ä½•ä½¿ç”¨ DrRacket åˆ›å»ºè¡¨è¾¾å¼ã€‚
- en: 1.3Mixing It Up[ğŸ”—](#(part._sec~3aarith-mix) "Link to here")
  id: totrans-126
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1.3 æ··åˆä½¿ç”¨[ğŸ”—](#(part._sec~3aarith-mix) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'All other operations (in BSL) concerning strings consume or produce data other
    than strings. Here are some examples:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰å…¶ä»–å…³äºå­—ç¬¦ä¸²çš„æ“ä½œï¼ˆåœ¨ BSL ä¸­ï¼‰éƒ½ä¼šæ¶ˆè€—æˆ–äº§ç”Ÿé™¤å­—ç¬¦ä¸²ä¹‹å¤–çš„æ•°æ®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š
- en: '[string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    consumes a string and produces a number;'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    æ¶ˆè€—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶äº§ç”Ÿä¸€ä¸ªæ•°å­—ï¼›'
- en: '[string-ith](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-ith%29%29)
    consumes a string s together with a number i and extracts the [1String](#%28tech._1string%29)
    located at the ith position (counting from 0); and'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[string-ith](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-ith%29%29)
    æ¶ˆè€—ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•°å­— iï¼Œå¹¶æå–ä½äºç¬¬ i ä½ç½®çš„ [1String](#%28tech._1string%29)ï¼›ä»¥åŠ'
- en: '[number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)
    consumes a number and produces a string.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)
    æ¶ˆè€—ä¸€ä¸ªæ•°å­—å¹¶äº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²ã€‚'
- en: 'Also look up [substring](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)
    and find out what it does.If the documentation in HelpDesk appears confusing,
    experiment with the functions in the interactions area. Give them appropriate
    arguments, and find out what they compute. Also use inappropriate arguments for
    some operations just to find out how BSL reacts:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜å¯ä»¥æŸ¥æ‰¾ [substring](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)
    å¹¶äº†è§£å®ƒçš„åŠŸèƒ½ã€‚å¦‚æœ HelpDesk ä¸­çš„æ–‡æ¡£çœ‹èµ·æ¥å¾ˆæ··ä¹±ï¼Œè¯·åœ¨äº¤äº’åŒºåŸŸå°è¯•è¿™äº›å‡½æ•°ã€‚ç»™å®ƒä»¬åˆé€‚çš„å‚æ•°ï¼Œå¹¶æ‰¾å‡ºå®ƒä»¬è®¡ç®—çš„ç»“æœã€‚è¿˜å¯ä»¥ä¸ºæŸäº›æ“ä½œä½¿ç”¨ä¸åˆé€‚çš„å‚æ•°ï¼Œåªæ˜¯ä¸ºäº†æ‰¾å‡º
    BSL çš„ååº”ï¼š
- en: '| > ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â 42)
    |'
  id: totrans-132
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    42) |'
- en: '| string-length:expects a string, given 42 |'
  id: totrans-133
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| string-length:æœŸæœ›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†ç»™å‡ºçš„æ˜¯ 42 |'
- en: 'As you can see, BSL reports an error. The first part â€œstring-lengthâ€ informs
    you about the operation that is misapplied; the second half states what is wrong
    with the arguments. In this specific example, [string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    is supposed to be applied to a string but is given a number, specifically 42.Naturally,
    it is possible to nest operations that consume and produce different kinds of
    data as long as you keep track of what is proper and what is not. Consider this
    expression from the [Prologue: How to Program](part_prologue.html):'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æ‚¨æ‰€è§ï¼ŒBSL æŠ¥å‘Šäº†ä¸€ä¸ªé”™è¯¯ã€‚ç¬¬ä¸€éƒ¨åˆ†â€œstring-lengthâ€é€šçŸ¥æ‚¨å…³äºè¯¯ç”¨çš„æ“ä½œï¼›ååŠéƒ¨åˆ†è¯´æ˜äº†å‚æ•°çš„é”™è¯¯ä¹‹å¤„ã€‚åœ¨è¿™ä¸ªç‰¹å®šä¾‹å­ä¸­ï¼Œ[string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    åº”è¯¥åº”ç”¨äºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†ç»™å‡ºçš„æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…·ä½“æ˜¯ 42ã€‚è‡ªç„¶ï¼Œåªè¦æ‚¨è·Ÿè¸ªä»€ä¹ˆæ˜¯åˆé€‚çš„ï¼Œä»€ä¹ˆæ˜¯ä¸åˆé€‚çš„ï¼Œå°±å¯ä»¥åµŒå¥—æ¶ˆè€—å’Œäº§ç”Ÿä¸åŒç±»å‹æ•°æ®çš„æ“ä½œã€‚è€ƒè™‘ä¸€ä¸‹æ¥è‡ª
    [åºè¨€ï¼šå¦‚ä½•ç¼–ç¨‹](part_prologue.html) çš„è¿™ä¸ªè¡¨è¾¾å¼ï¼š
- en: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â "hello
    world")Â 20)
  id: totrans-135
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    "hello world") 20)
- en: 'The inner expression applies [string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    to "hello world", our favorite string. The outer expression has [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    consume the result of the inner expression and 20.Letâ€™s determine the result of
    this expression in a step-by-step fashion:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: å†…éƒ¨è¡¨è¾¾å¼å°† [string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    åº”ç”¨äº "hello world"ï¼Œæˆ‘ä»¬æœ€å–œæ¬¢çš„å­—ç¬¦ä¸²ã€‚å¤–éƒ¨è¡¨è¾¾å¼æœ‰ [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    æ¶ˆè€—å†…éƒ¨è¡¨è¾¾å¼çš„ç»“æœå’Œ 20ã€‚è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥åœ°ç¡®å®šè¿™ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼š
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â "hello
    world")Â 20) |'
  id: totrans-137
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    "hello world") 20) |'
- en: '| == |'
  id: totrans-138
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 11Â 20)
    |'
  id: totrans-139
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 11Â 20)
    |'
- en: '| == |'
  id: totrans-140
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| 31 |'
  id: totrans-141
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 31 |'
- en: 'Not surprisingly, computing with such nested expressions that deal with a mix
    of data is no different from computing with numeric expressions. Here is another
    example:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯«ä¸å¥‡æ€ªï¼Œå¤„ç†è¿™ç§æ¶‰åŠæ•°æ®æ··åˆçš„åµŒå¥—è¡¨è¾¾å¼çš„è®¡ç®—ä¸å¤„ç†æ•°å€¼è¡¨è¾¾å¼çš„è®¡ç®—æ²¡æœ‰åŒºåˆ«ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªä¾‹å­ï¼š
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â ([number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)Â 42))Â 2)
    |'
  id: totrans-143
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â ([number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)Â 42))Â 2)
    |'
- en: '| == |'
  id: totrans-144
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â "42")Â 2)
    |'
  id: totrans-145
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â "42")Â 2)
    |'
- en: '| == |'
  id: totrans-146
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 2Â 2)
    |'
  id: totrans-147
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 2Â 2)
    |'
- en: '| == |'
  id: totrans-148
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| 4 |'
  id: totrans-149
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 4 |'
- en: Before you go on, construct some nested expressions that mix data in the wrong
    way, say,
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç»§ç»­ä¹‹å‰ï¼Œæ„å»ºä¸€äº›åµŒå¥—è¡¨è¾¾å¼ï¼Œä»¥é”™è¯¯çš„æ–¹å¼æ··åˆæ•°æ®ï¼Œä¾‹å¦‚ï¼Œ
- en: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â 42)Â 1)
  id: totrans-151
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â 42)Â 1)
- en: 'Run them in DrRacket. Study the red error message but also watch what DrRacket
    highlights in the definitions area.ExerciseÂ 3\. Add the following two lines to
    the definitions area:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ DrRacket ä¸­è¿è¡Œå®ƒä»¬ã€‚ç ”ç©¶çº¢è‰²é”™è¯¯ä¿¡æ¯ï¼Œä½†ä¹Ÿè¦æ³¨æ„ DrRacket åœ¨å®šä¹‰åŒºåŸŸä¸­çªå‡ºæ˜¾ç¤ºçš„å†…å®¹ã€‚ç»ƒä¹  3ï¼šå°†ä»¥ä¸‹ä¸¤è¡Œæ·»åŠ åˆ°å®šä¹‰åŒºåŸŸï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â strÂ "helloworld")
    |'
  id: totrans-153
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â strÂ "helloworld")
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â iÂ 5)
    |'
  id: totrans-154
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â iÂ 5)
    |'
- en: 'Then create an expression using string primitives that adds "_" at position
    i. In general this means the resulting string is longer than the original one;
    here the expected result is "hello_world".Position means i characters from the
    left of the string, but programmers start counting at 0. Thus, the 5th letter
    in this example is "w", because the 0th letter is "h". Hint When you encounter
    such â€œcounting problemsâ€ you may wish to add a string of digits below str to help
    with counting:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶ååˆ›å»ºä¸€ä¸ªä½¿ç”¨å­—ç¬¦ä¸²åŸè¯­çš„è¡¨è¾¾å¼ï¼Œåœ¨ä½ç½® i å¤„æ·»åŠ  "_"ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™æ„å‘³ç€ç»“æœå­—ç¬¦ä¸²æ¯”åŸå§‹å­—ç¬¦ä¸²é•¿ï¼›è¿™é‡Œé¢„æœŸçš„ç»“æœæ˜¯ "hello_world"ã€‚ä½ç½®æ˜¯æŒ‡ä»å­—ç¬¦ä¸²å·¦ä¾§å¼€å§‹çš„ç¬¬
    i ä¸ªå­—ç¬¦ï¼Œä½†ç¨‹åºå‘˜ä» 0 å¼€å§‹è®¡æ•°ã€‚å› æ­¤ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬ 5 ä¸ªå­—æ¯æ˜¯ "w"ï¼Œå› ä¸ºç¬¬ 0 ä¸ªå­—æ¯æ˜¯ "h"ã€‚æç¤ºï¼šå½“ä½ é‡åˆ°è¿™æ ·çš„â€œè®¡æ•°é—®é¢˜â€æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨
    str ä¸‹æ–¹æ·»åŠ ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²æ¥å¸®åŠ©è®¡æ•°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â strÂ "helloworld")
    |'
  id: totrans-156
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â strÂ "helloworld")
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â indÂ "0123456789")
    |'
  id: totrans-157
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â indÂ "0123456789")
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â iÂ 5)
    |'
  id: totrans-158
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â iÂ 5)
    |'
- en: See [exerciseÂ 1](#%28counter._%28exercise._arith-n%29%29) for how to create
    expressions in DrRacket.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹[ç»ƒä¹ 1](#%28counter._%28exercise._arith-n%29%29)äº†è§£å¦‚ä½•åœ¨DrRacketä¸­åˆ›å»ºè¡¨è¾¾å¼ã€‚
- en: ExerciseÂ 4\. Use the same setup as in [exerciseÂ 3](#%28counter._%28exercise._arith-s1%29%29)
    to create an expression that deletes the ith position from str. Clearly this expression
    creates a shorter string than the given one. Which values for i are legitimate?
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 4ã€‚ä½¿ç”¨ä¸[ç»ƒä¹ 3](#%28counter._%28exercise._arith-s1%29%29)ç›¸åŒçš„è®¾ç½®ï¼Œåˆ›å»ºä¸€ä¸ªåˆ é™¤strä¸­ç¬¬iä¸ªä½ç½®çš„è¡¨è¾¾å¼ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸ªè¡¨è¾¾å¼åˆ›å»ºçš„å­—ç¬¦ä¸²æ¯”ç»™å®šçš„å­—ç¬¦ä¸²çŸ­ã€‚å“ªäº›içš„å€¼æ˜¯åˆæ³•çš„ï¼Ÿ
- en: 1.4The Arithmetic of Images[ğŸ”—](#(part._sec~3aarith-images) "Link to here")
  id: totrans-161
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1.4 å›¾åƒçš„ç®—æœ¯[ğŸ”—](#(part._sec~3aarith-images) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: An Image is a visual, rectangular piece of data, for example, a photo or a geometric
    figure and its frame.Remember to require the 2htdp/image teachpack in a new tab.
    You can insert images in DrRacket wherever you can write down an expression because
    images are values, just like numbers and strings.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾åƒæ˜¯ä¸€ç§è§†è§‰çš„ã€çŸ©å½¢çš„ æ•°æ®å—ï¼Œä¾‹å¦‚ï¼Œç…§ç‰‡æˆ–å‡ ä½•å›¾å½¢åŠå…¶æ¡†æ¶ã€‚è®°ä½åœ¨æ–°æ ‡ç­¾é¡µä¸­è¦æ±‚2htdp/imageæ•™å­¦åŒ…ã€‚ä½ å¯ä»¥åœ¨DrRacketçš„ä»»ä½•å¯ä»¥å†™ä¸‹è¡¨è¾¾å¼çš„ä½ç½®æ’å…¥å›¾åƒï¼Œå› ä¸ºå›¾åƒæ˜¯å€¼ï¼Œå°±åƒæ•°å­—å’Œå­—ç¬¦ä¸²ä¸€æ ·ã€‚
- en: 'Your programs can also manipulate images with primitive operations. These primitive
    operations come in three flavors. The first kind concerns the creation of basic
    images:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çš„ç¨‹åºä¹Ÿå¯ä»¥ä½¿ç”¨åŸå§‹æ“ä½œæ¥æ“ä½œå›¾åƒã€‚è¿™äº›åŸå§‹æ“ä½œåˆ†ä¸ºä¸‰ç§ç±»å‹ã€‚ç¬¬ä¸€ç§ç±»å‹æ¶‰åŠåŸºæœ¬å›¾åƒçš„åˆ›å»ºï¼š
- en: '[circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)
    produces a circle image from a radius, a mode string, and a color string;'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)
    ä»åŠå¾„ã€æ¨¡å¼å­—ç¬¦ä¸²å’Œé¢œè‰²å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªåœ†å½¢å›¾åƒï¼›'
- en: '[ellipse](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._ellipse%29%29)
    produces an ellipse from two diameters, a mode string, and a color string;'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ellipse](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._ellipse%29%29)
    ä»ä¸¤ä¸ªç›´å¾„ã€æ¨¡å¼å­—ç¬¦ä¸²å’Œé¢œè‰²å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªæ¤­åœ†ï¼›'
- en: '[line](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._line%29%29)
    produces a line from two points and a color string;'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[line](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._line%29%29)
    ä»ä¸¤ä¸ªç‚¹å’Œä¸€æ¡é¢œè‰²å­—ç¬¦ä¸²ç”Ÿæˆä¸€æ¡çº¿ï¼›'
- en: '[rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)
    produces a rectangle from a width, a height, a mode string, and a color string;'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)
    ä»å®½åº¦ã€é«˜åº¦ã€æ¨¡å¼å­—ç¬¦ä¸²å’Œé¢œè‰²å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªçŸ©å½¢ï¼›'
- en: '[text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)
    produces a text image from a string, a font size, and a color string; and'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)
    ä»å­—ç¬¦ä¸²ã€å­—ä½“å¤§å°å’Œé¢œè‰²å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªæ–‡æœ¬å›¾åƒï¼›ä»¥åŠ'
- en: '[triangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)
    produces an upward-pointing equilateral triangle from a size, a mode string, and
    a color string.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[triangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)
    ä»å¤§å°ã€æ¨¡å¼å­—ç¬¦ä¸²å’Œé¢œè‰²å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªå‘ä¸ŠæŒ‡çš„ç­‰è¾¹ä¸‰è§’å½¢ã€‚'
- en: 'The names of these operations mostly explain what kind of image they create.
    All you must know is that mode strings means "solid" or "outline", and color strings
    are strings such as "orange", "black", and so on.Play with these operations in
    the interactions window:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ“ä½œçš„åç§°å¤§å¤šè§£é‡Šäº†å®ƒä»¬åˆ›å»ºçš„å›¾åƒç±»å‹ã€‚ä½ æ‰€éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œæ¨¡å¼å­—ç¬¦ä¸²è¡¨ç¤ºâ€œå®å¿ƒâ€æˆ–â€œè½®å»“â€ï¼Œé¢œè‰²å­—ç¬¦ä¸²æ˜¯â€œæ©™è‰²â€ã€â€œé»‘è‰²â€ç­‰è¿™æ ·çš„å­—ç¬¦ä¸²ã€‚åœ¨äº¤äº’çª—å£ä¸­å°è¯•è¿™äº›æ“ä½œï¼š
- en: '| > ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "green")
    |'
  id: totrans-171
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "green")
    |'
- en: '| ![image](../Images/3b1c7bb5aff4b3ad1ab585c484a7202f.png) |'
  id: totrans-172
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/3b1c7bb5aff4b3ad1ab585c484a7202f.png) |'
- en: '| > ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 10Â 20Â "solid"Â "blue")
    |'
  id: totrans-173
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 10Â 20Â "solid"Â "blue")
    |'
- en: '| ![image](../Images/abd6c58ad375d3f1c964992a4c03249f.png) |'
  id: totrans-174
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/abd6c58ad375d3f1c964992a4c03249f.png) |'
- en: '| > ([star](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._star%29%29)Â 12Â "solid"Â "gray")
    |'
  id: totrans-175
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([star](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._star%29%29)Â 12Â "solid"Â "gray")
    |'
- en: '| ![image](../Images/89e9de5002721559d7f9e2399020f03c.png) |'
  id: totrans-176
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/89e9de5002721559d7f9e2399020f03c.png) |'
- en: 'Stop! The above uses a previously unmentioned operation. Look up its documentation
    and find out how many more such operations the 2htdp/image teachpack comes with.
    Experiment with the operations you find.The second kind of functions on images
    concern image properties:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨äº†ä¹‹å‰æœªæåŠçš„æ“ä½œã€‚æŸ¥é˜…å…¶æ–‡æ¡£ï¼Œæ‰¾å‡º2htdp/imageæ•™å­¦åŒ…ä¸­è¿˜æœ‰å¤šå°‘è¿™æ ·çš„æ“ä½œã€‚å°è¯•ä½ æ‰¾åˆ°çš„æ“ä½œã€‚ç¬¬äºŒç§å›¾åƒä¸Šçš„å‡½æ•°å…³æ³¨å›¾åƒå±æ€§ï¼š
- en: '[image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)
    determines the width of an image in terms of pixels;'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)
    ä»¥åƒç´ ä¸ºå•ä½å†³å®šäº†å›¾åƒçš„å®½åº¦ï¼›'
- en: '[image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)
    determines the height of an image;'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)
    å†³å®šäº†å›¾åƒçš„é«˜åº¦ï¼›'
- en: 'They extract the kind of values from images that you expect:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: ä»–ä»¬ä»å›¾åƒä¸­æå–äº†ä½ é¢„æœŸçš„å€¼ï¼š
- en: '| > ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "red"))
    |'
  id: totrans-181
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "red"))
    |'
- en: '| 20 |'
  id: totrans-182
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 20 |'
- en: '| > ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 10Â 20Â "solid"Â "blue"))
    |'
  id: totrans-183
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 10Â 20Â "solid"Â "blue"))
    |'
- en: '| 20 |'
  id: totrans-184
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 20 |'
- en: 'Stop! Explain how DrRacket determines the value of this expression:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è§£é‡ŠDrRacketå¦‚ä½•ç¡®å®šè¿™ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼š
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "red"))
    |'
  id: totrans-186
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "red"))
    |'
- en: '| Â Â Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 10Â 20Â "solid"Â "blue")))
    |'
  id: totrans-187
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 10Â 20Â "solid"Â "blue")))
    |'
- en: 'A proper understanding of the third kind of image-composing primitives requires
    the introduction of one new idea: the anchor point. An image isnâ€™t just a single
    pixel, it consists of many pixels. Specifically, each image is like a photograph,
    that is, a rectangle of pixels. One of these pixels is an implicit anchor point.
    When you use an image primitive to compose two images, the composition happens
    with respect to the anchor points, unless you specify some other point explicitly:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£ç¡®ç†è§£ç¬¬ä¸‰ç§å›¾åƒç»„åˆåŸè¯­éœ€è¦å¼•å…¥ä¸€ä¸ªæ–°æ¦‚å¿µï¼šé”šç‚¹ã€‚å›¾åƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªå•ç‹¬çš„åƒç´ ï¼Œå®ƒç”±è®¸å¤šåƒç´ ç»„æˆã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªå›¾åƒå°±åƒä¸€å¼ ç…§ç‰‡ï¼Œå³åƒç´ çš„çŸ©å½¢ã€‚è¿™äº›åƒç´ ä¸­çš„ä¸€ä¸ªæ˜¯ä¸€ä¸ªéšå«çš„é”šç‚¹ã€‚å½“ä½ ä½¿ç”¨å›¾åƒåŸè¯­ç»„åˆä¸¤ä¸ªå›¾åƒæ—¶ï¼Œç»„åˆæ˜¯ç›¸å¯¹äºé”šç‚¹è¿›è¡Œçš„ï¼Œé™¤éä½ æ˜ç¡®æŒ‡å®šäº†å…¶ä»–ç‚¹ï¼š
- en: '[overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)
    places all the images to which it is applied on top of each other, using the center
    as anchor point;'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)
    å°†å…¶åº”ç”¨äºçš„æ‰€æœ‰å›¾åƒéƒ½å †å åœ¨ä¸€èµ·ï¼Œä»¥ä¸­å¿ƒä½œä¸ºé”šç‚¹ï¼›'
- en: '[overlay/xy](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%2Fxy%29%29)
    is like [overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)
    but accepts two numbersâ€”<wbr>x and yâ€”<wbr>between two image arguments. It shifts
    the second image by x pixels to the right and y pixels downâ€”<wbr>all with respect
    to the first imageâ€™s top-left corner; unsurprisingly, a negative x shifts the
    image to the left and a negative y up; and'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[overlay/xy](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%2Fxy%29%29)
    ä¸ [å åŠ ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)
    ç±»ä¼¼ï¼Œä½†æ¥å—ä¸¤ä¸ªæ•°å­—â€”â€”<wbr>x å’Œ yâ€”â€”<wbr>ä½œä¸ºä¸¤ä¸ªå›¾åƒå‚æ•°ä¹‹é—´çš„æ•°å­—ã€‚å®ƒå°†ç¬¬äºŒä¸ªå›¾åƒå‘å³ç§»åŠ¨ x åƒç´ ï¼Œå‘ä¸‹ç§»åŠ¨ y åƒç´ â€”â€”<wbr>æ‰€æœ‰è¿™äº›éƒ½ä¸ç¬¬ä¸€ä¸ªå›¾åƒçš„å·¦ä¸Šè§’ç›¸å…³ï¼›ä¸å‡ºæ‰€æ–™ï¼Œè´Ÿ
    x å°†å›¾åƒå‘å·¦ç§»åŠ¨ï¼Œè´Ÿ y å°†å›¾åƒå‘ä¸Šç§»åŠ¨ï¼›å¹¶ä¸”'
- en: '[overlay/align](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%2Falign%29%29)
    is like [overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)
    but accepts two strings that shift the anchor point(s) to other parts of the rectangles.
    There are nine different positions overall; experiment with all possibilities!'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[overlay/align](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%2Falign%29%29)
    ä¸ [å åŠ ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)
    ç±»ä¼¼ï¼Œä½†æ¥å—ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå°†é”šç‚¹ï¼ˆsï¼‰ç§»åŠ¨åˆ°çŸ©å½¢çš„å…¶ä»–éƒ¨åˆ†ã€‚æ€»å…±æœ‰ä¹ä¸ªä¸åŒçš„ä½ç½®ï¼›å°è¯•æ‰€æœ‰å¯èƒ½æ€§ï¼'
- en: 'The 2htdp/image teachpack comes with many other primitive functions for combining
    images. As you get familiar with image processing, you will want to read up on
    those. For now, we introduce three more because they are important for creating
    animated scenes and images for games:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 2htdp/image æ•™å­¦åŒ…é™„å¸¦äº†è®¸å¤šå…¶ä»–ç”¨äºç»„åˆå›¾åƒçš„åŸå§‹å‡½æ•°ã€‚éšç€ä½ å¯¹å›¾åƒå¤„ç†è¶Šæ¥è¶Šç†Ÿæ‚‰ï¼Œä½ å°†æƒ³è¦äº†è§£é‚£äº›å‡½æ•°ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä»‹ç»å¦å¤–ä¸‰ä¸ªï¼Œå› ä¸ºå®ƒä»¬å¯¹äºåˆ›å»ºåŠ¨ç”»åœºæ™¯å’Œæ¸¸æˆä¸­çš„å›¾åƒéå¸¸é‡è¦ï¼š
- en: '[empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    creates a rectangle of some given width and height;'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[åˆ›å»ºç©ºåœºæ™¯](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    åˆ›å»ºä¸€ä¸ªç»™å®šå®½åº¦å’Œé«˜åº¦çš„çŸ©å½¢ï¼›'
- en: '[place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    places an image into a scene at a specified position. If the image doesnâ€™t fit
    into the given scene, it is appropriately cropped;'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    å°†å›¾åƒæ”¾ç½®åœ¨åœºæ™¯ä¸­çš„æŒ‡å®šä½ç½®ã€‚å¦‚æœå›¾åƒä¸é€‚åˆç»™å®šçš„åœºæ™¯ï¼Œå®ƒå°†è¢«é€‚å½“åœ°è£å‰ªï¼›'
- en: '[scene+line](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._scene%2Bline%29%29)
    consumes a scene, four numbers, and a color to draw a line into the given image.
    Experiment with it to see how it works.'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[åœºæ™¯+çº¿æ¡](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._scene%2Bline%29%29)
    æ¥å—ä¸€ä¸ªåœºæ™¯ã€å››ä¸ªæ•°å­—å’Œä¸€ä¸ªé¢œè‰²ï¼Œç”¨äºåœ¨ç»™å®šçš„å›¾åƒä¸­ç»˜åˆ¶çº¿æ¡ã€‚å°è¯•ä½¿ç”¨å®ƒæ¥æŸ¥çœ‹å…¶å·¥ä½œåŸç†ã€‚'
- en: '| arithmetic of numbers |  | arithmetic of images |'
  id: totrans-196
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ•°å­—ç®—æœ¯ |  | å›¾åƒç®—æœ¯ |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |  |'
  id: totrans-197
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |  |'
- en: ''
  id: totrans-198
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)Â ([square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â 4Â "solid"Â "orange")
    &#124;'
  id: totrans-199
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å åŠ ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)Â ([æ­£æ–¹å½¢](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)
    4Â "solid"Â "orange") &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 6Â "solid"Â "yellow"))
    &#124;'
  id: totrans-200
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â Â Â ([åœ†å½¢](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 6Â "solid"Â "yellow"))
    &#124;'
- en: '&#124; == &#124;'
  id: totrans-201
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; == &#124;'
- en: '&#124; ![image](../Images/6fce39c922c05928fca29f093ee22c99.png) &#124;'
  id: totrans-202
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ![å›¾åƒ](../Images/6fce39c922c05928fca29f093ee22c99.png) &#124;'
- en: ''
  id: totrans-203
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-204
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '|  |  |  |'
  id: totrans-205
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  |  |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  2)  ==  3
    |  |'
  id: totrans-206
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  2)  ==  3
    |  |'
- en: ''
  id: totrans-207
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([underlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._underlay%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 6Â "solid"Â "yellow")
    &#124;'
  id: totrans-208
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([underlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._underlay%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 6Â "solid"Â "yellow")
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â ([square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â 4Â "solid"Â "orange"))
    &#124;'
  id: totrans-209
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â  ([square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â 4Â "solid"Â "orange"))
    &#124;'
- en: '&#124; == &#124;'
  id: totrans-210
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| == &#124;'
- en: '&#124; ![image](../Images/6c44c0ca19228ae0cc58b599fb69b375.png) &#124;'
  id: totrans-211
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ![image](../Images/6c44c0ca19228ae0cc58b599fb69b375.png) &#124;'
- en: ''
  id: totrans-212
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-213
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '|  |  |  |'
  id: totrans-214
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  |  |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  2  2)  ==  4
    |  |'
  id: totrans-215
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  2  2)  ==  4
    |  |'
- en: ''
  id: totrans-216
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 6Â "solid"Â "yellow")
    &#124;'
  id: totrans-217
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 6Â "solid"Â "yellow")
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 &#124;'
  id: totrans-218
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â  10Â 10 &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 20Â 20))
    &#124;'
  id: totrans-219
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â  ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 20Â 20))
    &#124;'
- en: '&#124; == &#124;'
  id: totrans-220
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| == &#124;'
- en: '&#124; ![image](../Images/3144280e20fcde5a5c2cdf1023265e55.png) &#124;'
  id: totrans-221
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ![image](../Images/3144280e20fcde5a5c2cdf1023265e55.png) &#124;'
- en: ''
  id: totrans-222
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-223
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '| ... |  | ... |'
  id: totrans-224
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ... |  | ... |'
- en: ''
  id: totrans-225
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 10: Laws of image creation'
  id: totrans-226
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾10ï¼šå›¾åƒåˆ›å»ºæ³•åˆ™
- en: The laws of arithmetic for images are analogous to those for numbers; see [figureÂ 10](#%28counter._%28figure._fig~3alaws-of-images%29%29)
    for some examples and a comparison with numeric arithmetic. Again, no image gets
    destroyed or changed. Like [+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29),
    these primitives just make up new images that combine the given ones in some manner.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾åƒçš„ç®—æœ¯æ³•åˆ™ä¸æ•°å­—çš„æ³•åˆ™ç±»ä¼¼ï¼›å‚è§[å›¾10](#%28counter._%28figure._fig~3alaws-of-images%29%29)ä»¥è·å–ä¸€äº›ç¤ºä¾‹å¹¶ä¸æ•°å€¼ç®—æœ¯è¿›è¡Œæ¯”è¾ƒã€‚åŒæ ·ï¼Œæ²¡æœ‰å›¾åƒè¢«ç ´åæˆ–æ”¹å˜ã€‚åƒ[+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)ä¸€æ ·ï¼Œè¿™äº›åŸå§‹æ“ä½œåªæ˜¯ä»¥æŸç§æ–¹å¼ç»„åˆç»™å®šå›¾åƒæ¥åˆ›å»ºæ–°çš„å›¾åƒã€‚
- en: ExerciseÂ 5\. Use the 2htdp/image teachpack to create the image of a simple boat
    or tree. Make sure you can easily change the scale of the entire image.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 5. ä½¿ç”¨2htdp/imageæ•™å­¦åŒ…åˆ›å»ºä¸€ä¸ªç®€å•çš„èˆ¹æˆ–æ ‘çš„å›¾åƒã€‚ç¡®ä¿ä½ å¯ä»¥è½»æ¾åœ°æ”¹å˜æ•´ä¸ªå›¾åƒçš„æ¯”ä¾‹ã€‚
- en: ExerciseÂ 6\. Add the following line to the definitions area:Copy and paste the
    image into your DrRacket.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 6. å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°å®šä¹‰åŒºåŸŸï¼šå°†å›¾åƒå¤åˆ¶å¹¶ç²˜è´´åˆ°DrRacketä¸­ã€‚
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â catÂ ![](../Images/2c441c7aba78a31d425a55678b9d4027.png))
  id: totrans-230
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â catÂ ![](../Images/2c441c7aba78a31d425a55678b9d4027.png))
- en: Create an expression that counts the number of pixels in the image.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªè¡¨è¾¾å¼æ¥è®¡ç®—å›¾åƒä¸­çš„åƒç´ æ•°é‡ã€‚
- en: 1.5The Arithmetic of Booleans[ğŸ”—](#(part._sec~3aarith-bools) "Link to here")
  id: totrans-232
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1.5å¸ƒå°”ç®—æœ¯[ğŸ”—](#(part._sec~3aarith-bools) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'We need one last kind of primitive data before we can design programs: Boolean
    values. There are only two kinds of Boolean values: #true and #false. Programs
    use Boolean values for representing decisions or the status of switches.'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬èƒ½å¤Ÿè®¾è®¡ç¨‹åºä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æœ€åçš„åŸå§‹æ•°æ®ç±»å‹ï¼šå¸ƒå°”å€¼ã€‚å¸ƒå°”å€¼åªæœ‰ä¸¤ç§ï¼š#trueå’Œ#falseã€‚ç¨‹åºä½¿ç”¨å¸ƒå°”å€¼æ¥è¡¨ç¤ºå†³ç­–æˆ–å¼€å…³çš„çŠ¶æ€ã€‚
- en: 'Computing with Boolean values is simple, too. In particular, BSL programs get
    away with three operations: [or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29),
    [and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29),
    and [not](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29).
    These operations are kind of like addition, multiplication, and negation for numbers.
    Of course, because there are only two Boolean values, it is actually possible
    to demonstrate how these functions work in all possible situations:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å¸ƒå°”å€¼è¿›è¡Œè®¡ç®—ä¹Ÿå¾ˆç®€å•ã€‚ç‰¹åˆ«æ˜¯ï¼ŒBSL ç¨‹åºåªéœ€è¦ä¸‰ç§æ“ä½œï¼š[or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)ã€[and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    å’Œ [not](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29)ã€‚è¿™äº›æ“ä½œç±»ä¼¼äºæ•°å­—çš„åŠ æ³•ã€ä¹˜æ³•å’Œå–åã€‚å½“ç„¶ï¼Œç”±äºåªæœ‰ä¸¤ä¸ªå¸ƒå°”å€¼ï¼Œå®é™…ä¸Šå¯ä»¥åœ¨æ‰€æœ‰å¯èƒ½çš„æƒ…å†µä¸‹å±•ç¤ºè¿™äº›å‡½æ•°æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š
- en: '[or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)
    checks whether any of the given Boolean values is #true:'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)
    æ£€æŸ¥ç»™å®šçš„å¸ƒå°”å€¼ä¸­æ˜¯å¦æœ‰ä»»ä½•ä¸€ä¸ªä¸º #trueï¼š'
- en: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #trueÂ #true)
    |'
  id: totrans-236
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #trueÂ #true)
    |'
- en: '| #true |'
  id: totrans-237
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #trueÂ #false)
    |'
  id: totrans-238
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #trueÂ #false)
    |'
- en: '| #true |'
  id: totrans-239
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #falseÂ #true)
    |'
  id: totrans-240
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #falseÂ #true)
    |'
- en: '| #true |'
  id: totrans-241
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #falseÂ #false)
    |'
  id: totrans-242
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â #falseÂ #false)
    |'
- en: '| #false |'
  id: totrans-243
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '[and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    checks whether all of the given Boolean values are #true:'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    æ£€æŸ¥æ‰€æœ‰ç»™å®šçš„å¸ƒå°”å€¼æ˜¯å¦éƒ½æ˜¯ #trueï¼š'
- en: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ #true)
    |'
  id: totrans-245
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ #true)
    |'
- en: '| #true |'
  id: totrans-246
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ #false)
    |'
  id: totrans-247
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ #false)
    |'
- en: '| #false |'
  id: totrans-248
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #falseÂ #true)
    |'
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #falseÂ #true)
    |'
- en: '| #false |'
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #falseÂ #false)
    |'
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #falseÂ #false)
    |'
- en: '| #false |'
  id: totrans-252
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: 'and [not](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29)
    always picks the Boolean that isnâ€™t given:'
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: and [not](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29)
    æ€»æ˜¯é€‰æ‹©æœªç»™å‡ºçš„å¸ƒå°”å€¼ï¼š
- en: '| > ([not](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29)Â #true)
    |'
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([not](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29)Â #true)
    |'
- en: '| #false |'
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: Unsurprisingly, [or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)
    and [and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    may be used with more than two expressions. Finally, there is more to [or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)
    and [and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    than these explanations suggest, but to explain the extra bit requires a second
    look at nested expressions.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯«ä¸å¥‡æ€ªï¼Œ[or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)å’Œ[and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)å¯ä»¥ä¸è¶…è¿‡ä¸¤ä¸ªè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ã€‚æœ€åï¼Œ[or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)å’Œ[and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)çš„è§£é‡Šè¿œä¸æ­¢è¿™äº›ï¼Œä½†è¦è§£é‡Šé¢å¤–çš„éƒ¨åˆ†éœ€è¦å†æ¬¡æŸ¥çœ‹åµŒå¥—è¡¨è¾¾å¼ã€‚
- en: ExerciseÂ 7\. Boolean expressions can express some everyday problems. Suppose
    you want to decide whether today is an appropriate day to go to the mall. You
    go to the mall either if it is not sunny or ifNadeem Hamid suggested this formulation
    of the exercise. today is Friday (because that is when stores post new sales items).
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 7. å¸ƒå°”è¡¨è¾¾å¼å¯ä»¥è¡¨è¾¾ä¸€äº›æ—¥å¸¸é—®é¢˜ã€‚å‡è®¾ä½ æƒ³å†³å®šä»Šå¤©æ˜¯å¦æ˜¯å»è´­ç‰©ä¸­å¿ƒçš„å¥½æ—¥å­ã€‚å¦‚æœä½ ä»Šå¤©ä¸ä¸‹é›¨æˆ–è€…ä»Šå¤©æ˜¯æ˜ŸæœŸäº”ï¼ˆå› ä¸ºé‚£æ—¶å•†åº—ä¼šå‘å¸ƒæ–°çš„ä¿ƒé”€å•†å“ï¼‰ï¼Œä½ å°±ä¼šå»è´­ç‰©ä¸­å¿ƒã€‚Nadeem
    Hamidæå‡ºäº†è¿™ä¸ªç»ƒä¹ çš„è¿™ç§è¡¨è¿°æ–¹å¼ã€‚
- en: 'Here is how you could go about it using your new knowledge about Booleans.
    First add these two lines to the definitions area of DrRacket:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å¦‚ä½•ä½¿ç”¨ä½ å¯¹å¸ƒå°”å€¼çš„æ–°çŸ¥è¯†æ¥æ“ä½œçš„ã€‚é¦–å…ˆå°†è¿™äº›ä¸¤è¡Œæ·»åŠ åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â sunnyÂ #true)
    |'
  id: totrans-259
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â sunnyÂ #true)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â fridayÂ #false)
    |'
  id: totrans-260
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â fridayÂ #false)
    |'
- en: 'Now create an expression that computes whether sunny is false or friday is
    true. So in this particular case, the answer is #false. (Why?)'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨åˆ›å»ºä¸€ä¸ªè¡¨è¾¾å¼æ¥è®¡ç®—sunnyæ˜¯å¦ä¸ºå‡æˆ–fridayæ˜¯å¦ä¸ºçœŸã€‚æ‰€ä»¥åœ¨è¿™ä¸ªç‰¹å®šçš„æƒ…å†µä¸‹ï¼Œç­”æ¡ˆæ˜¯#falseã€‚ï¼ˆä¸ºä»€ä¹ˆï¼Ÿï¼‰
- en: See [exerciseÂ 1](#%28counter._%28exercise._arith-n%29%29) for how to create
    expressions in DrRacket. How many combinations of Booleans can you associate with
    sunny and friday?
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹[ç»ƒä¹ 1](#%28counter._%28exercise._arith-n%29%29)äº†è§£å¦‚ä½•åœ¨DrRacketä¸­åˆ›å»ºè¡¨è¾¾å¼ã€‚ä½ èƒ½å°†å¤šå°‘ç§å¸ƒå°”ç»„åˆä¸sunnyå’Œfridayå…³è”èµ·æ¥ï¼Ÿ
- en: 1.6Mixing It Up with Booleans[ğŸ”—](#(part._sec~3aboolean-if) "Link to here")
  id: totrans-263
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1.6ä¸å¸ƒå°”å€¼æ··åˆ[ğŸ”—](#(part._sec~3aboolean-if) "é“¾æ¥åˆ°æ­¤å¤„")
- en: One important use of Boolean values concerns calculations with different kinds
    of data. We know from the Prologue that BSL programs may name values via definitions.
    For example, we could start a program with
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: å¸ƒå°”å€¼çš„ä¸€ä¸ªé‡è¦ç”¨é€”æ˜¯æ¶‰åŠä¸åŒç±»å‹æ•°æ®çš„è®¡ç®—ã€‚æˆ‘ä»¬ä»åºè¨€ä¸­äº†è§£åˆ°BSLç¨‹åºå¯ä»¥é€šè¿‡å®šä¹‰æ¥å‘½åå€¼ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªç¨‹åºå¼€å§‹ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 2)
  id: totrans-265
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 2)
- en: 'and then compute its inverse:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åè®¡ç®—å…¶é€†ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inverse-of-xÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
  id: totrans-267
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inverse-of-xÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
- en: 'This works fine, as long as we donâ€™t edit the program and change x to 0.This
    is where Boolean values come in, in particular conditional calculations. First,
    the primitive function [=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    determines whether two (or more) numbers are equal. If so, it produces #true,
    otherwise #false. Second, there is a kind of BSL expression that we havenâ€™t mentioned
    so far: the [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    expression. It uses the word â€œifâ€ as if it were a primitive function; it isnâ€™t.
    The word â€œifâ€ is followed by three expressions, separated by blank spaces (that
    includes tabs, line breaks, etc.). Naturally the entire expression is enclosed
    in parentheses. Here is an example:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 'åªè¦æˆ‘ä»¬ä¸ç¼–è¾‘ç¨‹åºå¹¶å°† x æ”¹ä¸º 0ï¼Œè¿™å°±å¯ä»¥æ­£å¸¸å·¥ä½œã€‚è¿™å°±æ˜¯å¸ƒå°”å€¼å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ï¼Œç‰¹åˆ«æ˜¯æ¡ä»¶è®¡ç®—ã€‚é¦–å…ˆï¼ŒåŸå§‹å‡½æ•° [=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    ç”¨äºåˆ¤æ–­ä¸¤ä¸ªï¼ˆæˆ–æ›´å¤šï¼‰æ•°å­—æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœæ˜¯ï¼Œåˆ™äº§ç”Ÿ #trueï¼Œå¦åˆ™äº§ç”Ÿ #falseã€‚å…¶æ¬¡ï¼Œæœ‰ä¸€ç§æˆ‘ä»¬ä¹‹å‰å°šæœªæåˆ°çš„ BSL è¡¨è¾¾å¼ï¼š[if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    è¡¨è¾¾å¼ã€‚å®ƒä½¿ç”¨â€œifâ€è¿™ä¸ªè¯ï¼Œå°±åƒå®ƒæ˜¯ä¸€ä¸ªåŸå§‹å‡½æ•°ä¸€æ ·ï¼›å…¶å®å®ƒä¸æ˜¯ã€‚å•è¯â€œifâ€åé¢è·Ÿç€ä¸‰ä¸ªè¡¨è¾¾å¼ï¼Œç”±ç©ºæ ¼åˆ†éš”ï¼ˆåŒ…æ‹¬åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼‰ã€‚å½“ç„¶ï¼Œæ•´ä¸ªè¡¨è¾¾å¼éƒ½åŒ…å«åœ¨æ‹¬å·ä¸­ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š'
- en: ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
  id: totrans-269
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
- en: 'This [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    expression contains ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)  x  0),
    0, and ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)  1  x),
    three sub-expressions. The evaluation of this expression proceeds in two steps:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ª [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    è¡¨è¾¾å¼åŒ…å« ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    x 0), 0, å’Œ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)
    1 x)ï¼Œä¸‰ä¸ªå­è¡¨è¾¾å¼ã€‚è¿™ä¸ªè¡¨è¾¾å¼çš„è¯„ä¼°åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š
- en: The first expression is always evaluated. Its result must be a Boolean.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼å§‹ç»ˆä¼šè¢«è¯„ä¼°ã€‚å®ƒçš„ç»“æœå¿…é¡»æ˜¯å¸ƒå°”å€¼ã€‚
- en: 'If the result of the first expression is #true, then the second expression
    is evaluated; otherwise the third one is. Whatever their results are, they are
    also the result of the entire [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    expression.'
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'å¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœæ˜¯ #trueï¼Œåˆ™è¯„ä¼°ç¬¬äºŒä¸ªè¡¨è¾¾å¼ï¼›å¦åˆ™è¯„ä¼°ç¬¬ä¸‰ä¸ªã€‚æ— è®ºå®ƒä»¬çš„æœ€ç»ˆç»“æœå¦‚ä½•ï¼Œå®ƒä»¬ä¹Ÿæ˜¯æ•´ä¸ª [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    è¡¨è¾¾å¼çš„ç»“æœã€‚'
- en: Right-click on the result and choose a different representation.
  id: totrans-273
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å³é”®å•å‡»ç»“æœå¹¶é€‰æ‹©ä¸åŒçš„è¡¨ç¤ºæ–¹å¼ã€‚
- en: 'Given the definition of x above, you can experiment with [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    expressions in the interactions area:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®ä¸Šé¢ x çš„å®šä¹‰ï¼Œä½ å¯ä»¥åœ¨äº¤äº’åŒºåŸŸå°è¯• [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    è¡¨è¾¾å¼ï¼š
- en: '| > ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
    |'
  id: totrans-275
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
    |'
- en: '| 0.5 |'
  id: totrans-276
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0.5 |'
- en: 'Using the laws of arithmetic, you can figure out the result yourself:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ç®—æœ¯å®šå¾‹ï¼Œä½ å¯ä»¥è‡ªå·±è®¡ç®—å‡ºç»“æœï¼š
- en: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
    |'
  id: totrans-278
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
    |'
- en: '| ==Â ;Â because x stands for 2 |'
  id: totrans-279
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â å› ä¸º x ä»£è¡¨ 2 |'
- en: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â 2Â 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â 2))
    |'
  id: totrans-280
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â 2Â 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â 2))
    |'
- en: '| ==Â ;Â 2 is not equal to 0, ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)  2  0)
    is #false |'
  id: totrans-281
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â 2 ä¸ç­‰äº 0ï¼Œ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)  2  0)
    æ˜¯ #false |'
- en: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â #falseÂ 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â 2))
    |'
  id: totrans-282
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â #falseÂ 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â 2))
    |'
- en: '| == |'
  id: totrans-283
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â 2)
    |'
  id: totrans-284
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â 2)
    |'
- en: '| ==Â ;Â normalize this to its decimal representation |'
  id: totrans-285
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â å°†æ­¤è½¬æ¢ä¸ºåè¿›åˆ¶è¡¨ç¤ºå½¢å¼ |'
- en: '| 0.5 |'
  id: totrans-286
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0.5 |'
- en: 'In other words, DrRacket knows that x stands for 2 and that the latter is not
    equal to 0. Hence, ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)  x  0)
    produces the result #false, meaning [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    picks its third sub-expression to be evaluated.Stop! Imagine you edit the definition
    so that it looks like this:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 'æ¢å¥è¯è¯´ï¼ŒDrRacket çŸ¥é“ x ä»£è¡¨ 2ï¼Œå¹¶ä¸”åè€…ä¸ç­‰äº 0ã€‚å› æ­¤ï¼Œ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    x  0) çš„ç»“æœæ˜¯ #falseï¼Œè¿™æ„å‘³ç€ [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    ä¼šé€‰æ‹©å…¶ç¬¬ä¸‰ä¸ªå­è¡¨è¾¾å¼è¿›è¡Œè¯„ä¼°ã€‚åœæ­¢ï¼æƒ³è±¡ä¸€ä¸‹ä½ ç¼–è¾‘å®šä¹‰ï¼Œä½¿å…¶çœ‹èµ·æ¥åƒè¿™æ ·ï¼š'
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 0)
  id: totrans-288
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 0)
- en: What do you think
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ è®¤ä¸º
- en: ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
  id: totrans-290
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ 0)Â 0Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 1Â x))
- en: evaluates to in this context? Why? Show your calculation.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ç­‰äºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿè¯·å±•ç¤ºä½ çš„è®¡ç®—è¿‡ç¨‹ã€‚
- en: 'In addition to [=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29),
    BSL provides a host of other comparison primitives. Explain what the following
    four comparison primitives determine about numbers: [<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29),
    [<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29),
    [>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29),
    [>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29).'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº† [=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    ä¹‹å¤–ï¼ŒBSL è¿˜æä¾›äº†ä¸€ç³»åˆ—å…¶ä»–æ¯”è¾ƒåŸè¯­ã€‚è§£é‡Šä»¥ä¸‹å››ä¸ªæ¯”è¾ƒåŸè¯­å…³äºæ•°å­—çš„ç¡®å®šå†…å®¹ï¼š[<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29),
    [<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29),
    [>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29),
    [>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)ã€‚
- en: Strings arenâ€™t compared with [=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    and its relatives. Instead, you must use [string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    or [string<=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3c~3d~3f%29%29)
    or [string>=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3e~3d~3f%29%29)
    if you ever need to compare strings. While it is obvious that [string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    checks whether the two given strings are equal, the other two primitives are open
    to interpretation. Look up their documentation. Or, experiment, guess a general
    law, and then check in the documentation whether you guessed right.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: å­—ç¬¦ä¸²ä¸ä½¿ç”¨ [=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    å’Œå…¶ç›¸å…³æ“ä½œç¬¦è¿›è¡Œæ¯”è¾ƒã€‚ç›¸åï¼Œå¦‚æœä½ éœ€è¦æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œå¿…é¡»ä½¿ç”¨ [string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    æˆ– [string<=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3c~3d~3f%29%29)
    æˆ– [string>=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3e~3d~3f%29%29)ã€‚è™½ç„¶å¾ˆæ˜æ˜¾
    [string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    æ£€æŸ¥ä¸¤ä¸ªç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä½†å…¶ä»–ä¸¤ä¸ªåŸè¯­åˆ™å¯ä»¥è‡ªç”±è§£é‡Šã€‚æŸ¥é˜…å®ƒä»¬çš„æ–‡æ¡£ã€‚æˆ–è€…ï¼Œè¿›è¡Œå®éªŒï¼ŒçŒœæµ‹ä¸€ä¸ªé€šç”¨è§„å¾‹ï¼Œç„¶åæ£€æŸ¥æ–‡æ¡£ä¸­ä½ çš„çŒœæµ‹æ˜¯å¦æ­£ç¡®ã€‚
- en: 'You may wonder why it is ever necessary to compare strings with each other.
    So imagine a program that deals with traffic lights. It may use the strings "green",
    "yellow", and "red". This kind of program may contain a fragment such as this:'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½ä¼šæƒ³çŸ¥é“ä¸ºä»€ä¹ˆæœ‰å¿…è¦æ¯”è¾ƒå­—ç¬¦ä¸²ã€‚æ‰€ä»¥æƒ³è±¡ä¸€ä¸ªå¤„ç†äº¤é€šç¯çš„ç¨‹åºã€‚å®ƒå¯èƒ½ä½¿ç”¨å­—ç¬¦ä¸² "green"ã€"yellow" å’Œ "red"ã€‚è¿™ç±»ç¨‹åºå¯èƒ½åŒ…å«å¦‚ä¸‹ç‰‡æ®µï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â current-colorÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
  id: totrans-295
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    current-color [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
- en: The dots in the definition of current-color arenâ€™t a part of the program, of
    course. Replace them with a string that refers to a color.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œcurrent-color å®šä¹‰ä¸­çš„ç‚¹ä¸æ˜¯ç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚å°†å®ƒä»¬æ›¿æ¢ä¸ºæŒ‡å‘é¢œè‰²çš„å­—ç¬¦ä¸²ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â next-color
    |'
  id: totrans-297
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    next-color |'
- en: '| Â Â ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "green"Â current-color)Â "yellow"Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-298
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "green"Â current-color)Â "yellow"Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: It should be easy to imagine that this fragment deals with the computation that
    determines which light bulb is to be turned on next and which one should be turned
    off.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: åº”è¯¥å¾ˆå®¹æ˜“æƒ³è±¡è¿™ä¸ªç‰‡æ®µå¤„ç†çš„æ˜¯ç¡®å®šä¸‹ä¸€ä¸ªè¦æ‰“å¼€å“ªä¸ªç¯æ³¡ä»¥åŠåº”è¯¥å…³é—­å“ªä¸ªç¯æ³¡çš„è®¡ç®—ã€‚
- en: The next few chapters introduce better expressions than [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    to express conditional computations and, most importantly, systematic ways for
    designing them.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥çš„å‡ ç« å°†ä»‹ç»æ¯” [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    æ›´å¥½çš„è¡¨è¾¾å¼æ¥è¡¨ç¤ºæ¡ä»¶è®¡ç®—ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œä»‹ç»è®¾è®¡å®ƒä»¬çš„ç³»ç»ŸåŒ–æ–¹æ³•ã€‚
- en: 'ExerciseÂ 8\. Add the following line to the definitions area:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  8\. å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°å®šä¹‰åŒºåŸŸï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â catÂ ![](../Images/2c441c7aba78a31d425a55678b9d4027.png))
  id: totrans-302
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â catÂ ![](../Images/2c441c7aba78a31d425a55678b9d4027.png))
- en: Create a conditional expression that computes whether the image is tall or wide.
    An image should be labeled "tall" if its height is larger than or equal to its
    width; otherwise it is "wide". See [exerciseÂ 1](#%28counter._%28exercise._arith-n%29%29)
    for how to create such expressions in DrRacket; as you experiment, replace the
    cat with a rectangle of your choice to ensure that you know the expected answer.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œè®¡ç®—å›¾åƒæ˜¯é«˜è¿˜æ˜¯å®½ã€‚å¦‚æœå›¾åƒçš„é«˜åº¦å¤§äºæˆ–ç­‰äºå…¶å®½åº¦ï¼Œåˆ™åº”æ ‡è®°ä¸ºâ€œé«˜â€ï¼›å¦åˆ™ä¸ºâ€œå®½â€ã€‚å‚è§ [ç»ƒä¹  1](#%28counter._%28exercise._arith-n%29%29)
    äº†è§£å¦‚ä½•åœ¨ DrRacket ä¸­åˆ›å»ºæ­¤ç±»è¡¨è¾¾å¼ï¼›åœ¨å®éªŒè¿‡ç¨‹ä¸­ï¼Œå°†çŒ«æ›¿æ¢ä¸ºä½ é€‰æ‹©çš„çŸ©å½¢ï¼Œä»¥ç¡®ä¿ä½ çŸ¥é“é¢„æœŸçš„ç­”æ¡ˆã€‚
- en: Now try the following modification. Create an expression that computes whether
    a picture is "tall", "wide", or "square".
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å°è¯•ä»¥ä¸‹ä¿®æ”¹ã€‚åˆ›å»ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè®¡ç®—å›¾ç‰‡æ˜¯â€œé«˜â€ã€â€œå®½â€è¿˜æ˜¯â€œæ­£æ–¹å½¢â€ã€‚
- en: '1.7Predicates: Know Thy Data[ğŸ”—](#(part._sec~3apredicates) "Link to here")'
  id: totrans-305
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1.7 æ–­è¨€ï¼šäº†è§£ä½ çš„æ•°æ®[ğŸ”—](#(part._sec~3apredicates) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Remember the expression ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)  42)
    and its result. Actually, the expression doesnâ€™t have a result, it signals an
    error. DrRacket lets you know about errors via red text in the interactions area
    and highlighting of the faulty expression (in the definitions area). This way
    of marking errors is particularly helpful when you use this expression (or its
    relatives) deeply nested within some other expression:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½è¡¨è¾¾å¼ ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)  42)
    åŠå…¶ç»“æœã€‚å®é™…ä¸Šï¼Œè¯¥è¡¨è¾¾å¼æ²¡æœ‰ç»“æœï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªé”™è¯¯ã€‚DrRacket é€šè¿‡äº¤äº’åŒºåŸŸä¸­çš„çº¢è‰²æ–‡æœ¬å’Œé«˜äº®æ˜¾ç¤ºæœ‰è¯¯çš„è¡¨è¾¾å¼ï¼ˆåœ¨å®šä¹‰åŒºåŸŸï¼‰æ¥é€šçŸ¥ä½ é”™è¯¯ã€‚è¿™ç§æ–¹å¼æ ‡è®°é”™è¯¯åœ¨ä½ å°†æ­¤è¡¨è¾¾å¼ï¼ˆæˆ–å…¶ç›¸å…³è¡¨è¾¾å¼ï¼‰æ·±åº¦åµŒå¥—åœ¨å…¶ä»–è¡¨è¾¾å¼æ—¶å°¤å…¶æœ‰ç”¨ï¼š
- en: ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â 42)Â 1)Â [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29))
  id: totrans-307
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â 42)Â 1)Â [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29))
- en: 'Experiment with this expression by entering it both into DrRacketâ€™s interactions
    area and in the definitions area (and then click on RUN).Of course, you really
    donâ€™t want such error-signaling expressions in your program. And usually, you
    donâ€™t make such obvious mistakes as using 42 as a string. It is quite common,
    however, that programs deal with variables that may stand for either a number
    or a string:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡åœ¨DrRacketçš„äº¤äº’åŒºåŸŸå’Œå®šä¹‰åŒºåŸŸï¼ˆç„¶åç‚¹å‡»è¿è¡Œï¼‰ä¸­è¾“å…¥æ­¤è¡¨è¾¾å¼æ¥æµ‹è¯•è¿™ä¸ªè¡¨è¾¾å¼ã€‚å½“ç„¶ï¼Œä½ çœŸçš„ä¸å¸Œæœ›ä½ çš„ç¨‹åºä¸­æœ‰è¿™æ ·çš„é”™è¯¯æç¤ºè¡¨è¾¾å¼ã€‚å½“ç„¶ï¼Œä½ é€šå¸¸ä¸ä¼šçŠ¯å¦‚æ­¤æ˜æ˜¾çš„é”™è¯¯ï¼Œæ¯”å¦‚å°†42ç”¨ä½œå­—ç¬¦ä¸²ã€‚ç„¶è€Œï¼Œç¨‹åºå¤„ç†å¯èƒ½ä»£è¡¨æ•°å­—æˆ–å­—ç¬¦ä¸²çš„å˜é‡çš„æƒ…å†µç›¸å½“æ™®éï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-309
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-310
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â in)
    |'
  id: totrans-311
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â in)
    |'
- en: 'A variable such as in can be a placeholder for any value, including a number,
    and this value then shows up in the [string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)
    expression.One way to prevent such accidents is to use a predicate, which is a
    function that consumes a value and determines whether or not it belongs to some
    class of data. For example, the predicate [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)
    determines whether the given value is a number or not:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå¦‚inè¿™æ ·çš„å˜é‡å¯ä»¥ä»£è¡¨ä»»ä½•å€¼ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ•°å­—ï¼Œå¹¶ä¸”è¿™ä¸ªå€¼éšåä¼šå‡ºç°åœ¨[string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)è¡¨è¾¾å¼ä¸­ã€‚é˜²æ­¢æ­¤ç±»äº‹æ•…çš„ä¸€ç§æ–¹æ³•æ˜¯ç”¨è°“è¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¶ˆè€—ä¸€ä¸ªå€¼å¹¶ç¡®å®šè¯¥å€¼æ˜¯å¦å±äºæŸäº›æ•°æ®ç±»åˆ«çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œè°“è¯[number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)ç¡®å®šç»™å®šçš„å€¼æ˜¯å¦ä¸ºæ•°å­—ï¼š
- en: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â 4)
    |'
  id: totrans-313
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â 4)
    |'
- en: '| #true |'
  id: totrans-314
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29))
    |'
  id: totrans-315
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29))
    |'
- en: '| #true |'
  id: totrans-316
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â #true)
    |'
  id: totrans-317
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â #true)
    |'
- en: '| #false |'
  id: totrans-318
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â "fortytwo")
    |'
  id: totrans-319
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â "fortytwo")
    |'
- en: '| #false |'
  id: totrans-320
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: 'As you see, the predicates produce Boolean values. Hence, when predicates are
    combined with conditional expressions, programs can protect expressions from misuse:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ æ‰€è§ï¼Œè°“è¯ä¼šäº§ç”Ÿå¸ƒå°”å€¼ã€‚å› æ­¤ï¼Œå½“è°“è¯ä¸æ¡ä»¶è¡¨è¾¾å¼ç»“åˆæ—¶ï¼Œç¨‹åºå¯ä»¥ä¿æŠ¤è¡¨è¾¾å¼å…å—è¯¯ç”¨ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-322
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-323
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â in)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â in)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-324
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â in)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â in)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: Every class of data that we introduced in this chapter comes with a predicate.
    Experiment with [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29),
    [string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29),
    [image?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29),
    and [boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)
    to ensure that you understand how they work.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« ä¸­æˆ‘ä»¬ä»‹ç»çš„æ‰€æœ‰æ•°æ®ç±»å‹éƒ½é™„å¸¦äº†ä¸€ä¸ªè°“è¯ã€‚é€šè¿‡å®éªŒ [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29),
    [string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29),
    [image?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29),
    å’Œ [boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)
    æ¥ç¡®ä¿ä½ ç†è§£å®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚
- en: 'In addition to predicates that distinguish different forms of data, programming
    languages also come with predicates that distinguish different kinds of numbers.
    In BSL, numbers are classified in two ways: by construction and by their exactness.
    Construction refers to the familiar sets of numbers: [integer?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._integer~3f%29%29),
    [rational?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._rational~3f%29%29),
    [real?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._real~3f%29%29),
    and [complex?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._complex~3f%29%29),Put
    ([sqrt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)  -1)
    at the prompt in the interactions area and hit the â€œenterâ€ key. Take a close look
    at the result. The result you see is the first so-called complex number anyone
    encounters. While your teacher may have told you that one doesnâ€™t compute the
    square root of negative numbers, the truth is that mathematicians and some programmers
    find it acceptable and useful to do so anyway. But donâ€™t worry: understanding
    complex numbers is not essential to being a program designer. but many programming
    languages, including BSL, also choose to use finite approximations to well-known
    constants, which leads to somewhat surprising results with the [rational?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._rational~3f%29%29)
    predicate:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†åŒºåˆ†ä¸åŒæ•°æ®å½¢å¼çš„è°“è¯ä¹‹å¤–ï¼Œç¼–ç¨‹è¯­è¨€è¿˜é™„å¸¦äº†ä¸€äº›å¯ä»¥åŒºåˆ†ä¸åŒç±»å‹æ•°å­—çš„è°“è¯ã€‚åœ¨BSLä¸­ï¼Œæ•°å­—ä»¥ä¸¤ç§æ–¹å¼åˆ†ç±»ï¼šé€šè¿‡æ„é€ å’Œç²¾ç¡®åº¦ã€‚æ„é€ æŒ‡çš„æ˜¯ç†Ÿæ‚‰çš„æ•°å­—é›†åˆï¼š[integer?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._integer~3f%29%29)ã€[rational?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._rational~3f%29%29)ã€[real?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._real~3f%29%29)å’Œ[complex?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._complex~3f%29%29)ï¼Œåœ¨äº¤äº’åŒºåŸŸæç¤ºç¬¦ä¸­è¾“å…¥([sqrt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)
    -1)å¹¶æŒ‰â€œenterâ€é”®ã€‚ä»”ç»†è§‚å¯Ÿç»“æœã€‚ä½ æ‰€çœ‹åˆ°çš„ç»“æœæ˜¯ç¬¬ä¸€ä¸ªæ‰€è°“çš„å¤æ•°ã€‚è™½ç„¶ä½ çš„è€å¸ˆå¯èƒ½å‘Šè¯‰ä½ ä¸èƒ½è®¡ç®—è´Ÿæ•°çš„å¹³æ–¹æ ¹ï¼Œä½†äº‹å®æ˜¯ï¼Œæ•°å­¦å®¶å’Œä¸€äº›ç¨‹åºå‘˜è®¤ä¸ºè¿™æ ·åšæ˜¯å¯ä»¥æ¥å—çš„ï¼Œç”šè‡³æ˜¯æœ‰ç”¨çš„ã€‚ä½†åˆ«æ‹…å¿ƒï¼šç†è§£å¤æ•°å¯¹äºæˆä¸ºä¸€åç¨‹åºè®¾è®¡è€…å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚ä½†æ˜¯ï¼Œè®¸å¤šç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬BSLï¼Œä¹Ÿé€‰æ‹©ä½¿ç”¨æœ‰é™è¿‘ä¼¼å€¼æ¥è¡¨ç¤ºå·²çŸ¥çš„å¸¸æ•°ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›ä»¤äººæƒŠè®¶çš„ç»“æœï¼Œä¾‹å¦‚[rational?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._rational~3f%29%29)è°“è¯ï¼š
- en: '| > ([rational?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._rational~3f%29%29)Â [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29))
    |'
  id: totrans-327
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([rational?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._rational~3f%29%29)Â [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29))
    |'
- en: '| #true |'
  id: totrans-328
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: 'As for exactness, we have mentioned the idea before. For now, experiment with
    [exact?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._exact~3f%29%29)
    and [inexact?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._inexact~3f%29%29)
    to make sure they perform the checks that their names suggest. Later we are going
    to discuss the nature of numbers in some detail.ExerciseÂ 9\. Add the following
    line to the definitions area of DrRacket:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºç²¾ç¡®åº¦ï¼Œæˆ‘ä»¬ä¹‹å‰å·²ç»æåˆ°è¿‡è¿™ä¸ªæƒ³æ³•ã€‚ç°åœ¨ï¼Œå°è¯•ä½¿ç”¨[exact?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._exact~3f%29%29)å’Œ[inexact?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._inexact~3f%29%29)æ¥ç¡®ä¿å®ƒä»¬æ‰§è¡Œäº†å®ƒä»¬åå­—æ‰€æš—ç¤ºçš„æ£€æŸ¥ã€‚ç¨åæˆ‘ä»¬å°†è¯¦ç»†è®¨è®ºæ•°å­—çš„æœ¬è´¨ã€‚ç»ƒä¹ 9ï¼šå°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
  id: totrans-330
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â inÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
- en: 'Then create an expression that converts the value of in to a non-negative number.
    For a [String](#%28tech._string%29), it determines how long the [String](#%28tech._string%29)
    is; for an [Image](#%28tech._image%29), it uses the area; for a [Number](#%28tech._number%29),
    it uses the absolute value; for #true it uses 10 and for #false 20. Hint Check
    out [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    from the [Prologue: How to Program](part_prologue.html) (again).'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 'ç„¶ååˆ›å»ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå°† in çš„å€¼è½¬æ¢ä¸ºéè´Ÿæ•°ã€‚å¯¹äº [String](#%28tech._string%29)ï¼Œå®ƒç¡®å®š [String](#%28tech._string%29)
    çš„é•¿åº¦ï¼›å¯¹äº [Image](#%28tech._image%29)ï¼Œå®ƒä½¿ç”¨é¢ç§¯ï¼›å¯¹äº [Number](#%28tech._number%29)ï¼Œå®ƒä½¿ç”¨ç»å¯¹å€¼ï¼›å¯¹äº
    #true ä½¿ç”¨ 10ï¼Œå¯¹äº #false ä½¿ç”¨ 20ã€‚æç¤ºï¼šæŸ¥çœ‹ [Prologue: How to Program](part_prologue.html)
    ä¸­çš„ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)ï¼ˆå†æ¬¡ï¼‰ã€‚'
- en: See [exerciseÂ 1](#%28counter._%28exercise._arith-n%29%29) for how to create
    expressions in DrRacket.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹ [ç»ƒä¹  1](#%28counter._%28exercise._arith-n%29%29) äº†è§£å¦‚ä½•åœ¨ DrRacket ä¸­åˆ›å»ºè¡¨è¾¾å¼ã€‚
- en: ExerciseÂ 10\. Now relax, eat, sleep, and then tackle the next chapter.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  10ã€‚ç°åœ¨æ”¾æ¾ï¼Œåƒé¥­ï¼Œç¡è§‰ï¼Œç„¶åå¤„ç†ä¸‹ä¸€ç« ã€‚
- en: 2Functions and Programs[ğŸ”—](#(part._ch~3afuncs-progs) "Link to here")
  id: totrans-334
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2å‡½æ•°å’Œç¨‹åº[ğŸ”—](#(part._ch~3afuncs-progs) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: As far as programming is concerned, â€œarithmeticâ€ is half the game; the other
    half is â€œalgebra.â€ Of course, â€œalgebraâ€ relates to the school notion of algebra
    as little/much as the notion of â€œarithmeticâ€ from the preceding chapter relates
    to arithmetic taught in grade-school arithmetic. Specifically, the algebra notions
    needed are variable, function definition, function application, and function composition.
    This chapter reacquaints you with these notions in a fun and accessible manner.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: å°±ç¼–ç¨‹è€Œè¨€ï¼Œâ€œç®—æœ¯â€åªæ˜¯æ¸¸æˆçš„ä¸€åŠï¼›å¦ä¸€åŠæ˜¯â€œä»£æ•°â€ã€‚å½“ç„¶ï¼Œâ€œä»£æ•°â€ä¸å­¦æ ¡ä¸­çš„ä»£æ•°æ¦‚å¿µçš„å…³ç³»ï¼Œå°±åƒå‰ä¸€ç« ä¸­â€œç®—æœ¯â€çš„æ¦‚å¿µä¸å°å­¦ç®—æœ¯æ•™å­¦çš„å…³ç³»ä¸€æ ·å°/å¤§ã€‚å…·ä½“æ¥è¯´ï¼Œæ‰€éœ€çš„ä»£æ•°æ¦‚å¿µæ˜¯å˜é‡ã€å‡½æ•°å®šä¹‰ã€å‡½æ•°åº”ç”¨å’Œå‡½æ•°ç»„åˆã€‚æœ¬ç« ä»¥æœ‰è¶£å’Œæ˜“äºç†è§£çš„æ–¹å¼ä½¿æ‚¨é‡æ–°ç†Ÿæ‚‰è¿™äº›æ¦‚å¿µã€‚
- en: 2.1Functions[ğŸ”—](#(part._sec~3afuncs) "Link to here")
  id: totrans-336
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.1å‡½æ•°[ğŸ”—](#(part._sec~3afuncs) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: 'Programs are functions. Like functions, programs consume inputs and produce
    outputs. Unlike the functions you may know, programs work with a variety of data:
    numbers, strings, images, mixtures of all these, and so on. Furthermore, programs
    are triggered by events in the real world, and the outputs of programs affect
    the real world. For example, a spreadsheet program may react to an accountantâ€™s
    key presses by filling some cells with numbers, or the calendar program on a computer
    may launch a monthly payroll program on the last day of every month. Lastly, a
    program may not consume all of its input data at once, instead it may decide to
    process data in an incremental manner.'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: ç¨‹åºæ˜¯å‡½æ•°ã€‚åƒå‡½æ•°ä¸€æ ·ï¼Œç¨‹åºæ¶ˆè€—è¾“å…¥å¹¶äº§ç”Ÿè¾“å‡ºã€‚ä¸æ‚¨å¯èƒ½çŸ¥é“çš„å‡½æ•°ä¸åŒï¼Œç¨‹åºå¯ä»¥å¤„ç†å„ç§æ•°æ®ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€å›¾åƒã€æ‰€æœ‰è¿™äº›çš„ç»„åˆç­‰ç­‰ã€‚æ­¤å¤–ï¼Œç¨‹åºç”±ç°å®ä¸–ç•Œä¸­çš„äº‹ä»¶è§¦å‘ï¼Œç¨‹åºçš„è¾“å‡ºä¼šå½±å“ç°å®ä¸–ç•Œã€‚ä¾‹å¦‚ï¼Œç”µå­è¡¨æ ¼ç¨‹åºå¯èƒ½ä¼šé€šè¿‡å¡«å……ä¸€äº›å•å…ƒæ ¼ä¸­çš„æ•°å­—æ¥å“åº”ä¼šè®¡çš„æŒ‰é”®ï¼Œæˆ–è€…è®¡ç®—æœºä¸Šçš„æ—¥å†ç¨‹åºå¯èƒ½ä¼šåœ¨æ¯æœˆçš„æœ€åä¸€å¤©å¯åŠ¨æœˆåº¦å·¥èµ„ç¨‹åºã€‚æœ€åï¼Œç¨‹åºå¯èƒ½ä¸ä¼šä¸€æ¬¡æ€§æ¶ˆè€—æ‰€æœ‰è¾“å…¥æ•°æ®ï¼Œè€Œæ˜¯å¯èƒ½å†³å®šä»¥å¢é‡æ–¹å¼å¤„ç†æ•°æ®ã€‚
- en: 'Definitions While many programming languages obscure the relationship between
    programs and functions, BSL brings it to the fore. Every BSL program consists
    of several definitions, usually followed by an expression that involves those
    definitions. There are two kinds of definitions:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰è™½ç„¶è®¸å¤šç¼–ç¨‹è¯­è¨€æ¨¡ç³Šäº†ç¨‹åºä¸å‡½æ•°ä¹‹é—´çš„å…³ç³»ï¼Œä½† BSL å°†å…¶ç½®äºçªå‡ºä½ç½®ã€‚æ¯ä¸ª BSL ç¨‹åºéƒ½ç”±å‡ ä¸ªå®šä¹‰ç»„æˆï¼Œé€šå¸¸åé¢è·Ÿç€æ¶‰åŠè¿™äº›å®šä¹‰çš„è¡¨è¾¾å¼ã€‚æœ‰ä¸¤ç§ç±»å‹çš„å®šä¹‰ï¼š
- en: constant definitions, of the shape ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  Variable  Expression),
    which we encountered in the preceding chapter; and
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¸¸é‡å®šä¹‰ï¼Œå½¢çŠ¶ä¸º ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  Variable  Expression)ï¼Œæˆ‘ä»¬åœ¨å‰ä¸€ç« ä¸­é‡åˆ°äº†ï¼›ä»¥åŠ
- en: function definitions, which come in many flavors, one of which we used in the
    Prologue.
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‡½æ•°å®šä¹‰ï¼Œæœ‰å¤šç§å½¢å¼ï¼Œå…¶ä¸­ä¹‹ä¸€æˆ‘ä»¬åœ¨åºè¨€ä¸­ä½¿ç”¨äº†ã€‚
- en: 'Like expressions, function definitions in BSL come in a uniform shape:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¡¨è¾¾å¼ä¸€æ ·ï¼ŒBSL ä¸­çš„å‡½æ•°å®šä¹‰å…·æœ‰ç»Ÿä¸€çš„å½¢å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (FunctionNameÂ VariableÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â Variable)
    |'
  id: totrans-342
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (FunctionNameÂ VariableÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â Variable)
    |'
- en: '| Â Â Expression) |'
  id: totrans-343
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  Expression) |'
- en: That is, to define a function, we write down
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: å³ï¼Œè¦å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å†™ä¸‹
- en: â€œ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (â€,
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (â€,
- en: the name of the function,
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‡½æ•°çš„åå­—ï¼Œ
- en: followed by several variables, separated by space and ending in â€œ)â€,
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åé¢è·Ÿç€å‡ ä¸ªå˜é‡ï¼Œç”±ç©ºæ ¼åˆ†éš”ï¼Œå¹¶ä»¥â€œ)â€ç»“å°¾ï¼Œ
- en: and an expression followed by â€œ)â€.
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»¥åŠä¸€ä¸ªåé¢è·Ÿç€â€œ)â€çš„è¡¨è¾¾å¼ã€‚
- en: 'And that is all there is to it. Here are some small examples:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯å…¨éƒ¨å†…å®¹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å°ä¾‹å­ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (f  x)  1)
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (f  x)  1)
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (g  x  y)  ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1))
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (g  x  y)  ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1))
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (h  x  y  z)  ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)  2  2)  3))
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (h  x  y  z)  ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)  2  2)  3))
- en: Before we explain why these examples are silly, we need to explain what function
    definitions mean. Roughly speaking, a function definition introduces a new operation
    on data; put differently, it adds an operation to our vocabulary if we think of
    the primitive operations as the ones that are always available. Like a primitive
    function, a defined function consumes inputs. The number of variables determines
    how many inputsâ€”<wbr>also called arguments or parametersâ€”<wbr>a function consumes.
    Thus, f is a one-argument function, sometimes called a unary function. In contrast,
    g is a two-argument function, also dubbed binary, and h is a ternary or three-argument
    function. The expressionâ€”<wbr>often referred to as the function bodyâ€”<wbr>determines
    the output.
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬è§£é‡Šä¸ºä»€ä¹ˆè¿™äº›ä¾‹å­å¾ˆæ„šè ¢ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è§£é‡Šå‡½æ•°å®šä¹‰çš„å«ä¹‰ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå‡½æ•°å®šä¹‰å¼•å…¥äº†æ•°æ®ä¸Šçš„æ–°æ“ä½œï¼›æ¢å¥è¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æŠŠåŸå§‹æ“ä½œçœ‹ä½œæ˜¯å§‹ç»ˆå¯ç”¨çš„æ“ä½œï¼Œé‚£ä¹ˆå®ƒå°±ä¸ºæˆ‘ä»¬çš„è¯æ±‡è¡¨æ·»åŠ äº†ä¸€ä¸ªæ“ä½œã€‚å°±åƒåŸå§‹å‡½æ•°ä¸€æ ·ï¼Œå®šä¹‰çš„å‡½æ•°ä¼šæ¶ˆè€—è¾“å…¥ã€‚å˜é‡çš„æ•°é‡å†³å®šäº†å‡½æ•°æ¶ˆè€—å¤šå°‘è¾“å…¥â€”â€”ä¹Ÿç§°ä¸ºå‚æ•°æˆ–å‚æ•°â€”â€”ã€‚å› æ­¤ï¼Œf
    æ˜¯ä¸€ä¸ªå•å‚æ•°å‡½æ•°ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºä¸€å…ƒå‡½æ•°ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œg æ˜¯ä¸€ä¸ªåŒå‚æ•°å‡½æ•°ï¼Œä¹Ÿç§°ä¸ºäºŒå…ƒå‡½æ•°ï¼Œè€Œ h æ˜¯ä¸€ä¸ªä¸‰å…ƒæˆ–ä¸‰å‚æ•°å‡½æ•°ã€‚è¡¨è¾¾å¼â€”â€”é€šå¸¸ç§°ä¸ºå‡½æ•°ä½“â€”â€”å†³å®šäº†è¾“å‡ºã€‚
- en: The examples are silly because the expressions inside the functions do not involve
    the variables. Since variables are about inputs, not mentioning them in the expressions
    means that the functionâ€™s output is independent of its input and therefore always
    the same. We donâ€™t need to write functions or programs if the output is always
    the same.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›ä¾‹å­å¾ˆæ„šè ¢ï¼Œå› ä¸ºå‡½æ•°å†…çš„è¡¨è¾¾å¼æ²¡æœ‰æ¶‰åŠå˜é‡ã€‚ç”±äºå˜é‡æ˜¯å…³äºè¾“å…¥çš„ï¼Œæ‰€ä»¥åœ¨è¡¨è¾¾å¼ä¸­ä¸æåŠå…¶æ„å‘³ç€å‡½æ•°çš„è¾“å‡ºä¸è¾“å…¥æ— å…³ï¼Œå› æ­¤æ€»æ˜¯ç›¸åŒçš„ã€‚å¦‚æœè¾“å‡ºæ€»æ˜¯ç›¸åŒçš„ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦ç¼–å†™å‡½æ•°æˆ–ç¨‹åºã€‚
- en: Variables arenâ€™t data; they represent data. For example, a constant definition
    such as
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: å˜é‡ä¸æ˜¯æ•°æ®ï¼›å®ƒä»¬ä»£è¡¨æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¸¸é‡å®šä¹‰ï¼Œå¦‚
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 3)
  id: totrans-356
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â xÂ 3)
- en: 'says that x always stands for 3. The variables in a function header, that is,
    the variables that follow the function name, are placeholders for unknown pieces
    of data, the inputs of the function. Mentioning a variable in the function body
    is the way to use these pieces of data when the function is applied and the values
    of the variables become known.Consider the following fragment, a stub function
    definition:'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: è¡¨ç¤º x æ€»æ˜¯ä»£è¡¨ 3ã€‚å‡½æ•°å¤´éƒ¨çš„å˜é‡ï¼Œå³è·Ÿéšå‡½æ•°åçš„å˜é‡ï¼Œæ˜¯æœªçŸ¥æ•°æ®ç‰‡æ®µçš„å ä½ç¬¦ï¼Œæ˜¯å‡½æ•°çš„è¾“å…¥ã€‚åœ¨å‡½æ•°ä½“ä¸­æåŠå˜é‡æ˜¯å½“å‡½æ•°è¢«åº”ç”¨æ—¶ä½¿ç”¨è¿™äº›æ•°æ®ç‰‡æ®µçš„æ–¹å¼ï¼Œæ­¤æ—¶å˜é‡çš„å€¼å˜å¾—å·²çŸ¥ã€‚è€ƒè™‘ä»¥ä¸‹ç‰‡æ®µï¼Œä¸€ä¸ªå‡½æ•°å®šä¹‰çš„å ä½ç¬¦ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ffÂ a)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
  id: totrans-358
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ffÂ a)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
- en: (ff  a) is the function header. It means ff consumes one piece of input, and
    the variable a is a placeholder for this input. Of course, at the time we define
    a function, we donâ€™t know what its input(s) will be. Indeed, the whole point of
    defining a function is that we can use the function many times on many different
    inputs.Useful function bodies refer to the function parameters. A reference to
    a function parameter is really a reference to the piece of data that is the input
    to the function. If we complete the definition of ff like this
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: (ff  a) æ˜¯å‡½æ•°å¤´ã€‚è¿™æ„å‘³ç€ ff æ¶ˆè€—ä¸€ä¸ªè¾“å…¥é¡¹ï¼Œå˜é‡ a æ˜¯è¿™ä¸ªè¾“å…¥é¡¹çš„å ä½ç¬¦ã€‚å½“ç„¶ï¼Œåœ¨æˆ‘ä»¬å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸çŸ¥é“å®ƒçš„è¾“å…¥ï¼ˆä»¬ï¼‰ä¼šæ˜¯ä»€ä¹ˆã€‚å®é™…ä¸Šï¼Œå®šä¹‰å‡½æ•°çš„æ•´ä¸ªç›®çš„å°±æ˜¯æˆ‘ä»¬å¯ä»¥å¤šæ¬¡ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶åœ¨è®¸å¤šä¸åŒçš„è¾“å…¥ä¸Šä½¿ç”¨å®ƒã€‚æœ‰ç”¨çš„å‡½æ•°ä½“å¼•ç”¨å‡½æ•°å‚æ•°ã€‚å¯¹å‡½æ•°å‚æ•°çš„å¼•ç”¨å®é™…ä¸Šæ˜¯å¯¹å‡½æ•°è¾“å…¥æ•°æ®çš„å¼•ç”¨ã€‚å¦‚æœæˆ‘ä»¬åƒè¿™æ ·å®Œæˆ
    ff çš„å®šä¹‰
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ffÂ a)
    |'
  id: totrans-360
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ffÂ a)
    |'
- en: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â a))
    |'
  id: totrans-361
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â a))
    |'
- en: we are saying that the output of a function is ten times its input. Presumably
    this function is going to be supplied with numbers as inputs because it makes
    no sense to multiply images or Boolean values or strings by 10.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ˜¯åœ¨è¯´å‡½æ•°çš„è¾“å‡ºæ˜¯è¾“å…¥çš„åå€ã€‚å‡è®¾è¿™ä¸ªå‡½æ•°å°†æ¥å—æ•°å­—ä½œä¸ºè¾“å…¥ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ„ä¹‰å°†å›¾åƒæˆ–å¸ƒå°”å€¼æˆ–å­—ç¬¦ä¸²ä¹˜ä»¥ 10ã€‚
- en: For now, the only remaining question is how a function obtains its inputs. And
    to this end, we turn to the notion of applying a function.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰ï¼Œå”¯ä¸€å‰©ä¸‹çš„é—®é¢˜æ˜¯å‡½æ•°å¦‚ä½•è·å–å…¶è¾“å…¥ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è½¬å‘åº”ç”¨å‡½æ•°çš„æ¦‚å¿µã€‚
- en: 'Applications A function application puts [define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)d
    functions to work, and it looks just like the applications of a pre-defined operation:'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°åº”ç”¨ å‡½æ•°åº”ç”¨ä½¿ [define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)d
    å‡½æ•°å‘æŒ¥ä½œç”¨ï¼Œå®ƒçœ‹èµ·æ¥å°±åƒé¢„å®šä¹‰æ“ä½œçš„è¿ç”¨ï¼š
- en: write â€œ(â€,
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ â€œ(â€ï¼Œ
- en: write down the name of a defined function f,
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹å·²å®šä¹‰å‡½æ•° f çš„åç§°ï¼Œ
- en: write down as many arguments as f consumes, separated by space,
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹ f éœ€è¦çš„å‚æ•°æ•°é‡ï¼Œå‚æ•°ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ï¼Œ
- en: and add â€œ)â€ at the end.
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¹¶åœ¨æœ«å°¾æ·»åŠ  â€œ)â€ã€‚
- en: 'With this bit of explanation, you can now experiment with functions in the
    interactions area just as we suggested you experiment with primitives to find
    out what they compute. The following three experiments, for example, confirm that
    f from above produces the same value no matter what input it is applied to:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡è¿™æ®µè§£é‡Šï¼Œä½ ç°åœ¨å¯ä»¥åœ¨äº¤äº’åŒºåŸŸåƒæˆ‘ä»¬å»ºè®®çš„é‚£æ ·å®éªŒå‡½æ•°ï¼Œå°±åƒæˆ‘ä»¬å»ºè®®ä½ å®éªŒåŸå§‹æ“ä½œæ¥æ‰¾å‡ºå®ƒä»¬è®¡ç®—çš„ç»“æœä¸€æ ·ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä¸‰ä¸ªå®éªŒè¯å®äº†ä¸Šé¢çš„ f æ— è®ºåº”ç”¨äºä»€ä¹ˆè¾“å…¥éƒ½ä¼šäº§ç”Ÿç›¸åŒçš„å€¼ï¼š
- en: '| > (fÂ 1) |'
  id: totrans-370
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (fÂ 1) |'
- en: '| 1 |'
  id: totrans-371
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 1 |'
- en: '| > (fÂ "hello world") |'
  id: totrans-372
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (fÂ "hello world") |'
- en: '| 1 |'
  id: totrans-373
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 1 |'
- en: '| > (fÂ #true) |'
  id: totrans-374
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (fÂ #true) |'
- en: '| 1 |'
  id: totrans-375
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 1 |'
- en: 'What does (f  ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)  3  "solid"  "red"))
    yield?Remember to add ([require](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._require%29%29)  2htdp/image)
    to the definitions area.See, even images as inputs donâ€™t change fâ€™s behavior.
    But here is what happens when the function is applied to too few or too many arguments:'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: (f  ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)  3  "solid"  "red"))
    ä¼šäº§ç”Ÿä»€ä¹ˆç»“æœï¼Ÿè¯·è®°ä½åœ¨å®šä¹‰åŒºåŸŸæ·»åŠ  ([require](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._require%29%29)  2htdp/image)ã€‚çœ‹ï¼Œå³ä½¿æ˜¯å›¾åƒä½œä¸ºè¾“å…¥ä¹Ÿä¸ä¼šæ”¹å˜
    f çš„è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œå½“å‡½æ•°åº”ç”¨äºå‚æ•°è¿‡å°‘æˆ–è¿‡å¤šæ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š
- en: '| > (f) |'
  id: totrans-377
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (f) |'
- en: '| f:expects 1 argument, found none |'
  id: totrans-378
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| f:æœŸæœ› 1 ä¸ªå‚æ•°ï¼Œæ‰¾åˆ° 0 ä¸ª |'
- en: '| > (fÂ 1Â 2Â 3Â 4Â 5) |'
  id: totrans-379
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (fÂ 1Â 2Â 3Â 4Â 5) |'
- en: '| f:expects only 1 argument, found 5 |'
  id: totrans-380
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| f:æœŸæœ›åªæœ‰ 1 ä¸ªå‚æ•°ï¼Œæ‰¾åˆ° 5 |'
- en: 'DrRacket signals an error that is just like those you see when you apply a
    primitive to the wrong number of arguments:'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: DrRacket ä¼šå‘å‡ºä¸€ä¸ªé”™è¯¯ä¿¡å·ï¼Œå°±åƒä½ å°†åŸå§‹æ“ä½œåº”ç”¨äºé”™è¯¯æ•°é‡çš„å‚æ•°æ—¶çœ‹åˆ°çš„é”™è¯¯ä¸€æ ·ï¼š
- en: '| > ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29))
    |'
  id: totrans-382
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29))
    |'
- en: '| +:expects at least 2 arguments, found none |'
  id: totrans-383
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| +:æœŸæœ›è‡³å°‘ 2 ä¸ªå‚æ•°ï¼Œä½†æœªæ‰¾åˆ° |'
- en: 'Functions donâ€™t have to be applied at the prompt in the interactions area.
    It is perfectly acceptable to use function applications nested within other function
    applications:'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°ä¸å¿…åœ¨äº¤äº’åŒºåŸŸä¸­çš„æç¤ºç¬¦ä¸‹åº”ç”¨ã€‚ä½¿ç”¨åµŒå¥—åœ¨å…¶ä»–å‡½æ•°åº”ç”¨ä¸­çš„å‡½æ•°åº”ç”¨æ˜¯å®Œå…¨å¯æ¥å—çš„ï¼š
- en: '| > ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2)
    |'
  id: totrans-385
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2)
    |'
- en: '| 32 |'
  id: totrans-386
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 32 |'
- en: '| > ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â (ffÂ 4)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
  id: totrans-387
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â (ffÂ 4)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
- en: '| 1280 |'
  id: totrans-388
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 1280 |'
- en: '| > (ffÂ (ffÂ 1)) |'
  id: totrans-389
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (ffÂ (ffÂ 1)) |'
- en: '| 100 |'
  id: totrans-390
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 100 |'
- en: ExerciseÂ 11\. Define a function that consumes two numbers, x and y, and that
    computes the distance of point (x,y) to the origin.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  11\. å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸¤ä¸ªæ•°å­— x å’Œ yï¼Œå¹¶è®¡ç®—ç‚¹ (x,y) åˆ°åŸç‚¹çš„è·ç¦»ã€‚
- en: In [exerciseÂ 1](#%28counter._%28exercise._arith-n%29%29) you developed the right-hand
    side of this function for concrete values of x and y. Now add a header.
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ [ç»ƒä¹  1](#%28counter._%28exercise._arith-n%29%29) ä¸­ï¼Œä½ ä¸º x å’Œ y çš„å…·ä½“å€¼å¼€å‘äº†è¯¥å‡½æ•°çš„å³ä¾§ã€‚ç°åœ¨æ·»åŠ ä¸€ä¸ªæ ‡é¢˜ã€‚
- en: ExerciseÂ 12\. Define the function cvolume, which accepts the length of a side
    of an equilateral cube and computes its volume. If you have time, consider defining
    csurface, too.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  12\. å®šä¹‰å‡½æ•° cvolumeï¼Œå®ƒæ¥å—ç­‰è¾¹ç«‹æ–¹ä½“çš„ä¸€è¾¹é•¿åº¦ï¼Œå¹¶è®¡ç®—å…¶ä½“ç§¯ã€‚å¦‚æœæœ‰æ—¶é—´ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘å®šä¹‰ csurfaceã€‚
- en: Hint An equilateral cube is a three-dimensional container bounded by six squares.
    You can determine the surface of a cube if you know that the squareâ€™s area is
    its length multiplied by itself. Its volume is the length multiplied with the
    area of one of its squares. (Why?)
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šä¸€ä¸ªç­‰è¾¹ç«‹æ–¹ä½“æ˜¯ä¸€ä¸ªç”±å…­ä¸ªæ­£æ–¹å½¢å›´æˆçš„ä¸‰ç»´å®¹å™¨ã€‚å¦‚æœä½ çŸ¥é“æ­£æ–¹å½¢çš„é¢ç§¯æ˜¯å…¶è¾¹é•¿çš„å¹³æ–¹ï¼Œä½ å¯ä»¥ç¡®å®šç«‹æ–¹ä½“çš„è¡¨é¢ç§¯ã€‚å…¶ä½“ç§¯æ˜¯è¾¹é•¿ä¹˜ä»¥å…¶ä¸­ä¸€ä¸ªæ­£æ–¹å½¢çš„é¢ç§¯ã€‚ï¼ˆä¸ºä»€ä¹ˆï¼Ÿï¼‰
- en: ExerciseÂ 13\. Define the function string-first, which extracts the first [1String](#%28tech._1string%29)
    from a non-empty string.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  13\. å®šä¹‰å‡½æ•° string-firstï¼Œå®ƒä»ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ä¸­æå–ç¬¬ä¸€ä¸ª [1String](#%28tech._1string%29)ã€‚
- en: ExerciseÂ 14\. Define the function string-last, which extracts the last [1String](#%28tech._1string%29)
    from a non-empty string.
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  14\. å®šä¹‰å‡½æ•° string-lastï¼Œå®ƒä»ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ä¸­æå–æœ€åä¸€ä¸ª [1String](#%28tech._1string%29)ã€‚
- en: 'ExerciseÂ 15\. Define ==>. The function consumes two Boolean values, call them
    sunny and friday. Its answer is #true if sunny is false or friday is true. Note
    Logicians call this Boolean operation implication, and they use the notation sunny
    => friday for this purpose.'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 'ç»ƒä¹  15\. å®šä¹‰ ==>. å‡½æ•°æ¥å—ä¸¤ä¸ªå¸ƒå°”å€¼ï¼Œç§°ä¸º sunny å’Œ fridayã€‚å¦‚æœ sunny ä¸ºå‡æˆ– friday ä¸ºçœŸï¼Œåˆ™å…¶ç­”æ¡ˆä¸º #trueã€‚é€»è¾‘å­¦å®¶ç§°è¿™ç§å¸ƒå°”è¿ç®—ä¸ºè•´æ¶µï¼Œå¹¶ä½¿ç”¨
    sunny => friday çš„ç¬¦å·è¡¨ç¤ºã€‚'
- en: ExerciseÂ 16\. Define the function image-area, which counts the number of pixels
    in a given image. See [exerciseÂ 6](#%28counter._%28exercise._arith-i1%29%29) for
    ideas.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  16\. å®šä¹‰å‡½æ•° image-areaï¼Œå®ƒè®¡ç®—ç»™å®šå›¾åƒä¸­çš„åƒç´ æ•°é‡ã€‚å‚è§ [ç»ƒä¹  6](#%28counter._%28exercise._arith-i1%29%29)
    è·å–çµæ„Ÿã€‚
- en: ExerciseÂ 17\. Define the function image-classify, which consumes an image and
    conditionally produces "tall" if the image is taller than wide, "wide" if it is
    wider than tall, or "square" if its width and height are the same. See [exerciseÂ 8](#%28counter._%28exercise._arith-b2%29%29)
    for ideas.
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  17\. å®šä¹‰å‡½æ•° image-classifyï¼Œå®ƒæ¥å—ä¸€ä¸ªå›¾åƒï¼Œå¹¶æ ¹æ®æ¡ä»¶äº§ç”Ÿ "tall"ï¼ˆå¦‚æœå›¾åƒæ¯”å®½é«˜ï¼‰ï¼Œ"wide"ï¼ˆå¦‚æœå›¾åƒæ¯”é«˜å®½ï¼‰ï¼Œæˆ–
    "square"ï¼ˆå¦‚æœå…¶å®½åº¦å’Œé«˜åº¦ç›¸åŒï¼‰ã€‚å‚è§ [ç»ƒä¹  8](#%28counter._%28exercise._arith-b2%29%29) è·å–çµæ„Ÿã€‚
- en: ExerciseÂ 18\. Define the function string-join, which consumes two strings and
    appends them with "_" in between. See [exerciseÂ 2](#%28counter._%28exercise._arith-s0%29%29)
    for ideas.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  18\. å®šä¹‰å‡½æ•° string-joinï¼Œå®ƒæ¥å—ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´ç”¨ "_" è¿æ¥ã€‚å‚è§ [ç»ƒä¹  2](#%28counter._%28exercise._arith-s0%29%29)
    è·å–çµæ„Ÿã€‚
- en: ExerciseÂ 19\. Define the function string-insert, which consumes a string str
    plus a number i and inserts "_" at the ith position of str. Assume i is a number
    between 0 and the length of the given string (inclusive). See [exerciseÂ 3](#%28counter._%28exercise._arith-s1%29%29)
    for ideas. Ponder how string-insert copes with "".
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  19. å®šä¹‰å‡½æ•° string-insertï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªå­—ç¬¦ä¸² str å’Œä¸€ä¸ªæ•°å­— iï¼Œå¹¶åœ¨ str çš„ç¬¬ i ä¸ªä½ç½®æ’å…¥ "_"ã€‚å‡è®¾ i æ˜¯ä¸€ä¸ªä»‹äº
    0 å’Œç»™å®šå­—ç¬¦ä¸²é•¿åº¦ï¼ˆåŒ…å«ï¼‰ä¹‹é—´çš„æ•°å­—ã€‚å‚è§ [ç»ƒä¹  3](#%28counter._%28exercise._arith-s1%29%29) è·å–æƒ³æ³•ã€‚æ€è€ƒ
    string-insert å¦‚ä½•å¤„ç† ""ã€‚
- en: ExerciseÂ 20\. Define the function string-delete, which consumes a string plus
    a number i and deletes the ith position from str. Assume i is a number between
    0 (inclusive) and the length of the given string (exclusive). See [exerciseÂ 4](#%28counter._%28exercise._arith-s2%29%29)
    for ideas. Can string-delete deal with empty strings?
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  20. å®šä¹‰å‡½æ•° string-deleteï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ•°å­— iï¼Œå¹¶ä» str ä¸­åˆ é™¤ç¬¬ i ä¸ªä½ç½®ã€‚å‡è®¾ i æ˜¯ä¸€ä¸ªä»‹äº 0ï¼ˆåŒ…å«ï¼‰å’Œç»™å®šå­—ç¬¦ä¸²é•¿åº¦ï¼ˆæ’é™¤ï¼‰ä¹‹é—´çš„æ•°å­—ã€‚å‚è§
    [ç»ƒä¹  4](#%28counter._%28exercise._arith-s2%29%29) è·å–æƒ³æ³•ã€‚string-delete èƒ½å¦å¤„ç†ç©ºå­—ç¬¦ä¸²ï¼Ÿ
- en: 2.2Computing[ğŸ”—](#(part._sec~3acomputing) "Link to here")
  id: totrans-403
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.2 è®¡ç®—[ğŸ”—](#(part._sec~3acomputing) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Function definitions and applications work in tandem. If you want to design
    programs, you must understand this collaboration because you need to imagine how
    DrRacket runs your programs and because you need to figure out what goes wrong
    when things go wrongâ€”<wbr>and they will go wrong.
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°å®šä¹‰å’Œå‡½æ•°åº”ç”¨æ˜¯ååŒå·¥ä½œçš„ã€‚å¦‚æœä½ æƒ³è®¾è®¡ç¨‹åºï¼Œä½ å¿…é¡»ç†è§£è¿™ç§åˆä½œï¼Œå› ä¸ºä½ éœ€è¦æƒ³è±¡ DrRacket å¦‚ä½•è¿è¡Œä½ çš„ç¨‹åºï¼Œå› ä¸ºä½ éœ€è¦æ‰¾å‡ºå½“äº‹æƒ…å‡ºé”™æ—¶å‡ºäº†ä»€ä¹ˆé—®é¢˜â€”â€”<wbr>è€Œä¸”å®ƒä»¬ä¼šå‡ºé”™ã€‚
- en: 'While you may have seen this idea in an algebra course, we prefer to explain
    it our way. So here we go. Evaluating a function application proceeds in three
    steps: DrRacket determines the values of the argument expressions; it checks that
    the number of arguments and the number of function parameters are the same; if
    so, DrRacket computes the value of the body of the function, with all parameters
    replaced by the corresponding argument values. This last value is the value of
    the function application. This is a mouthful, so we need examples.'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶ä½ å¯èƒ½å·²ç»åœ¨ä»£æ•°è¯¾ç¨‹ä¸­è§è¿‡è¿™ä¸ªæƒ³æ³•ï¼Œä½†æˆ‘ä»¬æ›´å–œæ¬¢ç”¨æˆ‘ä»¬çš„æ–¹å¼è§£é‡Šã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±è¿™æ ·å¼€å§‹äº†ã€‚è¯„ä¼°å‡½æ•°åº”ç”¨çš„è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šDrRacket ç¡®å®šå‚æ•°è¡¨è¾¾å¼çš„å€¼ï¼›å®ƒæ£€æŸ¥å‚æ•°çš„æ•°é‡å’Œå‡½æ•°å‚æ•°çš„æ•°é‡æ˜¯å¦ç›¸åŒï¼›å¦‚æœæ˜¯è¿™æ ·ï¼ŒDrRacket
    å°±ä¼šè®¡ç®—å‡½æ•°ä¸»ä½“çš„å€¼ï¼Œæ‰€æœ‰å‚æ•°éƒ½æ›¿æ¢ä¸ºç›¸åº”çš„å‚æ•°å€¼ã€‚è¿™ä¸ªæœ€åçš„å€¼å°±æ˜¯å‡½æ•°åº”ç”¨çš„å€¼ã€‚è¿™å¬èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€äº›ä¾‹å­ã€‚
- en: 'Here is a sample calculation for f from the previous section:'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸Šä¸€èŠ‚ä¸­ f çš„ä¸€ä¸ªç¤ºä¾‹è®¡ç®—ï¼š
- en: '| (fÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1))
    |'
  id: totrans-407
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (fÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1))
    |'
- en: '| ==Â ;Â DrRacket knows that ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |'
  id: totrans-408
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket çŸ¥é“ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |'
- en: '| (fÂ 2) |'
  id: totrans-409
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (fÂ 2) |'
- en: '| ==Â ;Â DrRacket replaced all occurrences of x with 2 |'
  id: totrans-410
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket å°†æ‰€æœ‰ x çš„å‡ºç°æ›¿æ¢ä¸º 2 |'
- en: '| 1 |'
  id: totrans-411
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 1 |'
- en: 'That last equation is weird because x does not occur in the body of f. Therefore,
    replacing the occurrences of x with 2 in the function body produces 1, which is
    the function body itself.For ff, DrRacket performs a different kind of computation:'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åé‚£ä¸ªæ–¹ç¨‹å¼å¾ˆå¥‡æ€ªï¼Œå› ä¸º x ä¸å‡ºç°åœ¨ f çš„ä¸»ä½“ä¸­ã€‚å› æ­¤ï¼Œåœ¨å‡½æ•°ä¸»ä½“ä¸­å°† x çš„æ‰€æœ‰å‡ºç°æ›¿æ¢ä¸º 2 äº§ç”Ÿ 1ï¼Œè¿™å°±æ˜¯å‡½æ•°çš„ä¸»ä½“æœ¬èº«ã€‚å¯¹äº ffï¼ŒDrRacket
    æ‰§è¡Œä¸åŒç±»å‹çš„è®¡ç®—ï¼š
- en: '| (ffÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1))
    |'
  id: totrans-413
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (ffÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 1))
    |'
- en: '| ==Â ;Â DrRacket again knows that ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |'
  id: totrans-414
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket å†æ¬¡çŸ¥é“ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1)  ==  2
    |'
- en: '| (ffÂ 2) |'
  id: totrans-415
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (ffÂ 2) |'
- en: '| ==Â ;Â DrRacket replaces a with 2 in ff''s body |'
  id: totrans-416
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket åœ¨ ff çš„ä¸»ä½“ä¸­å°† a æ›¿æ¢ä¸º 2 |'
- en: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â 2)
    |'
  id: totrans-417
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â 2)
    |'
- en: '| ==Â ;Â and from here, DrRacket uses plain arithmetic |'
  id: totrans-418
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â å¹¶ä¸”ä»è¿™é‡Œï¼ŒDrRacket ä½¿ç”¨æ™®é€šç®—æœ¯ |'
- en: '| 20 |'
  id: totrans-419
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 20 |'
- en: 'The best point is that when you combine these laws of computation with those
    of arithmetic, you can pretty much predict the outcome of any program in BSL:'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¥½çš„åœ°æ–¹æ˜¯ï¼Œå½“ä½ å°†è¿™äº›è®¡ç®—æ³•åˆ™ä¸ç®—æœ¯æ³•åˆ™ç»“åˆèµ·æ¥æ—¶ï¼Œä½ å‡ ä¹å¯ä»¥é¢„æµ‹ BSL ä¸­ä»»ä½•ç¨‹åºçš„è¾“å‡ºç»“æœï¼š
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2))Â 2)
    |'
  id: totrans-421
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2))Â 2)
    |'
- en: '| ==Â ;Â DrRacket knows that ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  2)  ==  3
    |'
  id: totrans-422
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacketçŸ¥é“([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 1Â 2)Â ç­‰äºÂ 3
    |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2)
    |'
  id: totrans-423
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2)
    |'
- en: '| ==Â ;Â DrRacket replaces a with 3 in ff''s body |'
  id: totrans-424
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacketåœ¨ffçš„ä¸»ä½“ä¸­å°†aæ›¿æ¢ä¸º3 |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â 3)Â 2)
    |'
  id: totrans-425
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â 3)Â 2)
    |'
- en: '| ==Â ;Â now DrRacket uses the laws of arithmetic |'
  id: totrans-426
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â ç°åœ¨DrRacketä½¿ç”¨ç®—æœ¯å®šå¾‹ |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 30Â 2)
    |'
  id: totrans-427
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 30Â 2)
    |'
- en: '| == |'
  id: totrans-428
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| 32 |'
  id: totrans-429
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 32 |'
- en: 'Naturally, we can reuse the result of this computation in others:'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªç„¶åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè®¡ç®—çš„æˆæœç”¨äºå…¶ä»–åœ°æ–¹ï¼š
- en: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â (ffÂ 4)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
  id: totrans-431
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â (ffÂ 4)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
- en: '| ==Â ;Â DrRacket substitutes 4 for a in ff''s body |'
  id: totrans-432
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacketåœ¨ffçš„ä¸»ä½“ä¸­å°†aæ›¿æ¢ä¸º4 |'
- en: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â 4)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
  id: totrans-433
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â 4)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
- en: '| ==Â ;Â DrRacket knows that ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)  10  4)  ==  40
    |'
  id: totrans-434
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacketçŸ¥é“([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 10Â 4)Â ç­‰äºÂ 40
    |'
- en: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 40Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
  id: totrans-435
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 40Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â (ffÂ 3)Â 2))
    |'
- en: '| ==Â ;Â now it uses the result of the above calculation |'
  id: totrans-436
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â ç°åœ¨å®ƒä½¿ç”¨ä¸Šè¿°è®¡ç®—çš„ç»“æœ |'
- en: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 40Â 32)
    |'
  id: totrans-437
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 40Â 32)
    |'
- en: '| == |'
  id: totrans-438
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| 1280Â ;Â because it is really just math |'
  id: totrans-439
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 1280Â ;Â å› ä¸ºè¿™å®é™…ä¸Šåªæ˜¯æ•°å­¦ |'
- en: In sum, DrRacket is an incredibly fast algebra student; it knows all the laws
    of arithmetic and it is great at substitution. Even better, DrRacket cannot only
    determine the value of an expression; it can also show you how it does it. That
    is, it can show you step-by-step how to solve these algebra problems that ask
    you to determine the value of an expression.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»çš„æ¥è¯´ï¼ŒDrRacket æ˜¯ä¸€ä¸ªæå…¶å‡ºè‰²çš„ä»£æ•°å­¦ç”Ÿï¼›å®ƒæŒæ¡äº†æ‰€æœ‰ç®—æœ¯å®šå¾‹ï¼Œå¹¶ä¸”æ“…é•¿ä»£æ¢ã€‚æ›´å¥½çš„æ˜¯ï¼ŒDrRacket ä¸ä»…èƒ½å¤Ÿç¡®å®šè¡¨è¾¾å¼çš„å€¼ï¼›å®ƒè¿˜å¯ä»¥å‘ä½ å±•ç¤ºå®ƒæ˜¯å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå¯ä»¥é€æ­¥å‘ä½ å±•ç¤ºå¦‚ä½•è§£å†³è¿™äº›è¦æ±‚ç¡®å®šè¡¨è¾¾å¼å€¼çš„ä»£æ•°é—®é¢˜ã€‚
- en: Take a second look at the buttons that come with DrRacket. One of them looks
    like an â€œadvance to next trackâ€ button on an audio player. If you click this button,
    the stepper window pops up and you can step through the evaluation of the program
    in the definitions area.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: å†çœ‹çœ‹ DrRacket é™„å¸¦çš„ä¸€äº›æŒ‰é’®ã€‚å…¶ä¸­ä¸€ä¸ªçœ‹èµ·æ¥åƒéŸ³é¢‘æ’­æ”¾å™¨ä¸Šçš„â€œè·³åˆ°ä¸‹ä¸€æ›²ç›®â€æŒ‰é’®ã€‚å¦‚æœä½ ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œæ­¥è¿›å™¨çª—å£å°±ä¼šå¼¹å‡ºï¼Œä½ å¯ä»¥é€æ­¥æŸ¥çœ‹å®šä¹‰åŒºåŸŸä¸­ç¨‹åºçš„è¯„ä¼°è¿‡ç¨‹ã€‚
- en: Enter the definition of ff into the definitions area. Add (ff  ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  1  1))
    at the bottom. Now click the STEP. The stepper window will show up; [figureÂ 11](#%28counter._%28figure._fig~3astepper%29%29)
    shows what it looks like in version 6.2 of the software. At this point, you can
    use the forward and backward arrows to see all the computation steps that DrRacket
    uses to determine the value of an expression. Watch how the stepper performs the
    same calculations as we do.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: å°† ff çš„å®šä¹‰è¾“å…¥åˆ°å®šä¹‰åŒºåŸŸã€‚åœ¨åº•éƒ¨æ·»åŠ  (ff ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    1 1))ã€‚ç°åœ¨ç‚¹å‡» STEPã€‚æ­¥è¿›å™¨çª—å£å°†å‡ºç°ï¼›[å›¾ 11](#%28counter._%28figure._fig~3astepper%29%29) å±•ç¤ºäº†è½¯ä»¶
    6.2 ç‰ˆæœ¬ä¸­çš„æ ·å­ã€‚åœ¨è¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨å‰åç®­å¤´æŸ¥çœ‹ DrRacket ç”¨äºç¡®å®šè¡¨è¾¾å¼å€¼çš„æ‰€æœ‰è®¡ç®—æ­¥éª¤ã€‚è§‚å¯Ÿæ­¥è¿›å™¨æ˜¯å¦‚ä½•æ‰§è¡Œä¸æˆ‘ä»¬ç›¸åŒçš„è®¡ç®—çš„ã€‚
- en: Stop! Yes, you could have used DrRacket to solve some of your algebra homework.
    Experiment with the various options that the stepper offers.
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼æ˜¯çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ DrRacket è§£å†³ä¸€äº›ä½ çš„ä»£æ•°ä½œä¸šã€‚å°è¯•æ­¥è¿›å™¨æä¾›çš„å„ç§é€‰é¡¹ã€‚
- en: '![](../Images/db2ace6bfe8e7019873c3fdda70573bf.png)'
  id: totrans-444
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](../Images/db2ace6bfe8e7019873c3fdda70573bf.png)'
- en: ''
  id: totrans-445
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 11: The DrRacket stepper'
  id: totrans-446
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 11ï¼šDrRacket æ­¥è¿›å™¨
- en: ExerciseÂ 21\. Use DrRacketâ€™s stepper to evaluate (ff  (ff  1)) step-by-step.
    Also try ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  (ff  1)  (ff  1)).
    Does DrRacketâ€™s stepper reuse the results of computations?
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  21\. ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨é€æ­¥è¯„ä¼° (ff (ff 1))ã€‚ä¹Ÿå°è¯• ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    (ff 1) (ff 1))ã€‚DrRacket çš„æ­¥è¿›å™¨ä¼šé‡ç”¨è®¡ç®—ç»“æœå—ï¼Ÿ
- en: At this point, you might think that you are back in an algebra course with all
    these computations involving uninteresting functions and numbers. Fortunately,
    this approach generalizes to all programs, including the interesting ones, in
    this book.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å¯èƒ½ä¼šè®¤ä¸ºä½ å›åˆ°äº†ä»£æ•°è¯¾ç¨‹ï¼Œæ‰€æœ‰è¿™äº›æ¶‰åŠæ— è¶£å‡½æ•°å’Œæ•°å­—çš„è®¡ç®—ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥æ¨å¹¿åˆ°æœ¬ä¹¦ä¸­çš„æ‰€æœ‰ç¨‹åºï¼ŒåŒ…æ‹¬æœ‰è¶£çš„é‚£äº›ã€‚
- en: 'Letâ€™s start by looking at functions that process strings. Recall some of the
    laws of string arithmetic:'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»æŸ¥çœ‹å¤„ç†å­—ç¬¦ä¸²çš„å‡½æ•°å¼€å§‹ã€‚å›é¡¾ä¸€ä¸‹å­—ç¬¦ä¸²ç®—æœ¯çš„ä¸€äº›å®šå¾‹ï¼š
- en: '| ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "hello"Â "
    "Â "world")Â ==Â "hello world" |'
  id: totrans-450
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    "hello" " " "world") == "hello world" |'
- en: '| ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "bye"Â ",
    "Â "world")Â ==Â "bye, world" |'
  id: totrans-451
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    "bye" ", " "world") == "bye, world" |'
- en: '| [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-452
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: 'Now suppose we define a function that creates the opening of a letter:'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å‡è®¾æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåˆ›å»ºä¿¡ä»¶å¼€å¤´çš„å‡½æ•°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (openingÂ first-nameÂ last-name)
    |'
  id: totrans-454
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (opening first-name last-name) |'
- en: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "Dear
    "Â first-nameÂ ",")) |'
  id: totrans-455
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å­—ç¬¦ä¸²è¿æ¥](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "äº²çˆ±çš„
    "Â first-nameÂ ",")) |'
- en: 'When you apply this function to two strings, you get a letter opening:'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ å°†è¿™ä¸ªå‡½æ•°åº”ç”¨äºä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œä½ å¾—åˆ°ä¸€ä¸ªä¿¡ä»¶å¼€å¤´ï¼š
- en: '| > (openingÂ "Matthew"Â "Fisler") |'
  id: totrans-457
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (openingÂ "Matthew"Â "Fisler") |'
- en: '| "Dear Matthew," |'
  id: totrans-458
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "äº²çˆ±çš„é©¬ä¿®ï¼Œ" |'
- en: 'More importantly, though, the laws of computing explain how DrRacket determines
    this result and how you can anticipate what DrRacket does:'
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´é‡è¦çš„æ˜¯ï¼Œè®¡ç®—æ³•åˆ™è§£é‡Šäº†DrRacketå¦‚ä½•ç¡®å®šè¿™ä¸ªç»“æœä»¥åŠä½ å¦‚ä½•é¢„æµ‹DrRacketçš„è¡Œä¸ºï¼š
- en: '| (openingÂ "Matthew"Â "Fisler") |'
  id: totrans-460
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (openingÂ "Matthew"Â "Fisler") |'
- en: '| ==Â Â ;Â DrRacket substitutes "Matthew" for first-name |'
  id: totrans-461
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â Â ;Â DrRacketå°†"Matthew"æ›¿æ¢ä¸ºfirst-name |'
- en: '| ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "Dear
    "Â "Matthew"Â ",") |'
  id: totrans-462
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å­—ç¬¦ä¸²è¿æ¥](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "äº²çˆ±çš„
    "Â "Matthew"Â ",") |'
- en: '| == |'
  id: totrans-463
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| "Dear Matthew," |'
  id: totrans-464
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "äº²çˆ±çš„é©¬ä¿®ï¼Œ" |'
- en: Since last-name does not occur in the definition of opening, replacing it with
    "Fisler" has no effect.
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºåœ¨openingçš„å®šä¹‰ä¸­æ²¡æœ‰å‡ºç°last-nameï¼Œå°†å…¶æ›¿æ¢ä¸º"Fisler"æ²¡æœ‰æ•ˆæœã€‚
- en: The rest of the book introduces more forms of data.Eventually you will encounter
    imperative operations, which do not combine or extract values but modify them.
    To calculate with such operations, you will need to add some laws to those of
    arithmetic and substitution. To explain operations on data, we always use laws
    like those of arithmetic in this book.
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ä¹¦å…¶ä½™éƒ¨åˆ†ä»‹ç»äº†æ›´å¤šæ•°æ®å½¢å¼ã€‚æœ€ç»ˆï¼Œä½ å°†é‡åˆ°å‘½ä»¤å¼æ“ä½œï¼Œè¿™äº›æ“ä½œä¸ç»„åˆæˆ–æå–å€¼ï¼Œè€Œæ˜¯ä¿®æ”¹å®ƒä»¬ã€‚è¦ä½¿ç”¨è¿™äº›æ“ä½œè¿›è¡Œè®¡ç®—ï¼Œä½ éœ€è¦å‘ç®—æœ¯å’Œæ›¿æ¢æ³•åˆ™ä¸­æ·»åŠ ä¸€äº›æ³•åˆ™ã€‚ä¸ºäº†è§£é‡Šæ•°æ®æ“ä½œï¼Œæˆ‘ä»¬æ€»æ˜¯ä½¿ç”¨æœ¬ä¹¦ä¸­ç±»ä¼¼ç®—æœ¯æ³•åˆ™çš„æ³•åˆ™ã€‚
- en: 'ExerciseÂ 22\. Use DrRacketâ€™s stepper on this program fragment:'
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 22. ä½¿ç”¨DrRacketçš„æ­¥è¿›å™¨è¿è¡Œè¿™ä¸ªç¨‹åºç‰‡æ®µï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-originÂ xÂ y)
    |'
  id: totrans-468
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-originÂ xÂ y)
    |'
- en: '| Â Â ([sqrt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â x)Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â y))))
    |'
  id: totrans-469
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å¹³æ–¹æ ¹](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([å¹³æ–¹](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â x)Â ([å¹³æ–¹](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â y))))
    |'
- en: '| (distance-to-originÂ 3Â 4) |'
  id: totrans-470
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (distance-to-originÂ 3Â 4) |'
- en: Does the explanation match your intuition?ExerciseÂ 23\. The first [1String](#%28tech._1string%29)
    in "hello world" is "h". How does the following function compute this result?
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šæ˜¯å¦ä¸ä½ çš„ç›´è§‰ç›¸ç¬¦ï¼Ÿç»ƒä¹ 23. "hello world"ä¸­çš„ç¬¬ä¸€ä¸ª[1String](#%28tech._1string%29)æ˜¯"h"ã€‚ä»¥ä¸‹å‡½æ•°æ˜¯å¦‚ä½•è®¡ç®—è¿™ä¸ªç»“æœçš„ï¼Ÿ
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (string-firstÂ s)
    |'
  id: totrans-472
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (string-firstÂ s)
    |'
- en: '| Â Â ([substring](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)Â sÂ 0Â 1))
    |'
  id: totrans-473
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å­å­—ç¬¦ä¸²](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)Â sÂ 0Â 1))
    |'
- en: 'Use the stepper to confirm your ideas.ExerciseÂ 24\. Here is the definition
    of ==>:'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ­¥è¿›å™¨æ¥éªŒè¯ä½ çš„æƒ³æ³•ã€‚ç»ƒä¹ 24. è¿™æ˜¯==>çš„å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (==>Â xÂ y)
    |'
  id: totrans-475
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (==>Â xÂ y)
    |'
- en: '| Â Â ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â ([not](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29)Â x)Â y))
    |'
  id: totrans-476
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æˆ–](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â ([é](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._not%29%29)Â x)Â y))
    |'
- en: 'Use the stepper to determine the value of (==>  #true  #false).ExerciseÂ 25\.
    Take a look at this attempt to solve [exerciseÂ 17](#%28counter._%28exercise._fun10%29%29):'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: 'ä½¿ç”¨æ­¥è¿›å™¨ç¡®å®š(==>  #true  #false)çš„å€¼ã€‚ç»ƒä¹ 25ã€‚çœ‹çœ‹è¿™ä¸ªå°è¯•è§£å†³[ç»ƒä¹ 17](#%28counter._%28exercise._fun10%29%29)ï¼š'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (image-classifyÂ img)
    |'
  id: totrans-478
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (image-classifyÂ img)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-479
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â img)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â img))Â "tall"]
    |'
  id: totrans-480
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â img)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â img))Â "tall"]
    |'
- en: '| Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â img)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â img))Â "square"]
    |'
  id: totrans-481
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â img)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â img))Â "square"]
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â img)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â img))Â "wide"]))
    |'
  id: totrans-482
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â img)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â img))Â "wide"]))
    |'
- en: 'Does stepping through an application suggest a fix?ExerciseÂ 26\. What do you
    expect as the value of this program:'
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¥è¿›åº”ç”¨ç¨‹åºæ˜¯å¦æå‡ºäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Ÿç»ƒä¹ 26ã€‚ä½ æœŸæœ›è¿™ä¸ªç¨‹åºçš„ç»“æœæ˜¯ä»€ä¹ˆï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (string-insertÂ sÂ i)
    |'
  id: totrans-484
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (string-insertÂ sÂ i)
    |'
- en: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â ([substring](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)Â sÂ 0Â i)
    |'
  id: totrans-485
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â ([substring](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)Â sÂ 0Â i)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "_" |'
  id: totrans-486
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "_" |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([substring](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)Â sÂ i)))
    |'
  id: totrans-487
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([substring](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._substring%29%29)Â sÂ i)))
    |'
- en: '| Â  |'
  id: totrans-488
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| (string-insertÂ "helloworld"Â 6) |'
  id: totrans-489
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (string-insertÂ "helloworld"Â 6) |'
- en: Confirm your expectation with DrRacket and its stepper.
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨DrRacketåŠå…¶æ­¥è¿›å™¨ç¡®è®¤ä½ çš„é¢„æœŸã€‚
- en: 2.3Composing Functions[ğŸ”—](#(part._sec~3acomposing) "Link to here")
  id: totrans-491
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.3 ç»„åˆå‡½æ•°[ğŸ”—](#(part._sec~3acomposing) "é“¾æ¥åˆ°æ­¤å¤„")
- en: A program rarely consists of a single function definition. Typically, programs
    consist of a main definition and several other functions and turn the result of
    one function application into the input for another. In analogy to algebra, we
    call this way of defining functions composition, and we call these additional
    functions auxiliary functions or helper functions.
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªç¨‹åºå¾ˆå°‘åªåŒ…å«ä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚é€šå¸¸ï¼Œç¨‹åºç”±ä¸€ä¸ªä¸»å®šä¹‰å’Œå‡ ä¸ªå…¶ä»–å‡½æ•°ç»„æˆï¼Œå¹¶å°†ä¸€ä¸ªå‡½æ•°åº”ç”¨çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ã€‚åœ¨ä»£æ•°çš„ç±»æ¯”ä¸­ï¼Œæˆ‘ä»¬ç§°è¿™ç§æ–¹å¼å®šä¹‰å‡½æ•°ä¸ºç»„åˆï¼Œå¹¶ç§°è¿™äº›é™„åŠ å‡½æ•°ä¸ºè¾…åŠ©å‡½æ•°æˆ–è¾…åŠ©å‡½æ•°ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (letterÂ first-nameÂ last-nameÂ signature-name)
    |'
  id: totrans-493
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (letter first-name last-name signature-name) |'
- en: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
  id: totrans-494
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([string_append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
- en: '| Â Â Â Â (openingÂ first-name) |'
  id: totrans-495
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (opening first-name) |'
- en: '| Â Â Â Â "\n\n" |'
  id: totrans-496
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "\n\n" |'
- en: '| Â Â Â Â (bodyÂ first-nameÂ last-name) |'
  id: totrans-497
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (body first-name last-name) |'
- en: '| Â Â Â Â "\n\n" |'
  id: totrans-498
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "\n\n" |'
- en: '| Â Â Â Â (closingÂ signature-name))) |'
  id: totrans-499
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (closing signature-name))) |'
- en: '| Â  |'
  id: totrans-500
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "\n" |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (openingÂ first-name)
    |'
  id: totrans-501
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (opening first-name) |'
- en: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â "Dear
    "Â first-nameÂ ",")) |'
  id: totrans-502
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([string_append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    "Dear " first-name ",")) |'
- en: '| Â  |'
  id: totrans-503
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "\n" |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (bodyÂ first-nameÂ last-name)
    |'
  id: totrans-504
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (body first-name last-name) |'
- en: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
  id: totrans-505
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([string_append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
- en: '| Â Â Â "We have discovered that all people with the"Â "\n" |'
  id: totrans-506
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "We have discovered that all people with the" "\n" |'
- en: '| Â Â Â "last name "Â last-nameÂ " have won our lottery. So, "Â "\n" |'
  id: totrans-507
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "last name " last-name " have won our lottery. So, " "\n" |'
- en: '| Â Â Â first-nameÂ ", "Â "hurry and pick up your prize.")) |'
  id: totrans-508
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   first-name ", " "hurry and pick up your prize.") |'
- en: '| Â  |'
  id: totrans-509
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (closingÂ signature-name)
    |'
  id: totrans-510
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (closing signature-name) |'
- en: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
  id: totrans-511
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([string_append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
- en: '| Â Â Â "Sincerely," |'
  id: totrans-512
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "Sincerely," |'
- en: '| Â Â Â "\n\n" |'
  id: totrans-513
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "\n\n" |'
- en: '| Â Â Â signature-name |'
  id: totrans-514
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   signature-name |'
- en: '| Â Â Â "\n")) |'
  id: totrans-515
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   "\n")) |'
- en: ''
  id: totrans-516
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 12: A batch program'
  id: totrans-517
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾12ï¼šæ‰¹å¤„ç†ç¨‹åº
- en: Consider the program of [figureÂ 12](#%28counter._%28figure._fig~3aletter-template%29%29)
    for filling in letter templates. It consists of four functions. The first one
    is the main function, which produces a complete letter from the first and last
    name of the addressee plus a signature. The main function refers to three auxiliary
    functions to produce the three pieces of the letterâ€”<wbr>the opening, body, and
    signatureâ€”<wbr>and composes the results in the correct order with [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29).
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘[å›¾12](#%28counter._%28figure._fig~3aletter-template%29%29)ç¨‹åºç”¨äºå¡«å……ä¿¡å‡½æ¨¡æ¿ã€‚å®ƒç”±å››ä¸ªå‡½æ•°ç»„æˆã€‚ç¬¬ä¸€ä¸ªæ˜¯ä¸»å‡½æ•°ï¼Œå®ƒä»æ”¶ä»¶äººçš„åå­—å’Œå§“æ°ä»¥åŠç­¾åç”Ÿæˆä¸€å°å®Œæ•´çš„ä¿¡ä»¶ã€‚ä¸»å‡½æ•°å¼•ç”¨ä¸‰ä¸ªè¾…åŠ©å‡½æ•°æ¥ç”Ÿæˆä¿¡ä»¶çš„ä¸‰ä¸ªéƒ¨åˆ†â€”â€”<wbr>å¼€å¤´ã€æ­£æ–‡å’Œç­¾åâ€”â€”<wbr>å¹¶ä»¥æ­£ç¡®çš„é¡ºåºä½¿ç”¨[string_append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)ç»„åˆç»“æœã€‚
- en: 'Stop! Enter these definitions into DrRacketâ€™s definitions area, click RUN,
    and evaluate these expressions in the interactions area:'
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼å°†è¿™äº›å®šä¹‰è¾“å…¥åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸï¼Œç‚¹å‡»è¿è¡Œï¼Œå¹¶åœ¨äº¤äº’åŒºåŸŸè¯„ä¼°è¿™äº›è¡¨è¾¾å¼ï¼š
- en: '| > (letterÂ "Matthew"Â "Fisler"Â "Felleisen") |'
  id: totrans-520
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (letter "Matthew" "Fisler" "Felleisen") |'
- en: '| "Dear Matthew,\n\nWe have discovered that ...\n" |'
  id: totrans-521
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "Dear Matthew,\n\nWe have discovered that ...\n" |'
- en: '| > (letterÂ "Kathi"Â "Felleisen"Â "Findler") |'
  id: totrans-522
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (å­—æ¯ "Kathi" "Felleisen" "Findler") |'
- en: '| "Dear Kathi,\n\nWe have discovered that ...\n" |'
  id: totrans-523
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "äº²çˆ±çš„ Kathiï¼Œ\n\næˆ‘ä»¬å‘ç°...\n" |'
- en: Aside The result is a long string that contains "\n", which represents a new
    line when the string is printed. Once your program has access to functions that
    write to files or the console, this part of the string will make sense. Read on.Think
    of 'stdout as a [String](#%28tech._string%29) for now.
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†ç»“æœæ˜¯ä¸€ä¸ªåŒ…å« "\n" çš„é•¿å­—ç¬¦ä¸²å¤–ï¼Œè¿™ä»£è¡¨å½“å­—ç¬¦ä¸²è¢«æ‰“å°æ—¶è¡¨ç¤ºä¸€ä¸ªæ–°è¡Œã€‚ä¸€æ—¦ä½ çš„ç¨‹åºå¯ä»¥è®¿é—®å†™å…¥æ–‡ä»¶æˆ–æ§åˆ¶å°çš„åŠŸèƒ½ï¼Œè¿™éƒ¨åˆ†å­—ç¬¦ä¸²å°±ä¼šå˜å¾—æœ‰æ„ä¹‰ã€‚ç»§ç»­é˜…è¯»ã€‚ç°åœ¨å°†
    'stdout' è§†ä¸ºä¸€ä¸ª [String](#%28tech._string%29)ã€‚
- en: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â ''stdoutÂ (letterÂ "Matt"Â "Fiss"Â "Fell"))
    |'
  id: totrans-525
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    ''stdout (letter "Matt" "Fiss" "Fell")) |'
- en: '|'
  id: totrans-526
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-527
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; Dear Matt, &#124;'
  id: totrans-528
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| äº²çˆ±çš„ Mattï¼Œ| '
- en: '&#124;  &#124;'
  id: totrans-529
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|  | '
- en: '&#124; We have discovered that all people with the &#124;'
  id: totrans-530
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| æˆ‘ä»¬å‘ç°æ‰€æœ‰å…·æœ‰ | '
- en: '&#124; last name Fiss have won our lottery. So, &#124;'
  id: totrans-531
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| å§“æ° Fiss è·å¾—äº†æˆ‘ä»¬çš„å½©ç¥¨ã€‚æ‰€ä»¥ï¼Œ| '
- en: '&#124; Matt, hurry and pick up your prize. &#124;'
  id: totrans-532
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| Mattï¼Œå¿«å»é¢†ä½ çš„å¥–å“ã€‚| '
- en: '&#124;  &#124;'
  id: totrans-533
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|  | '
- en: '&#124; Sincerely, &#124;'
  id: totrans-534
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| è¯šæŒšåœ°ï¼Œ| '
- en: '&#124;  &#124;'
  id: totrans-535
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|  | '
- en: '&#124; Fell &#124;'
  id: totrans-536
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| Fell | '
- en: ''
  id: totrans-537
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-538
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '| ''stdout |'
  id: totrans-539
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ''stdout |'
- en: '[Programs](#%28part._sec~3aprogs%29) explains such batch programs in some depth.
    End'
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: '[ç¨‹åº](#%28part._sec~3aprogs%29)åœ¨æŸç§ç¨‹åº¦ä¸Šæ·±å…¥è§£é‡Šäº†è¿™æ ·çš„æ‰¹å¤„ç†ç¨‹åºã€‚ç»“æŸ'
- en: 'In general, when a problem refers to distinct tasks of computation, a program
    should consist of one function per task and a main function that puts it all together.
    We formulate this idea as a simple slogan:'
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œå½“ä¸€ä¸ªé—®é¢˜æ¶‰åŠåˆ°ä¸åŒçš„è®¡ç®—ä»»åŠ¡æ—¶ï¼Œç¨‹åºåº”è¯¥ç”±æ¯ä¸ªä»»åŠ¡ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„ä¸»å‡½æ•°ç»„æˆã€‚æˆ‘ä»¬å°†è¿™ä¸ªæƒ³æ³•è¡¨è¿°ä¸ºä¸€ä¸ªç®€å•çš„å£å·ï¼š
- en: Define one function per task.
  id: totrans-542
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä¸ºæ¯ä¸ªä»»åŠ¡å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚
- en: The advantage of following this slogan is that you get reasonably small functions,
    each of which is easy to comprehend and whose composition is easy to understand.
    Once you learn to design functions, you will recognize that getting small functions
    to work correctly is much easier than doing so with large ones. Better yet, if
    you ever need to change a part of the program due to some change to the problem
    statement, it tends to be much easier to find the relevant parts when it is organized
    as a collection of small functions as opposed to a large, monolithic block.
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: éµå¾ªè¿™ä¸ªå£å·çš„ä¼˜åŠ¿åœ¨äºï¼Œä½ å¯ä»¥å¾—åˆ°åˆç†å°çš„å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½å®¹æ˜“ç†è§£ï¼Œå…¶ç»„åˆä¹Ÿå®¹æ˜“ç†è§£ã€‚ä¸€æ—¦ä½ å­¦ä¼šäº†è®¾è®¡å‡½æ•°ï¼Œä½ å°±ä¼šè®¤è¯†åˆ°ï¼Œè®©å°å‡½æ•°æ­£ç¡®å·¥ä½œæ¯”è®©å¤§å‡½æ•°æ­£ç¡®å·¥ä½œè¦å®¹æ˜“å¾—å¤šã€‚æ›´å¥½çš„æ˜¯ï¼Œå¦‚æœä½ éœ€è¦å› ä¸ºé—®é¢˜é™ˆè¿°çš„æŸäº›å˜åŒ–è€Œæ›´æ”¹ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œå½“å®ƒè¢«ç»„ç»‡æˆå°å‡½æ•°çš„é›†åˆè€Œä¸æ˜¯ä¸€ä¸ªå¤§å‹çš„ã€å•ä¸€çš„å—æ—¶ï¼Œæ‰¾åˆ°ç›¸å…³éƒ¨åˆ†å¾€å¾€è¦å®¹æ˜“å¾—å¤šã€‚
- en: 'Here is a small illustration of this point with a sample problem:'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€ä¸ªç”¨ç¤ºä¾‹é—®é¢˜è¯´æ˜è¿™ä¸ªè§‚ç‚¹çš„å°æ’å›¾ï¼š
- en: Sample Problem The owner of a monopolistic movie theater in a small town has
    complete freedom in setting ticket prices. The more he charges, the fewer people
    can afford tickets. The less he charges, the more it costs to run a show because
    attendance goes up. In a recent experiment the owner determined a relationship
    between the price of a ticket and average attendance.
  id: totrans-545
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·æœ¬é—®é¢˜ï¼šä¸€ä¸ªå°é•‡ä¸Šå„æ–­ç”µå½±é™¢çš„æ‰€æœ‰è€…å¯ä»¥è‡ªç”±åœ°è®¾å®šç¥¨ä»·ã€‚ä»–æ”¶å¾—è¶Šå¤šï¼Œèƒ½ä¹°å¾—èµ·ç¥¨çš„äººå°±è¶Šå°‘ã€‚ä»–æ”¶å¾—è¶Šå°‘ï¼Œå› ä¸ºå‡ºå‹¤ç‡ä¸Šå‡ï¼Œä¸¾åŠä¸€åœºè¡¨æ¼”çš„æˆæœ¬å°±è¶Šé«˜ã€‚åœ¨æœ€è¿‘çš„ä¸€æ¬¡å®éªŒä¸­ï¼Œæ‰€æœ‰è€…ç¡®å®šäº†ä¸€å¼ ç¥¨çš„ä»·æ ¼å’Œå¹³å‡å‡ºå‹¤ç‡ä¹‹é—´çš„å…³ç³»ã€‚
- en: ''
  id: totrans-546
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'At a price of $5.00 per ticket, 120 people attend a performance. For each 10-cent
    change in the ticket price, the average attendance changes by 15 people. That
    is, if the owner charges $5.10, some 105 people attend on the average; if the
    price goes down to $4.90, average attendance increases to 135\. Letâ€™s translate
    this idea into a mathematical formula:'
  id: totrans-547
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä»¥æ¯å¼ ç¥¨ 5.00 ç¾å…ƒçš„ä»·æ ¼ï¼Œ120 äººå‚åŠ äº†ä¸€åœºè¡¨æ¼”ã€‚æ¯å¢åŠ  10 åˆ†çš„ç¥¨ä»·å˜åŒ–ï¼Œå¹³å‡å‡ºå‹¤äººæ•°ä¼šå˜åŒ– 15 äººã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‰€æœ‰è€…æ”¶å– 5.10
    ç¾å…ƒï¼Œå¹³å‡ä¼šæœ‰ 105 äººå‚åŠ ï¼›å¦‚æœä»·æ ¼ä¸‹é™åˆ° 4.90 ç¾å…ƒï¼Œå¹³å‡å‡ºå‹¤äººæ•°å°†å¢åŠ åˆ° 135 äººã€‚è®©æˆ‘ä»¬å°†è¿™ä¸ªæƒ³æ³•è½¬åŒ–ä¸ºä¸€ä¸ªæ•°å­¦å…¬å¼ï¼š
- en: ''
  id: totrans-548
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![image](../Images/8d8ffec293c4779453fedb649dc3742e.png)'
  id: totrans-549
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/8d8ffec293c4779453fedb649dc3742e.png)'
- en: ''
  id: totrans-550
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Stop! Explain the minus sign before you proceed.
  id: totrans-551
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åœï¼åœ¨ä½ ç»§ç»­ä¹‹å‰è§£é‡Šä¸€ä¸‹å‰é¢çš„å‡å·ã€‚
- en: ''
  id: totrans-552
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Unfortunately, the increased attendance also comes at an increased cost. Every
    performance comes at a fixed cost of $180 to the owner plus a variable cost of
    $0.04 per attendee.
  id: totrans-553
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä¸å¹¸çš„æ˜¯ï¼Œå‡ºå‹¤ç‡çš„å¢åŠ ä¹Ÿå¸¦æ¥äº†æˆæœ¬çš„ä¸Šå‡ã€‚æ¯æ¬¡è¡¨æ¼”å¯¹æ‰€æœ‰è€…æ¥è¯´éƒ½æœ‰ 180 ç¾å…ƒçš„å›ºå®šæˆæœ¬ï¼Œä»¥åŠæ¯ä½è§‚ä¼— 0.04 ç¾å…ƒçš„å˜åŠ¨æˆæœ¬ã€‚
- en: ''
  id: totrans-554
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The owner would like to know the exact relationship between profit and ticket
    price in order to maximize the profit.
  id: totrans-555
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ‰€æœ‰è€…å¸Œæœ›çŸ¥é“åˆ©æ¶¦å’Œç¥¨ä»·ä¹‹é—´çš„ç¡®åˆ‡å…³ç³»ï¼Œä»¥ä¾¿æœ€å¤§åŒ–åˆ©æ¶¦ã€‚
- en: 'While the task is clear, how to go about it is not. All we can say at this
    point is that several quantities depend on each other.When we are confronted with
    such a situation, it is best to tease out the various dependencies, one by one:'
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶ä»»åŠ¡å¾ˆæ˜ç¡®ï¼Œä½†å¦‚ä½•è¿›è¡Œå¹¶ä¸æ˜ç¡®ã€‚æˆ‘ä»¬ç›®å‰èƒ½è¯´çš„æ˜¯ï¼Œå‡ ä¸ªé‡ç›¸äº’ä¾èµ–ã€‚å½“æˆ‘ä»¬é¢ä¸´è¿™ç§æƒ…å†µæ—¶ï¼Œæœ€å¥½é€ä¸€æ¢³ç†å‡ºå„ç§ä¾èµ–å…³ç³»ï¼š
- en: 'The problem statement specifies how the number of attendees depends on the
    ticket price. Computing this number is clearly a separate task and thus deserves
    its own function definition:'
  id: totrans-557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é—®é¢˜é™ˆè¿°æŒ‡å®šäº†å‚åŠ äººæ•°å¦‚ä½•ä¾èµ–äºç¥¨ä»·ã€‚è®¡ç®—è¿™ä¸ªæ•°é‡æ˜¾ç„¶æ˜¯ä¸€ä¸ªå•ç‹¬çš„ä»»åŠ¡ï¼Œå› æ­¤å€¼å¾—æ‹¥æœ‰è‡ªå·±çš„å‡½æ•°å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (attendeesÂ ticket-price)
    |'
  id: totrans-558
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (attendeesÂ ticket-price)
    |'
- en: '| Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 120Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â ticket-priceÂ 5.0)Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 15Â 0.1))))
    |'
  id: totrans-559
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 120Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â ticket-priceÂ 5.0)Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 15Â 0.1))))
    |'
- en: 'The revenue is exclusively generated by the sale of tickets, meaning it is
    exactly the product of ticket price and number of attendees:'
  id: totrans-560
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ”¶å…¥å®Œå…¨ç”±ç¥¨çš„é”€å”®äº§ç”Ÿï¼Œè¿™æ„å‘³ç€å®ƒæ­£å¥½æ˜¯ç¥¨ä»·å’Œå‚åŠ äººæ•°çš„ä¹˜ç§¯ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (revenueÂ ticket-price)
    |'
  id: totrans-561
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (revenueÂ ticket-price)
    |'
- en: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ticket-priceÂ (attendeesÂ ticket-price)))
    |'
  id: totrans-562
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ticket-priceÂ (attendeesÂ ticket-price)))
    |'
- en: 'The cost consists of two parts: a fixed part ($180) and a variable part that
    depends on the number of attendees. Given that the number of attendees is a function
    of the ticket price, a function for computing the cost of a show must also consume
    the ticket price so that it can reuse the attendees function:'
  id: totrans-563
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆæœ¬ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå›ºå®šéƒ¨åˆ†ï¼ˆ$180ï¼‰å’Œä¸å‚åŠ äººæ•°ç›¸å…³çš„å¯å˜éƒ¨åˆ†ã€‚é‰´äºå‚åŠ äººæ•°æ˜¯ç¥¨ä»·çš„å‡½æ•°ï¼Œè®¡ç®—æ¼”å‡ºæˆæœ¬çš„å‡½æ•°ä¹Ÿå¿…é¡»æ¶ˆè€—ç¥¨ä»·ï¼Œä»¥ä¾¿å®ƒå¯ä»¥é‡ç”¨å‚åŠ äººæ•°å‡½æ•°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (costÂ ticket-price)
    |'
  id: totrans-564
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (costÂ ticket-price)
    |'
- en: '| Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 180Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.04Â (attendeesÂ ticket-price))))
    |'
  id: totrans-565
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 180Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.04Â (attendeesÂ ticket-price))))
    |'
- en: 'Finally, profit is the difference between revenue and costs for some given
    ticket price:'
  id: totrans-566
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œåˆ©æ¶¦æ˜¯ç»™å®šç¥¨ä»·ä¸‹çš„æ”¶å…¥ä¸æˆæœ¬çš„å·®é¢ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (profitÂ ticket-price)
    |'
  id: totrans-567
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (profitÂ ticket-price)
    |'
- en: '| Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â (revenueÂ ticket-price)
    |'
  id: totrans-568
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â (revenueÂ ticket-price)
    |'
- en: '| Â Â Â Â Â (costÂ ticket-price))) |'
  id: totrans-569
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â (costÂ ticket-price))) |'
- en: The BSL definition of profit directly follows the suggestion of the informal
    problem description.
  id: totrans-570
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: BSL å¯¹åˆ©æ¶¦çš„å®šä¹‰ç›´æ¥éµå¾ªéæ­£å¼é—®é¢˜æè¿°çš„å»ºè®®ã€‚
- en: These four functions are all there is to the computation of the profit, and
    we can now use the profit function to determine a good ticket price.
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å››ä¸ªå‡½æ•°å°±æ˜¯è®¡ç®—åˆ©æ¶¦çš„å…¨éƒ¨ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ©æ¶¦å‡½æ•°æ¥ç¡®å®šä¸€ä¸ªå¥½çš„ç¥¨ä»·ã€‚
- en: ExerciseÂ 27\. Our solution to the sample problem contains several constants
    in the middle of functions. As [One Program, Many Definitions](part_prologue.html#%28part._pro-many-def%29)
    already points out, it is best to give names to such constants so that future
    readers understand where these numbers come from. Collect all definitions in DrRacketâ€™s
    definitions area and change them so that all magic numbers are refactored into
    constant definitions.
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  27\. æˆ‘ä»¬å¯¹ç¤ºä¾‹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆåœ¨å‡½æ•°ä¸­é—´åŒ…å«äº†ä¸€äº›å¸¸æ•°ã€‚æ­£å¦‚[ä¸€ä¸ªç¨‹åºï¼Œå¤šä¸ªå®šä¹‰](part_prologue.html#%28part._pro-many-def%29)å·²ç»æŒ‡å‡ºçš„ï¼Œæœ€å¥½ç»™è¿™æ ·çš„å¸¸æ•°å‘½åï¼Œä»¥ä¾¿æœªæ¥çš„è¯»è€…ç†è§£è¿™äº›æ•°å­—çš„æ¥æºã€‚åœ¨
    DrRacket çš„å®šä¹‰åŒºåŸŸæ”¶é›†æ‰€æœ‰å®šä¹‰ï¼Œå¹¶å°†å®ƒä»¬ä¿®æ”¹ä¸ºå°†æ‰€æœ‰é­”æ³•æ•°å­—é‡æ„ä¸ºå¸¸é‡å®šä¹‰ã€‚
- en: 'ExerciseÂ 28\. Determine the potential profit for these ticket prices: $1, $2,
    $3, $4, and $5\. Which price maximizes the profit of the movie theater? Determine
    the best ticket price to a dime.'
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  28\. ç¡®å®šä»¥ä¸‹ç¥¨ä»·å¸¦æ¥çš„æ½œåœ¨åˆ©æ¶¦ï¼š$1, $2, $3, $4, å’Œ $5ã€‚å“ªä¸ªä»·æ ¼æœ€å¤§åŒ–äº†ç”µå½±é™¢çš„åˆ©æ¶¦ï¼Ÿç¡®å®šæœ€ä½³ç¥¨ä»·åˆ°ä¸€è§’ã€‚
- en: 'Here is an alternative version of the same program, given as a single function
    definition:'
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯åŒä¸€ç¨‹åºçš„å¦ä¸€ç§ç‰ˆæœ¬ï¼Œç»™å‡ºçš„æ˜¯ä¸€ä¸ªå•ç‹¬çš„å‡½æ•°å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (profitÂ price)
    |'
  id: totrans-575
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (profitÂ price)
    |'
- en: '| Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 120
    |'
  id: totrans-576
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 120
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 15Â 0.1)
    |'
  id: totrans-577
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 15Â 0.1)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 5.0Â price)))
    |'
  id: totrans-578
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 5.0Â price)))
    |'
- en: '| Â Â Â Â Â Â Â Â price) |'
  id: totrans-579
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â price) |'
- en: '| Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 180
    |'
  id: totrans-580
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 180
    |'
- en: '| Â Â Â Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.04
    |'
  id: totrans-581
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.04
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 120
    |'
  id: totrans-582
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â 120
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 15Â 0.1)
    |'
  id: totrans-583
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â 15Â 0.1)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 5.0Â price)))))))
    |'
  id: totrans-584
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 5.0Â price)))))))
    |'
- en: Enter this definition into DrRacket and ensure that it produces the same results
    as the original version for $1, $2, $3, $4, and $5\. A single look should suffice
    to show how much more difficult it is to comprehend this one function compared
    to the above four.
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ­¤å®šä¹‰è¾“å…¥DrRacketï¼Œå¹¶ç¡®ä¿å®ƒäº§ç”Ÿä¸åŸå§‹ç‰ˆæœ¬ç›¸åŒçš„1ç¾å…ƒã€2ç¾å…ƒã€3ç¾å…ƒã€4ç¾å…ƒå’Œ5ç¾å…ƒçš„ç»“æœã€‚ä¸€çœ¼å°±èƒ½çœ‹å‡ºï¼Œä¸ä¸Šé¢çš„å››ä¸ªå‡½æ•°ç›¸æ¯”ï¼Œè¿™ä¸ªå‡½æ•°çš„ç†è§£éš¾åº¦è¦å¤§å¾—å¤šã€‚
- en: ExerciseÂ 29\. After studying the costs of a show, the owner discovered several
    ways of lowering the cost. As a result of these improvements, there is no longer
    a fixed cost; a variable cost of $1.50 per attendee remains.
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 29ã€‚åœ¨ç ”ç©¶äº†è¡¨æ¼”çš„æˆæœ¬åï¼Œä¸šä¸»å‘ç°äº†å‡ ç§é™ä½æˆæœ¬çš„æ–¹æ³•ã€‚ç”±äºè¿™äº›æ”¹è¿›ï¼Œä¸å†æœ‰å›ºå®šæˆæœ¬ï¼›æ¯åå‚åŠ è€…çš„å¯å˜æˆæœ¬ä¸º1.50ç¾å…ƒã€‚
- en: Modify both programs to reflect this change. When the programs are modified,
    test them again with ticket prices of $3, $4, and $5 and compare the results.
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: ä¿®æ”¹è¿™ä¸¤ä¸ªç¨‹åºä»¥åæ˜ è¿™ä¸€å˜åŒ–ã€‚å½“ç¨‹åºè¢«ä¿®æ”¹åï¼Œå†æ¬¡ç”¨3ç¾å…ƒã€4ç¾å…ƒå’Œ5ç¾å…ƒçš„ç¥¨ä»·æµ‹è¯•å®ƒä»¬ï¼Œå¹¶æ¯”è¾ƒç»“æœã€‚
- en: 2.4Global Constants[ğŸ”—](#(part._sec~3aglobal) "Link to here")
  id: totrans-588
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.4å…¨å±€å¸¸é‡[ğŸ”—](#(part._sec~3aglobal) "é“¾æ¥è‡³æ­¤")
- en: 'As the Prologue already says, functions such as profit benefit from the use
    of global constants. Every programming language allows programmers to define constants.
    In BSL, such a definition has the following shape:'
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚åºè¨€æ‰€è¯´ï¼Œåˆ©æ¶¦ç­‰å‡½æ•°å—ç›Šäºå…¨å±€å¸¸é‡çš„ä½¿ç”¨ã€‚æ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½å…è®¸ç¨‹åºå‘˜å®šä¹‰å¸¸é‡ã€‚åœ¨BSLä¸­ï¼Œè¿™æ ·çš„å®šä¹‰å…·æœ‰ä»¥ä¸‹å½¢çŠ¶ï¼š
- en: write â€œ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    â€,
  id: totrans-590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™â€œ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    â€ï¼Œ
- en: write down the name,
  id: totrans-591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹åç§°ï¼Œ
- en: followed by a space and an expression, and
  id: totrans-592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åè·Ÿä¸€ä¸ªç©ºæ ¼å’Œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¹¶ä¸”
- en: write down â€œ)â€.
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ä¸‹â€œ)â€ã€‚
- en: 'The name of a constant is a global variable while the definition is called
    a constant definition. We tend to call the expression in a constant definition
    the right-hand side of the definition.Constant definitions introduce names for
    all forms of data: numbers, images, strings, and so on. Here are some simple examples:'
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: å¸¸é‡çš„åç§°æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè€Œå…¶å®šä¹‰è¢«ç§°ä¸ºå¸¸é‡å®šä¹‰ã€‚æˆ‘ä»¬å€¾å‘äºå°†å¸¸é‡å®šä¹‰ä¸­çš„è¡¨è¾¾å¼ç§°ä¸ºå®šä¹‰çš„å³ä¾§ã€‚å¸¸é‡å®šä¹‰å¼•å…¥äº†æ‰€æœ‰æ•°æ®å½¢å¼çš„åç§°ï¼šæ•°å­—ã€å›¾åƒã€å­—ç¬¦ä¸²ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç®€å•çš„ä¾‹å­ï¼š
- en: '| ;Â the current price of a movie ticket: |'
  id: totrans-595
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å½“å‰ç”µå½±ç¥¨çš„ä»·æ ¼ï¼š |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CURRENT-PRICEÂ 5)
    |'
  id: totrans-596
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    CURRENT-PRICE 5) |'
- en: '| Â  |'
  id: totrans-597
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â useful to compute the area of a disk: |'
  id: totrans-598
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”¨äºè®¡ç®—åœ†ç›˜é¢ç§¯çš„ï¼š |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ALMOST-PIÂ 3.14)
    |'
  id: totrans-599
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    ALMOST-PI 3.14) |'
- en: '| Â  |'
  id: totrans-600
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â a blank line: |'
  id: totrans-601
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªç©ºè¡Œï¼š |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â NLÂ "\n")
    |'
  id: totrans-602
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    NL "\n") |'
- en: '| Â  |'
  id: totrans-603
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â an empty scene: |'
  id: totrans-604
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªç©ºåœºæ™¯ï¼š |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    |'
  id: totrans-605
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    MT ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    100 100)) |'
- en: 'The first two are numeric constants, the last two are a string and an image.
    By convention, we use uppercase letters for global constants because it ensures
    that no matter how large the program is, the readers of our programs can easily
    distinguish such variables from others.All functions in a program may refer to
    these global variables. A reference to a variable is just like using the corresponding
    constants. The advantage of using variable names instead of constants is that
    a single edit of a constant definition affects all uses. For example, we may wish
    to add digits to ALMOST-PI or enlarge an empty scene:'
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ä¸¤ä¸ªæ˜¯æ•°å­—å¸¸é‡ï¼Œæœ€åä¸¤ä¸ªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªå›¾åƒã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å¤§å†™å­—æ¯æ¥è¡¨ç¤ºå…¨å±€å¸¸é‡ï¼Œå› ä¸ºè¿™ç¡®ä¿äº†æ— è®ºç¨‹åºæœ‰å¤šå¤§ï¼Œç¨‹åºçš„è¯»è€…éƒ½å¯ä»¥è½»æ¾åœ°åŒºåˆ†è¿™äº›å˜é‡å’Œå…¶ä»–å˜é‡ã€‚ç¨‹åºä¸­çš„æ‰€æœ‰å‡½æ•°éƒ½å¯ä»¥å¼•ç”¨è¿™äº›å…¨å±€å˜é‡ã€‚å¯¹å˜é‡çš„å¼•ç”¨å°±åƒä½¿ç”¨ç›¸åº”çš„å¸¸é‡ä¸€æ ·ã€‚ä½¿ç”¨å˜é‡åè€Œä¸æ˜¯å¸¸é‡çš„ä¼˜ç‚¹æ˜¯ï¼Œå¯¹å¸¸é‡å®šä¹‰çš„å•æ¬¡ç¼–è¾‘ä¼šå½±å“æ‰€æœ‰ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å‘ALMOST-PIæ·»åŠ æ•°å­—æˆ–æ‰©å¤§ä¸€ä¸ªç©ºåœºæ™¯ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ALMOST-PIÂ 3.14159)
    |'
  id: totrans-607
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ALMOST-PIÂ 3.14159)
    |'
- en: '| Â  |'
  id: totrans-608
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â an empty scene: |'
  id: totrans-609
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªç©ºåœºæ™¯ï¼š |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 200Â 800))
    |'
  id: totrans-610
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 200Â 800))
    |'
- en: 'Most of our sample definitions employ literal constants on the right-hand side,
    but the last one uses an expression. And indeed, a programmer can use arbitrary
    expressions to compute constants. Suppose a program needs to deal with an image
    of some size and its center:'
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„å¤§å¤šæ•°ç¤ºä¾‹å®šä¹‰åœ¨å³ä¾§ä½¿ç”¨å­—é¢å¸¸é‡ï¼Œä½†æœ€åä¸€ä¸ªä½¿ç”¨äº†ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ç¡®å®ï¼Œç¨‹åºå‘˜å¯ä»¥ä½¿ç”¨ä»»æ„è¡¨è¾¾å¼æ¥è®¡ç®—å¸¸é‡ã€‚å‡è®¾ä¸€ä¸ªç¨‹åºéœ€è¦å¤„ç†æŸä¸ªå¤§å°çš„å›¾åƒåŠå…¶ä¸­å¿ƒï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ 100)
    |'
  id: totrans-612
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ 100)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ 200)
    |'
  id: totrans-613
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ 200)
    |'
- en: '| Â  |'
  id: totrans-614
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MID-WIDTHÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â WIDTHÂ 2))
    |'
  id: totrans-615
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MID-WIDTHÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â WIDTHÂ 2))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MID-HEIGHTÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â HEIGHTÂ 2))
    |'
  id: totrans-616
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MID-HEIGHTÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â HEIGHTÂ 2))
    |'
- en: It can use two definitions with literal constants on the right-hand side and
    two computed constants, that is, variables whose values are not just literal constants
    but the results of computing the value of an expression.
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå³ä¾§å¸¦æœ‰å­—é¢å¸¸é‡çš„å®šä¹‰å’Œä¸¤ä¸ªè®¡ç®—å‡ºçš„å¸¸é‡ï¼Œå³å€¼ä¸ä»…ä»…æ˜¯å­—é¢å¸¸é‡ï¼Œè€Œæ˜¯è®¡ç®—è¡¨è¾¾å¼å€¼çš„å˜é‡ã€‚
- en: 'Again, we state an imperative slogan:'
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ï¼Œæˆ‘ä»¬æå‡ºä¸€ä¸ªå‘½ä»¤æ€§å£å·ï¼š
- en: For every constant mentioned in a problem statement, introduce one constant
    definition.
  id: totrans-619
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¯¹äºé—®é¢˜é™ˆè¿°ä¸­æåˆ°çš„æ¯ä¸ªå¸¸é‡ï¼Œå¼•å…¥ä¸€ä¸ªå¸¸é‡å®šä¹‰ã€‚
- en: ExerciseÂ 30\. Define constants for the price optimization program at the movie
    theater so that the price sensitivity of attendance (15 people for every 10 cents)
    becomes a computed constant.
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 30ã€‚ä¸ºç”µå½±é™¢çš„ä»·æ ¼ä¼˜åŒ–ç¨‹åºå®šä¹‰å¸¸é‡ï¼Œä»¥ä¾¿å°†å‡ºå‹¤ä»·æ ¼æ•æ„Ÿæ€§ï¼ˆæ¯10ç¾åˆ†15äººï¼‰å˜æˆä¸€ä¸ªè®¡ç®—å‡ºçš„å¸¸é‡ã€‚
- en: 2.5Programs[ğŸ”—](#(part._sec~3aprogs) "Link to here")
  id: totrans-621
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.5ç¨‹åº[ğŸ”—](#(part._sec~3aprogs) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'You are ready to create simple programs. From a coding perspective, a program
    is just a bunch of function and constant definitions. Usually one function is
    singled out as the â€œmainâ€ function, and this main function tends to compose others.
    From the perspective of launching a program, however, there are two distinct kinds:'
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å·²ç»å‡†å¤‡å¥½åˆ›å»ºç®€å•çš„ç¨‹åºäº†ã€‚ä»ç¼–ç çš„è§’åº¦æ¥çœ‹ï¼Œç¨‹åºåªæ˜¯ä¸€ç³»åˆ—å‡½æ•°å’Œå¸¸é‡å®šä¹‰ã€‚é€šå¸¸æœ‰ä¸€ä¸ªå‡½æ•°è¢«å•ç‹¬é€‰ä¸ºâ€œä¸»â€å‡½æ•°ï¼Œè¿™ä¸ªä¸»å‡½æ•°å€¾å‘äºç»„åˆå…¶ä»–å‡½æ•°ã€‚ç„¶è€Œï¼Œä»å¯åŠ¨ç¨‹åºçš„è§’åº¦æ¥çœ‹ï¼Œæœ‰ä¸¤ç§ä¸åŒçš„ç±»å‹ï¼š
- en: a batch program consumes all of its inputs at once and computes its result.
    Its main function is the composition of auxiliary functions, which may refer to
    additional auxiliary functions, and so on. When we launch a batch program, the
    operating system calls the main function on its inputs and waits for the programâ€™s
    output.
  id: totrans-623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰¹å¤„ç†ç¨‹åºä¸€æ¬¡æ¶ˆè€—æ‰€æœ‰è¾“å…¥å¹¶è®¡ç®—å…¶ç»“æœã€‚å…¶ä¸»è¦åŠŸèƒ½æ˜¯è¾…åŠ©å‡½æ•°çš„ç»„åˆï¼Œè¿™äº›è¾…åŠ©å‡½æ•°å¯èƒ½å¼•ç”¨é¢å¤–çš„è¾…åŠ©å‡½æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚å½“æˆ‘ä»¬å¯åŠ¨æ‰¹å¤„ç†ç¨‹åºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè°ƒç”¨å…¶è¾“å…¥ä¸Šçš„ä¸»å‡½æ•°å¹¶ç­‰å¾…ç¨‹åºè¾“å‡ºã€‚
- en: an interactive program consumes some of its inputs, computes, produces some
    output, consumes more input, and so on. When an input shows up, we speak of an
    event, and we create interactive programs as event-driven programs. The main function
    of such an event-driven program uses an expression to describe which functions
    to call for which kinds of events. These functions are called event handlers.
  id: totrans-624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªäº¤äº’å¼ç¨‹åºä¼šæ¶ˆè€—ä¸€äº›è¾“å…¥ï¼Œè¿›è¡Œè®¡ç®—ï¼Œäº§ç”Ÿä¸€äº›è¾“å‡ºï¼Œç„¶åæ¶ˆè€—æ›´å¤šè¾“å…¥ï¼Œå¦‚æ­¤å¾ªç¯ã€‚å½“è¾“å…¥å‡ºç°æ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºäº‹ä»¶ï¼Œæˆ‘ä»¬åˆ›å»ºäº¤äº’å¼ç¨‹åºä½œä¸ºäº‹ä»¶é©±åŠ¨ç¨‹åºã€‚è¿™ç±»äº‹ä»¶é©±åŠ¨ç¨‹åºçš„ä¸»è¦åŠŸèƒ½ä½¿ç”¨ä¸€ä¸ªè¡¨è¾¾å¼æ¥æè¿°é’ˆå¯¹å“ªäº›ç±»å‹çš„äº‹ä»¶è°ƒç”¨å“ªäº›å‡½æ•°ã€‚è¿™äº›å‡½æ•°è¢«ç§°ä¸ºäº‹ä»¶å¤„ç†å™¨ã€‚
- en: When we launch an interactive program, the main function informs the operating
    system of this description. As soon as input events happen, the operating system
    calls the matching event handler. Similarly, the operating system knows from the
    description when and how to present the results of these function calls as output.
  id: totrans-625
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªäº¤äº’å¼ç¨‹åºæ—¶ï¼Œä¸»å‡½æ•°ä¼šé€šçŸ¥æ“ä½œç³»ç»Ÿè¿™ä¸ªæè¿°ã€‚ä¸€æ—¦å‘ç”Ÿè¾“å…¥äº‹ä»¶ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šè°ƒç”¨åŒ¹é…çš„äº‹ä»¶å¤„ç†å™¨ã€‚åŒæ ·ï¼Œæ“ä½œç³»ç»Ÿæ ¹æ®æè¿°çŸ¥é“ä½•æ—¶ä»¥åŠå¦‚ä½•å°†è¿™äº›å‡½æ•°è°ƒç”¨çš„ç»“æœä½œä¸ºè¾“å‡ºå‘ˆç°ã€‚
- en: This book focuses mostly on programs that interact via graphical user interfaces
    (GUI); there are other kinds of interactive programs, and you will get to know
    those as you continue to study computer science.
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ä¹¦ä¸»è¦å…³æ³¨é€šè¿‡å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰è¿›è¡Œäº¤äº’çš„ç¨‹åºï¼›è¿˜æœ‰å…¶ä»–ç±»å‹çš„äº¤äº’å¼ç¨‹åºï¼Œéšç€ä½ ç»§ç»­å­¦ä¹ è®¡ç®—æœºç§‘å­¦ï¼Œä½ å°†äº†è§£é‚£äº›ã€‚
- en: Batch Programs As mentioned, a batch program consumes all of its inputs at once
    and computes the result from these inputs. Its main function expects some arguments,
    hands them to auxiliary functions, receives results from those, and composes these
    results into its own final answer.
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰¹å¤„ç†ç¨‹åº å¦‚å‰æ‰€è¿°ï¼Œæ‰¹å¤„ç†ç¨‹åºä¸€æ¬¡æ¶ˆè€—æ‰€æœ‰è¾“å…¥å¹¶ä»è¿™äº›è¾“å…¥ä¸­è®¡ç®—ç»“æœã€‚å®ƒçš„ä¸»å‡½æ•°æœŸæœ›ä¸€äº›å‚æ•°ï¼Œå°†å®ƒä»¬ä¼ é€’ç»™è¾…åŠ©å‡½æ•°ï¼Œä»é‚£äº›å‡½æ•°æ¥æ”¶ç»“æœï¼Œå¹¶å°†è¿™äº›ç»“æœç»„åˆæˆå®ƒè‡ªå·±çš„æœ€ç»ˆç­”æ¡ˆã€‚
- en: Once programs are created, we want to use them. In DrRacket, we launch batch
    programs in the interactions area so that we can watch the program at work.
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦åˆ›å»ºäº†ç¨‹åºï¼Œæˆ‘ä»¬å°±æƒ³ä½¿ç”¨å®ƒä»¬ã€‚åœ¨ DrRacket ä¸­ï¼Œæˆ‘ä»¬åœ¨äº¤äº’åŒºåŸŸå¯åŠ¨æ‰¹å¤„ç†ç¨‹åºï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿç¨‹åºçš„å·¥ä½œæƒ…å†µã€‚
- en: Programs are even more useful if they can retrieve the input from some file
    and deliver the output to some other file. Indeed, the name â€œbatch programâ€ dates
    to the early days of computing when a program read a file (or several files) from
    a batch of punch cards and placed the result in some other file(s), also a batch
    of cards. Conceptually, a batch program reads the input file(s) at once and also
    produces the result file(s) all at once.
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœç¨‹åºèƒ½å¤Ÿä»æŸä¸ªæ–‡ä»¶ä¸­æ£€ç´¢è¾“å…¥å¹¶å°†è¾“å‡ºä¼ é€’åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒä»¬å°†æ›´åŠ æœ‰ç”¨ã€‚ç¡®å®ï¼Œâ€œæ‰¹å¤„ç†ç¨‹åºâ€è¿™ä¸ªåå­—å¯ä»¥è¿½æº¯åˆ°è®¡ç®—æœºçš„æ—©æœŸï¼Œå½“æ—¶ä¸€ä¸ªç¨‹åºä»ä¸€æ‰¹ç©¿å­”å¡ç‰‡ä¸­è¯»å–ä¸€ä¸ªæ–‡ä»¶ï¼ˆæˆ–å‡ ä¸ªæ–‡ä»¶ï¼‰ï¼Œå¹¶å°†ç»“æœæ”¾å…¥å¦ä¸€ä¸ªæ–‡ä»¶ï¼ˆæˆ–å‡ ä¸ªæ–‡ä»¶ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¡ç‰‡æ‰¹ã€‚ä»æ¦‚å¿µä¸Šè®²ï¼Œæ‰¹å¤„ç†ç¨‹åºä¸€æ¬¡è¯»å–è¾“å…¥æ–‡ä»¶ï¼Œä¹Ÿä¸€æ¬¡æ€§ç”Ÿæˆç»“æœæ–‡ä»¶ã€‚
- en: Add ([require](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._require%29%29)  2htdp/batch-io)
    to the definitions area, or select Add Teachpack from the Language menu and choose
    batch-io from the Preinstalled HtDP/2e Teachpack menu.
  id: totrans-630
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å°† ([require](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._require%29%29)  2htdp/batch-io)
    æ·»åŠ åˆ°å®šä¹‰åŒºåŸŸï¼Œæˆ–è€…ä»è¯­è¨€èœå•ä¸­é€‰æ‹©æ·»åŠ æ•™å­¦åŒ…ï¼Œå¹¶åœ¨é¢„å®‰è£…çš„ HtDP/2e æ•™å­¦åŒ…èœå•ä¸­é€‰æ‹© batch-ioã€‚
- en: 'We create such file-based batch programs with the 2htdp/batch-io teachpack,
    which adds two functions to our vocabulary (among others):'
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ 2htdp/batch-io æ•™å­¦åŒ…åˆ›å»ºè¿™æ ·çš„åŸºäºæ–‡ä»¶çš„æ‰¹å¤„ç†ç¨‹åºï¼Œå®ƒä¸ºæˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªå‡½æ•°ï¼ˆä»¥åŠå…¶ä»–ä¸€äº›å‡½æ•°ï¼‰ï¼š
- en: '[read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29),
    which reads the content of an entire file as a string, and'
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)ï¼Œå®ƒå°†æ•´ä¸ªæ–‡ä»¶çš„å†…å®¹ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¯»å–ï¼Œå¹¶ä¸”'
- en: '[write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29),
    which creates a file from a given string.'
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)ï¼Œå®ƒå¯ä»¥ä»ç»™å®šçš„å­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚'
- en: 'These functionsBefore you evaluate these expressions, save the definitions
    area in a file. write strings to files and read strings from them:'
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¯„ä¼°è¿™äº›è¡¨è¾¾å¼ä¹‹å‰ï¼Œè¯·å°†å®šä¹‰åŒºåŸŸä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚è¿™äº›å‡½æ•°å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶å¹¶ä»æ–‡ä»¶ä¸­è¯»å–å­—ç¬¦ä¸²ï¼š
- en: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â "sample.dat"Â "212")
    |'
  id: totrans-635
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â "sample.dat"Â "212")
    |'
- en: '| "sample.dat" |'
  id: totrans-636
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "sample.dat" |'
- en: '| > ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â "sample.dat")
    |'
  id: totrans-637
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â "sample.dat")
    |'
- en: '| "212" |'
  id: totrans-638
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "212" |'
- en: After the first interaction the file named "sample.dat" contains
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ¬¡äº¤äº’åï¼Œåä¸º "sample.dat" çš„æ–‡ä»¶åŒ…å«
- en: '| Â Â Â Â Â Â Â Â 212 |'
  id: totrans-640
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â 212 |'
- en: The result of [write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    is an acknowledgment that it has placed the string in the file. If the file already
    exists, it replaces its content with the given string; otherwise, it creates a
    file and makes the given string its content. The second interaction, ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)  "sample.dat"),
    produces "212" because it turns the content of "sample.dat" into a [String](#%28tech._string%29).For
    pragmatic reasons, [write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    also accepts 'stdout, a special kind of token, as the first argument. It then
    displays the resulting file content in the current interactions area, for example:The
    names 'stdout and 'stdin are short for standard output device and standard input
    device, respectively.
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: '[write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    çš„ç»“æœæ˜¯ç¡®è®¤å®ƒå·²å°†å­—ç¬¦ä¸²æ”¾å…¥æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œå®ƒå°†ç”¨ç»™å®šçš„å­—ç¬¦ä¸²æ›¿æ¢å…¶å†…å®¹ï¼›å¦åˆ™ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¹¶å°†ç»™å®šçš„å­—ç¬¦ä¸²ä½œä¸ºå…¶å†…å®¹ã€‚ç¬¬äºŒä¸ªäº¤äº’ï¼ˆ[read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    "sample.dat"ï¼‰äº§ç”Ÿ "212"ï¼Œå› ä¸ºå®ƒå°† "sample.dat" çš„å†…å®¹è½¬æ¢ä¸º [String](#%28tech._string%29)ã€‚å‡ºäºå®ç”¨ä¸»ä¹‰çš„åŸå› ï¼Œ[write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    ä¹Ÿæ¥å— ''stdoutï¼Œä¸€ç§ç‰¹æ®Šçš„æ ‡è®°ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚ç„¶åå®ƒå°†åœ¨å½“å‰äº¤äº’åŒºåŸŸæ˜¾ç¤ºç”Ÿæˆçš„æ–‡ä»¶å†…å®¹ï¼Œä¾‹å¦‚ï¼š''stdout å’Œ ''stdin åˆ†åˆ«æ˜¯æ ‡å‡†è¾“å‡ºè®¾å¤‡å’Œæ ‡å‡†è¾“å…¥è®¾å¤‡çš„ç®€ç§°ã€‚'
- en: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â ''stdoutÂ "212\n")
    |'
  id: totrans-642
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â ''stdoutÂ "212\n")
    |'
- en: '| 212 |'
  id: totrans-643
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 212 |'
- en: '| ''stdout |'
  id: totrans-644
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ''stdout |'
- en: By analogy, [read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    accepts 'stdin in lieu of a file name and then reads input from the current interactions
    area.
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡ç±»æ¯”ï¼Œ[read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    æ¥å— 'stdin ä½œä¸ºæ–‡ä»¶åæ›¿ä»£ï¼Œç„¶åä»å½“å‰äº¤äº’åŒºåŸŸè¯»å–è¾“å…¥ã€‚
- en: Letâ€™s illustrate the creation of a batch program with a simple example. Suppose
    we wish to create a program that converts a temperature measured on a Fahrenheit
    thermometer into a Celsius temperature. Donâ€™t worry, this question isnâ€™t a test
    about your physics knowledge; here is the conversion formula:This book is not
    about memorizing facts, but we do expect you to know where to find them. Do you
    know where to find out how temperatures are converted?
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜æ‰¹é‡ç¨‹åºçš„åˆ›å»ºã€‚å‡è®¾æˆ‘ä»¬å¸Œæœ›åˆ›å»ºä¸€ä¸ªç¨‹åºï¼Œå°†åæ°æ¸©åº¦è®¡æµ‹é‡çš„æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œè¿™ä¸ªé—®é¢˜ä¸æ˜¯å…³äºä½ çš„ç‰©ç†çŸ¥è¯†çš„æµ‹è¯•ï¼›è¿™é‡Œæ˜¯æœ‰è½¬æ¢å…¬å¼ï¼šè¿™æœ¬ä¹¦ä¸æ˜¯å…³äºè®°å¿†äº‹å®çš„ï¼Œä½†æˆ‘ä»¬ç¡®å®å¸Œæœ›ä½ äº†è§£åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒä»¬ã€‚ä½ çŸ¥é“åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°æ¸©åº¦è½¬æ¢çš„æ–¹æ³•å—ï¼Ÿ
- en: '![image](../Images/aea4323ca885d7ef328eede960605947.png)'
  id: totrans-647
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/aea4323ca885d7ef328eede960605947.png)'
- en: Naturally, in this formula f is the Fahrenheit temperature and C is the Celsius
    temperature. While this formula might be good enough for a pre-algebra textbook,
    a mathematician or a programmer would write C(f) on the left side of the equation
    to remind readers that f is a given value and C is computed from f.
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªç„¶åœ°ï¼Œåœ¨è¿™ä¸ªå…¬å¼ä¸­ï¼Œf æ˜¯åæ°æ¸©åº¦ï¼ŒC æ˜¯æ‘„æ°æ¸©åº¦ã€‚è™½ç„¶è¿™ä¸ªå…¬å¼å¯¹äºä»£æ•°å‰æ•™æå¯èƒ½è¶³å¤Ÿå¥½ï¼Œä½†æ•°å­¦å®¶æˆ–ç¨‹åºå‘˜ä¼šåœ¨ç­‰å¼å·¦è¾¹å†™ C(f) æ¥æé†’è¯»è€… f æ˜¯ä¸€ä¸ªç»™å®šçš„å€¼ï¼ŒC
    æ˜¯ä» f è®¡ç®—å¾—å‡ºçš„ã€‚
- en: 'Translating this formula into BSL is straightforward:'
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è¿™ä¸ªå…¬å¼è½¬æ¢ä¸º BSL æ˜¯ç›´æ¥çš„ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (CÂ f)
    |'
  id: totrans-650
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (CÂ f)
    |'
- en: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 5/9Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â fÂ 32)))
    |'
  id: totrans-651
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 5/9Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â fÂ 32)))
    |'
- en: 'Recall that 5/9 is a number, a rational fraction to be precise, and that C
    depends on the given f, which is what the function notation expresses.Launching
    this batch program in the interactions area works as usual:'
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹ï¼Œ5/9æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸€ä¸ªç²¾ç¡®çš„æœ‰ç†åˆ†æ•°ï¼ŒCä¾èµ–äºç»™å®šçš„fï¼Œè¿™æ­£æ˜¯å‡½æ•°è¡¨ç¤ºæ³•æ‰€è¡¨è¾¾çš„ã€‚åœ¨äº¤äº’åŒºåŸŸå¯åŠ¨æ­¤æ‰¹å¤„ç†ç¨‹åºçš„å·¥ä½œæ–¹å¼ä¸å¾€å¸¸ä¸€æ ·ï¼š
- en: '| > (CÂ 32) |'
  id: totrans-653
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (CÂ 32) |'
- en: '| 0 |'
  id: totrans-654
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0 |'
- en: '| > (CÂ 212) |'
  id: totrans-655
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (CÂ 212) |'
- en: '| 100 |'
  id: totrans-656
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 100 |'
- en: '| > (CÂ -40) |'
  id: totrans-657
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (CÂ -40) |'
- en: '| -40 |'
  id: totrans-658
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| -40 |'
- en: 'But suppose we wish to use this function as part of a program that reads the
    Fahrenheit temperature from a file, converts this number into a Celsius temperature,
    and then creates another file that contains the result.Once we have the conversion
    formula in BSL, creating the main function means composing C with existing primitive
    functions:'
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†å‡è®¾æˆ‘ä»¬å¸Œæœ›å°†æ­¤å‡½æ•°ä½œä¸ºç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œè¯¥ç¨‹åºä»æ–‡ä»¶ä¸­è¯»å–åæ°æ¸©åº¦ï¼Œå°†æ­¤æ•°å­—è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦ï¼Œç„¶ååˆ›å»ºå¦ä¸€ä¸ªåŒ…å«ç»“æœçš„æ–‡ä»¶ã€‚ä¸€æ—¦æˆ‘ä»¬åœ¨BSLä¸­æœ‰è½¬æ¢å…¬å¼ï¼Œåˆ›å»ºä¸»å‡½æ•°æ„å‘³ç€å°†Cä¸ç°æœ‰çš„åŸå§‹å‡½æ•°ç»„åˆï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (convertÂ inÂ out)
    |'
  id: totrans-660
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (convertÂ inÂ out)
    |'
- en: '| Â Â ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â out
    |'
  id: totrans-661
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å†™å…¥æ–‡ä»¶](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â out
    |'
- en: '| Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
  id: totrans-662
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([å­—ç¬¦ä¸²è¿æ¥](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    |'
- en: '| Â Â Â Â Â Â ([number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)
    |'
  id: totrans-663
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([æ•°å­—è½¬å­—ç¬¦ä¸²](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â (C |'
  id: totrans-664
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â (C |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)
    |'
  id: totrans-665
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([å­—ç¬¦ä¸²è½¬æ•°å­—](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â in))))
    |'
  id: totrans-666
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([è¯»å–æ–‡ä»¶](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    in)))) |'
- en: '| Â Â Â Â Â Â "\n"))) |'
  id: totrans-667
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â "\n"))) |'
- en: 'We call the main function convert. It consumes two file names: in for the file
    where the Fahrenheit temperature is found and out for where we want the Celsius
    result. A composition of five functions computes convertâ€™s result. Letâ€™s step
    through convertâ€™s body carefully:'
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç§°ä¸»å‡½æ•°ä¸ºconvertã€‚å®ƒæ¶ˆè€—ä¸¤ä¸ªæ–‡ä»¶åï¼šinç”¨äºæ‰¾åˆ°åæ°æ¸©åº¦çš„æ–‡ä»¶ï¼Œoutç”¨äºæˆ‘ä»¬æƒ³è¦æ‘„æ°ç»“æœçš„æ–‡ä»¶ã€‚äº”ä¸ªå‡½æ•°çš„ç»„åˆè®¡ç®—convertçš„ç»“æœã€‚è®©æˆ‘ä»¬ä»”ç»†åœ°é€æ­¥é€šè¿‡convertçš„ä¸»ä½“ï¼š
- en: ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)  in)
    retrieves the content of the named file as a string;
  id: totrans-669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([è¯»å–æ–‡ä»¶](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    in) å°†æŒ‡å®šæ–‡ä»¶çš„ å†…å®¹ä½œä¸ºå­—ç¬¦ä¸²æ£€ç´¢ï¼›
- en: '[string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)
    turns this string into a number;'
  id: totrans-670
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[å­—ç¬¦ä¸²è½¬æ•°å­—](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)
    å°†æ­¤å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼›'
- en: C interprets the number as a Fahrenheit temperature and converts it into a Celsius
    temperature;
  id: totrans-671
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Cå°†æ•°å­—è§£é‡Šä¸ºåæ°æ¸©åº¦å¹¶å°†å…¶è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦ï¼›
- en: '[number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)
    consumes this Celsius temperature and turns it into a string; and'
  id: totrans-672
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ•°å­—è½¬å­—ç¬¦ä¸²](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)
    æ¶ˆè€—è¿™ä¸ªæ‘„æ°æ¸©åº¦å¹¶å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼›'
- en: ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)  out  [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    places this string into the file named out.
  id: totrans-673
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([å†™å…¥æ–‡ä»¶](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    out  [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    å°†æ­¤å­—ç¬¦ä¸²æ”¾å…¥åä¸ºoutçš„æ–‡ä»¶ä¸­ã€‚
- en: This long list of steps might look overwhelming, and it doesnâ€™t even include
    the [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    part. Stop! Explain
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é•¿é•¿çš„æ­¥éª¤åˆ—è¡¨å¯èƒ½çœ‹èµ·æ¥ä»¤äººæœ›è€Œç”Ÿç•ï¼Œè€Œä¸”ç”šè‡³è¿˜æ²¡æœ‰åŒ…æ‹¬ [string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)
    éƒ¨åˆ†ã€‚åœï¼è§£é‡Š
- en: ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â "\n")
  id: totrans-675
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â "\n")
- en: In contrast, the average function composition in a pre-algebra course involves
    two functions, possibly three. Keep in mind, though, that programs accomplish
    a real-world purpose while exercises in algebra merely illustrate the idea of
    function composition.
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æ­¤ç›¸åï¼Œåœ¨ä»£æ•°é¢„å¤‡è¯¾ç¨‹ä¸­ï¼Œå¹³å‡çš„å‡½æ•°ç»„åˆæ¶‰åŠä¸¤ä¸ªå‡½æ•°ï¼Œå¯èƒ½ä¸‰ä¸ªã€‚ä½†è¯·è®°ä½ï¼Œç¨‹åºå®Œæˆçš„æ˜¯ç°å®ä¸–ç•Œçš„ä»»åŠ¡ï¼Œè€Œä»£æ•°ä¸­çš„ç»ƒä¹ ä»…ä»…æ˜¯ä¸ºäº†è¯´æ˜å‡½æ•°ç»„åˆçš„æ¦‚å¿µã€‚
- en: At this point, we can experiment with convert. To start with, we use [write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    to create an input file for convert:You can also create "sample.dat" with a file
    editor.
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨ convertã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ [write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    ä¸º convert åˆ›å»ºä¸€ä¸ªè¾“å…¥æ–‡ä»¶ï¼šä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶ç¼–è¾‘å™¨åˆ›å»º "sample.dat"ã€‚
- en: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â "sample.dat"Â "212")
    |'
  id: totrans-678
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â "sample.dat"Â "212")
    |'
- en: '| "sample.dat" |'
  id: totrans-679
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "sample.dat" |'
- en: '| > (convertÂ "sample.dat"Â ''stdout) |'
  id: totrans-680
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (convertÂ "sample.dat"Â ''stdout) |'
- en: '| 100 |'
  id: totrans-681
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 100 |'
- en: '| ''stdout |'
  id: totrans-682
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ''stdout |'
- en: '| > (convertÂ "sample.dat"Â "out.dat") |'
  id: totrans-683
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (convertÂ "sample.dat"Â "out.dat") |'
- en: '| "out.dat" |'
  id: totrans-684
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "out.dat" |'
- en: '| > ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â "out.dat")
    |'
  id: totrans-685
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â "out.dat")
    |'
- en: '| "100" |'
  id: totrans-686
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "100" |'
- en: For the first interaction, we use 'stdout so that we can view what convert outputs
    in DrRacketâ€™s interactions area. For the second one, convert is given the name
    "out.dat". As expected, the call to convert returns this string; from the description
    of [write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    we also know that it deposited a Fahrenheit temperature in the file. Here we read
    the content of this file with [read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29),
    but you could also view it with a text editor.
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç¬¬ä¸€æ¬¡äº¤äº’ï¼Œæˆ‘ä»¬ä½¿ç”¨ 'stdout ä»¥ä¾¿åœ¨ DrRacket çš„äº¤äº’åŒºåŸŸæŸ¥çœ‹ convert çš„è¾“å‡ºã€‚å¯¹äºç¬¬äºŒæ¬¡ï¼Œconvert è¢«å‘½åä¸º "out.dat"ã€‚æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œconvert
    çš„è°ƒç”¨è¿”å›äº†è¿™ä¸ªå­—ç¬¦ä¸²ï¼›æ ¹æ® [write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    çš„æè¿°ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“å®ƒå°†åæ°æ¸©åº¦å­˜å…¥æ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ [read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    è¯»å–è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æŸ¥çœ‹ã€‚
- en: In addition to running the batch program, it is also instructive to step through
    the computation. Make sure that the file "sample.dat" exists and contains just
    a number, then click the STEP button in DrRacket. Doing so opens another window
    in which you can peruse the computational process that the call to the main function
    of a batch program triggers. You will see that the process follows the above outline.
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†è¿è¡Œæ‰¹å¤„ç†ç¨‹åºå¤–ï¼Œé€æ­¥æŸ¥çœ‹è®¡ç®—è¿‡ç¨‹ä¹Ÿæ˜¯å¾ˆæœ‰æ•™è‚²æ„ä¹‰çš„ã€‚ç¡®ä¿æ–‡ä»¶ "sample.dat" å­˜åœ¨ä¸”ä»…åŒ…å«ä¸€ä¸ªæ•°å­—ï¼Œç„¶ååœ¨ DrRacket ä¸­ç‚¹å‡» STEP
    æŒ‰é’®ã€‚è¿™æ ·åšä¼šæ‰“å¼€å¦ä¸€ä¸ªçª—å£ï¼Œä½ å¯ä»¥æŸ¥çœ‹æ‰¹å¤„ç†ç¨‹åºä¸»å‡½æ•°è°ƒç”¨æ‰€è§¦å‘çš„è®¡ç®—è¿‡ç¨‹ã€‚ä½ ä¼šçœ‹åˆ°è¿™ä¸ªè¿‡ç¨‹éµå¾ªä¸Šè¿°å¤§çº²ã€‚
- en: 'ExerciseÂ 31\. Recall the letter program from [Composing Functions](#%28part._sec~3acomposing%29).
    Here is how to launch the program and have it write its output to the interactions
    area:'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  31ã€‚å›å¿†ä¸€ä¸‹ [ç»„åˆå‡½æ•°](#%28part._sec~3acomposing%29) ä¸­çš„å­—æ¯ç¨‹åºã€‚ä»¥ä¸‹æ˜¯å¯åŠ¨ç¨‹åºå¹¶å°†å…¶è¾“å‡ºå†™å…¥äº¤äº’åŒºåŸŸçš„æ–¹æ³•ï¼š
- en: '|'
  id: totrans-690
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-691
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    &#124;'
  id: totrans-692
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; > ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    &#124;'
- en: '&#124; Â Â Â ''stdout &#124;'
  id: totrans-693
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â ''stdout &#124;'
- en: '&#124; Â Â Â (letterÂ "Matthew"Â "Fisler"Â "Felleisen")) &#124;'
  id: totrans-694
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ï¼ˆï¼ˆletter "Matthew" "Fisler" "Felleisen"ï¼‰ï¼‰ |'
- en: ''
  id: totrans-695
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-696
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| |'
- en: '|'
  id: totrans-697
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| |'
- en: ''
  id: totrans-698
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; Dear Matthew, &#124;'
  id: totrans-699
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| äº²çˆ±çš„ Matthewï¼Œ |'
- en: '&#124;  &#124;'
  id: totrans-700
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| |'
- en: '&#124; We have discovered that all people with the &#124;'
  id: totrans-701
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| æˆ‘ä»¬å‘ç°æ‰€æœ‰å§“ Fisler çš„äººéƒ½å·²ç»èµ¢å¾—äº†æˆ‘ä»¬çš„å½©ç¥¨ã€‚æ‰€ä»¥ï¼Œ |'
- en: '&#124; last name Fisler have won our lottery. So, &#124;'
  id: totrans-702
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| æ‰€ä»¥ï¼Œ |'
- en: '&#124; Matthew, hurry and pick up your prize. &#124;'
  id: totrans-703
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| Matthewï¼Œèµ¶å¿«å»é¢†å¥–å§ã€‚ |'
- en: '&#124;  &#124;'
  id: totrans-704
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| |'
- en: '&#124; Sincerely, &#124;'
  id: totrans-705
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| | çœŸè¯šåœ°ï¼Œ |'
- en: '&#124;  &#124;'
  id: totrans-706
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| |'
- en: '&#124; Felleisen &#124;'
  id: totrans-707
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| Felleisen |'
- en: ''
  id: totrans-708
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-709
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| |'
- en: '| ''stdout |'
  id: totrans-710
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ''stdout |'
- en: 'Of course, programs are useful because you can launch them for many different
    inputs. Run letter on three inputs of your choice.Here is a letter-writing batch
    program that reads names from three files and writes a letter to one:'
  id: totrans-711
  prefs: []
  type: TYPE_NORMAL
  zh: '| å½“ç„¶ï¼Œç¨‹åºæ˜¯æœ‰ç”¨çš„ï¼Œå› ä¸ºä½ å¯ä»¥ä¸ºè®¸å¤šä¸åŒçš„è¾“å…¥å¯åŠ¨å®ƒä»¬ã€‚åœ¨ä¸‰ä¸ªä½ é€‰æ‹©çš„è¾“å…¥ä¸Šè¿è¡Œå­—æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯»å–ä¸‰ä¸ªæ–‡ä»¶ä¸­çš„å§“åå¹¶å†™å…¥ä¸€ä¸ªä¿¡ä»¶çš„æ‰¹å¤„ç†ç¨‹åºï¼š'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ in-fstÂ in-lstÂ in-signatureÂ out)
    |'
  id: totrans-712
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (main in-fst in-lst in-signature out)ï¼‰ |'
- en: '| Â Â ([write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)Â out
    |'
  id: totrans-713
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[write-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29)
    outï¼‰ |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (letterÂ ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â in-fst)
    |'
  id: totrans-714
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆå­—æ¯ ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    in-fst)ï¼‰ |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â in-lst)
    |'
  id: totrans-715
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    in-lst)ï¼‰ |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)Â in-signature))))
    |'
  id: totrans-716
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[read-file](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-file%29%29)
    in-signature)ï¼‰ |'
- en: 'The function consumes four strings: the first three are the names of input
    files and the last one serves as an output file. It uses the first three to read
    one string each from the three named files, hands these strings to letter, and
    eventually writes the result of this function call into the file named by out,
    the fourth argument to main.'
  id: totrans-717
  prefs: []
  type: TYPE_NORMAL
  zh: '| å‡½æ•°æ¶ˆè€—å››ä¸ªå­—ç¬¦ä¸²ï¼šå‰ä¸‰ä¸ªæ˜¯è¾“å…¥æ–‡ä»¶çš„åç§°ï¼Œæœ€åä¸€ä¸ªç”¨ä½œè¾“å‡ºæ–‡ä»¶ã€‚å®ƒä½¿ç”¨å‰ä¸‰ä¸ªä»ä¸‰ä¸ªå‘½åçš„æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°†è¿™äº›å­—ç¬¦ä¸²äº¤ç»™ letterï¼Œæœ€ç»ˆå°†è¿™ä¸ªå‡½æ•°è°ƒç”¨çš„ç»“æœå†™å…¥åä¸º
    out çš„æ–‡ä»¶ä¸­ï¼Œè¿™æ˜¯ main çš„ç¬¬å››ä¸ªå‚æ•°ã€‚'
- en: Create appropriate files, launch main, and check whether it delivers the expected
    letter in a given file.
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: '| åˆ›å»ºé€‚å½“çš„æ–‡ä»¶ï¼Œå¯åŠ¨ mainï¼Œæ£€æŸ¥å®ƒæ˜¯å¦åœ¨ç»™å®šçš„æ–‡ä»¶ä¸­æä¾›äº†é¢„æœŸçš„ä¿¡ä»¶ã€‚'
- en: Interactive Programs Batch programs are a staple of business uses of computers,
    but the programs people encounter now are interactive. In this day and age, people
    mostly interact with desktop applications via a keyboard and a mouse. Furthermore,
    interactive programs can also react to computer-generated events, for example,
    clock ticks or the arrival of a message from some other computer.
  id: totrans-719
  prefs: []
  type: TYPE_NORMAL
  zh: '| äº¤äº’å¼ç¨‹åº æ‰¹å¤„ç†ç¨‹åºæ˜¯è®¡ç®—æœºå•†ä¸šç”¨é€”çš„åŸºçŸ³ï¼Œä½†ç°åœ¨äººä»¬é‡åˆ°çš„ç¨‹åºå¤§å¤šæ˜¯äº¤äº’å¼çš„ã€‚åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œäººä»¬ä¸»è¦é€šè¿‡é”®ç›˜å’Œé¼ æ ‡ä¸æ¡Œé¢åº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚æ­¤å¤–ï¼Œäº¤äº’å¼ç¨‹åºè¿˜å¯ä»¥å¯¹è®¡ç®—æœºç”Ÿæˆçš„äº‹ä»¶åšå‡ºååº”ï¼Œä¾‹å¦‚æ—¶é’Ÿæ»´ç­”å£°æˆ–æ¥è‡ªå…¶ä»–è®¡ç®—æœºçš„æ¶ˆæ¯åˆ°è¾¾ã€‚'
- en: ExerciseÂ 32\. Most people no longer use desktop computers just to run applications
    but also employ cell phones, tablets, and their carsâ€™ information control screen.
    Soon people will use wearable computers in the form of intelligent glasses, clothes,
    and sports gear. In the somewhat more distant future, people may come with built-in
    bio computers that directly interact with body functions. Think of ten different
    forms of events that software applications on such computers will have to deal
    with.
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
  zh: '| ç»ƒä¹  32ã€‚å¤§å¤šæ•°äººä¸å†ä»…ä»…ä½¿ç”¨æ¡Œé¢è®¡ç®—æœºæ¥è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¿˜ä½¿ç”¨æ‰‹æœºã€å¹³æ¿ç”µè„‘å’Œæ±½è½¦çš„ä¿¡æ¯æ§åˆ¶å±å¹•ã€‚ä¸ä¹…ï¼Œäººä»¬å°†ä½¿ç”¨æ™ºèƒ½çœ¼é•œã€è¡£æœå’Œè¿åŠ¨è£…å¤‡ç­‰å½¢å¼çš„å¯ç©¿æˆ´è®¡ç®—æœºã€‚åœ¨ä¸å¤ªé¥è¿œçš„æœªæ¥ï¼Œäººä»¬å¯èƒ½ä¼šæ‹¥æœ‰å†…ç½®çš„ç”Ÿç‰©è®¡ç®—æœºï¼Œå®ƒä»¬å¯ä»¥ç›´æ¥ä¸èº«ä½“åŠŸèƒ½äº¤äº’ã€‚æƒ³æƒ³è¿™æ ·çš„è®¡ç®—æœºä¸Šçš„è½¯ä»¶åº”ç”¨ç¨‹åºå°†ä¸å¾—ä¸å¤„ç†çš„ä¸åŒå½¢å¼çš„äº‹ä»¶ã€‚'
- en: The purpose of this section is to introduce the mechanics of writing interactive
    BSL programs. Because many of the project-style examples in this book are interactive
    programs, we introduce the ideas slowly and carefully. You may wish to return
    to this section when you tackle some of the interactive programming projects;
    a second or third reading may clarify some of the advanced aspects of the mechanics.
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚çš„ç›®çš„åœ¨äºä»‹ç»ç¼–å†™äº¤äº’å¼BSLç¨‹åºçš„æœºåˆ¶ã€‚ç”±äºæœ¬ä¹¦ä¸­çš„è®¸å¤šé¡¹ç›®å¼ç¤ºä¾‹éƒ½æ˜¯äº¤äº’ç¨‹åºï¼Œæˆ‘ä»¬ç¼“æ…¢è€Œç»†è‡´åœ°ä»‹ç»äº†è¿™äº›ç†å¿µã€‚å½“ä½ ç€æ‰‹å¤„ç†ä¸€äº›äº¤äº’å¼ç¼–ç¨‹é¡¹ç›®æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›å›åˆ°è¿™ä¸€èŠ‚ï¼›å†æ¬¡æˆ–å¤šæ¬¡é˜…è¯»å¯èƒ½ä¼šé˜æ˜ä¸€äº›æœºåˆ¶çš„é«˜çº§æ–¹é¢ã€‚
- en: By itself, a raw computer is a useless piece of physical equipment. It is called
    hardware because you can touch it. This equipment becomes useful once you install
    software, that is, a suite of programs. Usually the first piece of software to
    be installed on a computer is an operating system. It has the task of managing
    the computer for you, including connected devices such as the monitor, the keyboard,
    the mouse, the speakers, and so on. The way it works is that when a user presses
    a key on the keyboard, the operating system runs a function that processes keystrokes.
    We say that the keystroke is a key event, and the function is an event handler.
    In the same vein, the operating system runs an event handler for clock ticks,
    for mouse actions, and so on. Conversely, after an event handler is done with
    its work, the operating system may have to change the image on the screen, ring
    a bell, print a document, or perform a similar action. To accomplish these tasks,
    it also runs functions that translate the operating systemâ€™s data into sounds,
    images, actions on the printer, and so on.
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
  zh: å•ç‹¬æ¥çœ‹ï¼Œä¸€å°åŸå§‹è®¡ç®—æœºåªæ˜¯ä¸€ä»¶æ— ç”¨çš„ç‰©ç†è®¾å¤‡ã€‚å®ƒè¢«ç§°ä¸ºç¡¬ä»¶ï¼Œå› ä¸ºä½ å¯ä»¥è§¦æ‘¸å®ƒã€‚ä¸€æ—¦å®‰è£…äº†è½¯ä»¶ï¼Œå³ä¸€å¥—ç¨‹åºï¼Œè¿™ç§è®¾å¤‡å°±å˜å¾—æœ‰ç”¨ã€‚é€šå¸¸ï¼Œè®¡ç®—æœºä¸Šé¦–å…ˆå®‰è£…çš„è½¯ä»¶æ˜¯æ“ä½œç³»ç»Ÿã€‚å®ƒçš„ä»»åŠ¡æ˜¯ä¸ºä½ ç®¡ç†è®¡ç®—æœºï¼ŒåŒ…æ‹¬è¿æ¥çš„è®¾å¤‡ï¼Œå¦‚æ˜¾ç¤ºå™¨ã€é”®ç›˜ã€é¼ æ ‡ã€æ‰¬å£°å™¨ç­‰ç­‰ã€‚å®ƒçš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå½“ç”¨æˆ·æŒ‰ä¸‹é”®ç›˜ä¸Šçš„é”®æ—¶ï¼Œæ“ä½œç³»ç»Ÿè¿è¡Œä¸€ä¸ªå¤„ç†æŒ‰é”®çš„å‡½æ•°ã€‚æˆ‘ä»¬ç§°æŒ‰é”®ä¸ºä¸€ä¸ªæŒ‰é”®äº‹ä»¶ï¼Œè¯¥å‡½æ•°ä¸ºä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨ã€‚åŒæ ·ï¼Œæ“ä½œç³»ç»Ÿè¿è¡Œäº‹ä»¶å¤„ç†å™¨æ¥å¤„ç†æ—¶é’Ÿæ»´ç­”ã€é¼ æ ‡åŠ¨ä½œç­‰ç­‰ã€‚ç›¸åï¼Œäº‹ä»¶å¤„ç†å™¨å®Œæˆå…¶å·¥ä½œåï¼Œæ“ä½œç³»ç»Ÿå¯èƒ½éœ€è¦æ›´æ”¹å±å¹•ä¸Šçš„å›¾åƒã€å“é“ƒã€æ‰“å°æ–‡æ¡£æˆ–æ‰§è¡Œç±»ä¼¼æ“ä½œã€‚ä¸ºäº†å®Œæˆè¿™äº›ä»»åŠ¡ï¼Œå®ƒè¿˜è¿è¡Œå°†æ“ä½œç³»ç»Ÿæ•°æ®è½¬æ¢ä¸ºå£°éŸ³ã€å›¾åƒã€æ‰“å°æœºä¸Šçš„åŠ¨ä½œç­‰åŠŸèƒ½çš„å‡½æ•°ã€‚
- en: Naturally, different programs have different needs. One program may interpret
    keystrokes as signals to control a nuclear reactor; another passes them to a word
    processor. To make a general-purpose computer work on these radically different
    tasks, different programs install different event handlers. That is, a rocket-launching
    program uses one kind of function to deal with clock ticks while an ovenâ€™s software
    uses a different kind.
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªç„¶åœ°ï¼Œä¸åŒçš„ç¨‹åºæœ‰ä¸åŒçš„éœ€æ±‚ã€‚ä¸€ä¸ªç¨‹åºå¯èƒ½å°†æŒ‰é”®è§£é‡Šä¸ºæ§åˆ¶æ ¸ååº”å †çš„ä¿¡å·ï¼›å¦ä¸€ä¸ªåˆ™å°†å®ƒä»¬ä¼ é€’ç»™æ–‡å­—å¤„ç†å™¨ã€‚ä¸ºäº†è®©é€šç”¨è®¡ç®—æœºæ‰§è¡Œè¿™äº›æ ¹æœ¬ä¸åŒçš„ä»»åŠ¡ï¼Œä¸åŒçš„ç¨‹åºå®‰è£…äº†ä¸åŒçš„äº‹ä»¶å¤„ç†å™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç«ç®­å‘å°„ç¨‹åºä½¿ç”¨ä¸€ç§å‡½æ•°æ¥å¤„ç†æ—¶é’Ÿæ»´ç­”ï¼Œè€Œçƒ¤ç®±çš„è½¯ä»¶åˆ™ä½¿ç”¨ä¸åŒçš„å‡½æ•°ã€‚
- en: Designing an interactive program requires a way to designate some function as
    the one that takes care of keyboard events, another function for dealing with
    clock ticks, a third one for presenting some data as an image, and so forth. It
    is the task of an interactive programâ€™s main function to communicate these designations
    to the operating system, that is, the software platform on which the program is
    launched.
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªäº¤äº’ç¨‹åºéœ€è¦ä¸€ç§æ–¹å¼æ¥æŒ‡å®šæŸäº›å‡½æ•°è´Ÿè´£å¤„ç†é”®ç›˜äº‹ä»¶ï¼Œå¦ä¸€ä¸ªå‡½æ•°å¤„ç†æ—¶é’Ÿæ»´ç­”ï¼Œç¬¬ä¸‰ä¸ªå‡½æ•°å°†æŸäº›æ•°æ®å‘ˆç°ä¸ºå›¾åƒï¼Œç­‰ç­‰ã€‚äº¤äº’ç¨‹åºä¸»å‡½æ•°çš„ä»»åŠ¡æ˜¯å°†è¿™äº›æŒ‡å®šä¼ è¾¾ç»™æ“ä½œç³»ç»Ÿï¼Œå³ç¨‹åºå¯åŠ¨çš„è½¯ä»¶å¹³å°ã€‚
- en: DrRacket is a small operating system, and BSL is one of its programming languages.
    The latter comes with the 2htdp/universe teachpack, which provides [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29),
    a mechanism for telling the operating system which function deals with which event.
    In addition, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    keeps track of the state of the program. To this end, it comes with one required
    sub-expression, whose value becomes the initial state of the program. Otherwise
    [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    consists of one required clause and many optional clauses. The required [to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)
    clause tells DrRacket how to render the state of the program, including the initial
    one. Each of the other, optional clauses tells the operating system that a certain
    function takes care of a certain event. Taking care of an event in BSL means that
    the function consumes the state of the program and a description of the event,
    and that it produces the next state of the program. We therefore speak of the
    current state of the program.
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
  zh: DrRacketæ˜¯ä¸€ä¸ªå°å‹æ“ä½œç³»ç»Ÿï¼ŒBSLæ˜¯å…¶ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ã€‚åè€…é™„å¸¦2htdp/universeæ•™å­¦åŒ…ï¼Œå®ƒæä¾›äº†[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)ï¼Œè¿™æ˜¯ä¸€ç§å‘Šè¯‰æ“ä½œç³»ç»Ÿå“ªä¸ªå‡½æ•°å¤„ç†å“ªä¸ªäº‹ä»¶çš„æœºåˆ¶ã€‚æ­¤å¤–ï¼Œ[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¿˜è·Ÿè¸ªç¨‹åºçš„çŠ¶æ€ã€‚ä¸ºæ­¤ï¼Œå®ƒåŒ…å«ä¸€ä¸ªå¿…éœ€çš„å­è¡¨è¾¾å¼ï¼Œå…¶å€¼æˆä¸ºç¨‹åºçš„åˆå§‹çŠ¶æ€ã€‚å¦åˆ™[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)ç”±ä¸€ä¸ªå¿…éœ€å­å¥å’Œè®¸å¤šå¯é€‰å­å¥ç»„æˆã€‚å¿…éœ€çš„[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)å­å¥å‘Šè¯‰DrRacketå¦‚ä½•æ¸²æŸ“ç¨‹åºçš„çŠ¶æ€ï¼ŒåŒ…æ‹¬åˆå§‹çŠ¶æ€ã€‚å…¶ä»–æ¯ä¸ªå¯é€‰å­å¥éƒ½å‘Šè¯‰æ“ä½œç³»ç»ŸæŸä¸ªå‡½æ•°è´Ÿè´£å¤„ç†æŸä¸ªäº‹ä»¶ã€‚åœ¨BSLä¸­å¤„ç†äº‹ä»¶æ„å‘³ç€è¯¥å‡½æ•°æ¶ˆè€—ç¨‹åºçš„çŠ¶æ€å’Œäº‹ä»¶çš„æè¿°ï¼Œå¹¶äº§ç”Ÿç¨‹åºçš„ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è°ˆè®ºç¨‹åºå½“å‰çš„çŠ¶æ€ã€‚
- en: 'Terminology In a sense, a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression describes how a program connects with a small segment of the world.
    This world might be a game that the programâ€™s users play, an animation that the
    user watches, or a text editor that the user employs to manipulate some notes.
    Programming language researchers therefore often say that [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    is a description of a small world: its initial state, how states are transformed,
    how states are rendered, and how [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    may determine other attributes of the current state. In this spirit, we also speak
    of the state of the world and even call [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    programs world programs. End'
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¯è¯­åœ¨æŸç§æ„ä¹‰ä¸Šï¼Œä¸€ä¸ª[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼æè¿°äº†ç¨‹åºå¦‚ä½•ä¸ä¸–ç•Œçš„æŸä¸ªå°éƒ¨åˆ†è¿æ¥ã€‚è¿™ä¸ªä¸–ç•Œå¯èƒ½æ˜¯ç¨‹åºç”¨æˆ·ç©çš„æ¸¸æˆï¼Œç”¨æˆ·è§‚çœ‹çš„åŠ¨ç”»ï¼Œæˆ–è€…ç”¨æˆ·ç”¨æ¥æ“ä½œç¬”è®°çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å› æ­¤ï¼Œç¼–ç¨‹è¯­è¨€ç ”ç©¶äººå‘˜å¸¸è¯´[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)æ˜¯å¯¹ä¸€ä¸ªå°ä¸–ç•Œçš„æè¿°ï¼šå…¶åˆå§‹çŠ¶æ€ï¼ŒçŠ¶æ€å¦‚ä½•è½¬æ¢ï¼ŒçŠ¶æ€å¦‚ä½•æ¸²æŸ“ï¼Œä»¥åŠ[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)å¦‚ä½•ç¡®å®šå½“å‰çŠ¶æ€çš„å…¶ä»–å±æ€§ã€‚åœ¨è¿™ç§ç²¾ç¥ä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿè°ˆè®ºä¸–ç•Œçš„çŠ¶æ€ï¼Œç”šè‡³ç§°[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)ç¨‹åºä¸ºä¸–ç•Œç¨‹åºã€‚ç»“æŸ
- en: 'Letâ€™s study this idea step-by-step, starting with this definition:'
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä¸€æ­¥æ­¥åœ°ç ”ç©¶è¿™ä¸ªæƒ³æ³•ï¼Œä»ä»¥ä¸‹å®šä¹‰å¼€å§‹ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (number->squareÂ s)
    |'
  id: totrans-728
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (number->squareÂ s)
    |'
- en: '| Â Â ([square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â sÂ "solid"Â "red"))
    |'
  id: totrans-729
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å¹³æ–¹](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â sÂ "solid"Â "red"))
    |'
- en: 'The function consumes a positive number and produces a solid red square of
    that size. After clicking RUN, experiment with the function, like this:'
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ªæ­£æ•°å¹¶ç”Ÿæˆä¸€ä¸ªè¯¥å¤§å°çš„å®å¿ƒçº¢è‰²æ–¹å—ã€‚ç‚¹å‡»è¿è¡Œåï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹æ“ä½œï¼š
- en: '| > (number->squareÂ 5) |'
  id: totrans-731
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (number->squareÂ 5) |'
- en: '| ![image](../Images/a04d71c2c1129c5495f80c3726ad2bed.png) |'
  id: totrans-732
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![å›¾ç‰‡](../Images/a04d71c2c1129c5495f80c3726ad2bed.png) |'
- en: '| > (number->squareÂ 10) |'
  id: totrans-733
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (number->squareÂ 10) |'
- en: '| ![image](../Images/f0eb4bf39f91871e2e1b033c189e565f.png) |'
  id: totrans-734
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![å›¾ç‰‡](../Images/f0eb4bf39f91871e2e1b033c189e565f.png) |'
- en: '| > (number->squareÂ 20) |'
  id: totrans-735
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (number->squareÂ 20) |'
- en: '| ![image](../Images/7320d5a8a6e529bd17ac208f4523381e.png) |'
  id: totrans-736
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![å›¾ç‰‡](../Images/7320d5a8a6e529bd17ac208f4523381e.png) |'
- en: 'It behaves like a batch program, consuming a number and producing an image,
    which DrRacket renders for you.Now try the following [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression in the interactions area:'
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒçš„è¡Œä¸ºåƒä¸€ä¸ªæ‰¹å¤„ç†ç¨‹åºï¼Œæ¶ˆè€—ä¸€ä¸ªæ•°å­—å¹¶ç”Ÿæˆä¸€ä¸ªå›¾åƒï¼ŒDrRacketä¸ºæ‚¨æ¸²æŸ“ã€‚ç°åœ¨å°è¯•åœ¨äº¤äº’åŒºåŸŸè¾“å…¥ä»¥ä¸‹[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼ï¼š
- en: '| > ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square])
    |'
  id: totrans-738
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100Â [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square])
    |'
- en: 'A separate window appears, and it displays a ![image](../Images/e5703f146c381c71c4c52d055c6681a9.png)
    red square. In addition, the DrRacket interactions area does not display another
    prompt; it is as if the program keeps running, and this is indeed the case. To
    stop the program, click on DrRacketâ€™s STOP button or the windowâ€™s CLOSE button:'
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå•ç‹¬çš„çª—å£å‡ºç°ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ª![å›¾ç‰‡](../Images/e5703f146c381c71c4c52d055c6681a9.png)çº¢è‰²æ–¹å—ã€‚æ­¤å¤–ï¼ŒDrRacketçš„äº¤äº’åŒºåŸŸä¸ä¼šæ˜¾ç¤ºå¦ä¸€ä¸ªæç¤ºï¼›å®ƒå°±åƒç¨‹åºä¸€ç›´åœ¨è¿è¡Œä¸€æ ·ï¼Œè¿™ç¡®å®æ˜¯äº‹å®ã€‚è¦åœæ­¢ç¨‹åºï¼Œè¯·ç‚¹å‡»DrRacketçš„åœæ­¢æŒ‰é’®æˆ–çª—å£çš„å…³é—­æŒ‰é’®ï¼š
- en: '| > ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square])
    |'
  id: totrans-740
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100Â [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square])
    |'
- en: '| 100 |'
  id: totrans-741
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 100 |'
- en: 'When DrRacket stops the evaluation of a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression, it returns the current state, which in this case is just the initial
    state: 100.Here is a more interesting [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression:'
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
  zh: å½“DrRacketåœæ­¢è¯„ä¼°ä¸€ä¸ª[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼æ—¶ï¼Œå®ƒè¿”å›å½“å‰çŠ¶æ€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»…ä»…æ˜¯åˆå§‹çŠ¶æ€ï¼š100ã€‚è¿™æ˜¯ä¸€ä¸ªæ›´æœ‰è¶£çš„[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼ï¼š
- en: '|'
  id: totrans-743
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-744
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100
    &#124;'
  id: totrans-745
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; > ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100
    &#124;'
- en: '&#124; Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square]
    &#124;'
  id: totrans-746
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form.__world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square]
    &#124;'
- en: '&#124; Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â [sub1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sub1%29%29)]
    &#124;'
  id: totrans-747
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â [[æ¯å¸§](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â [sub1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sub1%29%29)]
    &#124;'
- en: '&#124; Â Â Â Â [[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)Â [zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)])
    &#124;'
  id: totrans-748
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    [zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)])
    &#124;'
- en: ''
  id: totrans-749
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-750
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: 'This [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression adds two optional clauses to the previous one: the [on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)
    clause tells DrRacket how to deal with clock ticks and the [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    clause says when to stop the program. We read it as follows, starting with 100
    as the initial state:'
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ª[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼å‘ä¹‹å‰çš„ä¸€ä¸ªæ·»åŠ äº†ä¸¤ä¸ªå¯é€‰å­å¥ï¼š[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)å­å¥å‘Šè¯‰DrRacketå¦‚ä½•å¤„ç†æ—¶é’Ÿæ»´ç­”ï¼Œè€Œ[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)å­å¥è¯´æ˜ä½•æ—¶åœæ­¢ç¨‹åºã€‚æˆ‘ä»¬è¿™æ ·è¯»å–å®ƒï¼Œä»100ä½œä¸ºåˆå§‹çŠ¶æ€å¼€å§‹ï¼š
- en: every time the clock ticks, subtract 1 from the current state;
  id: totrans-752
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯æ¬¡æ—¶é’Ÿæ»´ç­”æ—¶ï¼Œä»å½“å‰çŠ¶æ€ä¸­å‡å»1ï¼›
- en: then check whether [zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)
    is true of the new state and if so, stop; and
  id: totrans-753
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç„¶åæ£€æŸ¥æ–°çŠ¶æ€ä¸­çš„[zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)æ˜¯å¦ä¸ºçœŸï¼Œå¦‚æœæ˜¯ï¼Œåˆ™åœæ­¢ï¼›å¹¶ä¸”
- en: every time an event handler returns a value, use number->square to render it
    as an image.
  id: totrans-754
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯æ¬¡äº‹ä»¶å¤„ç†å™¨è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œä½¿ç”¨number->squareå°†å…¶æ¸²æŸ“ä¸ºå›¾åƒã€‚
- en: 'Now hit the â€œreturnâ€ key and observe what happens. Eventually the evaluation
    of the expressions terminates and DrRacket displays 0.The [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression keeps track of the current state. Initially this state is 100. Every
    time the clock ticks, it calls the clock-tick handler and gets a new state. Hence,
    the state of [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    changes as follows:'
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æŒ‰â€œå›è½¦â€é”®å¹¶è§‚å¯Ÿä¼šå‘ç”Ÿä»€ä¹ˆã€‚æœ€ç»ˆï¼Œè¡¨è¾¾å¼çš„è¯„ä¼°ç»“æŸï¼ŒDrRacketæ˜¾ç¤º0ã€‚[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼è·Ÿè¸ªå½“å‰çŠ¶æ€ã€‚æœ€åˆï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯100ã€‚æ¯æ¬¡æ—¶é’Ÿæ»´ç­”ï¼Œå®ƒéƒ½ä¼šè°ƒç”¨æ—¶é’Ÿæ»´ç­”å¤„ç†ç¨‹åºå¹¶è·å–ä¸€ä¸ªæ–°çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œ[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)çš„çŠ¶æ€å¦‚ä¸‹å˜åŒ–ï¼š
- en: 100, 99, 98, ..., 2, 1, 0
  id: totrans-756
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 100, 99, 98, ..., 2, 1, 0
- en: 'When the stateâ€™s value becomes 0, the evaluation is done. For every other stateâ€”<wbr>from
    100 to 1â€”<wbr>[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    translates the state into an image, using number->square as the [to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)
    clause tells it to. Hence, the window displays a red square that shrinks from
    ![image](../Images/7a3c55df7d2b484b68e39ec283e7a9e0.png) pixels to ![image](../Images/57cb130b8e8a7984c8a3a169f6ba3225.png)
    pixel over 100 clock ticks.Letâ€™s add a clause for dealing with key events. First,
    we need a function that consumes the current state and a string that describes
    the key event and then returns a new state:'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: å½“çŠ¶æ€å€¼å˜ä¸º0æ—¶ï¼Œè¯„ä¼°å®Œæˆã€‚å¯¹äºå…¶ä»–æ¯ä¸ªçŠ¶æ€â€”â€”ä»100åˆ°1â€”â€”[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)å°†çŠ¶æ€è½¬æ¢ä¸ºå›¾åƒï¼Œä½¿ç”¨number->squareä½œä¸º[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)å­å¥å‘Šè¯‰å®ƒè¿™æ ·åšã€‚å› æ­¤ï¼Œçª—å£æ˜¾ç¤ºä¸€ä¸ªä»![image](../Images/7a3c55df7d2b484b68e39ec283e7a9e0.png)åƒç´ ç¼©å°åˆ°![image](../Images/57cb130b8e8a7984c8a3a169f6ba3225.png)åƒç´ çš„çº¢è‰²æ–¹å—ï¼Œåœ¨100ä¸ªæ—¶é’Ÿæ»´ç­”å£°åã€‚è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå¤„ç†æŒ‰é”®äº‹ä»¶çš„å­å¥ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¶ˆè€—å½“å‰çŠ¶æ€å’Œä¸€ä¸ªæè¿°æŒ‰é”®äº‹ä»¶çš„å­—ç¬¦ä¸²ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (resetÂ sÂ ke)
    |'
  id: totrans-758
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (reset s ke) |'
- en: '| Â Â 100) |'
  id: totrans-759
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    100) |'
- en: 'This function throws away its arguments and returns 100, which is the initial
    state of the [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression we wish to modify. Second, we add an [on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)
    clause to the [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression:'
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå‡½æ•°ä¸¢å¼ƒå…¶å‚æ•°å¹¶è¿”å›100ï¼Œè¿™æ˜¯æˆ‘ä»¬è¦ä¿®æ”¹çš„[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼çš„åˆå§‹çŠ¶æ€ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬åœ¨[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼ä¸­æ·»åŠ äº†ä¸€ä¸ª[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)å­å¥ï¼š
- en: '|'
  id: totrans-761
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-762
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100
    &#124;'
  id: totrans-763
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100
    [[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â 100]]'
- en: '&#124; Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square]
    &#124;'
  id: totrans-764
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square]
    [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â number->square]]'
- en: '&#124; Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â [sub1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sub1%29%29)]
    &#124;'
  id: totrans-765
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â [sub1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sub1%29%29)]
    [[åœ¨æ¯å¸§](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â [sub1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sub1%29%29)]]'
- en: '&#124; Â Â Â Â [[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)Â [zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)]
    &#124;'
  id: totrans-766
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)Â [zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)]
    [[åœæ­¢å½“](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)Â [æ˜¯å¦ä¸ºé›¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)]]'
- en: '&#124; Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â reset])
    &#124;'
  id: totrans-767
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â reset])
    [[æŒ‰é”®æ—¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â reset]]'
- en: ''
  id: totrans-768
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-769
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: Stop! Explain what happens when you hit â€œreturnâ€, count to 10, and finally press
    "a".
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è§£é‡Šå½“ä½ æŒ‰ä¸‹â€œreturnâ€é”®ï¼Œæ•°åˆ°10ï¼Œæœ€åæŒ‰ä¸‹"a"é”®æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚
- en: What you will see is that the red square shrinks at the rate of one pixel per
    clock tick. As soon as you press the "a" key, though, the red square reinflates
    to full size because reset is called on the current length of the square and "a"
    and returns 100. This number becomes [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)â€™s
    new state and number->square renders it as a full-sized red square.
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ä¼šçœ‹åˆ°çº¢è‰²æ–¹å—ä»¥æ¯å¸§ä¸€ä¸ªåƒç´ çš„é€Ÿåº¦ç¼©å°ã€‚ç„¶è€Œï¼Œå½“ä½ æŒ‰ä¸‹â€œaâ€é”®æ—¶ï¼Œçº¢è‰²æ–¹å—ä¼šé‡æ–°è†¨èƒ€åˆ°æ»¡å°ºå¯¸ï¼Œå› ä¸ºresetè¢«è°ƒç”¨æ¥è®¾ç½®æ–¹å—çš„å½“å‰é•¿åº¦ï¼Œå¹¶ä¸”è¿”å›100ã€‚è¿™ä¸ªæ•°å­—å˜æˆäº†[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)çš„æ–°çŠ¶æ€ï¼Œnumber->squareå°†å…¶æ¸²æŸ“ä¸ºæ»¡å°ºå¯¸çš„çº¢è‰²æ–¹å—ã€‚
- en: 'In order to understand the evaluation of [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expressions in general, letâ€™s look at a schematic version:'
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç†è§£ä¸€èˆ¬[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼æ±‚å€¼çš„è¯„ä¼°ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªç¤ºæ„å›¾ï¼š
- en: '| ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â cw0
    |'
  id: totrans-773
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â cw0)'
- en: '| Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tock]
    |'
  id: totrans-774
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tock]
    [[æ¯å¸§](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tock]]'
- en: '| Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â ke-h]
    |'
  id: totrans-775
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â ke-h]
    [[æŒ‰é”®æ—¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â ke-h]]'
- en: '| Â Â [[on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)Â me-h]
    |'
  id: totrans-776
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[é¼ æ ‡äº‹ä»¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)
    me-h] |'
- en: '| Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render]
    |'
  id: totrans-777
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)
    æ¸²æŸ“] |'
- en: '| Â Â [[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)Â end?]
    |'
  id: totrans-778
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[å½“åœæ­¢æ—¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    ç»“æŸ?] |'
- en: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-779
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [â€¦â€¦](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: This [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression specifies three event handlersâ€”<wbr>tock, ke-h, and me-hâ€”<wbr>and a
    [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    clause.
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ª [å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    è¡¨è¾¾å¼æŒ‡å®šäº†ä¸‰ä¸ªäº‹ä»¶å¤„ç†å™¨â€”â€”<wbr>tockã€ke-h å’Œ me-hâ€”â€”<wbr>ä»¥åŠä¸€ä¸ª [å½“åœæ­¢æ—¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    å­å¥ã€‚
- en: The evaluation of this [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression starts with cw0, which is usually an expression. DrRacket, our operating
    system, installs the value of cw0 as the current state. It uses render to translate
    the current state into an image, which is then displayed in a separate window.
    Indeed, render is the only means for a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression to present data to the world.
  id: totrans-781
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ª [å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    è¡¨è¾¾å¼çš„è¯„ä¼°ä» cw0 å¼€å§‹ï¼Œcw0 é€šå¸¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚DrRacketï¼Œæˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿï¼Œå°† cw0 çš„å€¼å®‰è£…ä¸ºå½“å‰çŠ¶æ€ã€‚å®ƒä½¿ç”¨ render å°†å½“å‰çŠ¶æ€è½¬æ¢ä¸ºå›¾åƒï¼Œç„¶ååœ¨ä¸€ä¸ªå•ç‹¬çš„çª—å£ä¸­æ˜¾ç¤ºã€‚å®é™…ä¸Šï¼Œrender
    æ˜¯ [å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    è¡¨è¾¾å¼å‘ä¸–ç•Œå±•ç¤ºæ•°æ®çš„å”¯ä¸€æ–¹å¼ã€‚
- en: 'Here is how events are processed:'
  id: totrans-782
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯äº‹ä»¶å¤„ç†çš„è¿‡ç¨‹ï¼š
- en: Every time the clock ticks, DrRacket applies tock to [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)â€™s
    current state and receives a value in response; [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    treats this return value as the next current state.
  id: totrans-783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯æ¬¡æ—¶é’Ÿæ»´ç­”ï¼ŒDrRacket å°† tock åº”ç”¨åˆ° [å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    çš„å½“å‰çŠ¶æ€ï¼Œå¹¶æ”¶åˆ°ä¸€ä¸ªå“åº”å€¼ï¼›[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    å°†æ­¤è¿”å›å€¼è§†ä¸ºä¸‹ä¸€ä¸ªå½“å‰çŠ¶æ€ã€‚
- en: Every time a key is pressed, DrRacket applies ke-h to [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)â€™s
    current state and a string that represents the key; for example, pressing the
    â€œaâ€ key is represented with "a" and the left arrow key with "left". When ke-h
    returns a value, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    treats it as the next current state.
  id: totrans-784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯æ¬¡æŒ‰é”®æ—¶ï¼ŒDrRacket å°† ke-h åº”ç”¨åˆ° [å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    çš„å½“å‰çŠ¶æ€å’Œä¸€ä¸ªè¡¨ç¤ºé”®çš„å­—ç¬¦ä¸²ä¸Šï¼›ä¾‹å¦‚ï¼ŒæŒ‰ä¸‹â€œaâ€é”®è¡¨ç¤ºä¸º "a"ï¼Œå·¦ç®­å¤´é”®è¡¨ç¤ºä¸º "left"ã€‚å½“ ke-h è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œ[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    å°†å…¶è§†ä¸ºä¸‹ä¸€ä¸ªå½“å‰çŠ¶æ€ã€‚
- en: Every time a mouse enters the window, leaves it, moves, or is clicked, DrRacket
    applies me-h to [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)â€™s
    current state, the eventâ€™s x- and y-coordinates, and a string that represents
    the kind of mouse event that happened; for example, clicking a mouseâ€™s button
    is represented with "button-down". When me-h returns a value, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    treats it as the next current state.
  id: totrans-785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯å½“é¼ æ ‡è¿›å…¥çª—å£ã€ç¦»å¼€çª—å£ã€ç§»åŠ¨æˆ–è¢«ç‚¹å‡»æ—¶ï¼ŒDrRacket ä¼šå°† me-h åº”ç”¨äº [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    çš„å½“å‰çŠ¶æ€ã€äº‹ä»¶çš„ x å’Œ y åæ ‡ä»¥åŠè¡¨ç¤ºé¼ æ ‡äº‹ä»¶ç±»å‹çš„å­—ç¬¦ä¸²ï¼›ä¾‹å¦‚ï¼Œç‚¹å‡»é¼ æ ‡æŒ‰é’®ç”¨ "button-down" è¡¨ç¤ºã€‚å½“ me-h è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    ä¼šå°†å…¶è§†ä¸ºä¸‹ä¸€ä¸ªå½“å‰çŠ¶æ€ã€‚
- en: 'All events are processed in order; if two events seem to happen at the same
    time, DrRacket acts as a tie-breaker and arranges them in some order.After an
    event is processed, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    uses both end? and render to check the current state:'
  id: totrans-786
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰äº‹ä»¶éƒ½æ˜¯æŒ‰é¡ºåºå¤„ç†çš„ï¼›å¦‚æœä¸¤ä¸ªäº‹ä»¶ä¼¼ä¹åŒæ—¶å‘ç”Ÿï¼ŒDrRacket ä¼šä½œä¸ºè£åˆ¤è€…å¹¶æŒ‰æŸç§é¡ºåºæ’åˆ—å®ƒä»¬ã€‚åœ¨å¤„ç†å®Œä¸€ä¸ªäº‹ä»¶åï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    ä½¿ç”¨ end? å’Œ render æ¥æ£€æŸ¥å½“å‰çŠ¶æ€ï¼š
- en: '(end?  cw) produces a Boolean value. If it is ##true, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    stops the computation immediately. Otherwise it proceeds.'
  id: totrans-787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '(end? cw) ç”Ÿæˆä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœæ˜¯ ##trueï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    ä¼šç«‹å³åœæ­¢è®¡ç®—ã€‚å¦åˆ™ï¼Œå®ƒå°†ç»§ç»­è¿›è¡Œã€‚'
- en: (render  cw) is expected to produce an image and [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    displays this image in a separate window.
  id: totrans-788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (render cw) é¢„æœŸç”Ÿæˆä¸€ä¸ªå›¾åƒï¼Œå¹¶ä¸” [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    åœ¨ä¸€ä¸ªå•ç‹¬çš„çª—å£ä¸­æ˜¾ç¤ºè¿™ä¸ªå›¾åƒã€‚
- en: '| current state |  | cw0 |  | cw1 |  | ... |'
  id: totrans-789
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| å½“å‰çŠ¶æ€ |  | cw0 |  | cw1 |  | ... |'
- en: '| event |  | e0 |  | e1 |  | ... |'
  id: totrans-790
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| äº‹ä»¶ |  | e0 |  | e1 |  | ... |'
- en: '| on clock tick |  | (tock  cw0) |  | (tock  cw1) |  | ... |'
  id: totrans-791
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ—¶é’Ÿæ»´ç­” |  | (tock cw0) |  | (tock cw1) |  | ... |'
- en: '| on keystroke |  | (ke-h  cw0 e0) |  | (ke-h  cw1 e1) |  | ... |'
  id: totrans-792
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æŒ‰é”® |  | (ke-h cw0 e0) |  | (ke-h cw1 e1) |  | ... |'
- en: '| on mouse event |  | (me-h  cw0 e0 [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |  | (me-h  cw1 e1 [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |  | ... |'
  id: totrans-793
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| é¼ æ ‡äº‹ä»¶å¤„ç† |  | (me-h cw0 e0 [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |  | (me-h cw1 e1 [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |  | ... |'
- en: '| its image |  | (render  cw0) |  | (render  cw1) |  | ... |'
  id: totrans-794
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| å…¶å›¾åƒ |  | (render cw0) |  | (render cw1) |  | ... |'
- en: ''
  id: totrans-795
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 13: How [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    works'
  id: totrans-796
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 13ï¼š[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    çš„å·¥ä½œåŸç†
- en: 'The table in [figureÂ 13](#%28counter._%28figure._world-process%29%29) concisely
    summarizes this process. In the first row, it lists names for the current states.
    The second row enumerates names for the events that DrRacket encounters: e0, e1,
    and so on. Each ei might be a clock tick, a key press, or a mouse event. The next
    three rows specify the result of dealing with the event:'
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾ 13](#%28counter._%28figure._world-process%29%29) ä¸­çš„è¡¨æ ¼ç®€è¦æ€»ç»“äº†è¿™ä¸€è¿‡ç¨‹ã€‚åœ¨ç¬¬ä¸€è¡Œä¸­ï¼Œå®ƒåˆ—å‡ºäº†å½“å‰çŠ¶æ€çš„åå­—ã€‚ç¬¬äºŒè¡Œåˆ—ä¸¾äº†
    DrRacket é‡åˆ°çš„äº‹ä»¶çš„åå­—ï¼še0ã€e1 ç­‰ã€‚æ¯ä¸ª ei å¯èƒ½æ˜¯ä¸€ä¸ªæ—¶é’Ÿæ»´ç­”ã€æŒ‰é”®æˆ–é¼ æ ‡äº‹ä»¶ã€‚æ¥ä¸‹æ¥çš„ä¸‰è¡ŒæŒ‡å®šäº†å¤„ç†äº‹ä»¶çš„ç»“æœï¼š'
- en: If e0 is a clock tick, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    evaluates (tock  cw0) to produce cw1.
  id: totrans-798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœ e0 æ˜¯æ—¶é’Ÿæ»´ç­”ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    ä¼šè¯„ä¼° (tock cw0) ä»¥ç”Ÿæˆ cw1ã€‚
- en: If e0 is a key event, (ke-h  cw0 e0) is evaluated and yields cw1. The handler
    must be applied to the event itself because, in general, programs are going to
    react to each key differently.
  id: totrans-799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœ e0 æ˜¯ä¸€ä¸ªæŒ‰é”®äº‹ä»¶ï¼Œ(ke-h cw0 e0) ä¼šè¿›è¡Œè¯„ä¼°å¹¶äº§ç”Ÿ cw1ã€‚å¤„ç†ç¨‹åºå¿…é¡»åº”ç”¨äºäº‹ä»¶æœ¬èº«ï¼Œå› ä¸ºé€šå¸¸ç¨‹åºä¼šå¯¹æ¯ä¸ªé”®åšå‡ºä¸åŒçš„ååº”ã€‚
- en: If e0 is a mouse event, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    runs (me-h  cw0 e0 [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    to get cw1. The call is a sketch because a mouse event e0 is really associated
    with several pieces of dataâ€”<wbr>its nature and its coordinatesâ€”<wbr>and we just
    wish to indicate that much.
  id: totrans-800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœ e0 æ˜¯ä¸€ä¸ªé¼ æ ‡äº‹ä»¶ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    æ‰§è¡Œ (me-h cw0 e0 [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    æ¥è·å– cw1ã€‚è¿™ä¸ªè°ƒç”¨æ˜¯ä¸€ä¸ªè‰å›¾ï¼Œå› ä¸ºé¼ æ ‡äº‹ä»¶ e0 å®é™…ä¸Šä¸å¤šä¸ªæ•°æ®ç›¸å…³è”â€”â€”å…¶æ€§è´¨å’Œå…¶åæ ‡â€”â€”æˆ‘ä»¬åªæ˜¯æƒ³è¡¨æ˜è¿™ä¸€ç‚¹ã€‚
- en: Finally, render turns the current state into an image, which is indicated by
    the last row. DrRacket displays these images in the separate window.
  id: totrans-801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæ¸²æŸ“å°†å½“å‰çŠ¶æ€è½¬æ¢ä¸ºå›¾åƒï¼Œè¿™ç”±æœ€åä¸€è¡ŒæŒ‡ç¤ºã€‚DrRacket åœ¨å•ç‹¬çš„çª—å£ä¸­æ˜¾ç¤ºè¿™äº›å›¾åƒã€‚
- en: 'The column below cw1 shows how cw2 is generated, depending on what kind of
    event e1 takes place.Letâ€™s interpret this table with the specific sequence of
    events: the user presses the â€œaâ€ key, then the clock ticks, and finally the user
    clicks the mouse to trigger a â€œbutton downâ€ event at position (90,100). Then,
    in Racket notation,'
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ cw1 åˆ—è¡¨å±•ç¤ºäº† cw2 çš„ç”Ÿæˆæ–¹å¼ï¼Œè¿™å–å†³äºäº‹ä»¶ e1 å‘ç”Ÿçš„ç±»å‹ã€‚è®©æˆ‘ä»¬ç”¨å…·ä½“çš„äº‹ä»¶åºåˆ—æ¥è§£é‡Šè¿™ä¸ªè¡¨æ ¼ï¼šç”¨æˆ·æŒ‰ä¸‹â€œaâ€é”®ï¼Œç„¶åæ—¶é’Ÿæ»´ç­”ï¼Œæœ€åç”¨æˆ·ç‚¹å‡»é¼ æ ‡åœ¨ä½ç½®
    (90,100) è§¦å‘ä¸€ä¸ªâ€œæŒ‰é’®æŒ‰ä¸‹â€äº‹ä»¶ã€‚ç„¶åï¼Œåœ¨ Racket è¡¨ç¤ºæ³•ä¸­ï¼Œ
- en: cw1 is the result of (ke-h  cw0  "a");
  id: totrans-803
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: cw1 æ˜¯ç”± (ke-h cw0 "a") å¾—åˆ°çš„ç»“æœï¼›
- en: cw2 is the result of (tock  cw1); and
  id: totrans-804
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: cw2 æ˜¯ç”± (tock cw1) å¾—åˆ°çš„ç»“æœï¼›å¹¶ä¸”
- en: cw3 is the result of (me-h  cw2  90  100  "button-down").
  id: totrans-805
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: cw3 æ˜¯ç”± (me-h cw2 90 100 "button-down") å¾—åˆ°çš„ç»“æœã€‚
- en: 'We can actually express these three steps as a sequence of three definitions:'
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å®é™…ä¸Šå¯ä»¥å°†è¿™ä¸‰ä¸ªæ­¥éª¤è¡¨è¾¾ä¸ºä¸‰ä¸ªå®šä¹‰çš„åºåˆ—ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cw1Â (ke-hÂ cw0Â "a"))
    |'
  id: totrans-807
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cw1 (ke-h cw0 "a")) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cw2Â (tockÂ cw1))
    |'
  id: totrans-808
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cw2 (tock cw1)) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cw3Â (me-hÂ cw2Â 90Â 100Â "button-down"))
    |'
  id: totrans-809
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cw3 (me-h cw2 90 100 "button-down")) |'
- en: Stop! How does [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    display each of these three states?Now letâ€™s consider a sequence of three clock
    ticks. In that case,
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    å¦‚ä½•æ˜¾ç¤ºè¿™ä¸‰ä¸ªçŠ¶æ€ä¸­çš„æ¯ä¸€ä¸ªï¼Ÿç°åœ¨è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªç”±ä¸‰ä¸ªæ—¶é’Ÿæ»´ç­”ç»„æˆçš„åºåˆ—ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ
- en: cw1 is the result of (tock  cw0);
  id: totrans-811
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: cw1 æ˜¯ç”± (tock cw0) å¾—åˆ°çš„ç»“æœï¼›
- en: cw2 is the result of (tock  cw1); and
  id: totrans-812
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: cw2 æ˜¯ç”± (tock cw1) å¾—åˆ°çš„ç»“æœï¼›å¹¶ä¸”
- en: cw3 is the result of (tock  cw2).
  id: totrans-813
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: cw3 æ˜¯ç”± (tock cw2) å¾—åˆ°çš„ç»“æœã€‚
- en: 'Or, reformulated in BSL:'
  id: totrans-814
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œç”¨ BSL é‡æ–°è¡¨è¿°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cw1Â (tockÂ cw0))
    |'
  id: totrans-815
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cw1 (tock cw0)) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cw2Â (tockÂ cw1))
    |'
  id: totrans-816
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cw2 (tock cw1)) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cw3Â (tockÂ cw2))
    |'
  id: totrans-817
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cw3 (tock cw2)) |'
- en: 'Indeed, we can also determine cw3 via a single expression:'
  id: totrans-818
  prefs: []
  type: TYPE_NORMAL
  zh: äº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å•ä¸ªè¡¨è¾¾å¼ç¡®å®š cw3ï¼š
- en: (tockÂ (tockÂ (tockÂ cw0)))
  id: totrans-819
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (tock (tock (tock cw0)))
- en: This determines the state that [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    computes after three clock ticks. Stop! Reformulate the first sequence of events
    as an expression.
  id: totrans-820
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å†³å®šäº†åœ¨ä¸‰ä¸ªæ—¶é’Ÿæ»´ç­”å [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    è®¡ç®—çš„çŠ¶æ€ã€‚åœæ­¢ï¼å°†ç¬¬ä¸€ä¸ªäº‹ä»¶åºåˆ—é‡æ–°è¡¨è¿°ä¸ºä¸€ä¸ªè¡¨è¾¾å¼ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BACKGROUNDÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    |'
  id: totrans-821
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BACKGROUNDÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â DOTÂ ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 3Â "solid"Â "red"))
    |'
  id: totrans-822
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â DOTÂ ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 3Â "solid"Â "red"))
    |'
- en: '| Â  |'
  id: totrans-823
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ y)
    |'
  id: totrans-824
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ y)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â y
    |'
  id: totrans-825
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â y
    |'
- en: '| Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â [sub1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sub1%29%29)]
    |'
  id: totrans-826
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[åœ¨æ¯æ¬¡è®¡æ—¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â [sub1](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sub1%29%29)]
    |'
- en: '| Â Â Â Â [[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)Â [zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)]
    |'
  id: totrans-827
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å½“åœæ­¢æ—¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)Â [zero?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._zero~3f%29%29)]
    |'
- en: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â place-dot-at]
    |'
  id: totrans-828
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[ç»˜åˆ¶åˆ°](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â place-dot-at]
    |'
- en: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â stop]))
    |'
  id: totrans-829
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å½“æŒ‰é”®](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â stop]))
    |'
- en: '| Â  |'
  id: totrans-830
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (place-dot-atÂ y)
    |'
  id: totrans-831
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (place-dot-atÂ y)
    |'
- en: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 50Â yÂ BACKGROUND))
    |'
  id: totrans-832
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 50Â yÂ BACKGROUND))
    |'
- en: '| Â  |'
  id: totrans-833
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (stopÂ yÂ ke)
    |'
  id: totrans-834
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (stopÂ yÂ ke)
    |'
- en: '| Â Â 0) |'
  id: totrans-835
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â 0) |'
- en: ''
  id: totrans-836
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 14: A first interactive program'
  id: totrans-837
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 14ï¼šç¬¬ä¸€ä¸ªäº¤äº’å¼ç¨‹åº
- en: In short, the sequence of events determines in which order [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    conceptually traverses the above table of possible states to arrive at the current
    state for each time slot. Of course, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    does not touch the current state; it merely safeguards it and passes it to event
    handlers and other functions when needed.
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œäº‹ä»¶åºåˆ—å†³å®šäº†åœ¨å¤§çˆ†ç‚¸([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29))æ¦‚å¿µä¸Šéå†ä¸Šè¿°å¯èƒ½çŠ¶æ€è¡¨ä»¥åˆ°è¾¾æ¯ä¸ªæ—¶é—´æ§½çš„å½“å‰çŠ¶æ€çš„é¡ºåºã€‚å½“ç„¶ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)ä¸ä¼šè§¦åŠå½“å‰çŠ¶æ€ï¼›å®ƒåªæ˜¯ä¿æŠ¤å®ƒï¼Œå¹¶åœ¨éœ€è¦æ—¶å°†å…¶ä¼ é€’ç»™äº‹ä»¶å¤„ç†ç¨‹åºå’Œå…¶ä»–å‡½æ•°ã€‚
- en: 'From here, it is straightforward to define a first interactive program. See
    [figureÂ 14](#%28counter._%28figure._fig~3ainteractive%29%29). The program consists
    of two constant definitions followed by three function definitions: main, which
    launches a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    interactive program; place-dot-at, which translates the current state into an
    image; and stop, which throws away its inputs and produces 0.'
  id: totrans-839
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™é‡Œï¼Œå®šä¹‰ç¬¬ä¸€ä¸ªäº¤äº’å¼ç¨‹åºæ˜¯ç›´æ¥çš„ã€‚å‚è§[å›¾14](#%28counter._%28figure._fig~3ainteractive%29%29)ã€‚ç¨‹åºç”±ä¸¤ä¸ªå¸¸é‡å®šä¹‰å’Œä¸‰ä¸ªå‡½æ•°å®šä¹‰ç»„æˆï¼šmainï¼Œå®ƒå¯åŠ¨ä¸€ä¸ª[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)äº¤äº’å¼ç¨‹åºï¼›place-dot-atï¼Œå®ƒå°†å½“å‰çŠ¶æ€è½¬æ¢ä¸ºå›¾åƒï¼›ä»¥åŠstopï¼Œå®ƒä¸¢å¼ƒå…¶è¾“å…¥å¹¶äº§ç”Ÿ0ã€‚
- en: 'After clicking RUN, we can ask DrRacket to evaluate applications of these handler
    functions. This is one way to confirm their workings:'
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: ç‚¹å‡»è¿è¡Œåï¼Œæˆ‘ä»¬å¯ä»¥è¦æ±‚DrRacketè¯„ä¼°è¿™äº›å¤„ç†å‡½æ•°çš„åº”ç”¨ã€‚è¿™æ˜¯ç¡®è®¤å®ƒä»¬å·¥ä½œçš„ä¸€ç§æ–¹æ³•ï¼š
- en: '| > (place-dot-atÂ 89) |'
  id: totrans-841
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (place-dot-atÂ 89) |'
- en: '| ![image](../Images/cc6ed263a694fe050583a3cc42bc994f.png) |'
  id: totrans-842
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/cc6ed263a694fe050583a3cc42bc994f.png) |'
- en: '| > (stopÂ 89Â "q") |'
  id: totrans-843
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (stopÂ 89Â "q") |'
- en: '| 0 |'
  id: totrans-844
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0 |'
- en: 'Stop! Try now to understand how main reacts when you press a key.One way to
    find out whether your conjecture is correct is to launch the main function on
    some reasonable number:'
  id: totrans-845
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ç°åœ¨å°è¯•ç†è§£å½“ä½ æŒ‰ä¸‹ä¸€ä¸ªé”®æ—¶mainæ˜¯å¦‚ä½•ååº”çš„ã€‚éªŒè¯ä½ çš„çŒœæƒ³æ˜¯å¦æ­£ç¡®çš„ä¸€ç§æ–¹æ³•æ˜¯åœ¨ä¸€äº›åˆç†çš„æ•°å­—ä¸Šå¯åŠ¨mainå‡½æ•°ã€‚
- en: '| > (mainÂ 90) |'
  id: totrans-846
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (mainÂ 90) |'
- en: '|  |'
  id: totrans-847
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '| Relax. |'
  id: totrans-848
  prefs: []
  type: TYPE_TB
  zh: '| æ”¾æ¾ã€‚ |'
- en: '|  |'
  id: totrans-849
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: By now, you may feel that these first two chapters are overwhelming. They introduce
    many new concepts, including a new language, its vocabulary, its meaning, its
    idioms, a tool for writing down texts in this vocabulary, and a way of running
    these programs. Confronted with this plethora of ideas, you may wonder how one
    creates a program when presented with a problem statement. To answer this central
    question, the next chapter takes a step back and explicitly addresses the systematic
    design of programs. So take a breather and continue when ready.
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å¯èƒ½è§‰å¾—å‰ä¸¤ç« å†…å®¹å¾ˆå¤šã€‚å®ƒä»¬ä»‹ç»äº†è®¸å¤šæ–°æ¦‚å¿µï¼ŒåŒ…æ‹¬ä¸€ç§æ–°çš„è¯­è¨€ã€å…¶è¯æ±‡ã€å…¶å«ä¹‰ã€å…¶ä¹ è¯­ã€ä¸€ç§ç”¨è¿™ç§è¯æ±‡å†™æ–‡æœ¬çš„å·¥å…·ï¼Œä»¥åŠè¿è¡Œè¿™äº›ç¨‹åºçš„æ–¹æ³•ã€‚é¢å¯¹è¿™äº›ä¼—å¤šæƒ³æ³•ï¼Œä½ å¯èƒ½æƒ³çŸ¥é“åœ¨ç»™å‡ºé—®é¢˜é™ˆè¿°æ—¶å¦‚ä½•åˆ›å»ºç¨‹åºã€‚ä¸ºäº†å›ç­”è¿™ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œä¸‹ä¸€ç« é€€ä¸€æ­¥ï¼Œæ˜ç¡®åœ°è®¨è®ºäº†ç¨‹åºçš„ç³»ç»Ÿæ€§è®¾è®¡ã€‚æ‰€ä»¥ï¼Œæ·±å‘¼å¸ï¼Œå‡†å¤‡å¥½ç»§ç»­ã€‚
- en: 3How to Design Programs[ğŸ”—](#(part._ch~3ahtdp) "Link to here")
  id: totrans-851
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3å¦‚ä½•è®¾è®¡ç¨‹åº[ğŸ”—](#(part._ch~3ahtdp) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: The first few chapters of this book show that learning to program requires some
    mastery of many concepts. On the one hand, programming needs a language, a notation
    for communicating what we wish to compute. The languages for formulating programs
    are artificial constructions, though acquiring a programming language shares some
    elements with acquiring a natural language. Both come with vocabulary, grammar,
    and an understanding of what â€œphrasesâ€ mean.
  id: totrans-852
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æœ¬ä¹¦çš„å‰å‡ ç« è¡¨æ˜ï¼Œå­¦ä¹ ç¼–ç¨‹éœ€è¦æŒæ¡è®¸å¤šæ¦‚å¿µã€‚ä¸€æ–¹é¢ï¼Œç¼–ç¨‹éœ€è¦ä¸€ä¸ªè¯­è¨€ï¼Œä¸€ä¸ªç”¨äºä¼ è¾¾æˆ‘ä»¬å¸Œæœ›è®¡ç®—çš„å†…å®¹çš„ç¬¦å·ã€‚ç”¨äºåˆ¶å®šç¨‹åºçš„è¯­è¨€æ˜¯äººå·¥æ„é€ çš„ï¼Œå°½ç®¡å­¦ä¹ ç¼–ç¨‹è¯­è¨€ä¸å­¦ä¹ è‡ªç„¶è¯­è¨€æœ‰ä¸€äº›å…±åŒä¹‹å¤„ã€‚ä¸¤è€…éƒ½åŒ…å«è¯æ±‡ã€è¯­æ³•ï¼Œä»¥åŠç†è§£â€œçŸ­è¯­â€å«ä¹‰çš„èƒ½åŠ›ã€‚
- en: On the other hand, it is critical to learn how to get from a problem statement
    to a program. We need to determine what is relevant in the problem statement and
    what can be ignored. We need to tease out what the program consumes, what it produces,
    and how it relates inputs to outputs. We have to know, or find out, whether the
    chosen language and its teachpacks provide certain basic operations for the data
    that our program is to process. If not, we might have to develop auxiliary functions
    that implement these operations. Finally, once we have a program, we must check
    whether it actually performs the intended computation. And this might reveal all
    kinds of errors, which we need to be able to understand and fix.
  id: totrans-853
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€æ–¹é¢ï¼Œå­¦ä¹ å¦‚ä½•ä»é—®é¢˜é™ˆè¿°åˆ°ç¨‹åºè‡³å…³é‡è¦ã€‚æˆ‘ä»¬éœ€è¦ç¡®å®šé—®é¢˜é™ˆè¿°ä¸­å“ªäº›æ˜¯ç›¸å…³çš„ï¼Œå“ªäº›å¯ä»¥å¿½ç•¥ã€‚æˆ‘ä»¬éœ€è¦åˆ†æå‡ºç¨‹åºæ¶ˆè€—äº†ä»€ä¹ˆï¼Œäº§ç”Ÿäº†ä»€ä¹ˆï¼Œä»¥åŠå®ƒæ˜¯å¦‚ä½•å°†è¾“å…¥ä¸è¾“å‡ºå…³è”èµ·æ¥çš„ã€‚æˆ‘ä»¬å¿…é¡»çŸ¥é“æˆ–æ‰¾å‡ºæ‰€é€‰è¯­è¨€åŠå…¶æ•™å­¦åŒ…æ˜¯å¦ä¸ºæˆ‘ä»¬ç¨‹åºè¦å¤„ç†çš„æ•°æ®æä¾›æŸäº›åŸºæœ¬æ“ä½œã€‚å¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬å¯èƒ½ä¸å¾—ä¸å¼€å‘è¾…åŠ©å‡½æ•°æ¥å®ç°è¿™äº›æ“ä½œã€‚æœ€åï¼Œä¸€æ—¦æˆ‘ä»¬æœ‰äº†ç¨‹åºï¼Œæˆ‘ä»¬å¿…é¡»æ£€æŸ¥å®ƒæ˜¯å¦å®é™…ä¸Šæ‰§è¡Œäº†é¢„æœŸçš„è®¡ç®—ã€‚è¿™å¯èƒ½ä¼šæ­ç¤ºå„ç§é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿç†è§£å’Œä¿®å¤è¿™äº›é”™è¯¯ã€‚
- en: All this sounds rather complex, and you might wonder why we donâ€™t just muddle
    our way through, experimenting here and there, leaving well enough alone when
    the results look decent. This approach to programming, often dubbed â€œgarage programming,â€
    is common and succeeds on many occasions; sometimes it is the launching pad for
    a start-up company. Nevertheless, the start-up cannot sell the results of the
    â€œgarage effortâ€ because only the original programmers and their friends can use
    them.
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰è¿™äº›éƒ½å¬èµ·æ¥ç›¸å½“å¤æ‚ï¼Œä½ å¯èƒ½ä¼šæƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸åªæ˜¯æ‘¸ç´¢ç€å‰è¿›ï¼Œè¿™é‡Œå®éªŒä¸€ä¸‹ï¼Œé‚£é‡Œå®éªŒä¸€ä¸‹ï¼Œå½“ç»“æœçœ‹èµ·æ¥ä¸é”™æ—¶å°±ä¸å†ç®¡å®ƒã€‚è¿™ç§ç¼–ç¨‹æ–¹æ³•é€šå¸¸è¢«ç§°ä¸ºâ€œè½¦åº“ç¼–ç¨‹â€ï¼Œå®ƒå¾ˆå¸¸è§ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½å–å¾—äº†æˆåŠŸï¼›æœ‰æ—¶å®ƒè¿˜æ˜¯åˆåˆ›å…¬å¸çš„èµ·ç‚¹ã€‚ç„¶è€Œï¼Œåˆåˆ›å…¬å¸ä¸èƒ½å‡ºå”®â€œè½¦åº“åŠªåŠ›â€çš„ç»“æœï¼Œå› ä¸ºåªæœ‰åŸå§‹ç¨‹åºå‘˜å’Œä»–ä»¬çš„æœ‹å‹æ‰èƒ½ä½¿ç”¨å®ƒä»¬ã€‚
- en: A good program comes with a short write-up that explains what it does, what
    inputs it expects, and what it produces. Ideally, it also comes with some assurance
    that it actually works. In the best circumstances, the programâ€™s connection to
    the problem statement is evident so that a small change to the problem statement
    is easy to translate into a small change to the program. Software engineers call
    this a â€œprogramming product.â€
  id: totrans-855
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå¥½çš„ç¨‹åºåº”è¯¥é™„æœ‰ä¸€ä»½ç®€çŸ­çš„è¯´æ˜ï¼Œè§£é‡Šå®ƒåšä»€ä¹ˆï¼ŒæœŸæœ›ä»€ä¹ˆè¾“å…¥ï¼Œä»¥åŠå®ƒäº§ç”Ÿä»€ä¹ˆè¾“å‡ºã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå®ƒè¿˜åº”è¯¥æä¾›ä¸€äº›ä¿è¯ï¼Œè¡¨æ˜å®ƒç¡®å®èƒ½å·¥ä½œã€‚åœ¨æœ€ä½³æƒ…å†µä¸‹ï¼Œç¨‹åºä¸é—®é¢˜é™ˆè¿°ä¹‹é—´çš„è”ç³»æ˜¯æ˜æ˜¾çš„ï¼Œå› æ­¤å¯¹é—®é¢˜é™ˆè¿°çš„å¾®å°æ›´æ”¹å¯ä»¥è½»æ¾åœ°è½¬åŒ–ä¸ºå¯¹ç¨‹åºçš„å¾®å°æ›´æ”¹ã€‚è½¯ä»¶å·¥ç¨‹å¸ˆç§°è¿™ä¸ºâ€œç¼–ç¨‹äº§å“â€ã€‚
- en: All this extra work is necessary because programmers donâ€™t create programs for
    themselves. Programmers write programs for other programmers to read, and on occasion,
    people run these programs to get work done.The word â€œotherâ€ also includes older
    versions of the programmer who usually cannot recall all the thinking that the
    younger version put into the production of the program. Most programs are large,
    complex collections of collaborating functions, and nobody can write all these
    functions in a day. Programmers join projects, write code, leave projects; others
    take over their programs and work on them. Another difficulty is that the programmerâ€™s
    clients tend to change their mind about what problem they really want solved.
    They usually have it almost right, but more often than not, they get some details
    wrong. Worse, complex logical constructions such as programs almost always suffer
    from human errors; in short, programmers make mistakes. Eventually someone discovers
    these errors and programmers must fix them. They need to reread the programs from
    a month ago, a year ago, or twenty years ago and change them.
  id: totrans-856
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰è¿™äº›é¢å¤–çš„å·¥ä½œéƒ½æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºç¨‹åºå‘˜ä¸æ˜¯ä¸ºè‡ªå·±ç¼–å†™ç¨‹åºã€‚ç¨‹åºå‘˜ç¼–å†™ç¨‹åºæ˜¯ä¸ºäº†å…¶ä»–ç¨‹åºå‘˜é˜…è¯»ï¼Œæœ‰æ—¶äººä»¬è¿è¡Œè¿™äº›ç¨‹åºæ¥å®Œæˆå·¥ä½œã€‚â€œå…¶ä»–â€ä¸€è¯è¿˜åŒ…æ‹¬ç¨‹åºå‘˜çš„è€ç‰ˆæœ¬ï¼Œä»–ä»¬é€šå¸¸æ— æ³•å›å¿†èµ·å¹´è½»ç‰ˆæœ¬åœ¨ç¨‹åºç”Ÿäº§ä¸­æŠ•å…¥çš„æ‰€æœ‰æ€è€ƒã€‚å¤§å¤šæ•°ç¨‹åºéƒ½æ˜¯å¤§å‹ã€å¤æ‚çš„åä½œåŠŸèƒ½é›†åˆï¼Œæ²¡æœ‰äººèƒ½åœ¨ä¸€å¤©å†…ç¼–å†™æ‰€æœ‰è¿™äº›åŠŸèƒ½ã€‚ç¨‹åºå‘˜åŠ å…¥é¡¹ç›®ï¼Œç¼–å†™ä»£ç ï¼Œç¦»å¼€é¡¹ç›®ï¼›å…¶ä»–äººæ¥ç®¡ä»–ä»¬çš„ç¨‹åºå¹¶å¯¹å…¶è¿›è¡Œå·¥ä½œã€‚å¦ä¸€ä¸ªå›°éš¾æ˜¯ï¼Œç¨‹åºå‘˜çš„å®¢æˆ·å¾€å¾€ä¼šæ”¹å˜ä»–ä»¬çœŸæ­£æƒ³è¦è§£å†³çš„é—®é¢˜çš„æƒ³æ³•ã€‚ä»–ä»¬é€šå¸¸å‡ ä¹æ˜¯å¯¹çš„ï¼Œä½†æ›´å¸¸è§çš„æ˜¯ï¼Œä»–ä»¬ä¼šçŠ¯ä¸€äº›é”™è¯¯ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¤æ‚çš„é€»è¾‘ç»“æ„ï¼Œå¦‚ç¨‹åºï¼Œå‡ ä¹æ€»æ˜¯å—åˆ°äººä¸ºé”™è¯¯çš„å½±å“ï¼›ç®€è€Œè¨€ä¹‹ï¼Œç¨‹åºå‘˜ä¼šçŠ¯é”™è¯¯ã€‚æœ€ç»ˆæœ‰äººä¼šå‘ç°è¿™äº›é”™è¯¯ï¼Œç¨‹åºå‘˜å¿…é¡»ä¿®å¤å®ƒä»¬ã€‚ä»–ä»¬éœ€è¦é‡æ–°é˜…è¯»ä¸€ä¸ªæœˆå‰ã€ä¸€å¹´å‰æˆ–äºŒåå¹´å‰ç¼–å†™çš„ç¨‹åºï¼Œå¹¶å¯¹å…¶è¿›è¡Œæ›´æ”¹ã€‚
- en: ExerciseÂ 33\. Research the â€œyear 2000â€ problem.
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  33ï¼šç ”ç©¶â€œ2000 å¹´é—®é¢˜â€ã€‚
- en: Here we present a design recipe that integrates a step-by-step process with
    a way of organizing programs around problem data. For the readers who donâ€™t like
    to stare at blank screens for a long time, this design recipe offers a way to
    make progress in a systematic manner. For those of you who teach others to design
    programs, the recipe is a device for diagnosing a noviceâ€™s difficulties. For others,
    our recipe might be something that they can apply to other areasâ€”<wbr>say, medicine,
    journalism, or engineering. For those who wish to become real programmers, the
    design recipe also offers a way to understand and work on existing programsâ€”<wbr>though
    not all programmers use a method like this design recipe to come up with programs.
    The rest of this chapter is dedicated to the first baby steps into the world of
    the design recipe; the following chapters and parts refine and expand the recipe
    in one way or another.
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§è®¾è®¡é…æ–¹ï¼Œå®ƒå°†é€æ­¥è¿‡ç¨‹ä¸å›´ç»•é—®é¢˜æ•°æ®ç»„ç»‡ç¨‹åºçš„æ–¹å¼ç›¸ç»“åˆã€‚å¯¹äºé‚£äº›ä¸å–œæ¬¢é•¿æ—¶é—´ç›¯ç€ç©ºç™½å±å¹•çš„è¯»è€…ï¼Œè¿™ä¸ªè®¾è®¡é…æ–¹æä¾›äº†ä¸€ç§ä»¥ç³»ç»ŸåŒ–æ–¹å¼å–å¾—è¿›å±•çš„æ–¹æ³•ã€‚å¯¹äºé‚£äº›æ•™åˆ«äººè®¾è®¡ç¨‹åºçš„äººï¼Œè¿™ä¸ªé…æ–¹æ˜¯ä¸€ç§è¯Šæ–­æ–°æ‰‹å›°éš¾çš„æ–¹æ³•ã€‚å¯¹äºå…¶ä»–äººï¼Œæˆ‘ä»¬çš„é…æ–¹å¯èƒ½æ˜¯ä¸€äº›ä»–ä»¬å¯ä»¥åº”ç”¨äºå…¶ä»–é¢†åŸŸçš„ä¸œè¥¿â€”â€”æ¯”å¦‚åŒ»å­¦ã€æ–°é—»ä¸šæˆ–å·¥ç¨‹ã€‚å¯¹äºé‚£äº›å¸Œæœ›æˆä¸ºçœŸæ­£çš„ç¨‹åºå‘˜çš„äººæ¥è¯´ï¼Œè®¾è®¡é…æ–¹è¿˜æä¾›äº†ä¸€ç§ç†è§£å’Œå¤„ç†ç°æœ‰ç¨‹åºçš„æ–¹æ³•â€”â€”å°½ç®¡å¹¶éæ‰€æœ‰ç¨‹åºå‘˜éƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥ç¼–å†™ç¨‹åºã€‚æœ¬ç« çš„å…¶ä½™éƒ¨åˆ†è‡´åŠ›äºè®¾è®¡é…æ–¹ä¸–ç•Œçš„ç¬¬ä¸€æ­¥ï¼›æ¥ä¸‹æ¥çš„ç« èŠ‚å’Œéƒ¨åˆ†ä»¥æŸç§æ–¹å¼å®Œå–„å’Œæ‰©å±•äº†è¿™ä¸ªé…æ–¹ã€‚
- en: 3.1Designing Functions[ğŸ”—](#(part._sec~3adesign-func) "Link to here")
  id: totrans-859
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.1 è®¾è®¡å‡½æ•°[ğŸ”—](#(part._sec~3adesign-func) "é“¾æ¥è‡³æ­¤")
- en: 'Information and Data The purpose of a program is to describe a computational
    process that consumes some information and produces new information. In this sense,
    a program is like the instructions a mathematics teacher gives to grade school
    students. Unlike a student, however, a program works with more than numbers: it
    calculates with navigation information, looks up a personâ€™s address, turns on
    switches, or inspects the state of a video game. All this information comes from
    a part of the real worldâ€”<wbr>often called the programâ€™s domainâ€”<wbr>and the results
    of a programâ€™s computation represent more information in this domain.'
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: ä¿¡æ¯ä¸æ•°æ® ç¨‹åºçš„ç›®çš„æ˜¯æè¿°ä¸€ä¸ªè®¡ç®—è¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹æ¶ˆè€—ä¸€äº›ä¿¡æ¯å¹¶äº§ç”Ÿæ–°çš„ä¿¡æ¯ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼Œç¨‹åºå°±åƒæ•°å­¦è€å¸ˆç»™å°å­¦ç”Ÿæä¾›çš„æŒ‡ä»¤ã€‚ç„¶è€Œï¼Œä¸å­¦ç”Ÿä¸åŒï¼Œç¨‹åºå¤„ç†çš„ä¸ä»…ä»…æ˜¯æ•°å­—ï¼šå®ƒä½¿ç”¨å¯¼èˆªä¿¡æ¯è¿›è¡Œè®¡ç®—ï¼ŒæŸ¥æ‰¾æŸäººçš„åœ°å€ï¼Œæ‰“å¼€å¼€å…³ï¼Œæˆ–æ£€æŸ¥è§†é¢‘æ¸¸æˆçš„çŠ¶æ€ã€‚æ‰€æœ‰è¿™äº›ä¿¡æ¯éƒ½æ¥è‡ªç°å®ä¸–ç•Œçš„ä¸€éƒ¨åˆ†â€”â€”é€šå¸¸è¢«ç§°ä¸ºç¨‹åºçš„é¢†åŸŸâ€”â€”ç¨‹åºçš„è®¡ç®—ç»“æœä»£è¡¨äº†è¿™ä¸ªé¢†åŸŸä¸­çš„æ›´å¤šä¿¡æ¯ã€‚
- en: Information plays a central role in our description. Think of information as
    facts about the programâ€™s domain. For a program that deals with a furniture catalog,
    a â€œtable with five legsâ€ or a â€œsquare table of two by two metersâ€ are pieces of
    information. A game program deals with a different kind of domain, where â€œfiveâ€
    might refer to the number of pixels per clock tick that some object travels on
    its way from one part of the canvas to another. Or, a payroll program is likely
    to deal with â€œfive deductions.â€
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: 'ä¿¡æ¯åœ¨æˆ‘ä»¬çš„æè¿°ä¸­æ‰®æ¼”ç€æ ¸å¿ƒè§’è‰²ã€‚å°†ä¿¡æ¯è§†ä¸ºå…³äºç¨‹åºé¢†åŸŸçš„çœŸç›¸ã€‚å¯¹äºä¸€ä¸ªå¤„ç†å®¶å…·ç›®å½•çš„ç¨‹åºï¼Œä¸€ä¸ªâ€œæœ‰äº”æ¡è…¿çš„æ¡Œå­â€æˆ–ä¸€ä¸ªâ€œä¸¤ç±³è§æ–¹çš„æ–¹å½¢æ¡Œå­â€éƒ½æ˜¯ä¿¡æ¯ç‰‡æ®µã€‚æ¸¸æˆç¨‹åºå¤„ç†çš„æ˜¯ä¸åŒç±»å‹çš„é¢†åŸŸï¼Œå…¶ä¸­â€œäº”â€å¯èƒ½æŒ‡çš„æ˜¯æŸäº›ç‰©ä½“åœ¨ç”»å¸ƒçš„ä¸€éƒ¨åˆ†ç§»åŠ¨åˆ°å¦ä¸€éƒ¨åˆ†æ—¶æ¯æ—¶é’Ÿå‘¨æœŸç§»åŠ¨çš„åƒç´ æ•°ã€‚æˆ–è€…ï¼Œå·¥èµ„ç¨‹åºå¯èƒ½å¤„ç†â€œäº”é¡¹æ‰£é™¤â€ã€‚ '
- en: For a program to process information, it must turn it into some form of data
    in the programming language; then it processes the data; and once it is finished,
    it turns the resulting data into information again. An interactive program may
    even intermingle these steps, acquiring more information from the world as needed
    and delivering information in between.
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è®©ç¨‹åºå¤„ç†ä¿¡æ¯ï¼Œå®ƒå¿…é¡»å°†å…¶è½¬æ¢ä¸ºç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€ç§æ•°æ®å½¢å¼ï¼›ç„¶åå¤„ç†è¿™äº›æ•°æ®ï¼›ä¸€æ—¦å®Œæˆï¼Œå®ƒå°†ç»“æœæ•°æ®å†æ¬¡è½¬æ¢ä¸ºä¿¡æ¯ã€‚äº¤äº’å¼ç¨‹åºç”šè‡³å¯èƒ½å°†è¿™äº›æ­¥éª¤æ··åˆåœ¨ä¸€èµ·ï¼Œæ ¹æ®éœ€è¦ä»ä¸–ç•Œä¸­è·å–æ›´å¤šä¿¡æ¯ï¼Œå¹¶åœ¨å…¶ä¸­ä¼ é€’ä¿¡æ¯ã€‚
- en: We use BSL and DrRacket so that you do not have to worry about the translation
    of information into data. In DrRacketâ€™s BSL you can apply a function directly
    to data and observe what it produces. As a result, we avoid the serious chicken-and-egg
    problem of writing functions that convert information into data and vice versa.
    For simple kinds of information, designing such program pieces is trivial; for
    anything other than simple information, you need to know about parsing, for example,
    and that immediately requires a lot of expertise in program design.
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨BSLå’ŒDrRacketï¼Œè¿™æ ·ä½ å°±ä¸å¿…æ‹…å¿ƒä¿¡æ¯åˆ°æ•°æ®çš„è½¬æ¢ã€‚åœ¨DrRacketçš„BSLä¸­ï¼Œä½ å¯ä»¥ç›´æ¥å°†å‡½æ•°åº”ç”¨äºæ•°æ®å¹¶è§‚å¯Ÿå®ƒäº§ç”Ÿçš„å†…å®¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¿å…äº†ç¼–å†™å°†ä¿¡æ¯è½¬æ¢ä¸ºæ•°æ®ä»¥åŠç›¸åçš„å‡½æ•°çš„ä¸¥é‡é¸¡ç”Ÿè›‹é—®é¢˜ã€‚å¯¹äºç®€å•ç±»å‹çš„ä¿¡æ¯ï¼Œè®¾è®¡è¿™æ ·çš„ç¨‹åºç»„ä»¶æ˜¯å¾®ä¸è¶³é“çš„ï¼›å¯¹äºé™¤ç®€å•ä¿¡æ¯ä¹‹å¤–çš„å…¶ä»–ä»»ä½•ä¸œè¥¿ï¼Œä½ éœ€è¦äº†è§£è§£æï¼Œä¾‹å¦‚ï¼Œè¿™ç«‹å³éœ€è¦å¤§é‡çš„ç¨‹åºè®¾è®¡ä¸“ä¸šçŸ¥è¯†ã€‚
- en: Software engineers use the slogan model-view-controller (MVC) for the way BSL
    and DrRacket separate data processing from parsing information into data and turning
    data into information. Indeed, it is now accepted wisdom that well-engineered
    software systems enforce this separation, even though most introductory books
    still commingle them. Thus, working with BSL and DrRacket allows you to focus
    on the design of the core of programs, and, when you have enough experience with
    that, you can learn to design the information-data translation parts.
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: è½¯ä»¶å·¥ç¨‹å¸ˆä½¿ç”¨æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼ˆMVCï¼‰è¿™ä¸ªå£å·æ¥æè¿°BSLå’ŒDrRacketå¦‚ä½•å°†æ•°æ®å¤„ç†ä¸å°†ä¿¡æ¯è§£ææˆæ•°æ®å’Œå°†æ•°æ®è½¬æ¢æˆä¿¡æ¯åˆ†å¼€ã€‚ç¡®å®ï¼Œç°åœ¨äººä»¬æ™®éè®¤ä¸ºï¼Œç²¾å¿ƒè®¾è®¡çš„è½¯ä»¶ç³»ç»Ÿå¼ºåˆ¶æ‰§è¡Œè¿™ç§åˆ†ç¦»ï¼Œå°½ç®¡å¤§å¤šæ•°å…¥é—¨ä¹¦ç±ä»ç„¶å°†å®ƒä»¬æ··åˆåœ¨ä¸€èµ·ã€‚å› æ­¤ï¼Œä½¿ç”¨BSLå’ŒDrRacketå¯ä»¥ä½¿ä½ ä¸“æ³¨äºç¨‹åºæ ¸å¿ƒçš„è®¾è®¡ï¼Œå½“ä½ åœ¨è¿™æ–¹é¢æœ‰è¶³å¤Ÿçš„ç»éªŒæ—¶ï¼Œä½ å¯ä»¥å­¦ä¹ å¦‚ä½•è®¾è®¡ä¿¡æ¯-æ•°æ®è½¬æ¢éƒ¨åˆ†ã€‚
- en: 'Here we use two preinstalled teachpacks to demonstrate the separation of data
    and information: 2htdp/batch-io and 2htdp/universe. Starting with this chapter,
    we develop design recipes for batch and interactive programs to give you an idea
    of how complete programs are designed. Do keep in mind that the teachpacks of
    full-fledged programming languages offer many more contexts for complete programs,
    and that you will need to adapt the design recipes appropriately.'
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªé¢„å®‰è£…çš„æ•™å…·åŒ…æ¥å±•ç¤ºæ•°æ®å’Œä¿¡æ¯çš„åˆ†ç¦»ï¼š2htdp/batch-ioå’Œ2htdp/universeã€‚ä»æœ¬ç« å¼€å§‹ï¼Œæˆ‘ä»¬å¼€å‘æ‰¹é‡ç¨‹åºå’Œäº¤äº’ç¨‹åºçš„è®¾è®¡é£Ÿè°±ï¼Œä»¥ç»™ä½ ä¸€ä¸ªå®Œæ•´çš„ç¨‹åºæ˜¯å¦‚ä½•è®¾è®¡çš„æ¦‚å¿µã€‚ä½†è¯·è®°ä½ï¼Œå®Œæ•´çš„ç¼–ç¨‹è¯­è¨€çš„æ•™å…·åŒ…æä¾›äº†è®¸å¤šå®Œæ•´çš„ç¨‹åºä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”ä½ éœ€è¦ç›¸åº”åœ°è°ƒæ•´è®¾è®¡é£Ÿè°±ã€‚
- en: '![image](../Images/f3316d1a6608480b3460675ba4545e8b.png)'
  id: totrans-866
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/f3316d1a6608480b3460675ba4545e8b.png)'
- en: ''
  id: totrans-867
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 15: From information to data, and back'
  id: totrans-868
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾15ï¼šä»ä¿¡æ¯åˆ°æ•°æ®ï¼Œå†å›åˆ°ä¿¡æ¯
- en: Given the central role of information and data, program design must start with
    the connection between them. Specifically, we, the programmers, must decide how
    to use our chosen programming language to represent the relevant pieces of information
    as data and how we should interpret data as information. [FigureÂ 15](#%28counter._%28figure._fig~3adata-info%29%29)
    explains this idea with an abstract diagram.
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°ä¿¡æ¯å’Œæ•°æ®çš„æ ¸å¿ƒä½œç”¨ï¼Œç¨‹åºè®¾è®¡å¿…é¡»ä»å®ƒä»¬ä¹‹é—´çš„è”ç³»å¼€å§‹ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ï¼Œç¨‹åºå‘˜ï¼Œå¿…é¡»å†³å®šå¦‚ä½•ä½¿ç”¨æˆ‘ä»¬é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€æ¥è¡¨ç¤ºç›¸å…³ä¿¡æ¯ä½œä¸ºæ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•å°†æ•°æ®è§£é‡Šä¸ºä¿¡æ¯ã€‚[å›¾15](#%28counter._%28figure._fig~3adata-info%29%29)ç”¨æŠ½è±¡å›¾è§£è¯´æ˜äº†è¿™ä¸ªæƒ³æ³•ã€‚
- en: 'To make this idea concrete, letâ€™s work through some examples. Suppose you are
    designing a program that consumes and produces information in the form of numbers.
    While choosing a representation is easy, an interpretation requires explaining
    what a number such as 42 denotes in the domain:'
  id: totrans-870
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿è¿™ä¸ªæƒ³æ³•æ›´å…·ä½“ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€äº›ä¾‹å­æ¥åˆ†æã€‚å‡è®¾ä½ æ­£åœ¨è®¾è®¡ä¸€ä¸ªä»¥æ•°å­—å½¢å¼æ¶ˆè€—å’Œäº§ç”Ÿä¿¡æ¯çš„ç¨‹åºã€‚è™½ç„¶é€‰æ‹©è¡¨ç¤ºæ–¹å¼å¾ˆç®€å•ï¼Œä½†è§£é‡Šåˆ™éœ€è¦è¯´æ˜ä¸€ä¸ªåƒ42è¿™æ ·çš„æ•°å­—åœ¨ä½œç”¨åŸŸä¸­ä»£è¡¨ä»€ä¹ˆï¼š
- en: 42 may refer to the number of pixels from the top margin in the domain of images;
  id: totrans-871
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 42åœ¨å›¾åƒä½œç”¨åŸŸä¸­å¯èƒ½æŒ‡çš„æ˜¯ä»é¡¶éƒ¨è¾¹è·å¼€å§‹çš„åƒç´ æ•°ï¼›
- en: 42 may denote the number of pixels per clock tick that a simulation or game
    object moves;
  id: totrans-872
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 42å¯èƒ½ä»£è¡¨æ¨¡æ‹Ÿæˆ–æ¸¸æˆå¯¹è±¡æ¯æ—¶é’Ÿå‘¨æœŸç§»åŠ¨çš„åƒç´ æ•°ï¼›
- en: 42 may mean a temperature, on the Fahrenheit, Celsius, or Kelvin scale for the
    domain of physics;
  id: totrans-873
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 42åœ¨ç‰©ç†ä½œç”¨åŸŸä¸­å¯èƒ½ä»£è¡¨åæ°ã€æ‘„æ°æˆ–å¼€å°”æ–‡æ¸©åº¦ï¼›
- en: 42 may specify the size of some table if the domain of the program is a furniture
    catalog; or
  id: totrans-874
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœç¨‹åºçš„ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªå®¶å…·ç›®å½•ï¼Œ42å¯èƒ½æŒ‡å®šæŸäº›è¡¨æ ¼çš„å¤§å°ï¼›æˆ–è€…
- en: 42 could just count the number of characters in a string.
  id: totrans-875
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 42å¯èƒ½åªæ˜¯è®¡ç®—å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°ã€‚
- en: The key is to know how to go from numbers as information to numbers as data
    and vice versa.
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
  zh: å…³é”®åœ¨äºçŸ¥é“å¦‚ä½•ä»ä½œä¸ºä¿¡æ¯çš„æ•°å­—è½¬æ¢åˆ°ä½œä¸ºæ•°æ®çš„æ•°å­—ï¼Œåä¹‹äº¦ç„¶ã€‚
- en: Since this knowledge is so important for everyone who reads the program, we
    often write it down in the form of comments, which we call data definitions. A
    data definition serves two purposes. First, it names a collection of dataâ€”<wbr>a
    classâ€”<wbr>using a meaningful word. Second,Computing scientists use â€œclassâ€ to
    mean something like a â€œmathematical set.â€ it informs readers how to create elements
    of this class and how to decide whether some arbitrary piece of data belongs to
    the collection.
  id: totrans-877
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè¿™é¡¹çŸ¥è¯†å¯¹é˜…è¯»ç¨‹åºçš„æ‰€æœ‰äººæ¥è¯´éƒ½è‡³å…³é‡è¦ï¼Œæˆ‘ä»¬é€šå¸¸å°†å…¶ä»¥æ³¨é‡Šçš„å½¢å¼å†™ä¸‹æ¥ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°æ®å®šä¹‰ã€‚æ•°æ®å®šä¹‰æœ‰ä¸¤ä¸ªä½œç”¨ã€‚é¦–å…ˆï¼Œå®ƒç”¨ä¸€ä¸ªæœ‰æ„ä¹‰çš„è¯å‘½åä¸€ç»„æ•°æ®â€”â€”<wbr>ä¸€ä¸ªç±»â€”â€”<wbr>ã€‚å…¶æ¬¡ï¼Œè®¡ç®—æœºç§‘å­¦å®¶ä½¿ç”¨â€œç±»â€æ¥è¡¨ç¤ºç±»ä¼¼äºâ€œæ•°å­¦é›†åˆâ€çš„ä¸œè¥¿ã€‚å®ƒå‘ŠçŸ¥è¯»è€…å¦‚ä½•åˆ›å»ºæ­¤ç±»å…ƒç´ ä»¥åŠå¦‚ä½•åˆ¤æ–­æŸä¸ªä»»æ„æ•°æ®æ˜¯å¦å±äºè¯¥é›†åˆã€‚
- en: 'Here is a data definition for one of the above examples:'
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸Šè¿°ç¤ºä¾‹ä¹‹ä¸€çš„æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A Temperature is a [Number](#%28tech._number%29). |'
  id: totrans-879
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ¸©åº¦æ˜¯ä¸€ä¸ª [æ•°å­—](#%28tech._number%29)ã€‚ |'
- en: '| ;Â interpretation represents Celsius degrees |'
  id: totrans-880
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè¡¨ç¤ºæ‘„æ°åº¦ |'
- en: The first line introduces the name of the data collection, [Temperature](#%28tech._temperature%29),
    and tells us that the class consists of all [Number](#%28tech._number%29)s. So,
    for example, if we ask whether 102 is a temperature, you can respond with â€œyesâ€
    because 102 is a number and all numbers are temperatures. Similarly, if we ask
    whether "cold" is a [Temperature](#%28tech._temperature%29), you will say â€œnoâ€
    because no string belongs to [Temperature](#%28tech._temperature%29). And, if
    we asked you to make up a sample [Temperature](#%28tech._temperature%29), you
    might come up with something like -400.
  id: totrans-881
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€è¡Œä»‹ç»äº†æ•°æ®é›†åˆçš„åç§°ï¼Œ[æ¸©åº¦](#%28tech._temperature%29)ï¼Œå¹¶å‘Šè¯‰æˆ‘ä»¬è¯¥ç±»ç”±æ‰€æœ‰[æ•°å­—](#%28tech._number%29)sç»„æˆã€‚æ‰€ä»¥ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬é—®102æ˜¯å¦æ˜¯æ¸©åº¦ï¼Œä½ å¯ä»¥å›ç­”â€œæ˜¯â€ï¼Œå› ä¸º102æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯æ¸©åº¦ã€‚åŒæ ·ï¼Œå¦‚æœæˆ‘ä»¬é—®â€œcoldâ€æ˜¯å¦æ˜¯[æ¸©åº¦](#%28tech._temperature%29)ï¼Œä½ ä¼šè¯´â€œä¸â€ï¼Œå› ä¸ºæ²¡æœ‰å­—ç¬¦ä¸²å±äº[æ¸©åº¦](#%28tech._temperature%29)ã€‚è€Œä¸”ï¼Œå¦‚æœæˆ‘ä»¬è®©ä½ ç¼–ä¸€ä¸ª[æ¸©åº¦](#%28tech._temperature%29)çš„æ ·æœ¬ï¼Œä½ å¯èƒ½æƒ³åˆ°çš„æ˜¯-400ã€‚
- en: If you happen to know that the lowest possible temperature is approximately
    ![image](../Images/153d2d2ae1e63fd63305b563c188fe13.png) C, you may wonder whether
    it is possible to express this knowledge in a data definition. Since our data
    definitions are really just English descriptions of classes, you may indeed define
    the class of temperatures in a much more accurate manner than shown here. In this
    book, we use a stylized form of English for such data definitions, and the next
    chapter introduces the style for imposing constraints such as â€œlarger than -274.â€
  id: totrans-882
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ç¢°å·§çŸ¥é“æœ€ä½å¯èƒ½çš„æ¸©åº¦å¤§çº¦æ˜¯![image](../Images/153d2d2ae1e63fd63305b563c188fe13.png) Cï¼Œä½ å¯èƒ½ä¼šæƒ³çŸ¥é“æ˜¯å¦æœ‰å¯èƒ½åœ¨æ•°æ®å®šä¹‰ä¸­è¡¨è¾¾è¿™ç§çŸ¥è¯†ã€‚ç”±äºæˆ‘ä»¬çš„æ•°æ®å®šä¹‰å®é™…ä¸Šåªæ˜¯ç±»çš„è‹±è¯­æè¿°ï¼Œä½ ç¡®å®å¯ä»¥æ¯”è¿™é‡Œå±•ç¤ºçš„æ›´ç²¾ç¡®åœ°å®šä¹‰æ¸©åº¦ç±»ã€‚åœ¨è¿™æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ç§é£æ ¼åŒ–çš„è‹±è¯­å½¢å¼æ¥è¡¨ç¤ºè¿™æ ·çš„æ•°æ®å®šä¹‰ï¼Œä¸‹ä¸€ç« å°†ä»‹ç»å¦‚ä½•æ–½åŠ â€œå¤§äº-274â€ä¹‹ç±»çš„çº¦æŸã€‚
- en: 'So far, you have encountered the names of four classes of data: [Number](#%28tech._number%29),
    [String](#%28tech._string%29), [Image](#%28tech._image%29), and [Boolean](#%28tech._boolean%29).
    With that, formulating a new data definition means nothing more than introducing
    a new name for an existing form of data, say, â€œtemperatureâ€ for numbers. Even
    this limited knowledge, though, suffices to explain the outline of our design
    process.'
  id: totrans-883
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»é‡åˆ°äº†å››ç§æ•°æ®ç±»çš„åç§°ï¼š[æ•°å­—](#%28tech._number%29)ã€[å­—ç¬¦ä¸²](#%28tech._string%29)ã€[å›¾åƒ](#%28tech._image%29)å’Œ[å¸ƒå°”](#%28tech._boolean%29)ã€‚æœ‰äº†è¿™äº›ï¼Œåˆ¶å®šä¸€ä¸ªæ–°çš„æ•°æ®å®šä¹‰å°±æ„å‘³ç€ä¸ºç°æœ‰çš„æ•°æ®å½¢å¼å¼•å…¥ä¸€ä¸ªæ–°çš„åç§°ï¼Œæ¯”å¦‚â€œæ¸©åº¦â€ä¸ºæ•°å­—ã€‚å³ä½¿è¿™ç§æœ‰é™çš„çŸ¥è¯†ï¼Œä¹Ÿè¶³ä»¥è§£é‡Šæˆ‘ä»¬è®¾è®¡è¿‡ç¨‹çš„æ¦‚è¦ã€‚
- en: 'The Design Process Once you understand how to represent input informationAt
    this point, you may wish to reread the section on [Systematic Program Design](part_preface.html#%28part._sec~3asystematic-design%29)
    in the Preface, especially [figureÂ 1](part_preface.html#%28counter._%28figure._fig~3athe-design-recipe%29%29).
    as data and to interpret output data as information, the design of an individual
    function proceeds according to a straightforward process:'
  id: totrans-884
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡è¿‡ç¨‹ä¸€æ—¦ä½ ç†è§£äº†å¦‚ä½•å°†è¾“å…¥ä¿¡æ¯è¡¨ç¤ºä¸ºæ•°æ®ä»¥åŠå¦‚ä½•å°†è¾“å‡ºæ•°æ®è§£é‡Šä¸ºä¿¡æ¯ï¼Œå•ä¸ªå‡½æ•°çš„è®¾è®¡å°±ä¼šæŒ‰ç…§ä¸€ä¸ªç›´æ¥çš„è¿‡ç¨‹è¿›è¡Œï¼š
- en: 'Express how you wish to represent information as data. A one-line comment suffices:'
  id: totrans-885
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è¡¨è¾¾ä½ å¸Œæœ›å¦‚ä½•å°†ä¿¡æ¯è¡¨ç¤ºä¸ºæ•°æ®ã€‚ä¸€è¡Œæ³¨é‡Šå°±è¶³å¤Ÿäº†ï¼š
- en: ;Â We use numbers to represent centimeters.
  id: totrans-886
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â æˆ‘ä»¬ç”¨æ•°å­—æ¥è¡¨ç¤ºå˜ç±³ã€‚
- en: Formulate data definitions, like the one for [Temperature](#%28tech._temperature%29),
    for the classes of data you consider relevant for the successful design of your
    program.
  id: totrans-887
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¸ºä½ è®¤ä¸ºæ˜¯ç¨‹åºæˆåŠŸè®¾è®¡ç›¸å…³çš„é‡è¦æ•°æ®ç±»åˆ«ï¼Œåˆ¶å®šæ•°æ®å®šä¹‰ï¼Œä¾‹å¦‚ [æ¸©åº¦](#%28tech._temperature%29) çš„å®šä¹‰ã€‚
- en: Write down a signature, a statement of purpose, and a function header.
  id: totrans-888
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å†™ä¸‹ç­¾åã€ç›®çš„å£°æ˜å’Œå‡½æ•°å¤´ã€‚
- en: A function signature is a comment that tells the readers of your design how
    many inputs your function consumes, from which classes they are drawn, and what
    kind of data it produces. Here are three examples for functions that respectively
  id: totrans-889
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å‡½æ•°ç­¾åæ˜¯ä¸€ä¸ªæ³¨é‡Šï¼Œå®ƒå‘Šè¯‰ä½ çš„è®¾è®¡è¯»è€…ä½ çš„å‡½æ•°æ¶ˆè€—äº†å¤šå°‘è¾“å…¥ï¼Œå®ƒä»¬æ¥è‡ªå“ªäº›ç±»åˆ«ï¼Œä»¥åŠå®ƒäº§ç”Ÿä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚ä»¥ä¸‹æ˜¯ä¸‰ä¸ªå‡½æ•°çš„ä¾‹å­ï¼Œåˆ†åˆ«
- en: 'consume one [String](#%28tech._string%29) and produce a [Number](#%28tech._number%29):'
  id: totrans-890
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'æ¶ˆè€—ä¸€ä¸ª [å­—ç¬¦ä¸²](#%28tech._string%29) å¹¶ç”Ÿæˆä¸€ä¸ª [æ•°å­—](#%28tech._number%29):'
- en: ;Â [String](#%28tech._string%29) -> [Number](#%28tech._number%29)
  id: totrans-891
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [å­—ç¬¦ä¸²](#%28tech._string%29) -> [æ•°å­—](#%28tech._number%29)
- en: 'consume a [Temperature](#%28tech._temperature%29) and produce a [String](#%28tech._string%29):'
  id: totrans-892
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'æ¶ˆè€—ä¸€ä¸ª [æ¸©åº¦](#%28tech._temperature%29) å¹¶ç”Ÿæˆä¸€ä¸ª [å­—ç¬¦ä¸²](#%28tech._string%29):'
- en: ;Â [Temperature](#%28tech._temperature%29) -> [String](#%28tech._string%29)
  id: totrans-893
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [æ¸©åº¦](#%28tech._temperature%29) -> [å­—ç¬¦ä¸²](#%28tech._string%29)
- en: As this signature points out, introducing a data definition as an alias for
    an existing form of data makes it easy to read the intention behind signatures.
  id: totrans-894
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ­£å¦‚è¿™ä¸ªç­¾åæ‰€æŒ‡å‡ºçš„ï¼Œå°†æ•°æ®å®šä¹‰ä½œä¸ºç°æœ‰æ•°æ®å½¢å¼çš„åˆ«åå¼•å…¥ï¼Œä½¿å¾—é˜…è¯»ç­¾åèƒŒåçš„æ„å›¾å˜å¾—å®¹æ˜“ã€‚
- en: Nevertheless, we recommend that you stay away from aliasing data definitions
    for now. A proliferation of such names can cause quite a lot of confusion. It
    takes practice to balance the need for new names and the readability of programs,
    and there are more important ideas to understand right now.
  id: totrans-895
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œæˆ‘ä»¬å»ºè®®ä½ ç°åœ¨é¿å…å¯¹æ•°æ®å®šä¹‰ä½¿ç”¨åˆ«åã€‚è¿™ç§åç§°çš„æ³›æ»¥å¯èƒ½ä¼šé€ æˆç›¸å½“å¤šçš„æ··æ·†ã€‚å¹³è¡¡å¯¹æ–°åç§°çš„éœ€æ±‚å’Œç¨‹åºçš„æ˜“è¯»æ€§éœ€è¦ç»ƒä¹ ï¼Œè€Œä¸”ç°åœ¨æœ‰æ›´å¤šé‡è¦çš„æ¦‚å¿µéœ€è¦ç†è§£ã€‚
- en: 'consume a [Number](#%28tech._number%29), a [String](#%28tech._string%29), and
    an [Image](#%28tech._image%29):'
  id: totrans-896
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'æ¶ˆè€—ä¸€ä¸ª [æ•°å­—](#%28tech._number%29)ï¼Œä¸€ä¸ª [å­—ç¬¦ä¸²](#%28tech._string%29) å’Œä¸€ä¸ª [å›¾åƒ](#%28tech._image%29):'
- en: ;Â [Number](#%28tech._number%29)  [String](#%28tech._string%29)  [Image](#%28tech._image%29)
    -> [Image](#%28tech._image%29)
  id: totrans-897
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [æ•°å­—](#%28tech._number%29)  [å­—ç¬¦ä¸²](#%28tech._string%29)  [å›¾åƒ](#%28tech._image%29)
    -> [å›¾åƒ](#%28tech._image%29)
- en: Stop! What does this function produce?
  id: totrans-898
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¿™ä¸ªå‡½æ•°äº§ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
- en: A purpose statement is a BSL comment that summarizes the purpose of the function
    in a single line. If you are ever in doubt about a purpose statement, write down
    the shortest possible answer to the question
  id: totrans-899
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç›®çš„å£°æ˜æ˜¯ä¸€ä¸ªBSLæ³¨é‡Šï¼Œå®ƒç”¨ä¸€è¡Œæ€»ç»“å‡½æ•°çš„ç›®çš„ã€‚å¦‚æœä½ å¯¹ç›®çš„å£°æ˜æœ‰ç–‘é—®ï¼Œå†™ä¸‹å¯¹é—®é¢˜çš„æœ€ç®€å›ç­”
- en: what does the function compute?
  id: totrans-900
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å‡½æ•°è®¡ç®—äº†ä»€ä¹ˆï¼Ÿ
- en: Every reader of your program should understand what your functions compute without
    having to read the function itself.
  id: totrans-901
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ¯ä¸ªé˜…è¯»ä½ ç¨‹åºçš„äººéƒ½åº”è¯¥ç†è§£ä½ çš„å‡½æ•°è®¡ç®—äº†ä»€ä¹ˆï¼Œè€Œæ— éœ€é˜…è¯»å‡½æ•°æœ¬èº«ã€‚
- en: 'A multi-function program should also come with a purpose statement. Indeed,
    good programmers write two purpose statements: one for the reader who may have
    to modify the code and another one for the person who wishes to use the program
    but not read it.'
  id: totrans-902
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå¤šåŠŸèƒ½çš„ç¨‹åºä¹Ÿåº”è¯¥é™„å¸¦ä¸€ä¸ªç›®çš„å£°æ˜ã€‚ç¡®å®ï¼Œå¥½çš„ç¨‹åºå‘˜ä¼šå†™ä¸¤ä¸ªç›®çš„å£°æ˜ï¼šä¸€ä¸ªæ˜¯ä¸ºå¯èƒ½éœ€è¦ä¿®æ”¹ä»£ç çš„è¯»è€…ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸ºå¸Œæœ›ä½¿ç”¨ç¨‹åºä½†ä¸é˜…è¯»å®ƒçš„äººã€‚
- en: 'Finally, a header is a simplistic function definition, also called a stub.
    Pick one variable name for each class of input in the signature; the body of the
    function can be any piece of data from the output class. These three function
    headers match the above three signatures:'
  id: totrans-903
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æœ€åï¼Œä¸€ä¸ªå¤´æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°å®šä¹‰ï¼Œä¹Ÿç§°ä¸ºå ä½ç¬¦ã€‚åœ¨ç­¾åä¸­ä¸ºæ¯ä¸€ç±»è¾“å…¥é€‰æ‹©ä¸€ä¸ªå˜é‡åï¼›å‡½æ•°ä½“å¯ä»¥æ˜¯è¾“å‡ºç±»ä¸­çš„ä»»ä½•æ•°æ®ã€‚è¿™ä¸‰ä¸ªå‡½æ•°å¤´ä¸ä¸Šé¢çš„ä¸‰ä¸ªç­¾åç›¸åŒ¹é…ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (f  a-string)  0)
  id: totrans-904
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (f  a-string)  0)
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (g  n)  "a")
  id: totrans-905
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (g  n)  "a")
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (h  num  str  img)  ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)  100  100))
  id: totrans-906
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)  (h  num  str  img)  ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)  100  100))
- en: Our parameter names reflect what kind of data the parameter represents. Sometimes,
    you may wish to use names that suggest the purpose of the parameter.When you formulate
    a purpose statement, it is often useful to employ the parameter names to clarify
    what is computed. For example,
  id: totrans-907
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„å‚æ•°åç§°åæ˜ äº†å‚æ•°ä»£è¡¨çš„æ•°æ®ç±»å‹ã€‚æœ‰æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›ä½¿ç”¨æš—ç¤ºå‚æ•°ç›®çš„çš„åç§°ã€‚å½“ä½ åˆ¶å®šç›®çš„é™ˆè¿°æ—¶ï¼Œé€šå¸¸ä½¿ç”¨å‚æ•°åç§°æ¥é˜æ˜è®¡ç®—çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œ
- en: '| ;Â [Number](#%28tech._number%29)  [String](#%28tech._string%29)  [Image](#%28tech._image%29)
    -> [Image](#%28tech._image%29) |'
  id: totrans-908
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](#%28tech._number%29)  [String](#%28tech._string%29)  [Image](#%28tech._image%29)
    -> [Image](#%28tech._image%29) |'
- en: '| ;Â adds s to img, |'
  id: totrans-909
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‘ img ä¸­æ·»åŠ  sï¼Œ |'
- en: '| ;Â y pixels from the top and 10 from the left |'
  id: totrans-910
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â y åƒç´ ä»é¡¶éƒ¨å¼€å§‹ï¼Œ10 åƒç´ ä»å·¦è¾¹å¼€å§‹ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (add-imageÂ yÂ sÂ img)
    |'
  id: totrans-911
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (add-imageÂ yÂ sÂ img)
    |'
- en: '| Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    |'
  id: totrans-912
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    |'
- en: At this point, you can click the RUN button and experiment with the function.
    Of course, the result is always the same value, which makes these experiments
    quite boring.
  id: totrans-913
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä½ å¯ä»¥ç‚¹å‡»â€œè¿è¡Œâ€æŒ‰é’®å¹¶å°è¯•è¿™ä¸ªå‡½æ•°ã€‚å½“ç„¶ï¼Œç»“æœæ€»æ˜¯ç›¸åŒçš„å€¼ï¼Œè¿™ä½¿å¾—è¿™äº›å®éªŒç›¸å½“æ— èŠã€‚
- en: Illustrate the signature and the purpose statement with some functional examples.
    To construct a functional example, pick one piece of data from each input class
    from the signature and determine what you expect back.
  id: totrans-914
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€šè¿‡ä¸€äº›åŠŸèƒ½ç¤ºä¾‹æ¥è¯´æ˜ç­¾åå’Œç›®çš„é™ˆè¿°ã€‚ä¸ºäº†æ„å»ºä¸€ä¸ªåŠŸèƒ½ç¤ºä¾‹ï¼Œä»ç­¾åçš„æ¯ä¸ªè¾“å…¥ç±»ä¸­é€‰æ‹©ä¸€ä¸ªæ•°æ®é¡¹ï¼Œå¹¶ç¡®å®šä½ æœŸæœ›å¾—åˆ°ä»€ä¹ˆã€‚
- en: 'Suppose you are designing a function that computes the area of a square. Clearly
    this function consumes the length of the squareâ€™s side, and that is best represented
    with a (positive) number. Assuming you have done the first process step according
    to the recipe, you add the examples between the purpose statement and the header
    and get this:'
  id: totrans-915
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ æ­£åœ¨è®¾è®¡ä¸€ä¸ªè®¡ç®—æ­£æ–¹å½¢é¢ç§¯çš„å‡½æ•°ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦æ¶ˆè€—æ­£æ–¹å½¢è¾¹é•¿çš„é•¿åº¦ï¼Œæœ€å¥½ç”¨ï¼ˆæ­£ï¼‰æ•°æ¥è¡¨ç¤ºã€‚å‡è®¾ä½ å·²ç»æŒ‰ç…§è¯´æ˜å®Œæˆäº†ç¬¬ä¸€æ­¥ï¼Œä½ ä¼šåœ¨ç›®çš„é™ˆè¿°å’Œæ ‡é¢˜ä¹‹é—´æ·»åŠ ç¤ºä¾‹ï¼Œå¾—åˆ°å¦‚ä¸‹å†…å®¹ï¼š
- en: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
  id: totrans-916
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
- en: '| ;Â computes the area of a square with side len |'
  id: totrans-917
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è®¡ç®—è¾¹é•¿ä¸º len çš„æ­£æ–¹å½¢é¢ç§¯ |'
- en: '| ;Â given: 2, expect: 4 |'
  id: totrans-918
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®šï¼š2ï¼ŒæœŸæœ›ï¼š4 |'
- en: '| ;Â given: 7, expect: 49 |'
  id: totrans-919
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®šï¼š7ï¼ŒæœŸæœ›ï¼š49 |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-squareÂ len)Â 0)
    |'
  id: totrans-920
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-squareÂ len)Â 0)
    |'
- en: The next step is to take inventory, to understand what are the givens and what
    we need to compute.We owe the term â€œinventoryâ€ to Stephen Bloch. For the simple
    functions we are considering right now, we know that they are given data via parameters.
    While parameters are placeholders for values that we donâ€™t know yet, we do know
    that it is from this unknown data that the function must compute its result. To
    remind ourselves of this fact, we replace the functionâ€™s body with a template.
  id: totrans-921
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸‹ä¸€æ­¥æ˜¯è¿›è¡Œæ¸…å•æ•´ç†ï¼Œä»¥äº†è§£å·²çŸ¥æ¡ä»¶å’Œéœ€è¦è®¡ç®—çš„å†…å®¹ã€‚æˆ‘ä»¬æ„Ÿè°¢Stephen Blochæå‡ºäº†â€œæ¸…å•æ•´ç†â€è¿™ä¸ªæœ¯è¯­ã€‚å¯¹äºæˆ‘ä»¬ç°åœ¨è€ƒè™‘çš„ç®€å•å‡½æ•°ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒä»¬é€šè¿‡å‚æ•°æä¾›æ•°æ®ã€‚è™½ç„¶å‚æ•°æ˜¯æˆ‘ä»¬å°šæœªçŸ¥é“å€¼çš„å ä½ç¬¦ï¼Œä½†æˆ‘ä»¬ç¡®å®çŸ¥é“å‡½æ•°å¿…é¡»ä»è¿™äº›æœªçŸ¥æ•°æ®ä¸­è®¡ç®—å‡ºç»“æœã€‚ä¸ºäº†æé†’è‡ªå·±è¿™ä¸ªäº‹å®ï¼Œæˆ‘ä»¬å°†å‡½æ•°çš„ä¸»ä½“æ›¿æ¢ä¸ºä¸€ä¸ªæ¨¡æ¿ã€‚
- en: 'For now, the template contains just the parameters, so that the preceding example
    looks like this:'
  id: totrans-922
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç›®å‰ï¼Œæ¨¡æ¿åªåŒ…å«å‚æ•°ï¼Œæ‰€ä»¥å‰é¢çš„ä¾‹å­çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-squareÂ len)
    |'
  id: totrans-923
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-squareÂ len)
    |'
- en: '| Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â lenÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-924
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â lenÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: The dots remind you that this isnâ€™t a complete function, but a template, a suggestion
    for an organization.
  id: totrans-925
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™äº›ç‚¹æé†’ä½ è¿™ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œä¸€ä¸ªç»„ç»‡å»ºè®®ã€‚
- en: The templates of this section look boring. As soon as we introduce new forms
    of data, templates become interesting.
  id: totrans-926
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚æ¨¡æ¿çœ‹èµ·æ¥å¾ˆæ— èŠã€‚ä¸€æ—¦æˆ‘ä»¬å¼•å…¥æ–°çš„æ•°æ®å½¢å¼ï¼Œæ¨¡æ¿å°±å˜å¾—æœ‰è¶£äº†ã€‚
- en: It is now time to code. In general, to code means to program, though often in
    the narrowest possible way, namely, to write executable expressions and function
    definitions.
  id: totrans-927
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç°åœ¨æ˜¯ç¼–ç çš„æ—¶å€™äº†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç¼–ç æ„å‘³ç€ç¼–ç¨‹ï¼Œå°½ç®¡é€šå¸¸æ˜¯åœ¨æœ€ç‹­çª„çš„å¯èƒ½æ–¹å¼ä¸‹ï¼Œå³ç¼–å†™å¯æ‰§è¡Œçš„è¡¨è¾¾å¼å’Œå‡½æ•°å®šä¹‰ã€‚
- en: 'To us, coding means to replace the body of the function with an expression
    that attempts to compute from the pieces in the template what the purpose statement
    promises. Here is the complete definition for area-of-square:'
  id: totrans-928
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œç¼–ç æ„å‘³ç€ç”¨è¡¨è¾¾å¼æ›¿æ¢å‡½æ•°çš„ä¸»ä½“ï¼Œè¯¥è¡¨è¾¾å¼å°è¯•ä»æ¨¡æ¿ä¸­çš„ç‰‡æ®µè®¡ç®—å‡ºç›®çš„è¯­å¥æ‰€æ‰¿è¯ºçš„å†…å®¹ã€‚ä»¥ä¸‹æ˜¯å…³äºâ€œæ±‚å¹³æ–¹é¢ç§¯â€çš„å®Œæ•´å®šä¹‰ï¼š
- en: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
  id: totrans-929
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
- en: '| ;Â computes the area of a square with side len |'
  id: totrans-930
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â computes the area of a square with side len |'
- en: '| ;Â given: 2, expect: 4 |'
  id: totrans-931
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â given: 2, expect: 4 |'
- en: '| ;Â given: 7, expect: 49 |'
  id: totrans-932
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â given: 7, expect: 49 |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-squareÂ len)
    |'
  id: totrans-933
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-squareÂ len)
    |'
- en: '| Â Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â len))
    |'
  id: totrans-934
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â len))
    |'
- en: '| ;Â [Number](#%28tech._number%29)  [String](#%28tech._string%29)  [Image](#%28tech._image%29)
    -> [Image](#%28tech._image%29) |'
  id: totrans-935
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](#%28tech._number%29)  [String](#%28tech._string%29)  [Image](#%28tech._image%29)
    -> [Image](#%28tech._image%29) |'
- en: '| ;Â adds s to img, y pixels from top, 10 pixels to the left |'
  id: totrans-936
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â adds s to img, y pixels from top, 10 pixels to the left |'
- en: '| ;Â given: |'
  id: totrans-937
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â given: |'
- en: '| ;Â Â Â Â 5 for y, |'
  id: totrans-938
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â Â 5 for y, |'
- en: '| ;Â Â Â Â "hello" for s, and |'
  id: totrans-939
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â Â "hello" for s, and |'
- en: '| ;Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)  100  100)
    for img |'
  id: totrans-940
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)  100  100)
    for img |'
- en: '| ;Â expected: |'
  id: totrans-941
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â expected: |'
- en: '| ;Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)  ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)  "hello"  10  "red")  10  5  [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-942
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)  ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)  "hello"  10  "red")  10  5  [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: '| ;Â Â Â Â where ... is ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)  100  100)
    |'
  id: totrans-943
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â Â where ... is ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)  100  100)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (add-imageÂ yÂ sÂ img)
    |'
  id: totrans-944
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (add-imageÂ yÂ sÂ img)
    |'
- en: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â sÂ 10Â "red")Â 10Â yÂ img))
    |'
  id: totrans-945
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â sÂ 10Â "red")Â 10Â yÂ img))
    |'
- en: ''
  id: totrans-946
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 16: The completion of design step 5'
  id: totrans-947
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾16ï¼šè®¾è®¡æ­¥éª¤5çš„å®Œæˆ
- en: 'To complete the add-image function takes a bit more work than that: see [figureÂ 16](#%28counter._%28figure._fig~3adesign1%29%29).
    In particular, the function needs to turn the given string s into an image, which
    is then placed into the given scene.'
  id: totrans-948
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¦å®Œæˆæ·»åŠ å›¾åƒçš„å‡½æ•°éœ€è¦åšæ›´å¤šçš„å·¥ä½œï¼šå‚è§[å›¾16](#%28counter._%28figure._fig~3adesign1%29%29)ã€‚ç‰¹åˆ«æ˜¯ï¼Œè¯¥å‡½æ•°éœ€è¦å°†ç»™å®šçš„å­—ç¬¦ä¸²sè½¬æ¢ä¸ºå›¾åƒï¼Œç„¶åå°†è¯¥å›¾åƒæ”¾ç½®åœ¨ç»™å®šçš„åœºæ™¯ä¸­ã€‚
- en: 'The last step of a proper design is to test the function on the examples that
    you worked out before. For now, testing works like this. Click the RUN button
    and enter function applications that match the examples in the interactions area:'
  id: totrans-949
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ­£ç¡®è®¾è®¡çš„æœ€åä¸€æ­¥æ˜¯åœ¨ä½ ä¹‹å‰å·¥ä½œçš„ç¤ºä¾‹ä¸Šæµ‹è¯•å‡½æ•°ã€‚ç›®å‰ï¼Œæµ‹è¯•æ˜¯è¿™æ ·çš„ã€‚ç‚¹å‡»RUNæŒ‰é’®ï¼Œå¹¶åœ¨äº¤äº’åŒºåŸŸè¾“å…¥ä¸ç¤ºä¾‹åŒ¹é…çš„å‡½æ•°åº”ç”¨ï¼š
- en: '| > (area-of-squareÂ 2) |'
  id: totrans-950
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (area-of-squareÂ 2) |'
- en: '| 4 |'
  id: totrans-951
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| 4 |'
- en: '| > (area-of-squareÂ 7) |'
  id: totrans-952
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (area-of-squareÂ 7) |'
- en: '| 49 |'
  id: totrans-953
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| 49 |'
- en: 'The results must match the output that you expect; you must inspect each result
    and make sure it is equal to what is written down in the example portion of the
    design. If the result doesnâ€™t match the expected output, consider the following
    three possibilities:'
  id: totrans-954
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç»“æœå¿…é¡»ä¸é¢„æœŸçš„è¾“å‡ºåŒ¹é…ï¼›ä½ å¿…é¡»æ£€æŸ¥æ¯ä¸ªç»“æœï¼Œç¡®ä¿å®ƒç­‰äºè®¾è®¡éƒ¨åˆ†ç¤ºä¾‹ä¸­å†™ä¸‹çš„å†…å®¹ã€‚å¦‚æœç»“æœä¸é¢„æœŸè¾“å‡ºä¸åŒ¹é…ï¼Œè€ƒè™‘ä»¥ä¸‹ä¸‰ç§å¯èƒ½æ€§ï¼š
- en: You miscalculated and determined the wrong expected output for some of the examples.
  id: totrans-955
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½ è®¡ç®—é”™è¯¯ï¼Œå¹¶ç¡®å®šäº†ä¸€äº›ç¤ºä¾‹çš„é”™è¯¯é¢„æœŸè¾“å‡ºã€‚
- en: Alternatively, the function definition computes the wrong result. When this
    is the case, you have a logical error in your program, also known as a bug.
  id: totrans-956
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œå‡½æ•°å®šä¹‰è®¡ç®—äº†é”™è¯¯çš„ç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ çš„ç¨‹åºä¸­å­˜åœ¨é€»è¾‘é”™è¯¯ï¼Œä¹Ÿç§°ä¸ºé”™è¯¯ã€‚
- en: Both the examples and the function definition are wrong.
  id: totrans-957
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¾‹å­å’Œå‡½æ•°å®šä¹‰éƒ½æ˜¯é”™è¯¯çš„ã€‚
- en: When you do encounter a mismatch between expected results and actual values,
    we recommend that you first reassure yourself that the expected results are correct.
    If so, assume that the mistake is in the function definition. Otherwise, fix the
    example and then run the tests again. If you are still encountering problems,
    you may have encountered the third, somewhat rare, situation.
  id: totrans-958
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å½“ä½ é‡åˆ°é¢„æœŸç»“æœä¸å®é™…å€¼ä¸åŒ¹é…çš„æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å»ºè®®ä½ é¦–å…ˆç¡®è®¤é¢„æœŸç»“æœæ˜¯æ­£ç¡®çš„ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå‡è®¾é”™è¯¯åœ¨äºå‡½æ•°å®šä¹‰ã€‚å¦åˆ™ï¼Œä¿®å¤ç¤ºä¾‹ç„¶åå†æ¬¡è¿è¡Œæµ‹è¯•ã€‚å¦‚æœä½ ä»ç„¶é‡åˆ°é—®é¢˜ï¼Œä½ å¯èƒ½é‡åˆ°äº†ç¬¬ä¸‰ç§ï¼Œç›¸å¯¹è¾ƒå°‘è§çš„æƒ…å†µã€‚
- en: '3.2Finger Exercises: Functions[ğŸ”—](#(part._sec~3afinger-design) "Link to here")'
  id: totrans-959
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.2 æ‰‹æŒ‡ç»ƒä¹ ï¼šå‡½æ•°[ğŸ”—](#(part._sec~3afinger-design) "é“¾æ¥è‡³æ­¤")
- en: The first few of the following exercises are almost copies of those in [Functions](#%28part._sec~3afuncs%29),
    though where the latter use the word â€œdefineâ€ the exercises below use the word
    â€œdesign.â€ What this difference means is that you should work through the design
    recipe to create these functions and your solutions should include all relevant
    pieces.
  id: totrans-960
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹çš„ä¸€äº›ç»ƒä¹ å‡ ä¹ä¸[å‡½æ•°](#%28part._sec~3afuncs%29)ä¸­çš„é‚£äº›ç›¸åŒï¼Œå°½ç®¡åè€…ä½¿ç”¨â€œå®šä¹‰â€ä¸€è¯ï¼Œè€Œä¸‹é¢çš„ç»ƒä¹ ä½¿ç”¨â€œè®¾è®¡â€ä¸€è¯ã€‚è¿™ç§å·®å¼‚æ„å‘³ç€ä½ åº”è¯¥é€šè¿‡è®¾è®¡é…æ–¹æ¥åˆ›å»ºè¿™äº›å‡½æ•°ï¼Œå¹¶ä¸”ä½ çš„è§£å†³æ–¹æ¡ˆåº”åŒ…æ‹¬æ‰€æœ‰ç›¸å…³éƒ¨åˆ†ã€‚
- en: As the title of the section suggests, these exercises are practice exercises
    to help you internalize the process. Until the steps become second nature, never
    skip one because doing so leads to easily avoidable errors. There is plenty of
    room left in programming for complicated errors; we have no need to waste our
    time on silly ones.
  id: totrans-961
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ¬èŠ‚æ ‡é¢˜æ‰€æš—ç¤ºçš„ï¼Œè¿™äº›ç»ƒä¹ æ˜¯ç»ƒä¹ é¢˜ï¼Œæ—¨åœ¨å¸®åŠ©ä½ å†…åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚ç›´åˆ°è¿™äº›æ­¥éª¤å˜å¾—è‡ªç„¶è€Œç„¶ï¼Œæ°¸è¿œä¸è¦è·³è¿‡ä»»ä½•ä¸€ä¸ªï¼Œå› ä¸ºè¿™æ ·åšä¼šå¯¼è‡´å®¹æ˜“é¿å…çš„é”™è¯¯ã€‚ç¼–ç¨‹ä¸­è¿˜æœ‰è®¸å¤šå¤æ‚é”™è¯¯çš„ç©ºé—´ï¼›æˆ‘ä»¬ä¸éœ€è¦æµªè´¹æ—¶é—´åœ¨æ„šè ¢çš„é”™è¯¯ä¸Šã€‚
- en: ExerciseÂ 34\. Design the function string-first, which extracts the first character
    from a non-empty string. Donâ€™t worry about empty strings.
  id: totrans-962
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  34\. è®¾è®¡å‡½æ•° string-firstï¼Œå®ƒä»ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ä¸­æå–ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚ä¸ç”¨æ‹…å¿ƒç©ºå­—ç¬¦ä¸²ã€‚
- en: ExerciseÂ 35\. Design the function string-last, which extracts the last character
    from a non-empty string.
  id: totrans-963
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  35\. è®¾è®¡å‡½æ•° string-lastï¼Œå®ƒä»ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ä¸­æå–æœ€åä¸€ä¸ªå­—ç¬¦ã€‚
- en: ExerciseÂ 36\. Design the function image-area, which counts the number of pixels
    in a given image.
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  36\. è®¾è®¡å‡½æ•° image-areaï¼Œå®ƒè®¡ç®—ç»™å®šå›¾åƒä¸­çš„åƒç´ æ•°é‡ã€‚
- en: ExerciseÂ 37\. Design the function string-rest, which produces a string like
    the given one with the first character removed.
  id: totrans-965
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  37\. è®¾è®¡å‡½æ•° string-restï¼Œå®ƒäº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ç¬¬ä¸€ä¸ªå­—ç¬¦è¢«ç§»é™¤ã€‚
- en: ExerciseÂ 38\. Design the function string-remove-last, which produces a string
    like the given one with the last character removed.
  id: totrans-966
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  38\. è®¾è®¡å‡½æ•° string-remove-lastï¼Œå®ƒäº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶æœ€åä¸€ä¸ªå­—ç¬¦è¢«ç§»é™¤ã€‚
- en: 3.3Domain Knowledge[ğŸ”—](#(part._sec~3adomain) "Link to here")
  id: totrans-967
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.3 é¢†åŸŸçŸ¥è¯†[ğŸ”—](#(part._sec~3adomain) "é“¾æ¥è‡³æ­¤")
- en: 'It is natural to wonder what knowledge it takes to code up the body of a function.
    A little bit of reflection tells you that this step demands an appropriate grasp
    of the domain of the program. Indeed, there are two forms of such domain knowledge:'
  id: totrans-968
  prefs: []
  type: TYPE_NORMAL
  zh: å¾ˆè‡ªç„¶åœ°ä¼šæƒ³çŸ¥é“ç¼–å†™å‡½æ•°ä¸»ä½“éœ€è¦å“ªäº›çŸ¥è¯†ã€‚ä¸€ç‚¹åæ€ä¼šè®©ä½ çŸ¥é“è¿™ä¸€æ­¥éœ€è¦é€‚å½“æŒæ¡ç¨‹åºçš„é¢†åŸŸã€‚ç¡®å®ï¼Œå­˜åœ¨ä¸¤ç§å½¢å¼çš„è¿™ç§é¢†åŸŸçŸ¥è¯†ï¼š
- en: Knowledge from external domains, such as mathematics, music, biology, civil
    engineering, art, and so on. Because programmers cannot know all of the application
    domains of computing, they must be prepared to understand the language of a variety
    of application areas so that they can discuss problems with domain experts. Mathematics
    is at the intersection of many, but not all, domains. Hence, programmers must
    often pick up new languages as they work through problems with domain experts.
  id: totrans-969
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¥è‡ªå¤–éƒ¨é¢†åŸŸçš„çŸ¥è¯†ï¼Œå¦‚æ•°å­¦ã€éŸ³ä¹ã€ç”Ÿç‰©å­¦ã€åœŸæœ¨å·¥ç¨‹ã€è‰ºæœ¯ç­‰ã€‚ç”±äºç¨‹åºå‘˜æ— æ³•äº†è§£æ‰€æœ‰è®¡ç®—çš„åº”ç”¨é¢†åŸŸï¼Œä»–ä»¬å¿…é¡»å‡†å¤‡å¥½ç†è§£å„ç§åº”ç”¨é¢†åŸŸçš„è¯­è¨€ï¼Œä»¥ä¾¿ä»–ä»¬èƒ½ä¸é¢†åŸŸä¸“å®¶è®¨è®ºé—®é¢˜ã€‚æ•°å­¦æ˜¯è®¸å¤šé¢†åŸŸï¼ˆä½†ä¸å…¨æ˜¯ï¼‰çš„äº¤æ±‡ç‚¹ã€‚å› æ­¤ï¼Œç¨‹åºå‘˜åœ¨è§£å†³ä¸é¢†åŸŸä¸“å®¶çš„é—®é¢˜æ—¶ï¼Œå¿…é¡»ç»å¸¸å­¦ä¹ æ–°çš„è¯­è¨€ã€‚
- en: Knowledge about the teachpack functions in the chosen programming language.
    When your task is to translate a mathematical formula involving the tangent function,
    you need to know or guess that your chosen language comes with a function such
    as BSLâ€™s [tan](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._tan%29%29).
    When your task involves graphics, you will benefit from understanding the possibilities
    of the 2htdp/image teachpack.
  id: totrans-970
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: äº†è§£æ‰€é€‰ç¼–ç¨‹è¯­è¨€çš„ teachpack å‡½æ•°ã€‚å½“ä½ çš„ä»»åŠ¡æ˜¯ç¿»è¯‘æ¶‰åŠæ­£åˆ‡å‡½æ•°çš„æ•°å­¦å…¬å¼æ—¶ï¼Œä½ éœ€è¦çŸ¥é“æˆ–çŒœæµ‹ä½ é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€è‡ªå¸¦ä¸€ä¸ªç±»ä¼¼äº BSL çš„ [tan](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._tan%29%29)
    å‡½æ•°ã€‚å½“ä½ çš„ä»»åŠ¡æ¶‰åŠå›¾å½¢æ—¶ï¼Œäº†è§£ 2htdp/image teachpack çš„å¯èƒ½æ€§å°†å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚
- en: Since you can never predict the area you will be working in, or which programming
    language you will have to use, it is imperative that you have a solid understanding
    of the full possibilities of whatever computer languages are around and suitable.
    Otherwise some domain expert with half-baked programming knowledge will take over
    your job.
  id: totrans-971
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºä½ æ°¸è¿œæ— æ³•é¢„æµ‹ä½ å°†å·¥ä½œçš„é¢†åŸŸæˆ–ä½ å¿…é¡»ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œå› æ­¤ï¼Œä½ å¯¹å‘¨å›´å’Œé€‚åˆçš„ä»»ä½•è®¡ç®—æœºè¯­è¨€çš„å…¨éƒ¨å¯èƒ½æ€§æœ‰ä¸€ä¸ªåšå®çš„ç†è§£æ˜¯è‡³å…³é‡è¦çš„ã€‚å¦åˆ™ï¼Œä¸€äº›åŠé€”è€ŒåºŸçš„ç¼–ç¨‹çŸ¥è¯†çš„ä¸“ä¸šäººå£«å¯èƒ½ä¼šæ¥ç®¡ä½ çš„å·¥ä½œã€‚
- en: You can recognize problems that demand domain knowledge from the data definitions
    that you work out. As long as the data definitions use classes that exist in the
    chosen programming language, the definition of the function body (and program)
    mostly relies on expertise in the domain. Later, when we introduce complex forms
    of data, the design of functions demands computer science knowledge.
  id: totrans-972
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥ä»ä½ å¤„ç†çš„æ•°æ®å®šä¹‰ä¸­è¯†åˆ«å‡ºéœ€è¦é¢†åŸŸçŸ¥è¯†çš„éš¾é¢˜ã€‚åªè¦æ•°æ®å®šä¹‰ä½¿ç”¨äº†æ‰€é€‰ç¼–ç¨‹è¯­è¨€ä¸­å­˜åœ¨çš„ç±»ï¼Œå‡½æ•°ä½“ï¼ˆå’Œç¨‹åºï¼‰çš„å®šä¹‰ä¸»è¦å°±ä¾èµ–äºé¢†åŸŸä¸“ä¸šçŸ¥è¯†ã€‚åæ¥ï¼Œå½“æˆ‘ä»¬ä»‹ç»æ›´å¤æ‚çš„æ•°æ®å½¢å¼æ—¶ï¼Œå‡½æ•°çš„è®¾è®¡å°±éœ€è¦è®¡ç®—æœºç§‘å­¦çŸ¥è¯†ã€‚
- en: 3.4From Functions to Programs[ğŸ”—](#(part._sec~3adesign) "Link to here")
  id: totrans-973
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.4 ä»å‡½æ•°åˆ°ç¨‹åº[ğŸ”—](#(part._sec~3adesign) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Not all programs consist of a single function definition. Some require several
    functions; many also use constant definitions. No matter what, it is always important
    to design every function systematically, though global constants as well as auxiliary
    functions change the design process a bit.
  id: totrans-974
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶éæ‰€æœ‰ç¨‹åºéƒ½åªåŒ…å«ä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚æœ‰äº›ç¨‹åºéœ€è¦å¤šä¸ªå‡½æ•°ï¼›è®¸å¤šç¨‹åºè¿˜ä½¿ç”¨å¸¸é‡å®šä¹‰ã€‚æ— è®ºå¦‚ä½•ï¼Œå§‹ç»ˆé‡è¦çš„æ˜¯ç³»ç»Ÿåœ°è®¾è®¡æ¯ä¸ªå‡½æ•°ï¼Œå°½ç®¡å…¨å±€å¸¸é‡å’Œè¾…åŠ©å‡½æ•°ä¼šç¨å¾®æ”¹å˜è®¾è®¡è¿‡ç¨‹ã€‚
- en: When you have defined global constants, your functions may use them to compute
    results. To remind yourself of their existence, you may wish to add these constants
    to your templates; after all, they belong to the inventory of things that may
    contribute to the function definition.
  id: totrans-975
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ å®šä¹‰äº†å…¨å±€å¸¸é‡åï¼Œä½ çš„å‡½æ•°å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥è®¡ç®—ç»“æœã€‚ä¸ºäº†æé†’è‡ªå·±å®ƒä»¬çš„å­˜åœ¨ï¼Œä½ å¯èƒ½å¸Œæœ›å°†è¿™äº›å¸¸é‡æ·»åŠ åˆ°ä½ çš„æ¨¡æ¿ä¸­ï¼›æ¯•ç«Ÿï¼Œå®ƒä»¬å±äºå¯èƒ½æœ‰åŠ©äºå‡½æ•°å®šä¹‰çš„ç‰©å“æ¸…å•ã€‚
- en: Multi-function programs come about because interactive programs automatically
    need functions that handle key and mouse events, functions that render the state
    as music, and possibly more. Even batch programs may require several different
    functions because they perform several separate tasks. Sometimes the problem statement
    itself suggests these tasks; other times you will discover the need for auxiliary
    functions as you are in the middle of designing some function.
  id: totrans-976
  prefs: []
  type: TYPE_NORMAL
  zh: å¤šåŠŸèƒ½ç¨‹åºçš„äº§ç”Ÿæ˜¯å› ä¸ºäº¤äº’å¼ç¨‹åºè‡ªåŠ¨éœ€è¦å¤„ç†é”®å’Œé¼ æ ‡äº‹ä»¶çš„å‡½æ•°ï¼Œå°†çŠ¶æ€æ¸²æŸ“ä¸ºéŸ³ä¹çš„å‡½æ•°ï¼Œå¯èƒ½è¿˜æœ‰æ›´å¤šã€‚å³ä½¿æ˜¯æ‰¹å¤„ç†ç¨‹åºä¹Ÿå¯èƒ½éœ€è¦å‡ ä¸ªä¸åŒçš„å‡½æ•°ï¼Œå› ä¸ºå®ƒä»¬æ‰§è¡Œå¤šä¸ªä¸åŒçš„ä»»åŠ¡ã€‚æœ‰æ—¶é—®é¢˜é™ˆè¿°æœ¬èº«å°±ä¼šæš—ç¤ºè¿™äº›ä»»åŠ¡ï¼›æœ‰æ—¶ä½ ä¼šåœ¨è®¾è®¡æŸä¸ªå‡½æ•°çš„è¿‡ç¨‹ä¸­å‘ç°éœ€è¦è¾…åŠ©å‡½æ•°ã€‚
- en: 'For these reasons, we recommend keeping around a list of needed functions or
    a wish list.We owe the term â€œwish listâ€ to John Stone. Each entry on a wish list
    should consist of three things: a meaningful name for the function, a signature,
    and a purpose statement. For the design of a batch program, put the main function
    on the wish list and start designing it. For the design of an interactive program,
    you can put the event handlers, the [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    function, and the scene-rendering function on the list. As long as the list isnâ€™t
    empty, pick a wish and design the function. If you discover during the design
    that you need another function, put it on the list. When the list is empty, you
    are done.'
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: å‡ºäºè¿™äº›åŸå› ï¼Œæˆ‘ä»¬å»ºè®®ä¿ç•™ä¸€ä¸ªæ‰€éœ€å‡½æ•°åˆ—è¡¨æˆ–æ„¿æœ›æ¸…å•ã€‚æˆ‘ä»¬æ„Ÿè°¢çº¦ç¿°Â·æ–¯æ‰˜æ©ä¸ºæˆ‘ä»¬æä¾›äº†â€œæ„¿æœ›æ¸…å•â€è¿™ä¸ªæœ¯è¯­ã€‚æ„¿æœ›æ¸…å•ä¸Šçš„æ¯ä¸€é¡¹åº”åŒ…æ‹¬ä¸‰ä¸ªè¦ç´ ï¼šå‡½æ•°çš„æœ‰æ„ä¹‰åç§°ã€ç­¾åå’Œç”¨é€”è¯´æ˜ã€‚å¯¹äºæ‰¹å¤„ç†ç¨‹åºçš„è®¾è®¡ï¼Œå°†ä¸»å‡½æ•°æ”¾åœ¨æ„¿æœ›æ¸…å•ä¸Šå¹¶å¼€å§‹è®¾è®¡å®ƒã€‚å¯¹äºäº¤äº’å¼ç¨‹åºçš„è®¾è®¡ï¼Œå¯ä»¥å°†äº‹ä»¶å¤„ç†å™¨ã€[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    å‡½æ•°å’Œåœºæ™¯æ¸²æŸ“å‡½æ•°åˆ—å…¥æ¸…å•ã€‚åªè¦æ¸…å•ä¸ä¸ºç©ºï¼Œå°±å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ„¿æœ›å¹¶è®¾è®¡å‡½æ•°ã€‚å¦‚æœåœ¨è®¾è®¡è¿‡ç¨‹ä¸­å‘ç°éœ€è¦å¦ä¸€ä¸ªå‡½æ•°ï¼Œå°±å°†å…¶åˆ—å…¥æ¸…å•ã€‚å½“æ¸…å•ä¸ºç©ºæ—¶ï¼Œä½ å°±å®Œæˆäº†ã€‚
- en: 3.5On Testing[ğŸ”—](#(part._sec~3atesting) "Link to here")
  id: totrans-978
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.5å…³äºæµ‹è¯•[ğŸ”—](#(part._sec~3atesting) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Testing quickly becomes a labor-intensive chore. While it is easy to run small
    programs in the interactions area, doing so requires a lot of mechanical labor
    and intricate inspections. As programmers grow their systems, they wish to conduct
    many tests. Soon this labor becomes overwhelming, and programmers start to neglect
    it. At the same time, testing is the first tool for discovering and preventing
    basic flaws. Sloppy testing quickly leads to buggy functionsâ€”<wbr>that is, functions
    with hidden problemsâ€”<wbr>and buggy functions retard projects, often in multiple
    ways.
  id: totrans-979
  prefs: []
  type: TYPE_NORMAL
  zh: æµ‹è¯•å¾ˆå¿«å°±ä¼šå˜æˆä¸€é¡¹åŠ³åŠ¨å¯†é›†å‹çš„ä»»åŠ¡ã€‚è™½ç„¶åœ¨äº¤äº’åŒºåŸŸè¿è¡Œå°ç¨‹åºå¾ˆå®¹æ˜“ï¼Œä½†è¿™æ ·åšéœ€è¦å¤§é‡çš„æœºæ¢°åŠ³åŠ¨å’Œå¤æ‚çš„æ£€æŸ¥ã€‚éšç€ç¨‹åºå‘˜ç³»ç»Ÿè§„æ¨¡çš„æ‰©å¤§ï¼Œä»–ä»¬å¸Œæœ›è¿›è¡Œè®¸å¤šæµ‹è¯•ã€‚å¾ˆå¿«ï¼Œè¿™ç§åŠ³åŠ¨å°±ä¼šå˜å¾—å‹å€’æ€§ï¼Œç¨‹åºå‘˜å¼€å§‹å¿½è§†å®ƒã€‚ä¸æ­¤åŒæ—¶ï¼Œæµ‹è¯•æ˜¯å‘ç°å’Œé¢„é˜²åŸºæœ¬ç¼ºé™·çš„ç¬¬ä¸€å·¥å…·ã€‚ç²—ç•¥çš„æµ‹è¯•å¾ˆå¿«å°±ä¼šå¯¼è‡´å­˜åœ¨éšè—é—®é¢˜çš„å‡½æ•°â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰ç¼ºé™·çš„å‡½æ•°â€”â€”è€Œè¿™äº›æœ‰ç¼ºé™·çš„å‡½æ•°ä¼šé˜»ç¢é¡¹ç›®ï¼Œé€šå¸¸ä»¥å¤šç§æ–¹å¼ã€‚
- en: 'Hence, it is critical to mechanize tests instead of performing them manually.
    Like many programming languages, BSL includes a testing facility, and DrRacket
    is aware of this facility. To introduce this testing facility, we take a second
    look at the function that converts temperatures in Fahrenheit to Celsius temperatures
    from [Programs](#%28part._sec~3aprogs%29). Here is the definition:'
  id: totrans-980
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå°†æµ‹è¯•æœºæ¢°åŒ–è€Œä¸æ˜¯æ‰‹åŠ¨æ‰§è¡Œè‡³å…³é‡è¦ã€‚åƒè®¸å¤šç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒBSL åŒ…å«äº†ä¸€ä¸ªæµ‹è¯•è®¾æ–½ï¼ŒDrRacket ä¹Ÿäº†è§£è¿™ä¸ªè®¾æ–½ã€‚ä¸ºäº†ä»‹ç»è¿™ä¸ªæµ‹è¯•è®¾æ–½ï¼Œæˆ‘ä»¬å†æ¬¡å®¡è§†å°†åæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦çš„å‡½æ•°[ç¨‹åº](#%28part._sec~3aprogs%29)ã€‚ä»¥ä¸‹æ˜¯å®šä¹‰ï¼š
- en: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
  id: totrans-981
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
- en: '| ;Â converts Fahrenheit temperatures to Celsius |'
  id: totrans-982
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†åæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦ |'
- en: '| ;Â given 32, expect 0 |'
  id: totrans-983
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®š 32ï¼ŒæœŸæœ› 0 |'
- en: '| ;Â given 212, expect 100 |'
  id: totrans-984
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®š 212ï¼ŒæœŸæœ› 100 |'
- en: '| ;Â given -40, expect -40 |'
  id: totrans-985
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®š -40ï¼ŒæœŸæœ› -40 |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (f2cÂ f)
    |'
  id: totrans-986
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (f2cÂ f)
    |'
- en: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 5/9Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â fÂ 32)))
    |'
  id: totrans-987
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 5/9Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â fÂ 32)))
    |'
- en: 'Testing the functionâ€™s examples calls for three computations and three comparisons
    between two numbers each. You can formulate these tests and add them to the definitions
    area in DrRacket:'
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: æµ‹è¯•å‡½æ•°çš„ç¤ºä¾‹éœ€è¦ä¸‰ä¸ªè®¡ç®—å’Œæ¯å¯¹æ•°å­—ä¹‹é—´çš„ä¸‰ä¸ªæ¯”è¾ƒã€‚ä½ å¯ä»¥åˆ¶å®šè¿™äº›æµ‹è¯•å¹¶å°†å®ƒä»¬æ·»åŠ åˆ° DrRacket çš„å®šä¹‰åŒºåŸŸï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ -40)Â -40)
    |'
  id: totrans-989
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ -40)Â -40)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 32)Â 0)
    |'
  id: totrans-990
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 32)Â 0)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 212)Â 100)
    |'
  id: totrans-991
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 212)Â 100)
    |'
- en: When you now click the RUN button, you see a report from BSL that the program
    passed all three testsâ€”<wbr>and you have nothing else to do.In addition to getting
    tests to run automatically, the [check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    forms show another advantage when tests fail. To see how this works, change one
    of the above tests so that the result is wrong, for example
  id: totrans-992
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ ç°åœ¨ç‚¹å‡»RUNæŒ‰é’®ï¼Œä½ ä¼šçœ‹åˆ°BSLçš„æŠ¥å‘Šæ˜¾ç¤ºç¨‹åºé€šè¿‡äº†æ‰€æœ‰ä¸‰ä¸ªæµ‹è¯•â€”â€”<wbr>è€Œä¸”ä½ æ²¡æœ‰å…¶ä»–äº‹æƒ…è¦åšã€‚é™¤äº†è®©æµ‹è¯•è‡ªåŠ¨è¿è¡Œä¹‹å¤–ï¼Œ[check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    è¡¨è¾¾å¼åœ¨æµ‹è¯•å¤±è´¥æ—¶è¿˜æ˜¾ç¤ºäº†å¦ä¸€ä¸ªä¼˜åŠ¿ã€‚è¦äº†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¯·å°†ä¸Šé¢çš„æµ‹è¯•ä¹‹ä¸€æ›´æ”¹ä¸ºç»“æœé”™è¯¯ï¼Œä¾‹å¦‚
- en: ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ -40)Â 40)
  id: totrans-993
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ -40)Â 40)
- en: 'When you now click the RUN button, an additional window pops up. The windowâ€™s
    text explains that one of three tests failed. For the failed test, the window
    displays three pieces: the computed value, the result of the function call (-40);
    the expected value (40); and a hyperlink to the text of the failed test case.'
  id: totrans-994
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ ç°åœ¨ç‚¹å‡»RUNæŒ‰é’®æ—¶ï¼Œä¼šå¼¹å‡ºä¸€ä¸ªé¢å¤–çš„çª—å£ã€‚çª—å£ä¸­çš„æ–‡æœ¬è§£é‡Šè¯´æœ‰ä¸‰ä¸ªæµ‹è¯•ä¸­çš„ä¸€ä¸ªå¤±è´¥äº†ã€‚å¯¹äºå¤±è´¥çš„æµ‹è¯•ï¼Œçª—å£æ˜¾ç¤ºä¸‰ä¸ªéƒ¨åˆ†ï¼šè®¡ç®—å‡ºçš„å€¼ï¼Œå‡½æ•°è°ƒç”¨çš„ç»“æœ(-40)ï¼›é¢„æœŸçš„å€¼(40)ï¼›ä»¥åŠæŒ‡å‘å¤±è´¥æµ‹è¯•ç”¨ä¾‹æ–‡æœ¬çš„è¶…é“¾æ¥ã€‚
- en: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
  id: totrans-995
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ•°å­—](#%28tech._number%29) -> [æ•°å­—](#%28tech._number%29) |'
- en: '| ;Â converts Fahrenheit temperatures to Celsius temperatures |'
  id: totrans-996
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| å°†åæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦ |'
- en: '| Â  |'
  id: totrans-997
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ -40)Â -40)
    |'
  id: totrans-998
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ -40)Â -40)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 32)Â 0)
    |'
  id: totrans-999
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 32)Â 0)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 212)Â 100)
    |'
  id: totrans-1000
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (f2cÂ 212)Â 100)
    |'
- en: '| Â  |'
  id: totrans-1001
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (f2cÂ f)
    |'
  id: totrans-1002
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (f2cÂ f)
    |'
- en: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 5/9Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â fÂ 32)))
    |'
  id: totrans-1003
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 5/9Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â fÂ 32)))
    |'
- en: ''
  id: totrans-1004
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 17: Testing in BSL'
  id: totrans-1005
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾17ï¼šBSLä¸­çš„æµ‹è¯•
- en: You can place [check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    specifications above or below the function definitions that they test. When you
    click RUN, DrRacket collects all [check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    specifications and evaluates them after all function definitions have been added
    to the â€œvocabularyâ€ of operations. [FigureÂ 17](#%28counter._%28figure._fig~3atesting%29%29)
    shows how to exploit this freedom to combine the example and test step. Instead
    of writing down the examples as comments, you can translate them directly into
    tests. When youâ€™re all done with the design of the function, clicking RUN performs
    the test. And if you ever change the function for some reason, the next click
    retests the function.
  id: totrans-1006
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥å°† [check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    è§„èŒƒæ”¾ç½®åœ¨è¦æµ‹è¯•çš„å‡½æ•°å®šä¹‰ä¹‹ä¸Šæˆ–ä¹‹ä¸‹ã€‚å½“ä½ ç‚¹å‡»è¿è¡Œæ—¶ï¼ŒDrRacket ä¼šæ”¶é›†æ‰€æœ‰ [check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    è§„èŒƒï¼Œå¹¶åœ¨æ‰€æœ‰å‡½æ•°å®šä¹‰æ·»åŠ åˆ°æ“ä½œçš„â€œè¯æ±‡â€ä¹‹åè¿›è¡Œè¯„ä¼°ã€‚[å›¾ 17](#%28counter._%28figure._fig~3atesting%29%29)
    å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨è¿™ç§è‡ªç”±æ¥ç»“åˆç¤ºä¾‹å’Œæµ‹è¯•æ­¥éª¤ã€‚ä½ ä¸å¿…å°†ç¤ºä¾‹ä½œä¸ºæ³¨é‡Šå†™ä¸‹ï¼Œå¯ä»¥ç›´æ¥å°†å®ƒä»¬è½¬æ¢ä¸ºæµ‹è¯•ã€‚å½“ä½ å®Œæˆå‡½æ•°çš„è®¾è®¡åï¼Œç‚¹å‡»è¿è¡Œæ‰§è¡Œæµ‹è¯•ã€‚å¦‚æœä½ å‡ºäºæŸç§åŸå› æ›´æ”¹äº†å‡½æ•°ï¼Œä¸‹ä¸€æ¬¡ç‚¹å‡»å°†é‡æ–°æµ‹è¯•è¯¥å‡½æ•°ã€‚
- en: 'Last but not least, [check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    also works for images. That is, you can test image-producing functions. Say you
    wish to design the function render, which places the image of a car, dubbed CAR,
    into a background scene, named BACKGROUND. For the design of this function, you
    may formulate the tests such as the following:'
  id: totrans-1007
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œ[check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    ä¹Ÿå¯ä»¥ç”¨äºå›¾åƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥æµ‹è¯•ç”Ÿæˆå›¾åƒçš„å‡½æ•°ã€‚æ¯”å¦‚è¯´ï¼Œä½ å¸Œæœ›è®¾è®¡ä¸€ä¸ªåä¸º render çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†æ±½è½¦å›¾åƒï¼ˆç§°ä¸º CARï¼‰æ”¾ç½®åœ¨èƒŒæ™¯åœºæ™¯ï¼ˆç§°ä¸º
    BACKGROUNDï¼‰ä¸­ã€‚å¯¹äºè¿™ä¸ªå‡½æ•°çš„è®¾è®¡ï¼Œä½ å¯ä»¥åˆ¶å®šå¦‚ä¸‹æµ‹è¯•ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 50)
    |'
  id: totrans-1008
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 50)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ![image](../Images/2ce08330179b531e7d4e3b0298bbcf8b.png)) |'
  id: totrans-1009
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ![å›¾åƒ](../Images/2ce08330179b531e7d4e3b0298bbcf8b.png)) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 200)
    |'
  id: totrans-1010
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 200)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ![image](../Images/3aed531e735aad47d8492c75311a27e8.png)) |'
  id: totrans-1011
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ![å›¾åƒ](../Images/3aed531e735aad47d8492c75311a27e8.png)) |'
- en: Alternatively, you could write them like this:For additional ways of formulating
    tests, see intermezzo 1.
  id: totrans-1012
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼šæœ‰å…³åˆ¶å®šæµ‹è¯•çš„å…¶ä»–æ–¹æ³•ï¼Œè¯·å‚é˜…é—´å¥æ›² 1ã€‚
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 50)
    |'
  id: totrans-1013
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 50)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â CARÂ 50Â Y-CARÂ BACKGROUND))
    |'
  id: totrans-1014
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ![æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    CAR 50 Y-CAR èƒŒæ™¯) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 200)
    |'
  id: totrans-1015
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 200)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â CARÂ 200Â Y-CARÂ BACKGROUND))
    |'
  id: totrans-1016
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ![å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    CAR 200 Y-CAR èƒŒæ™¯) |'
- en: This alternative approach helps you figure out how to express the function body
    and is therefore preferable. One way to develop such expressions is to experiment
    in the interactions area.
  id: totrans-1017
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§æ›¿ä»£æ–¹æ³•æœ‰åŠ©äºä½ å¼„æ¸…æ¥šå¦‚ä½•è¡¨è¾¾å‡½æ•°ä½“ï¼Œå› æ­¤æ˜¯é¦–é€‰çš„ã€‚å¼€å‘æ­¤ç±»è¡¨è¾¾å¼çš„ä¸€ç§æ–¹æ³•æ˜¯åœ¨äº¤äº’åŒºåŸŸè¿›è¡Œå®éªŒã€‚
- en: Because it is so useful to have DrRacket conduct the tests and not to check
    everything yourself manually, we immediately switch to this style of testing for
    the rest of the book. This form of testing is dubbed unit testing, and BSLâ€™s unit-testing
    framework is especially tuned for novice programmers. One day you will switch
    to some other programming language; one of your first tasks will be to figure
    out its unit-testing framework.
  id: totrans-1018
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸ºæœ‰DrRacketè¿›è¡Œæµ‹è¯•è€Œä¸å¿…æ‰‹åŠ¨æ£€æŸ¥ä¸€åˆ‡éå¸¸å®ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ç«‹å³åˆ‡æ¢åˆ°è¿™ç§æµ‹è¯•é£æ ¼ï¼Œå¹¶åœ¨æœ¬ä¹¦çš„å…¶ä½™éƒ¨åˆ†ç»§ç»­ä½¿ç”¨ã€‚è¿™ç§æµ‹è¯•å½¢å¼è¢«ç§°ä¸ºå•å…ƒæµ‹è¯•ï¼ŒBSLçš„å•å…ƒæµ‹è¯•æ¡†æ¶ç‰¹åˆ«é’ˆå¯¹æ–°æ‰‹ç¨‹åºå‘˜è¿›è¡Œäº†è°ƒæ•´ã€‚æœ‰ä¸€å¤©ä½ å°†åˆ‡æ¢åˆ°å¦ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼›ä½ çš„ç¬¬ä¸€ä¸ªä»»åŠ¡ä¹‹ä¸€å°†æ˜¯äº†è§£å…¶å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚
- en: 3.6Designing World Programs[ğŸ”—](#(part._.D.K._sec~3adesign-world) "Link to here")
  id: totrans-1019
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.6 è®¾è®¡ä¸–ç•Œç¨‹åº[ğŸ”—](#(part._.D.K._sec~3adesign-world) "é“¾æ¥åˆ°æ­¤å¤„")
- en: While the previous chapter introduces the 2htdp/universe teachpack in an ad
    hoc way, this section demonstrates how the design recipe also helps you create
    world programs systematically. It starts with a brief summary of the 2htdp/universe
    teachpack based on data definitions and function signatures. Then it spells out
    the design recipe for world programs.
  id: totrans-1020
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶ä¸Šä¸€ç« ä»¥ä¸´æ—¶æ–¹å¼ä»‹ç»äº†2htdp/universe teachpackï¼Œä½†æœ¬èŠ‚å±•ç¤ºäº†è®¾è®¡é…æ–¹å¦‚ä½•å¸®åŠ©ä½ ç³»ç»Ÿåœ°åˆ›å»ºä¸–ç•Œç¨‹åºã€‚å®ƒä»åŸºäºæ•°æ®å®šä¹‰å’Œå‡½æ•°ç­¾åçš„2htdp/universe
    teachpackçš„ç®€è¦æ€»ç»“å¼€å§‹ã€‚ç„¶åé˜è¿°äº†ä¸–ç•Œç¨‹åºçš„è®¾è®¡é…æ–¹ã€‚
- en: The teachpack expects that a programmer develops a data definition that represents
    the state of the world and a function render that knows how to create an image
    for every possible state of the world. Depending on the needs of the program,
    the programmer must then design functions that respond to clock ticks, keystrokes,
    and mouse events. Finally, an interactive program may need to stop when its current
    world belongs to a sub-class of states; end? recognizes these final states. [FigureÂ 18](#%28counter._.D.K._%28figure._fig~3aworld-signatures%29%29)
    spells out this idea in a schematic and simplified way.
  id: totrans-1021
  prefs: []
  type: TYPE_NORMAL
  zh: teachpackæœŸæœ›ç¨‹åºå‘˜å¼€å‘ä¸€ä¸ªæ•°æ®å®šä¹‰æ¥è¡¨ç¤ºä¸–ç•Œçš„çŠ¶æ€ï¼Œä»¥åŠä¸€ä¸ªçŸ¥é“å¦‚ä½•ä¸ºä¸–ç•Œçš„æ¯ä¸ªå¯èƒ½çŠ¶æ€åˆ›å»ºå›¾åƒçš„å‡½æ•°renderã€‚æ ¹æ®ç¨‹åºçš„éœ€æ±‚ï¼Œç¨‹åºå‘˜å¿…é¡»è®¾è®¡å“åº”æ—¶é’Ÿæ»´ç­”ã€æŒ‰é”®å’Œé¼ æ ‡äº‹ä»¶çš„å‡½æ•°ã€‚æœ€åï¼Œäº¤äº’å¼ç¨‹åºå¯èƒ½éœ€è¦åœ¨å½“å‰ä¸–ç•Œå±äºçŠ¶æ€çš„å­ç±»æ—¶åœæ­¢ï¼›end?
    è¯†åˆ«è¿™äº›æœ€ç»ˆçŠ¶æ€ã€‚[å›¾18](#%28counter._.D.K._%28figure._fig~3aworld-signatures%29%29) ä»¥ç®€åŒ–çš„æ–¹å¼é˜è¿°äº†è¿™ä¸€æƒ³æ³•ã€‚
- en: '| ;Â WorldState: data representing the current world (cw) |'
  id: totrans-1022
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â WorldState: è¡¨ç¤ºå½“å‰ä¸–ç•Œçš„çŠ¶æ€çš„æ•°æ®ï¼ˆcwï¼‰ |'
- en: '| Â  |'
  id: totrans-1023
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ;Â WorldState -> [Image](#%28tech._image%29) |'
  id: totrans-1024
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â WorldState -> [Image](#%28tech._image%29) |'
- en: '| ;Â when needed, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    obtains the image of the current |'
  id: totrans-1025
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å½“éœ€è¦æ—¶ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    è·å–å½“å‰çŠ¶æ€çš„å›¾åƒ |'
- en: '| ;Â state of the world by evaluating (render  cw) |'
  id: totrans-1026
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â é€šè¿‡è¯„ä¼° (render cw) è·å–ä¸–ç•Œçš„çŠ¶æ€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ cw)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-1027
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ cw)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-1028
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ;Â WorldState -> WorldState |'
  id: totrans-1029
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â WorldState -> WorldState |'
- en: '| ;Â for each tick of the clock, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    obtains the next |'
  id: totrans-1030
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¯¹äºæ—¶é’Ÿçš„æ¯ä¸ªæ»´ç­”ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    è·å–ä¸‹ä¸€ä¸ª |'
- en: '| ;Â state of the world from (clock-tick-handler  cw) |'
  id: totrans-1031
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä» (clock-tick-handler cw) è·å–ä¸–ç•Œçš„çŠ¶æ€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (clock-tick-handlerÂ cw)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-1032
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (clock-tick-handlerÂ cw)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-1033
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ;Â WorldState  [String](#%28tech._string%29) -> WorldState |'
  id: totrans-1034
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â WorldState  [String](#%28tech._string%29) -> WorldState |'
- en: '| ;Â for each keystroke, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    obtains the next state |'
  id: totrans-1035
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¯¹äºæ¯ä¸ªæŒ‰é”®ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    è·å–ä¸‹ä¸€ä¸ªçŠ¶æ€ |'
- en: '| ;Â from (keystroke-handler  cw  ke); ke represents the key |'
  id: totrans-1036
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä» (keystroke-handler cw ke)ï¼›keä»£è¡¨æŒ‰é”® |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (keystroke-handlerÂ cwÂ ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-1037
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (keystroke-handler
    cw ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-1038
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â WorldState  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> WorldState |'
  id: totrans-1039
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â WorldState  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> WorldState |'
- en: '| ;Â for each mouse gesture, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    obtains the next state |'
  id: totrans-1040
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â for each mouse gesture, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    obtains the next state |'
- en: '| ;Â from (mouse-event-handler  cw  x  y  me) where x and y are |'
  id: totrans-1041
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â from (mouse-event-handler cw x y me) where x and y are |'
- en: '| ;Â the coordinates of the event and me is its description |'
  id: totrans-1042
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â the coordinates of the event and me is its description |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mouse-event-handlerÂ cwÂ xÂ yÂ me)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-1043
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mouse-event-handler
    cw x y me)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-1044
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â WorldState -> Boolean |'
  id: totrans-1045
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â WorldState -> Boolean |'
- en: '| ;Â after each event, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    evaluates (end?  cw) |'
  id: totrans-1046
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â after each event, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    evaluates (end? cw) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (end?Â cw)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-1047
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (end?
    cw)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: ''
  id: totrans-1048
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 18: The wish list for designing world programs'
  id: totrans-1049
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾18ï¼šè®¾è®¡ä¸–ç•Œç¨‹åºçš„éœ€æ±‚æ¸…å•
- en: 'Assuming that you have a rudimentary understanding of the workings of [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29),
    you can focus on the truly important problem of designing world programs. Letâ€™s
    construct a concrete example for the following design recipe:'
  id: totrans-1050
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ å¯¹[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)çš„å·¥ä½œåŸç†æœ‰åŸºæœ¬çš„äº†è§£ï¼Œä½ å¯ä»¥ä¸“æ³¨äºçœŸæ­£é‡è¦çš„è®¾è®¡ä¸–ç•Œç¨‹åºçš„é—®é¢˜ã€‚è®©æˆ‘ä»¬ä¸ºä»¥ä¸‹è®¾è®¡é…æ–¹æ„å»ºä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼š
- en: Sample Problem Design a program that moves a car from left to right on the world
    canvas, three pixels per clock tick.
  id: totrans-1051
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œä½¿æ±½è½¦åœ¨ä¸–ç•Œç”»å¸ƒä¸Šä»å·¦åˆ°å³ç§»åŠ¨ï¼Œæ¯æ¬¡æ—¶é’Ÿæ»´ç­”ç§»åŠ¨ä¸‰ä¸ªåƒç´ ã€‚
- en: 'For this problem statement, it is easy to imagine scenes for the domain:'
  id: totrans-1052
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸ªé—®é¢˜é™ˆè¿°ï¼Œå¾ˆå®¹æ˜“æƒ³è±¡å‡ºè¯¥é¢†åŸŸçš„åœºæ™¯ï¼š
- en: '![image](../Images/72462ff9b587b3104c8d3d7ba738af3b.png)'
  id: totrans-1053
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/72462ff9b587b3104c8d3d7ba738af3b.png)'
- en: '![image](../Images/2439280cff779c748f51c019e05056e2.png)'
  id: totrans-1054
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/2439280cff779c748f51c019e05056e2.png)'
- en: '![image](../Images/677a1a2a862c955c0784be9210938bdb.png)'
  id: totrans-1055
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/677a1a2a862c955c0784be9210938bdb.png)'
- en: 'In this book, we often refer to the domain of an interactive [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    program as a â€œworld,â€ and we speak of designing â€œworld programs.â€The design recipe
    for world programs, like the one for functions, is a tool for systematically moving
    from a problem statement to a working program. It consists of three big steps
    and one small one:'
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å°†äº¤äº’å¼[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)ç¨‹åºçš„èŒƒå›´ç§°ä¸ºâ€œä¸–ç•Œâ€ï¼Œæˆ‘ä»¬è°ˆè®ºè®¾è®¡â€œä¸–ç•Œç¨‹åºâ€ã€‚ä¸–ç•Œç¨‹åºçš„è®¾è®¡é…æ–¹ï¼Œå°±åƒå‡½æ•°çš„é…æ–¹ä¸€æ ·ï¼Œæ˜¯ä»é—®é¢˜é™ˆè¿°åˆ°å·¥ä½œç¨‹åºçš„ç³»ç»Ÿè½¬æ¢å·¥å…·ã€‚å®ƒåŒ…æ‹¬ä¸‰ä¸ªå¤§æ­¥éª¤å’Œä¸€ä¸ªå°æ­¥éª¤ï¼š
- en: 'For all those properties of the world that remain the same over time and are
    needed to render it as an [Image](#%28tech._image%29), introduce constants. In
    BSL, we specify such constants via definitions. For the purpose of world programs,
    we distinguish between two kinds of constants:'
  id: totrans-1057
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰é‚£äº›éšæ—¶é—´ä¿æŒä¸å˜ä¸”éœ€è¦å°†å…¶æ¸²æŸ“ä¸º[å›¾åƒ](#%28tech._image%29)çš„ä¸–ç•Œå±æ€§ï¼Œå¼•å…¥å¸¸æ•°ã€‚åœ¨BSLä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å®šä¹‰æ¥æŒ‡å®šæ­¤ç±»å¸¸æ•°ã€‚å¯¹äºä¸–ç•Œç¨‹åºï¼Œæˆ‘ä»¬åŒºåˆ†ä¸¤ç§ç±»å‹çš„å¸¸æ•°ï¼š
- en: â€œPhysicalâ€ constants describe general attributes of objects in the world, such
    as the speed or velocity of an object, its color, its height, its width, its radius,
    and so forth. Of course these constants donâ€™t really refer to physical facts,
    but many are analogous to physical aspects of the real world.
  id: totrans-1058
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: â€œç‰©ç†â€å¸¸æ•°æè¿°äº†ä¸–ç•Œä¸­ç‰©ä½“çš„é€šç”¨å±æ€§ï¼Œä¾‹å¦‚ç‰©ä½“çš„é€Ÿåº¦æˆ–é€Ÿåº¦ã€é¢œè‰²ã€é«˜åº¦ã€å®½åº¦ã€åŠå¾„ç­‰ç­‰ã€‚å½“ç„¶ï¼Œè¿™äº›å¸¸æ•°å¹¶ä¸çœŸæ­£æŒ‡ä»£ç‰©ç†äº‹å®ï¼Œä½†è®¸å¤šéƒ½ä¸ç°å®ä¸–ç•Œçš„ç‰©ç†æ–¹é¢ç›¸ä¼¼ã€‚
- en: 'In the context of our sample problem, the radius of the carâ€™s wheels and the
    distance between the wheels are such â€œphysicalâ€ constants:'
  id: totrans-1059
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹é—®é¢˜ä¸­ï¼Œæ±½è½¦è½¦è½®çš„åŠå¾„å’Œè½¦è½®ä¹‹é—´çš„è·ç¦»æ˜¯è¿™æ ·çš„â€œç‰©ç†â€å¸¸æ•°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTH-OF-WORLDÂ 200)
    |'
  id: totrans-1060
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTH-OF-WORLDÂ 200)
    |'
- en: '| Â  |'
  id: totrans-1061
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL-RADIUSÂ 5)
    |'
  id: totrans-1062
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL-RADIUSÂ 5)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL-DISTANCEÂ ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â WHEEL-RADIUSÂ 5))
    |'
  id: totrans-1063
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL-DISTANCEÂ ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â WHEEL-RADIUSÂ 5))
    |'
- en: Note how the second constant is computed from the first.
  id: totrans-1064
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ³¨æ„ç¬¬äºŒä¸ªå¸¸æ•°æ˜¯å¦‚ä½•ä»ç¬¬ä¸€ä¸ªå¸¸æ•°è®¡ç®—å‡ºæ¥çš„ã€‚
- en: Graphical constants are images of objects in the world. The program composes
    them into images that represent the complete state of the world.
  id: totrans-1065
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: å›¾å½¢å¸¸æ•°æ˜¯ç°å®ä¸–ç•Œä¸­ç‰©ä½“çš„å›¾åƒã€‚ç¨‹åºå°†å®ƒä»¬ç»„åˆæˆä»£è¡¨ä¸–ç•Œå®Œæ•´çŠ¶æ€çš„å›¾åƒã€‚
- en: 'Here are graphical constants for wheel images of our sample car:'
  id: totrans-1066
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯æˆ‘ä»¬ç¤ºä¾‹æ±½è½¦è½¦è½®å›¾åƒçš„å›¾å½¢å¸¸æ•°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL
    |'
  id: totrans-1067
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL)
    |'
- en: '| Â Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â WHEEL-RADIUSÂ "solid"Â "black"))
    |'
  id: totrans-1068
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([åœ†](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â WHEEL-RADIUSÂ "å®å¿ƒ"Â "é»‘è‰²"))
    |'
- en: '| We suggest you experiment in DrRacketâ€™s interactions area to develop such
    graphical constants. |'
  id: totrans-1069
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| æˆ‘ä»¬å»ºè®®ä½ åœ¨DrRacketçš„äº¤äº’åŒºåŸŸè¿›è¡Œå®éªŒï¼Œä»¥å¼€å‘è¿™æ ·çš„å›¾å½¢å¸¸æ•°ã€‚ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â SPACE
    |'
  id: totrans-1070
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â SPACE)
    |'
- en: '| Â Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â WHEEL-RADIUSÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â "white"))
    |'
  id: totrans-1071
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([çŸ©å½¢](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â WHEEL-RADIUSÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â "ç™½è‰²"))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BOTH-WHEELS
    |'
  id: totrans-1072
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BOTH-WHEELS)
    |'
- en: '| Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â WHEELÂ SPACEÂ WHEEL))
    |'
  id: totrans-1073
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å¹¶åˆ—](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â WHEELÂ SPACEÂ WHEEL))
    |'
- en: Graphical constants are usually computed, and the computations tend to involve
    physical constants and other images.
  id: totrans-1074
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: å›¾å½¢å¸¸æ•°é€šå¸¸æ˜¯è®¡ç®—å¾—å‡ºçš„ï¼Œè®¡ç®—å¾€å¾€æ¶‰åŠç‰©ç†å¸¸æ•°å’Œå…¶ä»–å›¾åƒã€‚
- en: It is good practice to annotate constant definitions with a comment that explains
    what they mean.
  id: totrans-1075
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨å¸¸é‡å®šä¹‰ä¸Šæ·»åŠ æ³¨é‡Šï¼Œè§£é‡Šå…¶å«ä¹‰æ˜¯ä¸€ç§è‰¯å¥½çš„å®è·µã€‚
- en: Those properties that change over timeâ€”<wbr>in reaction to clock ticks, keystrokes,
    or mouse actionsâ€”<wbr>give rise to the current state of the world. Your task is
    to develop a data representation for all possible states of the world. The development
    results in a data definition, which comes with a comment that tells readers how
    to represent world information as data and how to interpret data as information
    about the world.
  id: totrans-1076
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: éšç€æ—¶é—´å˜åŒ–â€”â€”å¯¹æ—¶é’Ÿæ»´ç­”ã€æŒ‰é”®æˆ–é¼ æ ‡åŠ¨ä½œçš„ååº”â€”â€”è¿™äº›å±æ€§å¯¼è‡´ä¸–ç•Œå½“å‰çŠ¶æ€çš„äº§ç”Ÿã€‚ä½ çš„ä»»åŠ¡æ˜¯å¼€å‘ä¸€ä¸ªæ•°æ®è¡¨ç¤ºï¼Œä»¥æ¶µç›–ä¸–ç•Œæ‰€æœ‰å¯èƒ½çš„çŠ¶æ€ã€‚è¿™ç§å¼€å‘ç»“æœæ˜¯ä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œå®ƒé™„å¸¦ä¸€ä¸ªæ³¨é‡Šï¼Œå‘Šè¯‰è¯»è€…å¦‚ä½•å°†ä¸–ç•Œä¿¡æ¯è¡¨ç¤ºä¸ºæ•°æ®ï¼Œä»¥åŠå¦‚ä½•å°†æ•°æ®è§£é‡Šä¸ºå…³äºä¸–ç•Œçš„ä¿¡æ¯ã€‚
- en: Choose simple forms of data to represent the state of the world.
  id: totrans-1077
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: é€‰æ‹©ç®€å•çš„æ•°æ®å½¢å¼æ¥è¡¨ç¤ºä¸–ç•ŒçŠ¶æ€ã€‚
- en: 'For the running example, it is the carâ€™s distance from the left margin that
    changes over time. While the distance to the right margin changes, too, it is
    obvious that we need only one or the other to create an image. A distance is measured
    in numbers, so the following is an adequate data definition:'
  id: totrans-1078
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºè¿è¡Œç¤ºä¾‹ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ±½è½¦ä¸å·¦ä¾§è¾¹ç•Œçš„è·ç¦»æ˜¯å˜åŒ–çš„ã€‚è™½ç„¶ä¸å³ä¾§è¾¹ç•Œçš„è·ç¦»ä¹Ÿåœ¨å˜åŒ–ï¼Œä½†å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬åªéœ€è¦å…¶ä¸­ä¸€ä¸ªæ¥åˆ›å»ºå›¾åƒã€‚è·ç¦»ç”¨æ•°å­—æ¥è¡¡é‡ï¼Œæ‰€ä»¥ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¶³å¤Ÿçš„æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A WorldState is a [Number](#%28tech._number%29). |'
  id: totrans-1079
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A WorldState æ˜¯ä¸€ä¸ª [Number](#%28tech._number%29)ã€‚ |'
- en: '| ;Â interpretation the number of pixels between |'
  id: totrans-1080
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation the number of pixels between |'
- en: '| ;Â the left border of the scene and the car |'
  id: totrans-1081
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœºæ™¯çš„å·¦ä¾§è¾¹ç•Œå’Œæ±½è½¦ |'
- en: An alternative is to count the number of clock ticks that have passed and to
    use this number as the state of the world. We leave this design variant as an
    exercise.
  id: totrans-1082
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¦ä¸€ç§é€‰æ‹©æ˜¯è®¡ç®—ç»è¿‡çš„æ—¶é’Ÿæ»´ç­”æ¬¡æ•°ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªæ•°å­—ä½œä¸ºä¸–ç•ŒçŠ¶æ€ã€‚æˆ‘ä»¬å°†è¿™ä¸ªè®¾è®¡å˜ä½“ç•™ä½œç»ƒä¹ ã€‚
- en: Once you have a data representation for the state of the world, you need to
    design a number of functions so that you can form a valid [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression.
  id: totrans-1083
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä½ æœ‰äº†ä¸–ç•ŒçŠ¶æ€çš„æ•°æ®è¡¨ç¤ºï¼Œä½ éœ€è¦è®¾è®¡ä¸€äº›å‡½æ•°ï¼Œä»¥ä¾¿ä½ å¯ä»¥å½¢æˆä¸€ä¸ªæœ‰æ•ˆçš„[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼ã€‚
- en: 'To start with, you need a function that maps any given state into an image
    so that [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    can render the sequence of states as images:'
  id: totrans-1084
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œä½ éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä»»ä½•ç»™å®šçŠ¶æ€æ˜ å°„åˆ°ä¸€ä¸ªå›¾åƒï¼Œä»¥ä¾¿[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)å¯ä»¥æ¸²æŸ“çŠ¶æ€çš„åºåˆ—ä¸ºå›¾åƒï¼š
- en: ;Â render
  id: totrans-1085
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â render
- en: 'Next you need to decide which kind of events should change which aspects of
    the world state. Depending on your decisions, you need to design some or all of
    the following three functions:'
  id: totrans-1086
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦å†³å®šå“ªäº›äº‹ä»¶åº”è¯¥æ”¹å˜ä¸–ç•ŒçŠ¶æ€çš„å“ªäº›æ–¹é¢ã€‚æ ¹æ®ä½ çš„å†³å®šï¼Œä½ éœ€è¦è®¾è®¡ä»¥ä¸‹ä¸‰ä¸ªå‡½æ•°ä¸­çš„æŸäº›æˆ–å…¨éƒ¨ï¼š
- en: '| ;Â clock-tick-handler |'
  id: totrans-1087
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â clock-tick-handler |'
- en: '| ;Â keystroke-handler |'
  id: totrans-1088
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â keystroke-handler |'
- en: '| ;Â mouse-event-handler |'
  id: totrans-1089
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â mouse-event-handler |'
- en: Finally, if the problem statement suggests that the program should stop if the
    world has certain properties, you must design
  id: totrans-1090
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå¦‚æœé—®é¢˜è¯´æ˜å»ºè®®ç¨‹åºåº”è¯¥åœ¨ä¸–ç•Œå…·æœ‰æŸäº›å±æ€§æ—¶åœæ­¢ï¼Œä½ å¿…é¡»è®¾è®¡
- en: ;Â end?
  id: totrans-1091
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â end?
- en: For the generic signatures and purpose statements of these functions, see [figureÂ 18](#%28counter._.D.K._%28figure._fig~3aworld-signatures%29%29).
    Adapt these generic purpose statements to the particular problems you solve so
    that readers know what they compute.
  id: totrans-1092
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™äº›å‡½æ•°çš„é€šç”¨ç­¾åå’Œç›®çš„è¯´æ˜ï¼Œè¯·å‚é˜…[å›¾18](#%28counter._.D.K._%28figure._fig~3aworld-signatures%29%29)ã€‚å°†è¿™äº›é€šç”¨ç›®çš„è¯´æ˜é€‚åº”åˆ°ä½ æ‰€è§£å†³çš„ç‰¹å®šé—®é¢˜ä¸­ï¼Œä»¥ä¾¿è¯»è€…çŸ¥é“å®ƒä»¬è®¡ç®—çš„å†…å®¹ã€‚
- en: In short, the desire to design an interactive program automatically creates
    several initial entries for your wish list. Work them off one by one and you get
    a complete world program.
  id: totrans-1093
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œè®¾è®¡ä¸€ä¸ªäº¤äº’å¼ç¨‹åºçš„éœ€æ±‚è‡ªåŠ¨ä¸ºä½ åˆ—å‡ºäº†å‡ ä¸ªåˆå§‹æ¡ç›®ã€‚é€ä¸€å®Œæˆå®ƒä»¬ï¼Œä½ å°±èƒ½å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„ä¸–ç•Œç¨‹åºã€‚
- en: 'Letâ€™s work through this step for the sample program. While [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    dictates that we must design a rendering function, we still need to figure out
    whether we want any event-handling functions. Since the car is supposed to move
    from left to right, we definitely need a function that deals with clock ticks.
    Thus, we get this wish list:'
  id: totrans-1094
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬é€æ­¥åˆ†æè¿™ä¸ªç¤ºä¾‹ç¨‹åºã€‚è™½ç„¶[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¦æ±‚æˆ‘ä»¬å¿…é¡»è®¾è®¡ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œä½†æˆ‘ä»¬ä»ç„¶éœ€è¦ç¡®å®šæˆ‘ä»¬æ˜¯å¦éœ€è¦ä»»ä½•äº‹ä»¶å¤„ç†å‡½æ•°ã€‚ç”±äºæ±½è½¦åº”è¯¥ä»å·¦å‘å³ç§»åŠ¨ï¼Œæˆ‘ä»¬è‚¯å®šéœ€è¦ä¸€ä¸ªå¤„ç†æ—¶é’Ÿæ»´ç­”å£°çš„å‡½æ•°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹æ„¿æœ›æ¸…å•ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [Image](#%28tech._image%29)
    |'
  id: totrans-1095
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä¸–ç•ŒçŠ¶æ€](#%28tech._.D.K._worldstate%29) -> [å›¾åƒ](#%28tech._image%29) |'
- en: '| ;Â places the image of the car x pixels from |'
  id: totrans-1096
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†æ±½è½¦å›¾åƒæ”¾ç½®åœ¨xåƒç´ å¤„ |'
- en: '| ;Â the left margin of the BACKGROUND image |'
  id: totrans-1097
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â èƒŒæ™¯å›¾åƒçš„å·¦è¾¹ç¼˜ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ x)
    |'
  id: totrans-1098
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ x)
    |'
- en: '| Â Â BACKGROUND) |'
  id: totrans-1099
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â BACKGROUND) |'
- en: '| Â  |'
  id: totrans-1100
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [WorldState](#%28tech._.D.K._worldstate%29)
    |'
  id: totrans-1101
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä¸–ç•ŒçŠ¶æ€](#%28tech._.D.K._worldstate%29) -> [ä¸–ç•ŒçŠ¶æ€](#%28tech._.D.K._worldstate%29)
    |'
- en: '| ;Â adds 3 to x to move the car right |'
  id: totrans-1102
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†xåŠ 3ä»¥å°†æ±½è½¦å‘å³ç§»åŠ¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tockÂ x)
    |'
  id: totrans-1103
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tockÂ x)
    |'
- en: '| Â Â x) |'
  id: totrans-1104
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â x) |'
- en: Note how we tailored the purpose statements to the problem at hand, with an
    understanding of how [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    will use these functions.
  id: totrans-1105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ³¨æ„æˆ‘ä»¬å¦‚ä½•æ ¹æ®å½“å‰é—®é¢˜è°ƒæ•´ç›®çš„é™ˆè¿°ï¼Œå¹¶ç†è§£[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)å°†å¦‚ä½•ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚
- en: Finally, you need a main function. Unlike all other functions, a main function
    for world programs doesnâ€™t demand design or testing. Its sole reason for existing
    is that you can launch your world program conveniently from DrRacketâ€™s interactions
    area.
  id: totrans-1106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæ‚¨éœ€è¦ä¸€ä¸ªmainå‡½æ•°ã€‚ä¸æ‰€æœ‰å…¶ä»–å‡½æ•°ä¸åŒï¼Œç”¨äºä¸–ç•Œç¨‹åºçš„ä¸»å‡½æ•°ä¸éœ€è¦è®¾è®¡æˆ–æµ‹è¯•ã€‚å®ƒå­˜åœ¨çš„å”¯ä¸€åŸå› æ˜¯æ‚¨å¯ä»¥ä»DrRacketçš„äº¤äº’åŒºåŸŸæ–¹ä¾¿åœ°å¯åŠ¨æ‚¨çš„ä¸–ç•Œç¨‹åºã€‚
- en: 'The one decision you must make concerns mainâ€™s arguments. For our sample problem,
    we opt for one argument: the initial state of the world. Here we go:'
  id: totrans-1107
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ‚¨å¿…é¡»åšå‡ºçš„ä¸€ä¸ªå†³å®šæ˜¯å…³äºmainå‡½æ•°çš„å‚æ•°ã€‚å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹é—®é¢˜ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªå‚æ•°ï¼šä¸–ç•Œçš„åˆå§‹çŠ¶æ€ã€‚ä¸‹é¢æ˜¯å…·ä½“åšæ³•ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [WorldState](#%28tech._.D.K._worldstate%29)
    |'
  id: totrans-1108
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä¸–ç•ŒçŠ¶æ€](#%28tech._.D.K._worldstate%29) -> [ä¸–ç•ŒçŠ¶æ€](#%28tech._.D.K._worldstate%29)
    |'
- en: '| ;Â launches the program from some initial state |'
  id: totrans-1109
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»æŸä¸ªåˆå§‹çŠ¶æ€å¯åŠ¨ç¨‹åº |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ ws)
    |'
  id: totrans-1110
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ ws)
    |'
- en: '| Â Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â ws
    |'
  id: totrans-1111
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â ws)
    |'
- en: '| Â Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tock]
    |'
  id: totrans-1112
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â [[åœ¨æ¯ç§’æ›´æ–°æ—¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tock]
    |'
- en: '| Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render]))
    |'
  id: totrans-1113
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render]))
    |'
- en: Hence, you can launch this interactive program with
  id: totrans-1114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å¯åŠ¨æ­¤äº¤äº’å¼ç¨‹åº
- en: '| > (mainÂ 13) |'
  id: totrans-1115
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (mainÂ 13) |'
- en: to watch the car start at 13 pixels from the left margin. It will stop when
    you close [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)â€™s
    window. Remember that [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    returns the current state of the world when the evaluation stops.
  id: totrans-1116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¦è§‚å¯Ÿæ±½è½¦ä»å·¦ä¾§è¾¹è·13åƒç´ å¤„å¼€å§‹ï¼Œå½“å…³é—­[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)çª—å£æ—¶åœæ­¢ã€‚è®°ä½ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)åœ¨è¯„ä¼°åœæ­¢æ—¶è¿”å›ä¸–ç•Œçš„å½“å‰çŠ¶æ€ã€‚
- en: Naturally, you donâ€™t have to use the name â€œWorldStateâ€ for the class of data
    that represents the states of the world. Any name will do as long as you use it
    consistently for the signatures of the event-handling functions. Also, you donâ€™t
    have to use the names tock, end?, or render. You may name these functions whatever
    you like, as long as you use the same names when you write down the clauses of
    the [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression. Lastly, you may have noticed that you may list the clauses of a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression in any order as long as you list the initial state first.
  id: totrans-1117
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªç„¶åœ°ï¼Œä½ ä¸å¿…ä½¿ç”¨â€œWorldStateâ€è¿™ä¸ªåå­—æ¥è¡¨ç¤ºä»£è¡¨ä¸–ç•ŒçŠ¶æ€çš„ç±»ã€‚åªè¦ä½ åœ¨äº‹ä»¶å¤„ç†å‡½æ•°çš„ç­¾åä¸­ä¸€è‡´åœ°ä½¿ç”¨è¿™ä¸ªåå­—ï¼Œä»»ä½•åå­—éƒ½å¯ä»¥ã€‚åŒæ ·ï¼Œä½ ä¸å¿…ä½¿ç”¨tockã€end?æˆ–renderè¿™äº›åå­—ã€‚ä½ å¯ä»¥å°†è¿™äº›å‡½æ•°å‘½åä¸ºä½ å–œæ¬¢çš„ä»»ä½•åå­—ï¼Œåªè¦ä½ åœ¨å†™ä¸‹[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼çš„å­å¥æ—¶ä½¿ç”¨ç›¸åŒçš„åå­—ã€‚æœ€åï¼Œä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œåªè¦é¦–å…ˆåˆ—å‡ºåˆå§‹çŠ¶æ€ï¼Œä½ å¯ä»¥ä»¥ä»»ä½•é¡ºåºåˆ—å‡º[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼çš„å­å¥ã€‚
- en: Letâ€™s now work through the rest of the program design process, using the design
    recipe for functions and other design concepts spelled out so far.
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç°åœ¨ç»§ç»­å®Œæˆç¨‹åºè®¾è®¡è¿‡ç¨‹çš„å…¶ä½™éƒ¨åˆ†ï¼Œä½¿ç”¨åˆ°ç›®å‰ä¸ºæ­¢å·²ç»è¯¦ç»†è¯´æ˜çš„è®¾è®¡é…æ–¹å’Œå‡½æ•°ä»¥åŠå…¶ä»–è®¾è®¡æ¦‚å¿µã€‚
- en: 'ExerciseÂ 39\. Good programmers ensure that an image such as CAR can be enlarged
    or reduced via a single change to a constant definition.Good programmers establish
    a single point of control for all aspects of their programs, not just the graphical
    constants. Several chapters deal with this issue. We started the development of
    our car image with a single plain definition:'
  id: totrans-1119
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 39ã€‚ä¼˜ç§€çš„ç¨‹åºå‘˜ç¡®ä¿åƒCARè¿™æ ·çš„å›¾åƒå¯ä»¥é€šè¿‡æ›´æ”¹å¸¸é‡å®šä¹‰æ¥æ”¾å¤§æˆ–ç¼©å°ã€‚ä¼˜ç§€çš„ç¨‹åºå‘˜ä¸ºç¨‹åºçš„æ‰€æœ‰æ–¹é¢å»ºç«‹å•ç‚¹æ§åˆ¶ï¼Œè€Œä¸ä»…ä»…æ˜¯å›¾å½¢å¸¸é‡ã€‚å‡ ç« å†…å®¹éƒ½æ¶‰åŠè¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å¼€å§‹å¼€å‘æ±½è½¦å›¾åƒæ—¶ï¼Œä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„å®šä¹‰ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL-RADIUSÂ 5)
  id: totrans-1120
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WHEEL-RADIUSÂ 5)
- en: The definition of WHEEL-DISTANCE is based on the wheelâ€™s radius. Hence, changing
    WHEEL-RADIUS from 5 to 10 doubles the size of the car image. This kind of program
    organization is dubbed single point of control, and good design employs this idea
    as much as possible.
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: WHEEL-DISTANCEçš„å®šä¹‰åŸºäºè½¦è½®çš„åŠå¾„ã€‚å› æ­¤ï¼Œå°†WHEEL-RADIUSä»5æ”¹ä¸º10å°†æ±½è½¦å›¾åƒçš„å¤§å°åŠ å€ã€‚è¿™ç§ç¨‹åºç»„ç»‡æ–¹å¼è¢«ç§°ä¸ºå•ç‚¹æ§åˆ¶ï¼Œä¼˜ç§€çš„è®¾è®¡å°½å¯èƒ½å¤šåœ°é‡‡ç”¨è¿™ç§ç†å¿µã€‚
- en: Develop your favorite image of an automobile so that WHEEL-RADIUS remains the
    single point of control.
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
  zh: å¼€å‘ä½ æœ€å–œæ¬¢çš„æ±½è½¦å›¾åƒï¼Œä½¿WHEEL-RADIUSæˆä¸ºå•ç‚¹æ§åˆ¶ã€‚
- en: 'The next entry on the wish list is the clock tick handling function:'
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
  zh: æ„¿æœ›æ¸…å•ä¸Šçš„ä¸‹ä¸€ä¸ªæ¡ç›®æ˜¯æ—¶é’Ÿæ»´ç­”å¤„ç†å‡½æ•°ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [WorldState](#%28tech._.D.K._worldstate%29)
    |'
  id: totrans-1124
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [WorldState](#%28tech._.D.K._worldstate%29)
    |'
- en: '| ;Â moves the car by 3 pixels for every clock tick |'
  id: totrans-1125
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ¯æ¬¡æ—¶é’Ÿæ»´ç­”ç§»åŠ¨æ±½è½¦3åƒç´  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tockÂ cw)Â cw)
    |'
  id: totrans-1126
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tockÂ cw)Â cw)
    |'
- en: 'Since the state of the world represents the distance between the left margin
    of the canvas and the car, and since the car moves at three pixels per clock tick,
    a concise purpose statement combines these two facts into one. This also makes
    it easy to create examples and to define the function:'
  id: totrans-1127
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºä¸–ç•ŒçŠ¶æ€ä»£è¡¨ç”»å¸ƒå·¦ä¾§è¾¹è·å’Œæ±½è½¦ä¹‹é—´çš„è·ç¦»ï¼Œå¹¶ä¸”æ±½è½¦æ¯æ¬¡æ—¶é’Ÿæ»´ç­”ç§»åŠ¨ä¸‰ä¸ªåƒç´ ï¼Œä¸€ä¸ªç®€æ´çš„ç›®çš„å£°æ˜å°†è¿™ä¸¤ä¸ªäº‹å®åˆå¹¶ä¸ºä¸€ä¸ªã€‚è¿™ä¹Ÿä½¿å¾—åˆ›å»ºç¤ºä¾‹å’Œå®šä¹‰å‡½æ•°å˜å¾—å®¹æ˜“ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [WorldState](#%28tech._.D.K._worldstate%29)
    |'
  id: totrans-1128
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š[WorldState](#%28tech._.D.K._worldstate%29) -> [WorldState](#%28tech._.D.K._worldstate%29)
    |'
- en: '| ;Â moves the car by 3 pixels for every clock tick |'
  id: totrans-1129
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼šæ¯æ¬¡æ—¶é’Ÿæ»´ç­”ç§»åŠ¨æ±½è½¦3ä¸ªåƒç´  |'
- en: '| ;Â examples: |'
  id: totrans-1130
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç¤ºä¾‹ï¼š |'
- en: '| ;Â Â Â given: 20, expect 23 |'
  id: totrans-1131
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š20ï¼ŒæœŸæœ›ï¼š23 |'
- en: '| ;Â Â Â given: 78, expect 81 |'
  id: totrans-1132
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š78ï¼ŒæœŸæœ›ï¼š81 |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tockÂ cw)
    |'
  id: totrans-1133
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (tock cw) |'
- en: '| Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â cwÂ 3))
    |'
  id: totrans-1134
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    cw 3)) |'
- en: 'The last design step calls for confirmation that the examples work as expected.
    So we click the RUN button and evaluate these expressions:'
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åçš„è®¾è®¡æ­¥éª¤éœ€è¦ç¡®è®¤ç¤ºä¾‹æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç‚¹å‡»RUNæŒ‰é’®å¹¶è¯„ä¼°è¿™äº›è¡¨è¾¾å¼ï¼š
- en: '| > (tockÂ 20) |'
  id: totrans-1136
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (tock 20) |'
- en: '| 23 |'
  id: totrans-1137
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 23 |'
- en: '| > (tockÂ 78) |'
  id: totrans-1138
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (tock 78) |'
- en: '| 81 |'
  id: totrans-1139
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 81 |'
- en: Since the results are as expected, the design of tock is finished.
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºç»“æœç¬¦åˆé¢„æœŸï¼Œtockçš„è®¾è®¡å°±å®Œæˆäº†ã€‚
- en: ExerciseÂ 40\. Formulate the examples as BSL tests, that is, using the [check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    form. Introduce a mistake. Re-run the tests.
  id: totrans-1141
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 40ã€‚å°†ç¤ºä¾‹ä½œä¸ºBSLæµ‹è¯•æ¥åˆ¶å®šï¼Œå³ä½¿ç”¨[check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)å½¢å¼ã€‚å¼•å…¥ä¸€ä¸ªé”™è¯¯ã€‚é‡æ–°è¿è¡Œæµ‹è¯•ã€‚
- en: 'Our second entry on the wish list specifies a function that translates the
    state of the world into an image:'
  id: totrans-1142
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ„¿æœ›æ¸…å•ä¸Šçš„ç¬¬äºŒä¸ªæ¡ç›®æŒ‡å®šäº†ä¸€ä¸ªå°†ä¸–ç•ŒçŠ¶æ€è½¬æ¢ä¸ºå›¾åƒçš„å‡½æ•°ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [Image](#%28tech._image%29)
    |'
  id: totrans-1143
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š[WorldState](#%28tech._.D.K._worldstate%29) -> [Image](#%28tech._image%29)
    |'
- en: '| ;Â places the car into the BACKGROUND scene, |'
  id: totrans-1144
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼šå°†æ±½è½¦æ”¾ç½®åˆ°èƒŒæ™¯åœºæ™¯ä¸­ï¼Œ |'
- en: '| ;Â according to the given world state |'
  id: totrans-1145
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ ¹æ®ç»™å®šçš„ä¸–ç•ŒçŠ¶æ€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ cw)
    |'
  id: totrans-1146
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (render cw) |'
- en: '| Â Â BACKGROUND) |'
  id: totrans-1147
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   èƒŒæ™¯) |'
- en: To make examples for a rendering function, we suggest arranging a table like
    the upper half of [figureÂ 19](#%28counter._.D.K._%28figure._fig~3amoving-car%29%29).
    It lists the given world states and the desired scenes. For your first few rendering
    functions, you may wish to draw these images by hand.
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä¸ºæ¸²æŸ“å‡½æ•°åˆ¶ä½œç¤ºä¾‹ï¼Œæˆ‘ä»¬å»ºè®®å®‰æ’ä¸€ä¸ªè¡¨æ ¼ï¼Œç±»ä¼¼äº[å›¾19](#%28counter._.D.K._%28figure._fig~3amoving-car%29%29)çš„ä¸ŠåŠéƒ¨åˆ†ã€‚å®ƒåˆ—å‡ºäº†ç»™å®šçš„ä¸–ç•ŒçŠ¶æ€å’ŒæœŸæœ›çš„åœºæ™¯ã€‚å¯¹äºä½ æœ€åˆçš„å‡ ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œä½ å¯èƒ½å¸Œæœ›æ‰‹åŠ¨ç»˜åˆ¶è¿™äº›å›¾åƒã€‚
- en: '| cw |  | its image |'
  id: totrans-1149
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| cw |  | å®ƒçš„å›¾åƒ |'
- en: '| 50 |  | ![image](../Images/8191b471508206a3f0fc559a99a2e19f.png) |'
  id: totrans-1150
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 50 |  | ![å›¾åƒ](../Images/8191b471508206a3f0fc559a99a2e19f.png) |'
- en: '| 100 |  | ![image](../Images/8e0777653eba3a29a272e725d46c80b2.png) |'
  id: totrans-1151
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 100 |  | ![å›¾åƒ](../Images/8e0777653eba3a29a272e725d46c80b2.png) |'
- en: '| 150 |  | ![image](../Images/77b21fc14d6dfc889c7407bcbb9d4885.png) |'
  id: totrans-1152
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 150 |  | ![å›¾åƒ](../Images/77b21fc14d6dfc889c7407bcbb9d4885.png) |'
- en: '| 200 |  | ![image](../Images/a10f5139a15734e2a08251aba6e0b67e.png) |'
  id: totrans-1153
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 200 |  | ![å›¾åƒ](../Images/a10f5139a15734e2a08251aba6e0b67e.png) |'
- en: '|  |  |  |'
  id: totrans-1154
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  |  |'
- en: ''
  id: totrans-1155
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '| cw |  | an expression |'
  id: totrans-1156
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| cw |  | ä¸€ä¸ªè¡¨è¾¾å¼ |'
- en: '| 50 |  | ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â CARÂ 50Â Y-CARÂ BACKGROUND)
    |'
  id: totrans-1157
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 50 |  | ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    CAR 50 Y-CAR èƒŒæ™¯) |'
- en: '| 100 |  | ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â CARÂ 100Â Y-CARÂ BACKGROUND)
    |'
  id: totrans-1158
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 100 |  | ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    CAR 100 Y-CAR èƒŒæ™¯) |'
- en: '| 150 |  | ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â CARÂ 150Â Y-CARÂ BACKGROUND)
    |'
  id: totrans-1159
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 150 |  | ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    CAR 150 Y-CAR èƒŒæ™¯) |'
- en: '| 200 |  | ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â CARÂ 200Â Y-CARÂ BACKGROUND)
    |'
  id: totrans-1160
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 200 |  | ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    CAR 200 Y-CAR èƒŒæ™¯) |'
- en: ''
  id: totrans-1161
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 19: Examples for a moving car program'
  id: totrans-1162
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾19ï¼šç§»åŠ¨æ±½è½¦ç¨‹åºç¤ºä¾‹
- en: 'Even though this kind of image table is intuitive and explains what the running
    function is going to displayâ€”<wbr>a moving carâ€”<wbr>it does not explain how the
    function creates this result. To get from here to there, we recommend writing
    down expressions like those in the lower half of [figureÂ 19](#%28counter._.D.K._%28figure._fig~3amoving-car%29%29)
    that create the images in the table. The capitalized names refer to the obvious
    constants: the image of a car, its fixed y-coordinate, and the background scene,
    which is currently empty.'
  id: totrans-1163
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡è¿™ç§å›¾åƒè¡¨ç›´è§‚ä¸”è§£é‡Šäº†è¿è¡Œå‡½æ•°å°†è¦æ˜¾ç¤ºçš„å†…å®¹â€”â€”<wbr>ä¸€è¾†ç§»åŠ¨çš„æ±½è½¦â€”â€”<wbr>ä½†å®ƒå¹¶æ²¡æœ‰è§£é‡Šå‡½æ•°æ˜¯å¦‚ä½•åˆ›å»ºè¿™ç§ç»“æœçš„ã€‚è¦ä»è¿™é‡Œåˆ°é‚£é‡Œï¼Œæˆ‘ä»¬å»ºè®®å†™ä¸‹åƒ[å›¾19](#%28counter._.D.K._%28figure._fig~3amoving-car%29%29)ä¸‹åŠéƒ¨åˆ†é‚£æ ·çš„è¡¨è¾¾å¼ï¼Œè¿™äº›è¡¨è¾¾å¼åœ¨è¡¨ä¸­åˆ›å»ºå›¾åƒã€‚å¤§å†™åç§°æŒ‡çš„æ˜¯æ˜æ˜¾çš„å¸¸é‡ï¼šæ±½è½¦å›¾åƒã€å…¶å›ºå®šçš„yåæ ‡å’Œå½“å‰ä¸ºç©ºçš„èƒŒæ™¯åœºæ™¯ã€‚
- en: 'This extended table suggests a pattern for the formula that goes into the body
    of the render function:'
  id: totrans-1164
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ‰©å±•è¡¨å»ºè®®äº†å°†å…¬å¼æ”¾å…¥æ¸²æŸ“å‡½æ•°ä¸»ä½“çš„æ¨¡å¼ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [Image](#%28tech._image%29)
    |'
  id: totrans-1165
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29) -> [Image](#%28tech._image%29)
    |'
- en: '| ;Â places the car into the BACKGROUND scene, |'
  id: totrans-1166
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†æ±½è½¦æ”¾ç½®åˆ°èƒŒæ™¯åœºæ™¯ä¸­ï¼Œ |'
- en: '| ;Â according to the given world state |'
  id: totrans-1167
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ ¹æ®ç»™å®šçš„ä¸–ç•ŒçŠ¶æ€ |'
- en: '| Â ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ cw)
    |'
  id: totrans-1168
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (render cw) |'
- en: '| Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â CARÂ cwÂ Y-CARÂ BACKGROUND))
    |'
  id: totrans-1169
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    CAR cw Y-CAR èƒŒæ™¯ï¼‰|'
- en: And that is mostly all there is to designing a simple world program.ExerciseÂ 41\.
    Finish the sample problem and get the program to run. That is, assuming that you
    have solved [exerciseÂ 39](#%28counter._.D.K._%28exercise._design6%29%29), define
    the constants BACKGROUND and Y-CAR. Then assemble all the function definitions,
    including their tests. When your program runs to your satisfaction, add a tree
    to the scenery. We used
  id: totrans-1170
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™åŸºæœ¬ä¸Šå°±æ˜¯è®¾è®¡ä¸€ä¸ªç®€å•çš„ä¸–ç•Œç¨‹åºçš„å…¨éƒ¨å†…å®¹ã€‚ç»ƒä¹ 41ã€‚å®Œæˆç¤ºä¾‹é—®é¢˜ï¼Œå¹¶ä½¿ç¨‹åºè¿è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡è®¾ä½ å·²ç»è§£å†³äº†[ç»ƒä¹ 39](#%28counter._.D.K._%28exercise._design6%29%29)ï¼Œå®šä¹‰å¸¸é‡èƒŒæ™¯å’ŒY-CARã€‚ç„¶åç»„è£…æ‰€æœ‰å‡½æ•°å®šä¹‰ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„æµ‹è¯•ã€‚å½“ä½ çš„ç¨‹åºè¿è¡Œåˆ°ä½ æ»¡æ„æ—¶ï¼Œå‘åœºæ™¯ä¸­æ·»åŠ ä¸€æ£µæ ‘ã€‚æˆ‘ä»¬ä½¿ç”¨äº†
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â tree
    |'
  id: totrans-1171
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    tree |'
- en: '| Â Â ([underlay/xy](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._underlay%2Fxy%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "green")
    |'
  id: totrans-1172
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[underlay/xy](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._underlay%2Fxy%29%29)
    ï¼ˆ[åœ†å½¢](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)
    10 "solid" "green") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 9Â 15 |'
  id: totrans-1173
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â 9 15 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 2Â 20Â "solid"Â "brown")))
    |'
  id: totrans-1174
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([çŸ©å½¢](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)
    2 20 "solid" "brown"))) |'
- en: to create a tree-like shape. Also add a clause to the [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression that stops the animation when the car has disappeared on the right
    side.
  id: totrans-1175
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥åˆ›å»ºä¸€ä¸ªç±»ä¼¼æ ‘çš„å½¢çŠ¶ã€‚è¿˜è¦å‘[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼æ·»åŠ ä¸€ä¸ªå­å¥ï¼Œå½“æ±½è½¦åœ¨å³ä¾§æ¶ˆå¤±æ—¶åœæ­¢åŠ¨ç”»ã€‚
- en: After settling on an initial data representation for world states, a careful
    programmer may have to revisit this fundamental design decision during the rest
    of the design process. For example, the data definition for the sample problem
    represents the car as a point. But (the image of) the car isnâ€™t just a mathematical
    point without width and height. Hence, the interpretation statementâ€”<wbr>the number
    of pixels from the left marginâ€”<wbr>is an ambiguous statement. Does this statement
    measure the distance between the left margin and the left end of the car? Its
    center point? Or even its right end? We ignored this issue here and leave it to
    BSLâ€™s image primitives to make the decision for us. If you donâ€™t like the result,
    revisit the data definition above and modify it or its interpretation statement
    to suit your taste.
  id: totrans-1176
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¡®å®šä¸–ç•ŒçŠ¶æ€åˆå§‹æ•°æ®è¡¨ç¤ºåï¼Œä¸€ä¸ªç»†å¿ƒçš„ç¨‹åºå‘˜å¯èƒ½åœ¨æ•´ä¸ªè®¾è®¡è¿‡ç¨‹ä¸­éœ€è¦é‡æ–°å®¡è§†è¿™ä¸ªåŸºæœ¬çš„è®¾è®¡å†³ç­–ã€‚ä¾‹å¦‚ï¼Œæ ·æœ¬é—®é¢˜çš„æ•°æ®å®šä¹‰å°†æ±½è½¦è¡¨ç¤ºä¸ºä¸€ä¸ªç‚¹ã€‚ä½†ï¼ˆæ±½è½¦çš„ï¼‰å›¾åƒå¹¶ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ²¡æœ‰å®½åº¦å’Œé«˜åº¦çš„æ•°å­¦ç‚¹ã€‚å› æ­¤ï¼Œè§£é‡Šè¯´æ˜â€”â€”<wbr>ä»å·¦è¾¹ç•Œåˆ°åƒç´ æ•°çš„æ•°é‡â€”â€”<wbr>æ˜¯ä¸€ä¸ªæ¨¡ç³Šçš„è¯´æ˜ã€‚è¿™ä¸ªè¯´æ˜æ˜¯æµ‹é‡å·¦è¾¹ç•Œå’Œæ±½è½¦å·¦ç«¯ä¹‹é—´çš„è·ç¦»å—ï¼Ÿå®ƒçš„ä¸­å¿ƒç‚¹ï¼Ÿè¿˜æ˜¯ç”šè‡³å®ƒçš„å³ç«¯ï¼Ÿåœ¨è¿™é‡Œæˆ‘ä»¬å¿½ç•¥äº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶å°†å…¶ç•™ç»™BSLçš„å›¾åƒåŸè¯­æ¥ä¸ºæˆ‘ä»¬åšå‡ºå†³å®šã€‚å¦‚æœä½ ä¸å–œæ¬¢ç»“æœï¼Œé‡æ–°å®¡è§†ä¸Šé¢çš„æ•°æ®å®šä¹‰ï¼Œå¹¶ä¿®æ”¹å®ƒæˆ–å…¶è§£é‡Šè¯´æ˜ä»¥ç¬¦åˆä½ çš„å£å‘³ã€‚
- en: ExerciseÂ 42\. Modify the interpretation of the sample data definition so that
    a state denotes the x-coordinate of the right-most edge of the car.
  id: totrans-1177
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 42ã€‚ä¿®æ”¹æ ·æœ¬æ•°æ®å®šä¹‰çš„è§£é‡Šï¼Œä½¿ä¸€ä¸ªçŠ¶æ€è¡¨ç¤ºæ±½è½¦æœ€å³è¾¹çš„xåæ ‡ã€‚
- en: 'ExerciseÂ 43\. Letâ€™s work through the same problem statement with a time-based
    data definition:'
  id: totrans-1178
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 43ã€‚è®©æˆ‘ä»¬ä½¿ç”¨åŸºäºæ—¶é—´çš„æ•°æ®å®šä¹‰æ¥å¤„ç†ç›¸åŒçš„é—®é¢˜è¯´æ˜ï¼š
- en: '| ;Â An AnimationState is a [Number](#%28tech._number%29). |'
  id: totrans-1179
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªAnimationStateæ˜¯ä¸€ä¸ª[Number](#%28tech._number%29)ã€‚ |'
- en: '| ;Â interpretation the number of clock ticks |'
  id: totrans-1180
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šï¼šæ—¶é’Ÿæ»´ç­”æ¬¡æ•° |'
- en: '| ;Â since the animation started |'
  id: totrans-1181
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å› ä¸ºåŠ¨ç”»å·²ç»å¼€å§‹ |'
- en: Like the original data definition, this one also equates the states of the world
    with the class of numbers. Its interpretation, however, explains that the number
    means something entirely different.
  id: totrans-1182
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸åŸå§‹æ•°æ®å®šä¹‰ä¸€æ ·ï¼Œè¿™ä¸ªå®šä¹‰ä¹Ÿå°†ä¸–ç•ŒçŠ¶æ€ä¸æ•°å­—ç±»åˆ«ç­‰åŒèµ·æ¥ã€‚ç„¶è€Œï¼Œå®ƒçš„è§£é‡Šå´è¯´æ˜è¿™ä¸ªæ•°å­—æ„å‘³ç€å®Œå…¨ä¸åŒçš„äº‹æƒ…ã€‚
- en: Design the functions tock and render. Then develop a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression so that once again you get an animation of a car traveling from left
    to right across the worldâ€™s canvas.
  id: totrans-1183
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡tockå’Œrenderå‡½æ•°ã€‚ç„¶åå¼€å‘ä¸€ä¸ª[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼ï¼Œä»¥ä¾¿å†æ¬¡å¾—åˆ°ä¸€è¾†æ±½è½¦ä»å·¦åˆ°å³ç©¿è¶Šä¸–ç•Œç”»å¸ƒçš„åŠ¨ç”»ã€‚
- en: 'How do you think this program relates to [animate](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._%28%28lib._2htdp%2Funiverse..rkt%29._animate%29%29)
    from [Prologue: How to Program](part_prologue.html)?'
  id: totrans-1184
  prefs: []
  type: TYPE_NORMAL
  zh: 'ä½ è®¤ä¸ºè¿™ä¸ªç¨‹åºä¸[Prologue: How to Program](part_prologue.html)ä¸­çš„[animate](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._%28%28lib._2htdp%2Funiverse..rkt%29._animate%29%29)æœ‰ä½•å…³è”ï¼Ÿ'
- en: Use the data definition to design a program that moves the car according to
    a sine wave. (Donâ€™t try to drive like that.)
  id: totrans-1185
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ•°æ®å®šä¹‰è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œä½¿æ±½è½¦æ ¹æ®æ­£å¼¦æ³¢ç§»åŠ¨ã€‚ï¼ˆä¸è¦çœŸçš„é‚£æ ·å¼€è½¦ã€‚ï¼‰
- en: We end the section with an illustration of mouse event handling, which also
    illustrates the advantages that a separation of view and model provide.
  id: totrans-1186
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»¥ä¸€ä¸ªé¼ æ ‡äº‹ä»¶å¤„ç†çš„ç¤ºä¾‹ç»“æŸæœ¬èŠ‚ï¼Œè¿™ä¹Ÿå±•ç¤ºäº†è§†å›¾å’Œæ¨¡å‹åˆ†ç¦»çš„ä¼˜åŠ¿ã€‚
- en: Dealing with mouse movements is occasionally tricky because they arenâ€™t exactly
    what they seem to be. For a first idea of why that is, read [On Mice and Keys](../notes/note_mice-and-chars.html).
  id: totrans-1187
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¤„ç†é¼ æ ‡ç§»åŠ¨æœ‰æ—¶æ˜¯æ£˜æ‰‹çš„ï¼Œå› ä¸ºå®ƒä»¬å¹¶ä¸å®Œå…¨åƒçœ‹èµ·æ¥é‚£æ ·ã€‚ä¸ºäº†äº†è§£ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œè¯·é˜…è¯»[å…³äºé¼ æ ‡å’Œé”®ç›˜](../notes/note_mice-and-chars.html)ã€‚
- en: 'Suppose we wish to allow people to move the car through â€œhyperspaceâ€:'
  id: totrans-1188
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬å¸Œæœ›å…è®¸äººä»¬é€šè¿‡â€œè¶…ç©ºé—´â€ç§»åŠ¨æ±½è½¦ï¼š
- en: Sample Problem Design a program that moves a car across the world canvas, from
    left to right, at the rate of three pixels per clock tick. If the mouse is clicked
    anywhere on the canvas, the car is placed at the x-coordinate of that click.
  id: totrans-1189
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·æœ¬é—®é¢˜è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œä½¿æ±½è½¦ä»¥æ¯æ—¶é’Ÿæ»´ç­”ä¸‰ä¸ªåƒç´ çš„é€Ÿåº¦ä»ä¸–ç•Œç”»å¸ƒçš„å·¦ä¾§ç§»åŠ¨åˆ°å³ä¾§ã€‚å¦‚æœé¼ æ ‡åœ¨ç”»å¸ƒçš„ä»»ä½•åœ°æ–¹ç‚¹å‡»ï¼Œæ±½è½¦å°†è¢«æ”¾ç½®åœ¨ç‚¹å‡»çš„xåæ ‡å¤„ã€‚
- en: 'The bold part is the expansion of the sample problem from above.When we are
    confronted with a modified problem, we use the design process to guide us to the
    necessary changes. If used properly, this process naturally determines what we
    need to add to our existing program to cope with the expansion of the problem
    statement. So here we go:'
  id: totrans-1190
  prefs: []
  type: TYPE_NORMAL
  zh: ç²—ä½“éƒ¨åˆ†æ˜¯ä¸Šè¿°ç¤ºä¾‹é—®é¢˜çš„æ‰©å±•ã€‚å½“æˆ‘ä»¬é¢å¯¹ä¸€ä¸ªä¿®æ”¹åçš„é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨è®¾è®¡è¿‡ç¨‹æ¥å¼•å¯¼æˆ‘ä»¬è¿›è¡Œå¿…è¦çš„æ›´æ”¹ã€‚å¦‚æœæ­£ç¡®ä½¿ç”¨ï¼Œè¿™ä¸ªè¿‡ç¨‹è‡ªç„¶ä¼šç¡®å®šæˆ‘ä»¬éœ€è¦å‘ç°æœ‰ç¨‹åºä¸­æ·»åŠ ä»€ä¹ˆæ¥åº”å¯¹é—®é¢˜å£°æ˜çš„æ‰©å±•ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±è¿™æ ·å¼€å§‹äº†ï¼š
- en: There are no new properties, meaning we do not need new constants.
  id: totrans-1191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ²¡æœ‰æ–°çš„å±æ€§ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¸éœ€è¦æ–°çš„å¸¸é‡ã€‚
- en: The program is still concerned with just one property that changes over time,
    the x-coordinate of the car. Hence, the data representation suffices.
  id: totrans-1192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¨‹åºä»ç„¶åªå…³æ³¨ä¸€ä¸ªéšæ—¶é—´å˜åŒ–çš„å±æ€§ï¼Œå³æ±½è½¦çš„è½¦æ ‡ä½ç½®ã€‚å› æ­¤ï¼Œæ•°æ®è¡¨ç¤ºå°±è¶³å¤Ÿäº†ã€‚
- en: 'The revised problem statement calls for a mouse-event handler, without giving
    up on the clock-based movement of the car. Hence, we state an appropriate wish:'
  id: totrans-1193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¿®æ”¹åçš„é—®é¢˜å£°æ˜éœ€è¦ä¸€ä¸ªé¼ æ ‡äº‹ä»¶å¤„ç†ç¨‹åºï¼ŒåŒæ—¶ä¸æ”¾å¼ƒåŸºäºæ—¶é’Ÿçš„æ±½è½¦ç§»åŠ¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºä¸€ä¸ªé€‚å½“çš„æ„¿æœ›ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> [WorldState](#%28tech._.D.K._worldstate%29) |'
  id: totrans-1194
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> [WorldState](#%28tech._.D.K._worldstate%29) |'
- en: '| ;Â places the car at x-mouse |'
  id: totrans-1195
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†æ±½è½¦æ”¾ç½®åœ¨x-mouseä½ç½® |'
- en: '| ;Â if the given me is "button-down" |'
  id: totrans-1196
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœç»™å®šçš„meæ˜¯"button-down" |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (hyperÂ x-position-of-carÂ x-mouseÂ y-mouseÂ me)
    |'
  id: totrans-1197
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (hyperÂ x-position-of-carÂ x-mouseÂ y-mouseÂ me)
    |'
- en: '| Â Â x-position-of-car) |'
  id: totrans-1198
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  x-position-of-car) |'
- en: 'Lastly, we need to modify main to take care of mouse events. All this requires
    is the addition of an [on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)
    clause that defers to the new entry on our wish list:'
  id: totrans-1199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸»å‡½æ•°ä»¥å¤„ç†é¼ æ ‡äº‹ä»¶ã€‚è¿™åªéœ€è¦æ·»åŠ ä¸€ä¸ª[on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)å­å¥ï¼Œä½¿å…¶æŒ‡å‘æˆ‘ä»¬æ„¿æœ›åˆ—è¡¨ä¸­çš„æ–°æ¡ç›®ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ ws)
    |'
  id: totrans-1200
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ ws)
    |'
- en: '| Â Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â ws
    |'
  id: totrans-1201
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â ws
    |'
- en: '| Â Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tock]
    |'
  id: totrans-1202
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tock]
    |'
- en: '| Â Â Â Â Â [[on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)Â hyper]
    |'
  id: totrans-1203
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  [[on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)Â hyper]
    |'
- en: '| Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render]))
    |'
  id: totrans-1204
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render]))
    |'
- en: After all, the modified problem calls for dealing with mouse clicks and everything
    else remains the same.
  id: totrans-1205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ€»ä¹‹ï¼Œä¿®æ”¹åçš„é—®é¢˜éœ€è¦å¤„ç†é¼ æ ‡ç‚¹å‡»ï¼Œè€Œå…¶ä»–ä¸€åˆ‡ä¿æŒä¸å˜ã€‚
- en: 'The rest is a mere matter of designing one more function, and for that we use
    the design recipe for functions.An entry on the wish list covers the first two
    steps of the design recipe for functions. Hence, our next step is to develop some
    functional examples:'
  id: totrans-1206
  prefs: []
  type: TYPE_NORMAL
  zh: å‰©ä¸‹çš„åªæ˜¯ä¸€ä¸ªè®¾è®¡ä¸€ä¸ªé¢å¤–å‡½æ•°çš„é—®é¢˜ï¼Œä¸ºæ­¤æˆ‘ä»¬ä½¿ç”¨å‡½æ•°çš„è®¾è®¡é£Ÿè°±ã€‚æ„¿æœ›åˆ—è¡¨ä¸­çš„ä¸€ä¸ªæ¡ç›®æ¶µç›–äº†å‡½æ•°è®¾è®¡é£Ÿè°±çš„å‰ä¸¤æ­¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„ä¸‹ä¸€æ­¥æ˜¯å¼€å‘ä¸€äº›åŠŸèƒ½ç¤ºä¾‹ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> [WorldState](#%28tech._.D.K._worldstate%29) |'
  id: totrans-1207
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> [WorldState](#%28tech._.D.K._worldstate%29) |'
- en: '| ;Â places the car at x-mouse |'
  id: totrans-1208
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†æ±½è½¦æ”¾ç½®åœ¨x-mouseä½ç½® |'
- en: '| ;Â if the given me is "button-down" |'
  id: totrans-1209
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœç»™å®šçš„meæ˜¯"button-down" |'
- en: '| ;Â given: 21  10  20  "enter" |'
  id: totrans-1210
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š21  10  20  "enter" |'
- en: '| ;Â wanted: 21 |'
  id: totrans-1211
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š21 |'
- en: '| ;Â given: 42  10  20  "button-down" |'
  id: totrans-1212
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š42  10  20  "button-down" |'
- en: '| ;Â wanted: 10 |'
  id: totrans-1213
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šï¼š10 |'
- en: '| ;Â given: 42  10  20  "move" |'
  id: totrans-1214
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®šï¼š42  10  20  "move" |'
- en: '| ;Â wanted: 42 |'
  id: totrans-1215
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æœŸæœ›ï¼š42 |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (hyperÂ x-position-of-carÂ x-mouseÂ y-mouseÂ me)
    |'
  id: totrans-1216
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (hyperÂ x-position-of-carÂ x-mouseÂ y-mouseÂ me)
    |'
- en: '| Â Â x-position-of-car) |'
  id: totrans-1217
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â x-position-of-car) |'
- en: The examples say that if the string argument is equal to "button-down", the
    function returns x-mouse; otherwise it returns x-position-of-car.
  id: totrans-1218
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å­è¯´æ˜ï¼Œå¦‚æœå­—ç¬¦ä¸²å‚æ•°ç­‰äº"button-down"ï¼Œåˆ™å‡½æ•°è¿”å›x-mouseï¼›å¦åˆ™è¿”å›x-position-of-carã€‚
- en: ExerciseÂ 44\. Formulate the examples as BSL tests. Click RUN and watch them
    fail.
  id: totrans-1219
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 44ã€‚å°†ä¾‹å­ä½œä¸ºBSLæµ‹è¯•æ¥åˆ¶å®šã€‚ç‚¹å‡»RUNå¹¶è§‚å¯Ÿå®ƒä»¬å¤±è´¥ã€‚
- en: 'To complete the function definition, we must appeal to your fond memories from
    [Prologue: How to Program](part_prologue.html),In the next chapter, we explain
    designing with [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    in detail. specifically memories about the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)itional
    form. Using [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29),
    hyper is a two-line definition:'
  id: totrans-1220
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å®Œæˆå‡½æ•°å®šä¹‰ï¼Œæˆ‘ä»¬å¿…é¡»å€ŸåŠ©æ‚¨å¯¹[åºè¨€ï¼šå¦‚ä½•ç¼–ç¨‹](part_prologue.html)çš„ç¾å¥½å›å¿†ï¼Œåœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†è¯¦ç»†è§£é‡Šä½¿ç”¨[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¿›è¡Œè®¾è®¡ã€‚ç‰¹åˆ«æ˜¯å…³äº[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)æ¡ä»¶å½¢å¼çš„å›å¿†ã€‚ä½¿ç”¨[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)ï¼Œhyperæ˜¯ä¸€ä¸ªä¸¤è¡Œå®šä¹‰ï¼š
- en: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> [WorldState](#%28tech._.D.K._worldstate%29) |'
  id: totrans-1221
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._.D.K._worldstate%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [String](#%28tech._string%29)
    -> [WorldState](#%28tech._.D.K._worldstate%29) |'
- en: '| ;Â places the car at x-mouse |'
  id: totrans-1222
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â places the car at x-mouse |'
- en: '| ;Â if the given me is "button-down" |'
  id: totrans-1223
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â if the given me is "button-down" |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (hyperÂ x-position-of-carÂ x-mouseÂ y-mouseÂ me)
    |'
  id: totrans-1224
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (hyperÂ x-position-of-carÂ x-mouseÂ y-mouseÂ me)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1225
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "button-down"Â me)Â x-mouse]
    |'
  id: totrans-1226
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "button-down"Â me)Â x-mouse]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â x-position-of-car]))
    |'
  id: totrans-1227
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â x-position-of-car]))
    |'
- en: If you solved [exerciseÂ 44](#%28counter._.D.K._%28exercise._car-test-again%29%29),
    rerun the program and watch all tests succeed. Assuming the tests do succeed,
    evaluate
  id: totrans-1228
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è§£å†³äº†[ç»ƒä¹ 44](#%28counter._.D.K._%28exercise._car-test-again%29%29)ï¼Œé‡æ–°è¿è¡Œç¨‹åºå¹¶è§‚å¯Ÿæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ã€‚å‡è®¾æµ‹è¯•ç¡®å®é€šè¿‡äº†ï¼Œè¯„ä¼°
- en: (mainÂ 1)
  id: totrans-1229
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (mainÂ 1)
- en: in DrRacketâ€™s interactions area and transport your car through hyperspace.
  id: totrans-1230
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨DrRacketçš„äº¤äº’åŒºåŸŸä¸­è¾“å…¥å¹¶è¿è¡Œï¼Œè®©ä½ çš„æ±½è½¦ç©¿è¶Šè¶…ç©ºé—´ã€‚
- en: You may wonder why this program modification is so straightforward. There are
    really two reasons. First, this book and its software strictly separate the data
    that a program tracksâ€”<wbr>the modelâ€”<wbr>and the image that it showsâ€”<wbr>the
    view. In particular, functions that deal with events have nothing to do with how
    the state is rendered. If we wish to modify how a state is rendered, we can focus
    on the function specified in a [to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)
    clause. Second, the design recipes for programs and functions organize programs
    in the right way. If anything changes in a problem statement, following the design
    recipe a second time naturally points out where the original problem solution
    has to change. While this may look obvious for the simple kind of problems we
    are dealing with now, it is critical for the kind of problems that programmers
    encounter in the real world.
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½ä¼šæƒ³çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªç¨‹åºä¿®æ”¹å¦‚æ­¤ç®€å•ã€‚å®é™…ä¸Šæœ‰ä¸¤ä¸ªåŸå› ã€‚é¦–å…ˆï¼Œè¿™æœ¬ä¹¦åŠå…¶è½¯ä»¶ä¸¥æ ¼åŒºåˆ†äº†ç¨‹åºè·Ÿè¸ªçš„æ•°æ®â€”â€”<wbr>æ¨¡å‹â€”â€”<wbr>å’Œå®ƒæ˜¾ç¤ºçš„å›¾åƒâ€”â€”<wbr>è§†å›¾ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¤„ç†äº‹ä»¶çš„å‡½æ•°ä¸çŠ¶æ€æ¸²æŸ“çš„æ–¹å¼æ— å…³ã€‚å¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹çŠ¶æ€çš„æ¸²æŸ“æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å…³æ³¨
    [to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)
    å­å¥ä¸­æŒ‡å®šçš„å‡½æ•°ã€‚å…¶æ¬¡ï¼Œç¨‹åºå’Œå‡½æ•°çš„è®¾è®¡é£Ÿè°±ä»¥æ­£ç¡®çš„æ–¹å¼ç»„ç»‡ç¨‹åºã€‚å¦‚æœé—®é¢˜é™ˆè¿°ä¸­æœ‰ä»»ä½•å˜åŒ–ï¼Œå†æ¬¡éµå¾ªè®¾è®¡é£Ÿè°±è‡ªç„¶ä¼šæŒ‡å‡ºåŸå§‹é—®é¢˜è§£å†³æ–¹æ¡ˆéœ€è¦æ›´æ”¹çš„åœ°æ–¹ã€‚è™½ç„¶å¯¹äºæˆ‘ä»¬ç°åœ¨å¤„ç†çš„ç®€å•é—®é¢˜æ¥è¯´è¿™çœ‹èµ·æ¥å¾ˆæ˜¾ç„¶ï¼Œä½†å¯¹äºç¨‹åºå‘˜åœ¨ç°å®ä¸–ç•Œä¸­é‡åˆ°çš„é—®é¢˜æ¥è¯´ï¼Œè¿™æ˜¯è‡³å…³é‡è¦çš„ã€‚
- en: 3.7Virtual Pet Worlds[ğŸ”—](#(part._sec~3azoo1) "Link to here")
  id: totrans-1232
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.7 è™šæ‹Ÿå® ç‰©ä¸–ç•Œ[ğŸ”—](#(part._sec~3azoo1) "é“¾æ¥åˆ°æ­¤å¤„")
- en: This exercise section introduces the first two elements of a virtual pet game.
    It starts with just a display of a cat that keeps walking across the canvas. Of
    course, all the walking makes the cat unhappy and its unhappiness shows. As with
    all pets, you can try petting, which helps some, or you can try feeding, which
    helps a lot more.
  id: totrans-1233
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªç»ƒä¹ éƒ¨åˆ†ä»‹ç»äº†è™šæ‹Ÿå® ç‰©æ¸¸æˆçš„å‰ä¸¤ä¸ªå…ƒç´ ã€‚å®ƒä»åœ¨ç”»å¸ƒä¸Šä¸æ–­èµ°åŠ¨çš„çŒ«çš„æ˜¾ç¤ºå¼€å§‹ã€‚å½“ç„¶ï¼Œæ‰€æœ‰çš„è¡Œèµ°éƒ½è®©çŒ«ä¸é«˜å…´ï¼Œå®ƒçš„ä¸é«˜å…´ä¹Ÿè¡¨ç°å‡ºæ¥äº†ã€‚å°±åƒæ‰€æœ‰å® ç‰©ä¸€æ ·ï¼Œä½ å¯ä»¥å°è¯•æŠšæ‘¸ï¼Œè¿™æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…ä½ å¯ä»¥å°è¯•å–‚é£Ÿï¼Œè¿™å¸®åŠ©æ›´å¤§ã€‚
- en: 'So letâ€™s start with an image of our favorite cat:'
  id: totrans-1234
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œè®©æˆ‘ä»¬ä»ä¸€ä¸ªæˆ‘ä»¬æœ€å–œæ¬¢çš„çŒ«çš„å›¾ç‰‡å¼€å§‹ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cat1Â ![](../Images/2c441c7aba78a31d425a55678b9d4027.png))
  id: totrans-1235
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cat1Â ![](../Images/2c441c7aba78a31d425a55678b9d4027.png))
- en: Copy the cat image and paste it into DrRacket, then give the image a name with
    [define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29),
    just like above.
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: å°†çŒ«çš„å›¾ç‰‡å¤åˆ¶å¹¶ç²˜è´´åˆ° DrRacket ä¸­ï¼Œç„¶åç»™å›¾ç‰‡èµ·ä¸€ä¸ªåå­—ï¼Œä½¿ç”¨ [define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)ï¼Œå°±åƒä¸Šé¢é‚£æ ·ã€‚
- en: ExerciseÂ 45\. Design a â€œvirtual catâ€ world program that continuously moves the
    cat from left to right. Letâ€™s call it cat-prog and letâ€™s assume it consumes the
    starting position of the cat. Furthermore, make the cat move three pixels per
    clock tick. Whenever the cat disappears on the right, it reappears on the left.
    You may wish to read up on the [modulo](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._modulo%29%29)
    function.
  id: totrans-1237
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  45ï¼šè®¾è®¡ä¸€ä¸ªâ€œè™šæ‹ŸçŒ«ä¸–ç•Œâ€ç¨‹åºï¼Œä½¿çŒ«ä»å·¦åˆ°å³è¿ç»­ç§»åŠ¨ã€‚è®©æˆ‘ä»¬ç§°å®ƒä¸º cat-progï¼Œå¹¶å‡è®¾å®ƒæ¶ˆè€—çŒ«çš„èµ·å§‹ä½ç½®ã€‚æ­¤å¤–ï¼Œè®©çŒ«æ¯æ¬¡æ—¶é’Ÿæ»´ç­”ç§»åŠ¨ä¸‰ä¸ªåƒç´ ã€‚æ¯å½“çŒ«åœ¨å³è¾¹æ¶ˆå¤±æ—¶ï¼Œå®ƒä¼šåœ¨å·¦è¾¹é‡æ–°å‡ºç°ã€‚ä½ å¯èƒ½éœ€è¦é˜…è¯»æœ‰å…³
    [modulo](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._modulo%29%29)
    å‡½æ•°çš„èµ„æ–™ã€‚
- en: The two images are different.
  id: totrans-1238
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤å¼ å›¾ç‰‡æ˜¯ä¸åŒçš„ã€‚
- en: 'ExerciseÂ 46\. Improve the cat animation with a slightly different image:'
  id: totrans-1239
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  46ï¼šä½¿ç”¨ç•¥æœ‰ä¸åŒçš„å›¾ç‰‡æ”¹è¿›çŒ«çš„åŠ¨ç”»ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â cat2Â ![](../Images/75a7f056c3dda341d3c3681cee6fd692.png))
  id: totrans-1240
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    cat2Â ![](../Images/75a7f056c3dda341d3c3681cee6fd692.png))
- en: Adjust the rendering function from [exerciseÂ 45](#%28counter._%28exercise._design12%29%29)
    so that it uses one cat image or the other based on whether the x-coordinate is
    odd. Read up on [odd?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._odd~3f%29%29)
    in the HelpDesk, and use a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression to select cat images.
  id: totrans-1241
  prefs: []
  type: TYPE_NORMAL
  zh: è°ƒæ•´[ç»ƒä¹ 45](#%28counter._%28exercise._design12%29%29)ä¸­çš„æ¸²æŸ“å‡½æ•°ï¼Œä½¿å…¶æ ¹æ®xåæ ‡æ˜¯å¦ä¸ºå¥‡æ•°æ¥ä½¿ç”¨ä¸€ä¸ªçŒ«çš„å›¾åƒæˆ–å¦ä¸€ä¸ªã€‚åœ¨HelpDeskä¸Šé˜…è¯»[odd?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._odd~3f%29%29)ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼æ¥é€‰æ‹©çŒ«çš„å›¾åƒã€‚
- en: ExerciseÂ 47\. Design a world program that maintains and displays a â€œhappiness
    gauge.â€ Letâ€™s call it gauge-prog, and letâ€™s agree that happiness is a number between
    0 and 100 (inclusive).
  id: totrans-1242
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 47ï¼šè®¾è®¡ä¸€ä¸ªç»´æŠ¤å¹¶æ˜¾ç¤ºâ€œå¹¸ç¦åº¦è®¡â€çš„ä¸–ç•Œç¨‹åºã€‚è®©æˆ‘ä»¬ç§°å®ƒä¸ºgauge-progï¼Œå¹¶åŒæ„å¹¸ç¦æ˜¯ä¸€ä¸ªä»‹äº0åˆ°100ï¼ˆåŒ…å«ï¼‰ä¹‹é—´çš„æ•°å­—ã€‚
- en: The gauge-prog program consumes the current level of happiness. With each clock
    tick, the happiness level decreases by 0.1; it never falls below 0 though. Every
    time the down arrow key is pressed, happiness decreases by 1/5; every time the
    up arrow is pressed, happiness jumps by 1/3.
  id: totrans-1243
  prefs: []
  type: TYPE_NORMAL
  zh: gauge-progç¨‹åºæ¶ˆè€—å½“å‰çš„å¹¸ç¦åº¦ã€‚æ¯æ¬¡æ—¶é’Ÿæ»´ç­”ï¼Œå¹¸ç¦åº¦ä¼šä¸‹é™0.1ï¼›ä½†å®ƒæ°¸è¿œä¸ä¼šä½äº0ã€‚æ¯æ¬¡æŒ‰ä¸‹å‘ä¸‹ç®­å¤´é”®ï¼Œå¹¸ç¦åº¦ä¼šä¸‹é™1/5ï¼›æ¯æ¬¡æŒ‰ä¸‹å‘ä¸Šç®­å¤´é”®ï¼Œå¹¸ç¦åº¦ä¼šä¸Šå‡1/3ã€‚
- en: To show the level of happiness, we use a scene with a solid, red rectangle with
    a black frame. For a happiness level of 0, the red bar should be gone; for the
    maximum happiness level of H, the bar should go all the way across the scene.
  id: totrans-1244
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ˜¾ç¤ºå¹¸ç¦åº¦ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç”±å®å¿ƒçº¢è‰²çŸ©å½¢å’Œé»‘è‰²è¾¹æ¡†ç»„æˆçš„åœºæ™¯ã€‚å¯¹äºå¹¸ç¦åº¦ä¸º0çš„æƒ…å†µï¼Œçº¢è‰²æ¡åº”è¯¥æ¶ˆå¤±ï¼›å¯¹äºæœ€å¤§å¹¸ç¦åº¦Hï¼Œæ¡åº”è¯¥æ¨ªè·¨æ•´ä¸ªåœºæ™¯ã€‚
- en: Note When you know enough, we will explain how to combine the gauge program
    with the solution of [exerciseÂ 45](#%28counter._%28exercise._design12%29%29).
    Then we will be able to help the cat because as long as you ignore it, it becomes
    less happy. If you pet the cat, it becomes happier. If you feed the cat, it becomes
    much, much happier. So you can see why you want to know a lot more about designing
    world programs than these first three chapters can tell you.
  id: totrans-1245
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šå½“ä½ äº†è§£è¶³å¤Ÿå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†è§£é‡Šå¦‚ä½•å°†è§„èŒƒç¨‹åºä¸[ç»ƒä¹ 45](#%28counter._%28exercise._design12%29%29)çš„è§£å†³æ–¹æ¡ˆç›¸ç»“åˆã€‚ç„¶åæˆ‘ä»¬å°±èƒ½å¸®åŠ©çŒ«å’ªäº†ï¼Œå› ä¸ºåªè¦ä½ å¿½ç•¥å®ƒï¼Œå®ƒå°±ä¼šå˜å¾—ä¸é‚£ä¹ˆå¿«ä¹ã€‚å¦‚æœä½ æŠšæ‘¸çŒ«å’ªï¼Œå®ƒå°±ä¼šå˜å¾—å¿«ä¹ã€‚å¦‚æœä½ å–‚é£ŸçŒ«å’ªï¼Œå®ƒå°±ä¼šå˜å¾—éå¸¸å¿«ä¹ã€‚æ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°ä¸ºä»€ä¹ˆä½ éœ€è¦æ¯”è¿™äº›å‰ä¸‰ç« æ‰€èƒ½å‘Šè¯‰ä½ çš„æ›´å¤šå…³äºè®¾è®¡ä¸–ç•Œç¨‹åºçš„çŸ¥è¯†ã€‚
- en: 4Intervals, Enumerations, and Itemizations[ğŸ”—](#(part._ch~3aintervals-enums)
    "Link to here")
  id: totrans-1246
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4åŒºé—´ã€æšä¸¾å’Œé¡¹ç›®åŒ–[ğŸ”—](#(part._ch~3aintervals-enums) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'At the moment, you have four choices to represent information as data: numbers,
    strings, images, and Boolean values. For many problems this is enough, but there
    are many more for which these four collections of data in BSL (or other programming
    languages) donâ€™t suffice. Actual designers need additional ways of representing
    information as data.'
  id: totrans-1247
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰ï¼Œä½ æœ‰å››ç§é€‰æ‹©æ¥è¡¨ç¤ºä¿¡æ¯ä½œä¸ºæ•°æ®ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€å›¾åƒå’Œå¸ƒå°”å€¼ã€‚å¯¹äºè®¸å¤šé—®é¢˜è¿™å·²ç»è¶³å¤Ÿäº†ï¼Œä½†è¿˜æœ‰æ›´å¤šçš„é—®é¢˜éœ€è¦è¿™äº›åœ¨BSLï¼ˆæˆ–å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼‰ä¸­çš„å››ç§æ•°æ®é›†åˆæ¥æ»¡è¶³ã€‚å®é™…çš„è®¾è®¡å¸ˆéœ€è¦é¢å¤–çš„è¡¨ç¤ºä¿¡æ¯ä½œä¸ºæ•°æ®çš„æ–¹æ³•ã€‚
- en: At a minimum, good programmers must learn to design programs with restrictions
    on these built-in collections. One way to restrict is to enumerate a bunch of
    elements from a collection and to say that these are the only ones that are going
    to be used for some problem. Enumerating elements works only when there is a finite
    number of them. To accommodate collections with â€œinfinitelyâ€ many elements, we
    introduce intervals, which are collections of elements that satisfy a specific
    property.
  id: totrans-1248
  prefs: []
  type: TYPE_NORMAL
  zh: è‡³å°‘ï¼Œå¥½çš„ç¨‹åºå‘˜å¿…é¡»å­¦ä¼šè®¾è®¡å…·æœ‰è¿™äº›å†…ç½®é›†åˆé™åˆ¶çš„ç¨‹åºã€‚ä¸€ç§é™åˆ¶çš„æ–¹æ³•æ˜¯ä»ä¸€ä¸ªé›†åˆä¸­æšä¸¾ä¸€äº›å…ƒç´ ï¼Œå¹¶è¯´è¿™äº›æ˜¯å”¯ä¸€å°†è¦ç”¨äºæŸä¸ªé—®é¢˜çš„å…ƒç´ ã€‚æšä¸¾å…ƒç´ ä»…åœ¨å…ƒç´ æ•°é‡æœ‰é™æ—¶æœ‰æ•ˆã€‚ä¸ºäº†é€‚åº”å…·æœ‰â€œæ— é™â€å¤šä¸ªå…ƒç´ çš„é›†åˆï¼Œæˆ‘ä»¬å¼•å…¥äº†åŒºé—´ï¼Œè¿™äº›åŒºé—´æ˜¯æ»¡è¶³ç‰¹å®šå±æ€§çš„å…ƒç´ é›†åˆã€‚
- en: Infinite may just mean â€œso large that enumerating the elements is entirely impractical.â€
  id: totrans-1249
  prefs: []
  type: TYPE_NORMAL
  zh: æ— ç©·å¤§å¯èƒ½åªæ˜¯æ„å‘³ç€â€œå¦‚æ­¤ä¹‹å¤§ï¼Œä»¥è‡³äºæšä¸¾å…ƒç´ æ˜¯å®Œå…¨ä¸åˆ‡å®é™…çš„ã€‚â€
- en: Defining enumerations and intervals means distinguishing among different kinds
    of elements. To distinguish in code requires conditional functions, that is, functions
    that choose different ways of computing results depending on the value of some
    argument. Both [Many Ways to Compute](part_prologue.html#%28part._pro-cond%29)
    and [Mixing It Up with Booleans](#%28part._sec~3aboolean-if%29) illustrate with
    examples of how to write such functions. Neither section uses design, however.
    Both just present some new construct in your favorite programming language (thatâ€™s
    BSL), and offer some examples on how to use it.
  id: totrans-1250
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰æšä¸¾å’ŒåŒºé—´æ„å‘³ç€åŒºåˆ†ä¸åŒç§ç±»çš„å…ƒç´ ã€‚åœ¨ä»£ç ä¸­åŒºåˆ†éœ€è¦æ¡ä»¶å‡½æ•°ï¼Œå³æ ¹æ®æŸäº›å‚æ•°çš„å€¼é€‰æ‹©ä¸åŒè®¡ç®—ç»“æœæ–¹å¼çš„å‡½æ•°ã€‚[å¤šç§è®¡ç®—æ–¹æ³•](part_prologue.html#%28part._pro-cond%29)å’Œ[ä¸å¸ƒå°”å€¼çš„æ··åˆ](#%28part._sec~3aboolean-if%29)é€šè¿‡ç¤ºä¾‹è¯´æ˜äº†å¦‚ä½•ç¼–å†™è¿™æ ·çš„å‡½æ•°ã€‚ç„¶è€Œï¼Œè¿™ä¸¤ä¸ªéƒ¨åˆ†éƒ½æ²¡æœ‰ä½¿ç”¨è®¾è®¡ã€‚å®ƒä»¬åªæ˜¯åœ¨ä½ æœ€å–œæ¬¢çš„ç¼–ç¨‹è¯­è¨€ï¼ˆå³BSLï¼‰ä¸­ä»‹ç»äº†ä¸€äº›æ–°çš„ç»“æ„ï¼Œå¹¶æä¾›äº†ä¸€äº›å¦‚ä½•ä½¿ç”¨å®ƒçš„ç¤ºä¾‹ã€‚
- en: 'In this chapter, we discuss a general design for enumerations and intervals,
    new forms of data descriptions. We start with a second look at the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression. Then we go through three different kinds of data descriptions: enumerations,
    intervals, and itemizations. An enumeration lists every single piece of data that
    belongs to it, while an interval specifies a range of data. The last one, itemizations,
    mixes the first two, specifying ranges in one clause of its definition and specific
    pieces of data in another. The chapter ends with the general design strategy for
    such situations.'
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†æšä¸¾å’ŒåŒºé—´çš„é€šç”¨è®¾è®¡ï¼Œè¿™æ˜¯æ–°çš„æ•°æ®æè¿°å½¢å¼ã€‚æˆ‘ä»¬é¦–å…ˆå†æ¬¡å®¡è§†[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ã€‚ç„¶åæˆ‘ä»¬ä»‹ç»ä¸‰ç§ä¸åŒçš„æ•°æ®æè¿°ï¼šæšä¸¾ã€åŒºé—´å’Œåˆ—ä¸¾ã€‚æšä¸¾åˆ—å‡ºå±äºå®ƒçš„æ‰€æœ‰å•ä¸ªæ•°æ®é¡¹ï¼Œè€ŒåŒºé—´æŒ‡å®šæ•°æ®èŒƒå›´ã€‚æœ€åä¸€ç§ï¼Œåˆ—ä¸¾ï¼Œå°†å‰ä¸¤ç§æ··åˆåœ¨ä¸€èµ·ï¼Œåœ¨å…¶å®šä¹‰çš„ä¸€ä¸ªå­å¥ä¸­æŒ‡å®šèŒƒå›´ï¼Œåœ¨å¦ä¸€ä¸ªå­å¥ä¸­æŒ‡å®šå…·ä½“çš„æ•°æ®é¡¹ã€‚æœ¬ç« ä»¥è¿™ç§æƒ…å†µçš„é€šç”¨è®¾è®¡ç­–ç•¥ç»“æŸã€‚
- en: 4.1Programming with Conditionals[ğŸ”—](#(part._sec~3acond) "Link to here")
  id: totrans-1252
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.1 ä½¿ç”¨æ¡ä»¶[ğŸ”—](#(part._sec~3acond) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Recall the brief introduction to conditional expressions in [Prologue: How
    to Program](part_prologue.html). Since [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    is the most complicated expression form in this book, letâ€™s take a close look
    at its general shape:'
  id: totrans-1253
  prefs: []
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹åœ¨[åºè¨€ï¼šå¦‚ä½•ç¼–ç¨‹](part_prologue.html)ä¸­å¯¹æ¡ä»¶è¡¨è¾¾å¼çš„ç®€è¦ä»‹ç»ã€‚ç”±äº[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)æ˜¯æœ¬ä¹¦ä¸­æœ€å¤æ‚çš„è¡¨è¾¾å¼å½¢å¼ï¼Œè®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹å®ƒçš„æ€»ä½“å½¢çŠ¶ï¼š
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1254
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [ConditionExpression1Â ResultExpression1] |'
  id: totrans-1255
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [æ¡ä»¶è¡¨è¾¾å¼1 ç»“æœè¡¨è¾¾å¼1] |'
- en: '| Â Â [ConditionExpression2Â ResultExpression2] |'
  id: totrans-1256
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [æ¡ä»¶è¡¨è¾¾å¼2 ç»“æœè¡¨è¾¾å¼2] |'
- en: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â Brackets
    make [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines stand out. It is fine to use ( ... ) in place of [ ... ]. |'
  id: totrans-1257
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â æ‹¬å·ä½¿[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡Œçªå‡ºã€‚ä½¿ç”¨(
    ...)ä»£æ›¿[ ... ]æ˜¯å¯ä»¥çš„ã€‚'
- en: '| Â Â [ConditionExpressionNÂ ResultExpressionN]) |'
  id: totrans-1258
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [æ¡ä»¶è¡¨è¾¾å¼N ç»“æœè¡¨è¾¾å¼N]) |'
- en: 'A [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression starts with (cond, its keyword, and ends in ). Following the keyword,
    a programmer writes as many [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines as needed; each [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line consists of two expressions, enclosed in opening and closing brackets: [
    and ].'
  id: totrans-1259
  prefs: []
  type: TYPE_NORMAL
  zh: '[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ä»¥(cond,å…¶å…³é”®å­—ï¼Œä»¥)ç»“æŸã€‚åœ¨å…³é”®å­—ä¹‹åï¼Œç¨‹åºå‘˜å¯ä»¥ç¼–å†™æ‰€éœ€æ•°é‡çš„[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡Œï¼›æ¯è¡Œ[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)ç”±ä¸¤ä¸ªè¡¨è¾¾å¼ç»„æˆï¼Œç”¨å¼€æ‹¬å·[å’Œé—­æ‹¬å·]æ‹¬èµ·æ¥ã€‚'
- en: A [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line is also known as a cond clause.
  id: totrans-1260
  prefs: []
  type: TYPE_NORMAL
  zh: '[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡Œä¹Ÿè¢«ç§°ä¸º cond å­å¥ã€‚'
- en: 'Here is a function definition that uses a conditional expression:'
  id: totrans-1261
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸€ä¸ªä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼çš„å‡½æ•°å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (nextÂ traffic-light-state)
    |'
  id: totrans-1262
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (nextÂ traffic-light-state)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1263
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "red"Â traffic-light-state)Â "green"]
    |'
  id: totrans-1264
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "red"Â traffic-light-state)Â "green"]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "green"Â traffic-light-state)Â "yellow"]
    |'
  id: totrans-1265
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "green"Â traffic-light-state)Â "yellow"]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "yellow"Â traffic-light-state)Â "red"]))
    |'
  id: totrans-1266
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "yellow"Â traffic-light-state)Â "red"]))
    |'
- en: 'Like the mathematical example in [Prologue: How to Program](part_prologue.html),
    this example illustrates the convenience of using [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expressions. In many problem contexts, a function must distinguish several different
    situations. With a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression, you can use one line per possibility and thus remind the reader of
    the code for the different situations from the problem statement.'
  id: totrans-1267
  prefs: []
  type: TYPE_NORMAL
  zh: 'å°±åƒ [Prologue: How to Program](part_prologue.html) ä¸­çš„æ•°å­¦ç¤ºä¾‹ä¸€æ ·ï¼Œè¿™ä¸ªä¾‹å­è¯´æ˜äº†ä½¿ç”¨ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼çš„ä¾¿åˆ©æ€§ã€‚åœ¨è®¸å¤šé—®é¢˜ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªå‡½æ•°å¿…é¡»åŒºåˆ†å‡ ç§ä¸åŒçš„æƒ…å†µã€‚ä½¿ç”¨ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼ï¼Œä½ å¯ä»¥ä¸ºæ¯ç§å¯èƒ½æ€§ä½¿ç”¨ä¸€è¡Œï¼Œä»è€Œæé†’è¯»è€…ä»£ç ä¸­çš„ä¸åŒæƒ…å†µã€‚'
- en: 'A note on pragmatics: Contrast [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expressions with [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    expressions from [Mixing It Up with Booleans](#%28part._sec~3aboolean-if%29).
    The latter distinguish one situation from all others. As such, [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    expressions are much less suited for multi-situation contexts; they are best used
    when all we wish to say is â€œone or the other.â€ We therefore always use [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    for situations when we wish to remind the reader of our code that some distinct
    situations come directly from data definitions. For other pieces of code, we use
    whatever construct is most convenient.'
  id: totrans-1268
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºè¯­ç”¨å­¦çš„è¯´æ˜ï¼šå°† [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼ä¸ [Mixing It Up with Booleans](#%28part._sec~3aboolean-if%29) ä¸­çš„ [if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    è¡¨è¾¾å¼è¿›è¡Œæ¯”è¾ƒã€‚åè€…åŒºåˆ†ä¸€ç§æƒ…å†µä¸å…¶ä»–æ‰€æœ‰æƒ…å†µã€‚å› æ­¤ï¼Œ[if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)
    è¡¨è¾¾å¼åœ¨å¤šæƒ…å†µç¯å¢ƒä¸­ä¸å¤ªé€‚ç”¨ï¼›å®ƒä»¬æœ€å¥½ç”¨äºæˆ‘ä»¬åªæƒ³è¡¨è¾¾â€œä¸€ä¸ªæˆ–å¦ä¸€ä¸ªâ€çš„æƒ…å†µã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬å¸Œæœ›æé†’è¯»è€…æˆ‘ä»¬çš„ä»£ç ä¸­æŸäº›ä¸åŒçš„æƒ…å†µç›´æ¥æ¥è‡ªæ•°æ®å®šä¹‰æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯ä½¿ç”¨
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼ã€‚å¯¹äºå…¶ä»–ä»£ç éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€æ–¹ä¾¿çš„ç»“æ„ã€‚
- en: 'When the conditions get too complex in a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression, you occasionally wish to say something like "in all other cases."
    For these kinds of problems, [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expressions permit the use of the [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    keyword for the very last [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line:'
  id: totrans-1269
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æ¡ä»¶åœ¨[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ä¸­å˜å¾—è¿‡äºå¤æ‚æ—¶ï¼Œä½ æœ‰æ—¶ä¼šæƒ³è¡¨è¾¾â€œåœ¨å…¶ä»–æ‰€æœ‰æƒ…å†µä¸‹â€ã€‚å¯¹äºè¿™ç±»é—®é¢˜ï¼Œ[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼å…è®¸åœ¨æœ€åä¸€ä¸ª[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡Œä½¿ç”¨[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)å…³é”®å­—ï¼š
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1270
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [ConditionExpression1Â ResultExpression1] |'
  id: totrans-1271
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [æ¡ä»¶è¡¨è¾¾å¼1Â ç»“æœè¡¨è¾¾å¼1] |'
- en: '| Â Â [ConditionExpression2Â ResultExpression2] |'
  id: totrans-1272
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [æ¡ä»¶è¡¨è¾¾å¼2Â ç»“æœè¡¨è¾¾å¼2] |'
- en: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-1273
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â DefaultResultExpression])
    |'
  id: totrans-1274
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â é»˜è®¤ç»“æœè¡¨è¾¾å¼])
    |'
- en: 'If you make the mistake of using [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    in some other [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line, BSL in DrRacket signals an error:'
  id: totrans-1275
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ é”™è¯¯åœ°åœ¨æŸä¸ªå…¶ä»–[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡Œä½¿ç”¨äº†[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)ï¼ŒDrRacketä¸­çš„BSLä¼šå‘å‡ºé”™è¯¯ä¿¡å·ï¼š
- en: '|'
  id: totrans-1276
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1277
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
  id: totrans-1278
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; > ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â xÂ 0)Â 10]
    &#124;'
  id: totrans-1279
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â ([å¤§äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â xÂ 0)Â 10]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â 20]
    &#124;'
  id: totrans-1280
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â 20]
    &#124;'
- en: '&#124; Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â xÂ 10)Â 30])
    &#124;'
  id: totrans-1281
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â ([å°äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â xÂ 10)Â 30])
    &#124;'
- en: ''
  id: totrans-1282
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1283
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '| cond:found an else clause that isn''t the last clause in its cond expression
    |'
  id: totrans-1284
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ¡ä»¶ï¼šåœ¨å…¶æ¡ä»¶è¡¨è¾¾å¼ä¸­æ‰¾åˆ°äº†ä¸æ˜¯æœ€åä¸€è¡Œçš„elseå­å¥ |'
- en: 'That is, BSL rejects grammatically incorrect phrases because it makes no sense
    to figure out what such a phrase might mean.Imagine designing a function that,
    as part of a game-playing program, computes some award at the end of the game.
    Here is its header:'
  id: totrans-1285
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£å°±æ˜¯BSLæ‹’ç»è¯­æ³•é”™è¯¯çš„çŸ­è¯­ï¼Œå› ä¸ºè¿™äº›çŸ­è¯­æ²¡æœ‰æ„ä¹‰ï¼Œæ— æ³•ç¡®å®šå…¶å¯èƒ½çš„æ„ä¹‰ã€‚æƒ³è±¡ä¸€ä¸‹è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œä½œä¸ºæ¸¸æˆç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œåœ¨æ¸¸æˆç»“æŸæ—¶è®¡ç®—ä¸€äº›å¥–åŠ±ã€‚ä»¥ä¸‹æ˜¯å®ƒçš„å¤´æ–‡ä»¶ï¼š
- en: '| ;Â A PositiveNumber is a [Number](#%28tech._number%29) greater than/equal
    to 0. |'
  id: totrans-1286
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ­£æ•°æ˜¯ä¸€ä¸ªå¤§äºç­‰äº0çš„[æ•°å­—](#%28tech._number%29)ã€‚ |'
- en: '| Â  |'
  id: totrans-1287
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [PositiveNumber](#%28tech._positivenumber%29) -> [String](#%28tech._string%29)
    |'
  id: totrans-1288
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ­£æ•°](#%28tech._positivenumber%29) -> [å­—ç¬¦ä¸²](#%28tech._string%29) |'
- en: '| ;Â computes the reward level from the given score s |'
  id: totrans-1289
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»ç»™å®šçš„åˆ†æ•°sè®¡ç®—å¥–åŠ±ç­‰çº§ |'
- en: 'And here are two variants for a side-by-side comparison:'
  id: totrans-1290
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸¤ç§å¹¶åˆ—æ¯”è¾ƒçš„å˜ä½“ï¼š
- en: '|'
  id: totrans-1291
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1292
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (rewardÂ s)
    &#124;'
  id: totrans-1293
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (rewardÂ s)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
  id: totrans-1294
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â sÂ 10)
    &#124;'
  id: totrans-1295
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â sÂ 10)
    &#124;'
- en: '&#124; Â Â Â Â Â "bronze"] &#124;'
  id: totrans-1296
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "bronze"] &#124;'
- en: '&#124; Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â s)
    &#124;'
  id: totrans-1297
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â s)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â sÂ 20))
    &#124;'
  id: totrans-1298
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â sÂ 20))
    &#124;'
- en: '&#124; Â Â Â Â Â "silver"] &#124;'
  id: totrans-1299
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "silver"] &#124;'
- en: '&#124; Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 20Â s)
    &#124;'
  id: totrans-1300
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 20Â s)'
- en: '&#124; Â Â Â Â Â "gold"])) &#124;'
  id: totrans-1301
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "gold"])) &#124;'
- en: ''
  id: totrans-1302
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-1303
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-1304
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (rewardÂ s)
    &#124;'
  id: totrans-1305
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (rewardÂ s)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
  id: totrans-1306
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â sÂ 10)
    &#124;'
  id: totrans-1307
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â sÂ 10)
    &#124;'
- en: '&#124; Â Â Â Â Â "bronze"] &#124;'
  id: totrans-1308
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "bronze"] &#124;'
- en: '&#124; Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â s)
    &#124;'
  id: totrans-1309
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)
    10Â s) &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â sÂ 20))
    &#124;'
  id: totrans-1310
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â sÂ 20))
    &#124;'
- en: '&#124; Â Â Â Â Â "silver"] &#124;'
  id: totrans-1311
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "silver"] &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    &#124;'
  id: totrans-1312
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â "gold"])) &#124;'
  id: totrans-1313
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "gold"])) &#124;'
- en: ''
  id: totrans-1314
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1315
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: The variant on the left uses a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    with three full-fledged conditions; on the right, the function comes with an [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    clause. To formulate the last condition for the function on the left, you must
    calculate that ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)  20  s)
    holds because
  id: totrans-1316
  prefs: []
  type: TYPE_NORMAL
  zh: å·¦ä¾§çš„å˜ä½“ä½¿ç”¨äº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå®Œæ•´æ¡ä»¶çš„ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼ï¼›åœ¨å³ä¾§ï¼Œå‡½æ•°åŒ…å«äº†ä¸€ä¸ª [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    å­å¥ã€‚ä¸ºäº†ä¸ºå·¦ä¾§çš„å‡½æ•°åˆ¶å®šæœ€åä¸€ä¸ªæ¡ä»¶ï¼Œä½ å¿…é¡»è®¡ç®—å‡º ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)  20  s)
    æˆç«‹ï¼Œå› ä¸º
- en: s is in [PositiveNumber](#%28tech._positivenumber%29)
  id: totrans-1317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: s åœ¨ [PositiveNumber](#%28tech._positivenumber%29)
- en: '([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)  0  s  10)
    is #false'
  id: totrans-1318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)  0  s  10)
    æ˜¯ #false'
- en: '([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)  ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)  10  s)  ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)  s  20))
    evaluates to #false as well.'
  id: totrans-1319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)  ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)  10  s)  ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)  s  20))
    ä¹Ÿä¼šè¯„ä¼°ä¸º#falseã€‚
- en: While the calculation looks simple in this case, it is easy to make small mistakes
    and to introduce bugs into your program. It is therefore better to formulate the
    function definition as shown on the right, if you know that you want the exact
    oppositeâ€”<wbr>called the complementâ€”<wbr>of all previous conditions in a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29).
  id: totrans-1320
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶åœ¨è¿™ç§æƒ…å†µä¸‹è®¡ç®—çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†å¾ˆå®¹æ˜“çŠ¯å°é”™è¯¯å¹¶å°†é”™è¯¯å¼•å…¥åˆ°ä½ çš„ç¨‹åºä¸­ã€‚å› æ­¤ï¼Œå¦‚æœä½ çŸ¥é“ä½ æƒ³è¦çš„æ˜¯æ‰€æœ‰å…ˆå‰æ¡ä»¶â€”â€”ç§°ä¸ºè¡¥ç â€”â€”çš„å®Œå…¨ç›¸åçš„ç»“æœï¼Œé‚£ä¹ˆæœ€å¥½å°†å‡½æ•°å®šä¹‰åˆ¶å®šå¦‚ä¸‹æ‰€ç¤ºã€‚[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)ã€‚
- en: 4.2Computing Conditionally[ğŸ”—](#(part._sec~3aworks) "Link to here")
  id: totrans-1321
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.2 æ¡ä»¶è®¡ç®—[ğŸ”—](#(part._sec~3aworks) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'From reading the [Many Ways to Compute](part_prologue.html#%28part._pro-cond%29)
    and [Mixing It Up with Booleans](#%28part._sec~3aboolean-if%29), you roughly know
    how DrRacket evaluates conditional expressions. Letâ€™s go over the idea a bit more
    precisely for [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expressions. Take another look at this definition:'
  id: totrans-1322
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡é˜…è¯»[å¤šç§è®¡ç®—æ–¹å¼](part_prologue.html#%28part._pro-cond%29)å’Œ[ä¸å¸ƒå°”å€¼æ··åˆ](#%28part._sec~3aboolean-if%29)ï¼Œä½ å¤§è‡´äº†è§£äº†DrRacketå¦‚ä½•è¯„ä¼°æ¡ä»¶è¡¨è¾¾å¼ã€‚è®©æˆ‘ä»¬æ›´ç²¾ç¡®åœ°äº†è§£ä¸€ä¸‹[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼çš„æ¦‚å¿µã€‚å†æ¬¡æŸ¥çœ‹ä»¥ä¸‹å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (rewardÂ s)
    |'
  id: totrans-1323
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (rewardÂ s)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1324
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â sÂ 10)Â "bronze"]
    |'
  id: totrans-1325
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â sÂ 10)Â "bronze"]
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â s)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â sÂ 20))Â "silver"]
    |'
  id: totrans-1326
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â s)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â sÂ 20))Â "silver"]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"]))
    |'
  id: totrans-1327
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"]))
    |'
- en: This function consumes a numeric scoreâ€”<wbr>a positive numberâ€”<wbr>and produces
    a color.
  id: totrans-1328
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å‡½æ•°æ¶ˆè€—ä¸€ä¸ªæ•°å€¼åˆ†æ•°â€”â€”ä¸€ä¸ªæ­£æ•°â€”â€”å¹¶ç”Ÿæˆä¸€ä¸ªé¢œè‰²ã€‚
- en: Just looking at the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression, you cannot predict which of the three [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses is going to be used. And that is the point of a function. The function
    deals with many different inputs, for example, 2, 3, 7, 18, 29. For each of these
    inputs, it may have to proceed in a different manner. Differentiating among the
    varying classes of inputs is the purpose of the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression.
  id: totrans-1329
  prefs: []
  type: TYPE_NORMAL
  zh: åªçœ‹[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ï¼Œä½ æ— æ³•é¢„æµ‹ä¸‰ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)å­å¥ä¸­å“ªä¸€ä¸ªå°†è¢«ä½¿ç”¨ã€‚è¿™æ­£æ˜¯å‡½æ•°çš„ä½œç”¨æ‰€åœ¨ã€‚å‡½æ•°å¤„ç†è®¸å¤šä¸åŒçš„è¾“å…¥ï¼Œä¾‹å¦‚ï¼Œ2ï¼Œ3ï¼Œ7ï¼Œ18ï¼Œ29ã€‚å¯¹äºè¿™äº›è¾“å…¥ä¸­çš„æ¯ä¸€ä¸ªï¼Œå®ƒå¯èƒ½éœ€è¦ä»¥ä¸åŒçš„æ–¹å¼å¤„ç†ã€‚åŒºåˆ†ä¸åŒç±»åˆ«çš„è¾“å…¥æ˜¯[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼çš„ç›®çš„ã€‚
- en: Take, for example
  id: totrans-1330
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¾‹å¦‚
- en: (rewardÂ 3)
  id: totrans-1331
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (rewardÂ 3)
- en: You know that DrRacket replaces function applications with the functionâ€™s body
    after substituting the argument for the parameter. Hence,
  id: totrans-1332
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çŸ¥é“DrRacketåœ¨å°†å‚æ•°æ›¿æ¢ä¸ºå‚æ•°å€¼åï¼Œä¼šç”¨å‡½æ•°ä½“æ›¿æ¢å‡½æ•°åº”ç”¨ã€‚å› æ­¤ï¼Œ
- en: '| (rewardÂ 3)Â ;Â say â€œequalsâ€ |'
  id: totrans-1333
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (rewardÂ 3)Â ;Â say â€œequalsâ€ |'
- en: '| == |'
  id: totrans-1334
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1335
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â 3Â 10)Â "bronze"]
    |'
  id: totrans-1336
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â 3Â 10)Â "bronze"]
    |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 3)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 3Â 20))Â "silver"]
    |'
  id: totrans-1337
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 3)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 3Â 20))Â "silver"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1338
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
- en: 'At this point, DrRacket evaluates one condition at a time. For the first one
    to evaluate to #true, it continues with the result expression:'
  id: totrans-1339
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç‚¹ä¸Šï¼ŒDrRacketä¸€æ¬¡è¯„ä¼°ä¸€ä¸ªæ¡ä»¶ã€‚å¯¹äºç¬¬ä¸€ä¸ªè¯„ä¼°ä¸º#trueçš„æ¡ä»¶ï¼Œå®ƒå°†ç»§ç»­ä½¿ç”¨ç»“æœè¡¨è¾¾å¼ï¼š
- en: '| (rewardÂ 3) |'
  id: totrans-1340
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (rewardÂ 3) |'
- en: '| == |'
  id: totrans-1341
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1342
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â 3Â 10)Â "bronze"]
    |'
  id: totrans-1343
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â 3Â 10)Â "bronze"]
    |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 3)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 3Â 20))Â "silver"]
    |'
  id: totrans-1344
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 3)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 3Â 20))Â "silver"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1345
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
- en: '| == |'
  id: totrans-1346
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1347
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [#trueÂ "bronze"] |'
  id: totrans-1348
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [#trueÂ "bronze"] |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 3)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 3Â 20))Â "silver"]
    |'
  id: totrans-1349
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([å°äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 3)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 3Â 20))Â "ç™½é“¶"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1350
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "é»„é‡‘"])
    |'
- en: '| == |'
  id: totrans-1351
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| "bronze" |'
  id: totrans-1352
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "é“œ" |'
- en: 'Here the first condition holds because 3 is between 0 and 10.Here is a second
    example:'
  id: totrans-1353
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªæ¡ä»¶æˆç«‹ï¼Œå› ä¸º3åœ¨0å’Œ10ä¹‹é—´ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç¬¬äºŒä¸ªä¾‹å­ï¼š
- en: '| (rewardÂ 21) |'
  id: totrans-1354
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (å¥–åŠ±Â 21) |'
- en: '| == |'
  id: totrans-1355
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1356
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â 21Â 10)Â "bronze"]
    |'
  id: totrans-1357
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â 21Â 10)Â "é“œ"]
    |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "silver"]
    |'
  id: totrans-1358
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([å°äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "ç™½é“¶"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1359
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "é»„é‡‘"])
    |'
- en: '| == |'
  id: totrans-1360
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1361
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [#falseÂ "bronze"] |'
  id: totrans-1362
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [#falseÂ "é“œ"]) |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "silver"]
    |'
  id: totrans-1363
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([å°äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "ç™½é“¶"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1364
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "é»„é‡‘"])
    |'
- en: '| == |'
  id: totrans-1365
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1366
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "silver"]
    |'
  id: totrans-1367
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([å°äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "ç™½é“¶"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1368
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "é»„é‡‘"])
    |'
- en: 'Note how the first condition evaluated to #false this time, and as mentioned
    in [Many Ways to Compute](part_prologue.html#%28part._pro-cond%29) the entire
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause is dropped. The rest of the calculation proceeds as expected:'
  id: totrans-1369
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„è¿™æ¬¡ç¬¬ä¸€ä¸ªæ¡ä»¶è¯„ä¼°ä¸º#falseï¼Œå¦‚[å¤šç§è®¡ç®—æ–¹å¼](part_prologue.html#%28part._pro-cond%29)ä¸­æ‰€è¿°ï¼Œæ•´ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)å­å¥è¢«ä¸¢å¼ƒã€‚å…¶ä½™çš„è®¡ç®—æŒ‰é¢„æœŸè¿›è¡Œï¼š
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1370
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "silver"]
    |'
  id: totrans-1371
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â 10Â 21)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "silver"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1372
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
- en: '| == |'
  id: totrans-1373
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1374
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "silver"]
    |'
  id: totrans-1375
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 21Â 20))Â "silver"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1376
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
- en: '| == |'
  id: totrans-1377
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1378
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ #false)Â "silver"]
    |'
  id: totrans-1379
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â #trueÂ #false)Â "silver"]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1380
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
- en: '| == |'
  id: totrans-1381
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1382
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [#falseÂ "silver"] |'
  id: totrans-1383
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [#falseÂ "silver"] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1384
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
- en: '| == |'
  id: totrans-1385
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1386
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
  id: totrans-1387
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â "gold"])
    |'
- en: '| ==Â "gold" |'
  id: totrans-1388
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â "gold" |'
- en: 'Like the first condition, the second one also evaluates to #false and thus
    the calculation proceeds to the third [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line. The [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    tells DrRacket to replace the entire [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression with the answer from this clause.'
  id: totrans-1389
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ç¬¬ä¸€ä¸ªæ¡ä»¶ç±»ä¼¼ï¼Œç¬¬äºŒä¸ªæ¡ä»¶ä¹Ÿè¯„ä¼°ä¸º#falseï¼Œå› æ­¤è®¡ç®—ç»§ç»­åˆ°ç¬¬ä¸‰ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡Œã€‚[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)å‘Šè¯‰DrRacketç”¨è¿™ä¸ªå­å¥çš„ç­”æ¡ˆæ›¿æ¢æ•´ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ã€‚
- en: ExerciseÂ 48\. Enter the definition of reward followed by (reward  18) into the
    definitions area of DrRacket and use the stepper to find out how DrRacket evaluates
    applications of the function.
  id: totrans-1390
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 48ã€‚å°†å¥–åŠ±çš„å®šä¹‰ï¼ˆreward 18ï¼‰è¾“å…¥åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸï¼Œå¹¶ä½¿ç”¨æ­¥è¿›å™¨æ‰¾å‡ºDrRacketå¦‚ä½•è¯„ä¼°å‡½æ•°çš„åº”ç”¨ã€‚
- en: 'ExerciseÂ 49\. A [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression is really just an expression and may therefore show up in the middle
    of another expression:'
  id: totrans-1391
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 49ã€‚ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼å®é™…ä¸Šåªæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå› æ­¤å®ƒå¯èƒ½å‡ºç°åœ¨å¦ä¸€ä¸ªè¡¨è¾¾å¼çš„ä¸­é—´ï¼š
- en: ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 200Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ 200)Â 0]Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â y]))
  id: totrans-1392
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 200Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ 200)Â 0]Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â y]))
- en: Use the stepper to evaluate the expression for y as 100 and 210.
  id: totrans-1393
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ­¥è¿›å™¨è¯„ä¼°yä¸º100å’Œ210çš„è¡¨è¾¾å¼ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ Â 100)
    |'
  id: totrans-1394
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ Â 100)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ Â 60)
    |'
  id: totrans-1395
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ Â 60)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTSCNÂ Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHT))Â ;Â short
    for empty scene |'
  id: totrans-1396
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTSCNÂ Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHT))Â ;Â short
    for empty scene |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ROCKETÂ ![](../Images/b927b276855f672434339692f24d7af2.png))
    |'
  id: totrans-1397
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ROCKETÂ ![](../Images/b927b276855f672434339692f24d7af2.png))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ROCKET-CENTER-TO-TOP
    |'
  id: totrans-1398
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ROCKET-CENTER-TO-TOP
    |'
- en: '| Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ROCKET)Â 2)))
    |'
  id: totrans-1399
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ROCKET)Â 2)))
    |'
- en: '| Â  |'
  id: totrans-1400
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (create-rocket-scene.v5Â h)
    |'
  id: totrans-1401
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (create-rocket-scene.v5Â h)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1402
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â hÂ ROCKET-CENTER-TO-TOP)
    |'
  id: totrans-1403
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â hÂ ROCKET-CENTER-TO-TOP)
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 50Â hÂ MTSCN)]
    |'
  id: totrans-1404
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 50Â hÂ MTSCN)]
    |'
- en: '| Â Â Â Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â hÂ ROCKET-CENTER-TO-TOP)
    |'
  id: totrans-1405
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å¤§äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â hÂ ROCKET-CENTER-TO-TOP)
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 50Â ROCKET-CENTER-TO-TOPÂ MTSCN)]))
    |'
  id: totrans-1406
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 50Â ROCKET-CENTER-TO-TOPÂ MTSCN)]))
    |'
- en: ''
  id: totrans-1407
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 20: Recall from [One Program, Many Definitions](part_prologue.html#%28part._pro-many-def%29)'
  id: totrans-1408
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 20ï¼šä» [ä¸€ä¸ªç¨‹åºï¼Œå¤šä¸ªå®šä¹‰](part_prologue.html#%28part._pro-many-def%29) å›å¿†
- en: 'Nesting [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expressions can eliminate common expressions. Consider the function for launching
    a rocket, repeated in [figureÂ 20](#%28counter._%28figure._fig~3av5-from-prologue%29%29).
    Both branches of the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression have the same shape except as indicated with [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29):'
  id: totrans-1409
  prefs: []
  type: TYPE_NORMAL
  zh: åµŒå¥— [æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼å¯ä»¥æ¶ˆé™¤å¸¸è§è¡¨è¾¾å¼ã€‚è€ƒè™‘åœ¨ [å›¾ 20](#%28counter._%28figure._fig~3av5-from-prologue%29%29)
    ä¸­é‡å¤çš„å‘å°„ç«ç®­çš„å‡½æ•°ï¼Œé™¤äº† [...] (http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    æ‰€ç¤ºä¹‹å¤–ï¼Œ[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼çš„ä¸¤ä¸ªåˆ†æ”¯å½¢çŠ¶ç›¸åŒï¼š
- en: ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ XÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â MTSCN)
  id: totrans-1410
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ XÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â MTSCN)
- en: Reformulate create-rocket-scene.v5 to use a nested expression; the resulting
    function mentions [place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    only once.
  id: totrans-1411
  prefs: []
  type: TYPE_NORMAL
  zh: å°† create-rocket-scene.v5 é‡æ–°è¡¨è¿°ä¸ºä½¿ç”¨åµŒå¥—è¡¨è¾¾å¼ï¼›ç”Ÿæˆçš„å‡½æ•°åªæåŠä¸€æ¬¡ [æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)ã€‚
- en: 4.3Enumerations[ğŸ”—](#(part._sec~3aenums) "Link to here")
  id: totrans-1412
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.3 æšä¸¾[ğŸ”—](#(part._sec~3aenums) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Not all strings represent mouse events. If you looked in HelpDesk when the
    last section introduced the [on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)
    clause for [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29),
    you found out that only six strings are used to notify programs of mouse events:'
  id: totrans-1413
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶éæ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä»£è¡¨é¼ æ ‡äº‹ä»¶ã€‚å¦‚æœä½ åœ¨æœ€åä¸€ä¸ªéƒ¨åˆ†ä»‹ç» [on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)
    å­å¥å’Œ [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    æ—¶æŸ¥çœ‹ HelpDeskï¼Œä½ ä¼šå‘ç°åªæœ‰å…­ä¸ªå­—ç¬¦ä¸²ç”¨äºé€šçŸ¥ç¨‹åºé¼ æ ‡äº‹ä»¶ï¼š
- en: '| ;Â A MouseEvt is one of these [String](#%28tech._string%29)s: |'
  id: totrans-1414
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªé¼ æ ‡äº‹ä»¶æ˜¯ä»¥ä¸‹è¿™äº› [å­—ç¬¦ä¸²](#%28tech._string%29) ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  "button-down" |'
  id: totrans-1415
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "button-down" |'
- en: '| ;Â â€“  "button-up" |'
  id: totrans-1416
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "button-up" |'
- en: '| ;Â â€“  "drag" |'
  id: totrans-1417
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "drag" |'
- en: '| ;Â â€“  "move" |'
  id: totrans-1418
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "move" |'
- en: '| ;Â â€“  "enter" |'
  id: totrans-1419
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "enter" |'
- en: '| ;Â â€“  "leave" |'
  id: totrans-1420
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "leave" |'
- en: 'The interpretation of these strings is quite obvious. One of the first two
    strings shows up when the computer user clicks the mouse button or releases it.
    In contrast, the third and fourth are about moving the mouse and possibly holding
    down the mouse button at the same time. Finally, the last two strings represent
    the events of a mouse moving over the edge of the canvas: either going into the
    canvas from the outside or exiting the canvas.More importantly, the data definition
    for representing mouse events as strings looks quite different from the data definitions
    we have seen so far. It is called an enumeration, and it is a data representation
    in which every possibility is listed. It should not come as a surprise that enumerations
    are common. Here is a simple one:'
  id: totrans-1421
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›å­—ç¬¦ä¸²çš„è§£é‡Šç›¸å½“æ˜æ˜¾ã€‚å‰ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹ä¸€å‡ºç°åœ¨è®¡ç®—æœºç”¨æˆ·ç‚¹å‡»é¼ æ ‡æŒ‰é’®æˆ–é‡Šæ”¾å®ƒæ—¶ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªæ˜¯å…³äºç§»åŠ¨é¼ æ ‡ï¼Œå¯èƒ½åŒæ—¶æŒ‰ä½é¼ æ ‡æŒ‰é’®ã€‚æœ€åï¼Œæœ€åä¸¤ä¸ªå­—ç¬¦ä¸²ä»£è¡¨é¼ æ ‡åœ¨ç”»å¸ƒè¾¹ç¼˜ç§»åŠ¨çš„äº‹ä»¶ï¼šè¦ä¹ˆæ˜¯ä»å¤–éƒ¨è¿›å…¥ç”»å¸ƒï¼Œè¦ä¹ˆæ˜¯é€€å‡ºç”»å¸ƒã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¡¨ç¤ºé¼ æ ‡äº‹ä»¶ä¸ºå­—ç¬¦ä¸²çš„æ•°æ®å®šä¹‰çœ‹èµ·æ¥ä¸æˆ‘ä»¬è¿„ä»Šä¸ºæ­¢çœ‹åˆ°çš„æ•°æ®å®šä¹‰ç›¸å½“ä¸åŒã€‚å®ƒè¢«ç§°ä¸ºæšä¸¾ï¼Œå®ƒæ˜¯ä¸€ç§åˆ—å‡ºæ‰€æœ‰å¯èƒ½æ€§çš„æ•°æ®è¡¨ç¤ºã€‚æšä¸¾å¾ˆå¸¸è§ï¼Œè¿™å¹¶ä¸ä»¤äººæƒŠè®¶ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š
- en: '| ;Â A TrafficLight is one of the following [String](#%28tech._string%29)s:
    |'
  id: totrans-1422
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªTrafficLightå¯ä»¥æ˜¯ä»¥ä¸‹Stringä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  "red" |'
  id: totrans-1423
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "red" |'
- en: '| ;Â â€“  "green" |'
  id: totrans-1424
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "green" |'
- en: '| ;Â â€“  "yellow" |'
  id: totrans-1425
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "yellow" |'
- en: '| ;Â interpretation the three strings represent the three |'
  id: totrans-1426
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè¿™ä¸‰ä¸ªå­—ç¬¦ä¸²ä»£è¡¨ä¸‰ç§ |'
- en: '| ;Â possible states that a traffic light may assume |'
  id: totrans-1427
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¯èƒ½çš„çŠ¶æ€ï¼Œäº¤é€šç¯å¯èƒ½å‘ˆç°çš„çŠ¶æ€ |'
- en: 'It is a simplisticWe call it â€œsimplisticâ€ because it does not include the â€œoffâ€
    state, the â€œblinking redâ€ state, or the â€œblinking yellowâ€ state. representation
    of the states that a traffic light can take on. Unlike others, this data definition
    also uses a slightly different phrase to explain what the term [TrafficLight](#%28tech._trafficlight%29)
    means, but this is an inessential difference.Programming with enumerations is
    mostly straightforward. When a functionâ€™s input is a class of data whose description
    spells out its elements on a case-by-case basis, the function should distinguish
    just those cases and compute the result on a per-case basis. For example, if you
    wanted to define a function that computes the next state of a traffic light, given
    the current state as an element of [TrafficLight](#%28tech._trafficlight%29),
    you would come up with a definition like this one:'
  id: totrans-1428
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„è¡¨ç¤ºï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œç®€åŒ–â€ï¼Œå› ä¸ºå®ƒä¸åŒ…æ‹¬â€œå…³é—­â€çŠ¶æ€ã€â€œé—ªçƒçº¢ç¯â€çŠ¶æ€æˆ–â€œé—ªçƒé»„ç¯â€çŠ¶æ€ã€‚è¿™æ˜¯äº¤é€šç¯å¯èƒ½å‘ˆç°çš„çŠ¶æ€çš„ç®€åŒ–è¡¨ç¤ºã€‚ä¸å…¶ä»–ä¸åŒï¼Œè¿™ä¸ªæ•°æ®å®šä¹‰è¿˜ä½¿ç”¨äº†ä¸€ä¸ªç¨å¾®ä¸åŒçš„çŸ­è¯­æ¥è§£é‡Šæœ¯è¯­[TrafficLight](#%28tech._trafficlight%29)çš„å«ä¹‰ï¼Œä½†è¿™åªæ˜¯ä¸€ä¸ªéæœ¬è´¨çš„å·®å¼‚ã€‚ä½¿ç”¨æšä¸¾è¿›è¡Œç¼–ç¨‹ä¸»è¦æ˜¯ç›´æˆªäº†å½“çš„ã€‚å½“ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥æ˜¯ä¸€ä¸ªæ•°æ®ç±»åˆ«ï¼Œå…¶æè¿°é€ä¸ªåˆ—ä¸¾å…¶å…ƒç´ æ—¶ï¼Œå‡½æ•°åº”è¯¥åªåŒºåˆ†é‚£äº›æƒ…å†µï¼Œå¹¶é€ä¸ªè®¡ç®—ç»“æœã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ ¹æ®[TrafficLight](#%28tech._trafficlight%29)çš„å½“å‰çŠ¶æ€ä½œä¸ºå…ƒç´ æ¥è®¡ç®—äº¤é€šç¯çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œä½ ä¼šå¾—åˆ°å¦‚ä¸‹å®šä¹‰ï¼š
- en: '| ;Â [TrafficLight](#%28tech._trafficlight%29) -> [TrafficLight](#%28tech._trafficlight%29)
    |'
  id: totrans-1429
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [TrafficLight](#%28tech._trafficlight%29) -> [TrafficLight](#%28tech._trafficlight%29)
    |'
- en: '| ;Â yields the next state given current state s |'
  id: totrans-1430
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®šå½“å‰çŠ¶æ€sï¼Œè¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (traffic-light-nextÂ "red")Â "green")
    |'
  id: totrans-1431
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (traffic-light-nextÂ "red")Â "green")
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (traffic-light-nextÂ s)
    |'
  id: totrans-1432
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (traffic-light-nextÂ s)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1433
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "red"Â s)Â "green"]
    |'
  id: totrans-1434
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "red"Â s)Â "green"]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "green"Â s)Â "yellow"]
    |'
  id: totrans-1435
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "green"Â s)Â "yellow"]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "yellow"Â s)Â "red"]))
    |'
  id: totrans-1436
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "yellow"Â s)Â "red"]))
    |'
- en: Because the data definition for [TrafficLight](#%28tech._trafficlight%29) consists
    of three distinct elements, the traffic-light-next function naturally distinguishes
    between three different cases. For each case, the result expression is just another
    string, the one that corresponds to the next case.
  id: totrans-1437
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸º[TrafficLight](#%28tech._trafficlight%29)çš„æ•°æ®å®šä¹‰ç”±ä¸‰ä¸ªä¸åŒçš„å…ƒç´ ç»„æˆï¼Œæ‰€ä»¥traffic-light-nextå‡½æ•°è‡ªç„¶åŒºåˆ†ä¸‰ç§ä¸åŒçš„æƒ…å†µã€‚å¯¹äºæ¯ç§æƒ…å†µï¼Œç»“æœè¡¨è¾¾å¼åªæ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹åº”äºä¸‹ä¸€ä¸ªæƒ…å†µã€‚
- en: ExerciseÂ 50\. If you copy and paste the above function definition into the definitions
    area of DrRacket and click RUN, DrRacket highlights two of the three [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines. This coloring tells you that your test cases do not cover the full [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)itional.
    Add enough tests to make DrRacket happy.
  id: totrans-1438
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 50ã€‚å¦‚æœä½ å°†ä¸Šè¿°å‡½æ•°å®šä¹‰å¤åˆ¶å¹¶ç²˜è´´åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸå¹¶ç‚¹å‡»RUNï¼ŒDrRacketä¼šçªå‡ºæ˜¾ç¤ºä¸‰ä¸ªcondè¡Œä¸­çš„ä¸¤ä¸ªã€‚è¿™ç§ç€è‰²å‘Šè¯‰ä½ ï¼Œä½ çš„æµ‹è¯•ç”¨ä¾‹æ²¡æœ‰æ¶µç›–å®Œæ•´çš„condæ¡ä»¶ã€‚æ·»åŠ è¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹ï¼Œè®©DrRacketæ»¡æ„ã€‚
- en: ExerciseÂ 51\. Design a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    program that simulates a traffic light for a given duration. The program renders
    the state of a traffic light as a solid circle of the appropriate color, and it
    changes state on every clock tick. Hint Read the documentation for [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29);
    there is a reason all these â€œwordsâ€ are linked to their documentation. What is
    the most appropriate initial state? Ask your engineering friends.
  id: totrans-1439
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 51ã€‚è®¾è®¡ä¸€ä¸ª[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)ç¨‹åºï¼Œæ¨¡æ‹Ÿç»™å®šæŒç»­æ—¶é—´çš„äº¤é€šç¯ã€‚è¯¥ç¨‹åºå°†äº¤é€šç¯çš„çŠ¶æ€æ¸²æŸ“ä¸ºç›¸åº”é¢œè‰²çš„å®å¿ƒåœ†åœˆï¼Œå¹¶åœ¨æ¯ä¸ªæ—¶é’Ÿæ»´ç­”æ—¶æ”¹å˜çŠ¶æ€ã€‚æç¤ºï¼šé˜…è¯»[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)çš„æ–‡æ¡£ï¼›æ‰€æœ‰è¿™äº›â€œå•è¯â€éƒ½é“¾æ¥åˆ°å®ƒä»¬çš„æ–‡æ¡£æ˜¯æœ‰åŸå› çš„ã€‚æœ€åˆé€‚çš„åˆå§‹çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿå‘ä½ çš„å·¥ç¨‹æœ‹å‹å’¨è¯¢ã€‚
- en: The main idea of an enumeration is that it defines a collection of data as a
    finite number of pieces of data. Each item explicitly spells out which piece of
    data belongs to the class of data that we are defining. Usually, the piece of
    data is just shown as is; on some occasions, the item of an enumeration is an
    English sentence that describes a finite number of elements of pieces of data
    with a single phrase.
  id: totrans-1440
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ—è¡¨çš„ä¸»è¦æ€æƒ³æ˜¯å°†ä¸€ç»„æ•°æ®å®šä¹‰ä¸ºæœ‰é™æ•°é‡çš„æ•°æ®é¡¹ã€‚æ¯ä¸ªé¡¹ç›®æ˜ç¡®æŒ‡å‡ºå“ªäº›æ•°æ®å±äºæˆ‘ä»¬æ­£åœ¨å®šä¹‰çš„æ•°æ®ç±»åˆ«ã€‚é€šå¸¸ï¼Œæ•°æ®é¡¹ç›´æ¥æ˜¾ç¤ºä¸ºåŸæ ·ï¼›åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œåˆ—è¡¨é¡¹æ˜¯ä¸€ä¸ªè‹±è¯­å¥å­ï¼Œç”¨å•ä¸ªçŸ­è¯­æè¿°æ•°æ®é¡¹çš„æœ‰é™æ•°é‡çš„å…ƒç´ ã€‚
- en: 'Here is an important example:'
  id: totrans-1441
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€ä¸ªé‡è¦çš„ä¾‹å­ï¼š
- en: '| ;Â A 1String is a [String](#%28tech._string%29) of length 1, |'
  id: totrans-1442
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ª1Stringæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º1çš„[String](#%28tech._string%29)ï¼Œ |'
- en: '| ;Â including |'
  id: totrans-1443
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åŒ…æ‹¬ |'
- en: '| ;Â â€“  "\\" (the backslash), |'
  id: totrans-1444
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "\\" (åæ–œæ ), |'
- en: '| ;Â â€“  " " (the space bar), |'
  id: totrans-1445
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  " " (ç©ºæ ¼é”®), |'
- en: '| ;Â â€“  "\t" (tab), |'
  id: totrans-1446
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "\t" (åˆ¶è¡¨ç¬¦), |'
- en: '| ;Â â€“  "\r" (return), and |'
  id: totrans-1447
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "\r" (å›è½¦é”®)ï¼Œå’Œ |'
- en: '| ;Â â€“  "\b" (backspace). |'
  id: totrans-1448
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "\b" (é€€æ ¼é”®). |'
- en: '| ;Â interpretation represents keys on the keyboard |'
  id: totrans-1449
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè¡¨ç¤ºé”®ç›˜ä¸Šçš„é”® |'
- en: You know that such a data definition is proper if you can describe all of its
    elements with a BSL test. In the case of [1String](#%28tech._1string%29), you
    can find out whether some string s belongs to the collection with
  id: totrans-1450
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çŸ¥é“ï¼Œå¦‚æœå¯ä»¥ç”¨BSLæµ‹è¯•æè¿°å…¶æ‰€æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆè¿™æ ·çš„æ•°æ®å®šä¹‰æ˜¯åˆé€‚çš„ã€‚åœ¨[1String](#%28tech._1string%29)çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥æ‰¾å‡ºæŸä¸ªå­—ç¬¦ä¸²sæ˜¯å¦å±äºè¯¥é›†åˆã€‚
- en: ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â s)Â 1)
  id: totrans-1451
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â s)Â 1)
- en: 'An alternative way to check that you have succeeded is to enumerate all the
    members of the collection of data that you wish to describe:'
  id: totrans-1452
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªæ£€æŸ¥ä½ æˆåŠŸçš„æ–¹æ³•çš„æ›¿ä»£æ–¹å¼æ˜¯åˆ—ä¸¾å‡ºä½ æƒ³è¦æè¿°çš„æ•°æ®é›†åˆçš„æ‰€æœ‰æˆå‘˜ï¼š
- en: '| ;Â A 1String is one of: |'
  id: totrans-1453
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ª 1String æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  "q" |'
  id: totrans-1454
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "q" |'
- en: '| ;Â â€“  "w" |'
  id: totrans-1455
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "w" |'
- en: '| ;Â â€“  "e" |'
  id: totrans-1456
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "e" |'
- en: '| ;Â â€“  "r" |'
  id: totrans-1457
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "r" |'
- en: '| ;Â ... |'
  id: totrans-1458
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ... |'
- en: '| ;Â â€“  "\t" |'
  id: totrans-1459
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "\t" |'
- en: '| ;Â â€“  "\r" |'
  id: totrans-1460
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "\r" |'
- en: '| ;Â â€“  "\b" |'
  id: totrans-1461
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "\b" |'
- en: If you look at your keyboard, you find â†, â†‘, and similar labels. Our chosen
    programming language, BSL, uses its own data definition to represent this information.
    Here is an excerpt:You know where to find the full definition.
  id: totrans-1462
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æŸ¥çœ‹ä½ çš„é”®ç›˜ï¼Œä½ ä¼šæ‰¾åˆ° â†, â†‘ å’Œç±»ä¼¼çš„æ ‡ç­¾ã€‚æˆ‘ä»¬é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€ BSL ä½¿ç”¨å®ƒè‡ªå·±çš„æ•°æ®å®šä¹‰æ¥è¡¨ç¤ºè¿™äº›ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ‘˜å½•ï¼šæ‚¨çŸ¥é“å¦‚ä½•æ‰¾åˆ°å®Œæ•´çš„å®šä¹‰ã€‚
- en: '| ;Â A KeyEvent is one of: |'
  id: totrans-1463
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªæŒ‰é”®äº‹ä»¶æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  [1String](#%28tech._1string%29) |'
  id: totrans-1464
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [1String](#%28tech._1string%29) |'
- en: '| ;Â â€“  "left" |'
  id: totrans-1465
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "left" |'
- en: '| ;Â â€“  "right" |'
  id: totrans-1466
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "right" |'
- en: '| ;Â â€“  "up" |'
  id: totrans-1467
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "up" |'
- en: '| ;Â â€“  ... |'
  id: totrans-1468
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ... |'
- en: 'The first item in this enumeration describes the same bunch of strings that
    [1String](#%28tech._1string%29) describes. The clauses that follow enumerate strings
    for special key events, such as pressing one of the four arrow keys or releasing
    a key.At this point, we can actually design a key-event handler systematically.
    Here is a sketch:'
  id: totrans-1469
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ—ä¸¾ä¸­çš„ç¬¬ä¸€ä¸ªæ¡ç›®æè¿°äº†ä¸ [1String](#%28tech._1string%29) æè¿°ç›¸åŒçš„å­—ç¬¦ä¸²é›†åˆã€‚æ¥ä¸‹æ¥çš„å­å¥åˆ—ä¸¾äº†ç‰¹æ®ŠæŒ‰é”®äº‹ä»¶çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚æŒ‰ä¸‹å››ä¸ªç®­å¤´é”®ä¹‹ä¸€æˆ–é‡Šæ”¾ä¸€ä¸ªé”®ã€‚åœ¨è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥ç³»ç»Ÿåœ°è®¾è®¡ä¸€ä¸ªæŒ‰é”®äº‹ä»¶å¤„ç†å™¨ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè‰å›¾ï¼š
- en: '| ;Â [WorldState](#%28tech._worldstate%29)  [KeyEvent](#%28tech._keyevent%29)
    -> ... |'
  id: totrans-1470
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._worldstate%29)  [KeyEvent](#%28tech._keyevent%29)
    -> ... |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (handle-key-eventsÂ wÂ ke)
    |'
  id: totrans-1471
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (handle-key-eventsÂ wÂ ke)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1472
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â ke)Â 1)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1473
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â ke)Â 1)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "left"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1474
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "left"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "right"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1475
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "right"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "up"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1476
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "up"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "down"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1477
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "down"Â ke)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-1478
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: This event-handling function uses a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression, and for each line in the enumeration of the data definition, there
    is one [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line. The condition in the first [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line identifies the [KeyEvent](#%28tech._keyevent%29)s identified in the first
    line of the enumeration, the second [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause corresponds to the second data enumeration line, and so on.
  id: totrans-1479
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ä½¿ç”¨äº†ä¸€ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼ï¼Œå¹¶ä¸”å¯¹äºæ•°æ®å®šä¹‰åˆ—ä¸¾ä¸­çš„æ¯ä¸€è¡Œï¼Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡Œã€‚ç¬¬ä¸€è¡Œçš„æ¡ä»¶è¯†åˆ«äº†åˆ—ä¸¾ç¬¬ä¸€è¡Œä¸­æ ‡è¯†çš„ [æŒ‰é”®äº‹ä»¶](#%28tech._keyevent%29)ï¼Œç¬¬äºŒä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    å­å¥å¯¹åº”äºç¬¬äºŒä¸ªæ•°æ®åˆ—ä¸¾è¡Œï¼Œä¾æ­¤ç±»æ¨ã€‚
- en: '| ;Â A Position is a [Number](#%28tech._number%29). |'
  id: totrans-1480
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä½ç½®æ˜¯ä¸€ä¸ª [æ•°å­—](#%28tech._number%29). |'
- en: '| ;Â interpretation distance between the left margin and the ball |'
  id: totrans-1481
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè·ç¦»ï¼Œä»å·¦è¾¹ç•Œåˆ°çƒçš„ä½ç½® |'
- en: '| Â  |'
  id: totrans-1482
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Position](#%28tech._position%29)  [KeyEvent](#%28tech._keyevent%29) ->
    [Position](#%28tech._position%29) |'
  id: totrans-1483
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä½ç½®](#%28tech._position%29)  [æŒ‰é”®äº‹ä»¶](#%28tech._keyevent%29) -> [ä½ç½®](#%28tech._position%29)
    |'
- en: '| ;Â computes the next location of the ball |'
  id: totrans-1484
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è®¡ç®—çƒçš„ä¸‹ä¸€ç‚¹ä½ç½® |'
- en: '| Â  |'
  id: totrans-1485
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (kehÂ 13Â "left")Â 8)
    |'
  id: totrans-1486
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (kehÂ 13Â "left")Â 8)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (kehÂ 13Â "right")Â 18)
    |'
  id: totrans-1487
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (kehÂ 13Â "right")Â 18)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (kehÂ 13Â "a")Â 13)
    |'
  id: totrans-1488
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (kehÂ 13Â "a")Â 13)
    |'
- en: ''
  id: totrans-1489
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1490
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1491
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (kehÂ pÂ k)
    &#124;'
  id: totrans-1492
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (kehÂ pÂ k)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
  id: totrans-1493
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â k)Â 1)
    &#124;'
  id: totrans-1494
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â ([string-length](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-length%29%29)Â k)Â 1)
    &#124;'
- en: '&#124; Â Â Â Â Â p] &#124;'
  id: totrans-1495
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â p] &#124;'
- en: '&#124; Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "left"Â k)
    &#124;'
  id: totrans-1496
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "left"Â k)
    &#124;'
- en: '&#124; Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â pÂ 5)]
    &#124;'
  id: totrans-1497
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â pÂ 5)]
    &#124;'
- en: '&#124; Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "right"Â k)
    &#124;'
  id: totrans-1498
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "right"Â k)
    &#124;'
- en: '&#124; Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â pÂ 5)]
    &#124;'
  id: totrans-1499
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    p 5]] |'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â p]))
    &#124;'
  id: totrans-1500
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    p]] |'
- en: ''
  id: totrans-1501
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-1502
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| |'
- en: ''
  id: totrans-1503
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (kehÂ pÂ k)
    &#124;'
  id: totrans-1504
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (keh p k)] |'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
  id: totrans-1505
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    ] |'
- en: '&#124; Â  &#124;'
  id: totrans-1506
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '&#124; Â  &#124;'
  id: totrans-1507
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '&#124; Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "left"Â k)
    &#124;'
  id: totrans-1508
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    "left" k]] |'
- en: '&#124; Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â pÂ 5)]
    &#124;'
  id: totrans-1509
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)
    p 5]] |'
- en: '&#124; Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "right"Â k)
    &#124;'
  id: totrans-1510
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    "right" k]] |'
- en: '&#124; Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â pÂ 5)]
    &#124;'
  id: totrans-1511
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    p 5]] |'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â p]))
    &#124;'
  id: totrans-1512
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    p]] |'
- en: ''
  id: totrans-1513
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1514
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1515
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 21: Conditional functions and special enumerations'
  id: totrans-1516
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾21ï¼šæ¡ä»¶å‡½æ•°å’Œç‰¹æ®Šæšä¸¾
- en: When programs rely on data definitions that come with the chosen programming
    language (such as BSL) or its teachpacks (such as the 2htdp/universe teachpack),
    it is common that they use only a part of the enumeration. To illustrate this
    point, let us look at a representative problem.
  id: totrans-1517
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç¨‹åºä¾èµ–äºæ‰€é€‰ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚BSLï¼‰æˆ–å…¶æ•™å­¦åŒ…ï¼ˆå¦‚2htdp/universeæ•™å­¦åŒ…ï¼‰æä¾›çš„æ•°æ®å®šä¹‰æ—¶ï¼Œå®ƒä»¬é€šå¸¸åªä½¿ç”¨æšä¸¾çš„ä¸€éƒ¨åˆ†ã€‚ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªå…¸å‹çš„é—®é¢˜ã€‚
- en: Sample Problem Design a key-event handler that moves a red dot left or right
    on a horizontal line in response to pressing the left and right arrow keys.
  id: totrans-1518
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜è®¾è®¡ä¸€ä¸ªå…³é”®äº‹ä»¶å¤„ç†å™¨ï¼Œå½“æŒ‰ä¸‹å·¦å³ç®­å¤´é”®æ—¶ï¼Œåœ¨æ°´å¹³çº¿ä¸Šç§»åŠ¨ä¸€ä¸ªçº¢è‰²ç‚¹ã€‚
- en: '[FigureÂ 21](#%28counter._%28figure._fig~3acond-enum%29%29) presents two solutions
    to this problem. The function on the left is organized according to the basic
    idea of using one [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause per line in the data definition of the input, [KeyEvent](#%28tech._keyevent%29).
    In contrast, the right-hand side displays a version that uses the three essential
    lines: two for the keys that matter and one for everything else. The reordering
    is appropriate because only two of the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)-lines
    are relevant, and they can be cleanly separated from other lines. Naturally, this
    kind of rearrangement is done after the function is designed properly.'
  id: totrans-1519
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾21](#%28counter._%28figure._fig~3acond-enum%29%29) å±•ç¤ºäº†æ­¤é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚å·¦ä¾§çš„å‡½æ•°æ ¹æ®ä½¿ç”¨æ¯è¡Œä¸€ä¸ª
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    å­å¥çš„åŸºæœ¬æ€æƒ³ç»„ç»‡ï¼Œåœ¨è¾“å…¥çš„æ•°æ®å®šä¹‰ [KeyEvent](#%28tech._keyevent%29) ä¸­ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå³ä¾§æ˜¾ç¤ºäº†ä¸€ä¸ªä½¿ç”¨ä¸‰æ¡åŸºæœ¬çº¿çš„ç‰ˆæœ¬ï¼šä¸¤æ¡ç”¨äºé‡è¦çš„é”®ï¼Œä¸€æ¡ç”¨äºå…¶ä»–æ‰€æœ‰å†…å®¹ã€‚è¿™ç§é‡æ–°æ’åºæ˜¯åˆé€‚çš„ï¼Œå› ä¸ºåªæœ‰ä¸¤æ¡
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡Œæ˜¯ç›¸å…³çš„ï¼Œå¹¶ä¸”å®ƒä»¬å¯ä»¥å¹²å‡€åœ°ä¸å…¶ä»–è¡Œåˆ†ç¦»ã€‚å½“ç„¶ï¼Œè¿™ç§é‡æ–°æ’åºæ˜¯åœ¨å‡½æ•°è®¾è®¡å¾—å½“ä¹‹åè¿›è¡Œçš„ã€‚'
- en: 4.4Intervals[ğŸ”—](#(part._sec~3aintervals) "Link to here")
  id: totrans-1520
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.4 é—´éš”[ğŸ”—](#(part._sec~3aintervals) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Imagine yourself responding to the following sample design task:'
  id: totrans-1521
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³è±¡ä¸€ä¸‹ä½ æ­£åœ¨å“åº”ä»¥ä¸‹ç¤ºä¾‹è®¾è®¡ä»»åŠ¡ï¼š
- en: Sample Problem Design a program that simulates the descent of a UFO.
  id: totrans-1522
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ï¼šè®¾è®¡ä¸€ä¸ªæ¨¡æ‹Ÿä¸æ˜é£è¡Œç‰©ï¼ˆUFOï¼‰ä¸‹é™çš„ç¨‹åºã€‚
- en: After a bit of thinking, you could come up with something like [figureÂ 22](#%28counter._%28figure._fig~3aufo%29%29).
    Stop! Study the definitions and replace the dots before you read on.
  id: totrans-1523
  prefs: []
  type: TYPE_NORMAL
  zh: ç»è¿‡ä¸€ç•ªæ€è€ƒï¼Œä½ å¯ä»¥æƒ³å‡ºç±»ä¼¼[å›¾22](#%28counter._%28figure._fig~3aufo%29%29)çš„ä¸œè¥¿ã€‚åœï¼ç ”ç©¶å®šä¹‰ï¼Œå¹¶åœ¨ç»§ç»­é˜…è¯»ä¹‹å‰æ›¿æ¢æ‰å‰é¢çš„ç‚¹ã€‚
- en: '| ;Â A WorldState is a [Number](#%28tech._number%29). |'
  id: totrans-1524
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â WorldState æ˜¯ä¸€ä¸ª [Number](#%28tech._number%29)ã€‚ |'
- en: '| ;Â interpretation number of pixels between the top and the UFO |'
  id: totrans-1525
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šé¡¶éƒ¨å’Œä¸æ˜é£è¡Œç‰©ï¼ˆUFOï¼‰ä¹‹é—´çš„åƒç´ æ•° |'
- en: '| Â  |'
  id: totrans-1526
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ 300)Â ;Â distances
    in terms of pixels |'
  id: totrans-1527
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ 300)Â ;Â ä»¥åƒç´ ä¸ºå•ä½çš„è·ç¦»
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ 100)
    |'
  id: totrans-1528
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ 100)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CLOSEÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â HEIGHTÂ 3))
    |'
  id: totrans-1529
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CLOSEÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â HEIGHTÂ 3))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTSCNÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHT))Â ;Â short
    for empty scene |'
  id: totrans-1530
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTSCNÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHT))Â ;Â è¡¨ç¤ºç©ºåœºæ™¯
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â UFOÂ ([overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "green")Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-1531
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â UFOÂ ([overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 10Â "solid"Â "green")Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: '| Â  |'
  id: totrans-1532
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
  id: totrans-1533
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ y0)
    |'
  id: totrans-1534
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ y0)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â y0
    |'
  id: totrans-1535
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â y0
    |'
- en: '| Â Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â nxt]
    |'
  id: totrans-1536
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â nxt]
    |'
- en: '| Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render]))
    |'
  id: totrans-1537
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render]))
    |'
- en: '| Â  |'
  id: totrans-1538
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
  id: totrans-1539
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
- en: '| ;Â computes next location of UFO |'
  id: totrans-1540
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| è®¡ç®—ä¸æ˜é£è¡Œç‰©ï¼ˆUFOï¼‰çš„ä¸‹ä¸€ä¸ªä½ç½® |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (nxtÂ 11)Â 14)
    |'
  id: totrans-1541
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (nxtÂ 11)Â 14)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (nxtÂ y)
    |'
  id: totrans-1542
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (nxtÂ y)
    |'
- en: '| Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â yÂ 3))
    |'
  id: totrans-1543
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â yÂ 3))
    |'
- en: '| Â  |'
  id: totrans-1544
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [Image](#%28tech._image%29) |'
  id: totrans-1545
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._worldstate%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â places UFO at given height into the center of MTSCN |'
  id: totrans-1546
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†UFOæ”¾ç½®åœ¨ç»™å®šé«˜åº¦çš„ä¸­å¿ƒä½ç½® |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 11)Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â UFOÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â 11Â MTSCN))
    |'
  id: totrans-1547
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (renderÂ 11)Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â UFOÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â 11Â MTSCN))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ y)
    |'
  id: totrans-1548
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (renderÂ y)
    |'
- en: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â UFOÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â yÂ MTSCN))
    |'
  id: totrans-1549
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â UFOÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â yÂ MTSCN))
    |'
- en: ''
  id: totrans-1550
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 22: UFO, descending'
  id: totrans-1551
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾22ï¼šUFOï¼Œä¸‹é™
- en: 'Before you release this "game" program, however, you may wish to add the display
    of the status line to the canvas:'
  id: totrans-1552
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä½ å‘å¸ƒè¿™ä¸ªâ€œæ¸¸æˆâ€ç¨‹åºä¹‹å‰ï¼Œä½ å¯èƒ½å¸Œæœ›å°†çŠ¶æ€è¡Œçš„æ˜¾ç¤ºæ·»åŠ åˆ°ç”»å¸ƒä¸Šï¼š
- en: Sample Problem Add a status line. It says "descending" when the UFOâ€™s height
    is above one third of the height of the canvas. It switches to "closing in" below
    that. And finally, when the UFO has reached the bottom of the canvas, the status
    notifies the player that the UFO has "landed". You are free to use appropriate
    colors for the status line.
  id: totrans-1553
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ï¼šæ·»åŠ çŠ¶æ€è¡Œã€‚å½“UFOçš„é«˜åº¦è¶…è¿‡ç”»å¸ƒé«˜åº¦çš„1/3æ—¶ï¼ŒçŠ¶æ€æ˜¾ç¤ºä¸ºâ€œä¸‹é™â€ã€‚å½“ä½äºé‚£ä¸ªé«˜åº¦æ—¶ï¼ŒçŠ¶æ€åˆ‡æ¢ä¸ºâ€œæ¥è¿‘â€ã€‚æœ€åï¼Œå½“UFOåˆ°è¾¾ç”»å¸ƒåº•éƒ¨æ—¶ï¼ŒçŠ¶æ€é€šçŸ¥ç©å®¶UFOå·²ç»â€œç€é™†â€ã€‚ä½ å¯ä»¥è‡ªç”±åœ°ä¸ºçŠ¶æ€è¡Œä½¿ç”¨é€‚å½“çš„é¢œè‰²ã€‚
- en: In this case, we donâ€™t have a finite enumeration of distinct elements or distinct
    sub-classes of data. After all, conceptually, the interval between 0 and HEIGHT
    (for some number greater than 0) contains an infinite number of numbers and a
    large number of integers. Therefore we use intervals to superimpose some organization
    on the generic data definition, which just uses â€œnumbersâ€ to describe the class
    of coordinates.
  id: totrans-1554
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æœ‰é™ä¸ªä¸åŒçš„å…ƒç´ æˆ–æ•°æ®å­ç±»çš„æšä¸¾ã€‚æ¯•ç«Ÿï¼Œä»æ¦‚å¿µä¸Šè®²ï¼Œ0åˆ°HEIGHTï¼ˆå¯¹äºå¤§äº0çš„æŸä¸ªæ•°ï¼‰ä¹‹é—´åŒ…å«æ— é™å¤šä¸ªæ•°å­—å’Œå¤§é‡æ•´æ•°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨åŒºé—´æ¥å¯¹é€šç”¨æ•°æ®å®šä¹‰æ–½åŠ ä¸€äº›ç»„ç»‡ï¼Œè¯¥å®šä¹‰ä»…ä½¿ç”¨â€œæ•°å­—â€æ¥æè¿°åæ ‡ç±»åˆ«ã€‚
- en: 'An interval is a description of a class of numbers via boundaries. The simplest
    interval has two boundaries: left and right. If the left boundary is to be included
    in the interval, we say it is closed on the left. Similarly, a right-closed interval
    includes its right boundary. Finally, if an interval does not include a boundary,
    it is said to be open at that boundary.'
  id: totrans-1555
  prefs: []
  type: TYPE_NORMAL
  zh: åŒºé—´æ˜¯é€šè¿‡è¾¹ç•Œæè¿°æ•°å­—ç±»åˆ«çš„æè¿°ã€‚æœ€ç®€å•çš„åŒºé—´æœ‰ä¸¤ä¸ªè¾¹ç•Œï¼šå·¦è¾¹ç•Œå’Œå³è¾¹ç•Œã€‚å¦‚æœå·¦è¾¹ç•ŒåŒ…å«åœ¨åŒºé—´å†…ï¼Œæˆ‘ä»¬è¯´å®ƒåœ¨å·¦è¾¹æ˜¯é—­çš„ã€‚åŒæ ·ï¼Œä¸€ä¸ªå³é—­åŒºé—´åŒ…å«å…¶å³è¾¹ç•Œã€‚æœ€åï¼Œå¦‚æœä¸€ä¸ªåŒºé—´ä¸åŒ…å«è¾¹ç•Œï¼Œæˆ‘ä»¬è¯´å®ƒåœ¨é‚£ä¸ªè¾¹ç•Œä¸Šæ˜¯å¼€çš„ã€‚
- en: 'Pictures of, and notations for, intervals use brackets for closed boundaries
    and parentheses for open boundaries. Here are four such intervals:'
  id: totrans-1556
  prefs: []
  type: TYPE_NORMAL
  zh: åŒºé—´åŠå…¶è¡¨ç¤ºçš„å›¾ç‰‡ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºé—­è¾¹ç•Œï¼Œåœ†æ‹¬å·è¡¨ç¤ºå¼€è¾¹ç•Œã€‚ä»¥ä¸‹æ˜¯å››ä¸ªè¿™æ ·çš„åŒºé—´ï¼š
- en: '[3,5] is a closed interval:'
  id: totrans-1557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[3,5] æ˜¯ä¸€ä¸ªé—­åŒºé—´ï¼š'
- en: '![image](../Images/289807d02ebd760a8f5bfd54de7d240c.png)'
  id: totrans-1558
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../Images/289807d02ebd760a8f5bfd54de7d240c.png)'
- en: '(3,5] is a left-open interval:'
  id: totrans-1559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (3,5] æ˜¯å·¦å¼€åŒºé—´ï¼š
- en: '![image](../Images/874d912a30a09b59a450540441e72100.png)'
  id: totrans-1560
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../Images/874d912a30a09b59a450540441e72100.png)'
- en: '[3,5) is a right-open interval:'
  id: totrans-1561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[3,5) æ˜¯å³å¼€åŒºé—´ï¼š'
- en: '![image](../Images/3530d75bc8c36a348b51473de064700e.png)'
  id: totrans-1562
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../Images/3530d75bc8c36a348b51473de064700e.png)'
- en: 'and (3,5) is an open interval:'
  id: totrans-1563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¹¶ä¸” (3,5) æ˜¯ä¸€ä¸ªå¼€åŒºé—´ï¼š
- en: '![image](../Images/c9927c3c416caf1d192f3780a0aa3392.png)'
  id: totrans-1564
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../Images/c9927c3c416caf1d192f3780a0aa3392.png)'
- en: ExerciseÂ 52\. Which integers are contained in the four intervals above?
  id: totrans-1565
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 52ï¼šä¸Šè¿°å››ä¸ªåŒºé—´ä¸­åŒ…å«å“ªäº›æ•´æ•°ï¼Ÿ
- en: 'The interval concept helps us formulate a data definition that captures the
    revised problem statement better than the â€œnumbersâ€-based definition:'
  id: totrans-1566
  prefs: []
  type: TYPE_NORMAL
  zh: åŒºé—´æ¦‚å¿µå¸®åŠ©æˆ‘ä»¬åˆ¶å®šä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œæ¯”åŸºäºâ€œæ•°å­—â€çš„å®šä¹‰æ›´å¥½åœ°æ•æ‰äº†ä¿®è®¢åçš„é—®é¢˜é™ˆè¿°ï¼š
- en: '| ;Â A WorldState falls into one of three intervals: |'
  id: totrans-1567
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A WorldState falls into one of three intervals: |'
- en: '| ;Â â€“ between 0 and CLOSE |'
  id: totrans-1568
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ between 0 and CLOSE |'
- en: '| ;Â â€“ between CLOSE and HEIGHT |'
  id: totrans-1569
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ between CLOSE and HEIGHT |'
- en: '| ;Â â€“ below HEIGHT |'
  id: totrans-1570
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ below HEIGHT |'
- en: 'Specifically, there are three intervals, which we may picture as follows:'
  id: totrans-1571
  prefs: []
  type: TYPE_NORMAL
  zh: å…·ä½“æ¥è¯´ï¼Œæœ‰ä¸‰ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æƒ³è±¡ï¼š
- en: '![image](../Images/428e77ff179b3c0b7b23ca5bbbddc112.png)'
  id: totrans-1572
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/428e77ff179b3c0b7b23ca5bbbddc112.png)'
- en: 'What you see is the standard number line, turned vertical and broken into intervals.
    Each interval starts with an angular downward-pointing bracket (![image](../Images/59ce0d317dd0c2da1a6a3fef555468ed.png))
    and ends with an upward-pointing bracket (![image](../Images/f4312c4c317fc3153faf47aa6a484dbd.png)).
    The picture identifies three intervals in this manner:'
  id: totrans-1573
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çœ‹åˆ°çš„æ˜¯æ ‡å‡†çš„æ•°è½´ï¼Œå‚ç›´æ”¾ç½®å¹¶åˆ†å‰²æˆè‹¥å¹²åŒºé—´ã€‚æ¯ä¸ªåŒºé—´ä»å‘ä¸‹æŒ‡çš„è§’æ‹¬å· (![image](../Images/59ce0d317dd0c2da1a6a3fef555468ed.png))
    å¼€å§‹ï¼Œå¹¶ä»¥å‘ä¸ŠæŒ‡çš„è§’æ‹¬å· (![image](../Images/f4312c4c317fc3153faf47aa6a484dbd.png)) ç»“æŸã€‚å›¾ç‰‡ä»¥è¿™ç§æ–¹å¼è¯†åˆ«äº†ä¸‰ä¸ªåŒºé—´ï¼š
- en: the upper interval goes from 0 to CLOSE;
  id: totrans-1574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸ŠåŒºé—´ä»0å»¶ä¼¸åˆ°CLOSEï¼›
- en: the middle one starts at CLOSE and reaches HEIGHT;On a plain number line, the
    last interval starts at HEIGHT and goes on forever. and
  id: totrans-1575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸­é—´çš„åŒºé—´ä»CLOSEå¼€å§‹ï¼Œå»¶ä¼¸åˆ°HEIGHTï¼›åœ¨æ™®é€šæ•°è½´ä¸Šï¼Œæœ€åä¸€ä¸ªåŒºé—´ä»HEIGHTå¼€å§‹ï¼Œæ— é™å»¶ä¼¸ã€‚å¹¶ä¸”
- en: the lower, invisible interval is just a single line at HEIGHT.
  id: totrans-1576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€ä½çš„ã€ä¸å¯è§çš„åŒºé—´åªæ˜¯åœ¨HEIGHTå¤„çš„ä¸€æ¡çº¿ã€‚
- en: Visualizing the data definition in this manner helps with the design of functions
    in two ways. First, it immediately suggests how to pick examples. Clearly we want
    the function to work inside of all the intervals, and we want the function to
    work properly at the ends of each interval. Second, the image tells us that we
    need to formulate a condition that determines whether or not some â€œpointâ€ is within
    one of the intervals.
  id: totrans-1577
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥è¿™ç§æ–¹å¼å¯è§†åŒ–æ•°æ®å®šä¹‰æœ‰åŠ©äºä»¥ä¸¤ç§æ–¹å¼è®¾è®¡å‡½æ•°ã€‚é¦–å…ˆï¼Œå®ƒç«‹å³è¡¨æ˜å¦‚ä½•é€‰æ‹©ç¤ºä¾‹ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬å¸Œæœ›å‡½æ•°åœ¨æ‰€æœ‰åŒºé—´å†…éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›å‡½æ•°åœ¨æ¯ä¸ªåŒºé—´çš„ç«¯ç‚¹ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚å…¶æ¬¡ï¼Œå›¾åƒå‘Šè¯‰æˆ‘ä»¬ï¼Œæˆ‘ä»¬éœ€è¦åˆ¶å®šä¸€ä¸ªæ¡ä»¶ï¼Œä»¥ç¡®å®šæŸä¸ªâ€œç‚¹â€æ˜¯å¦ä½äºè¿™äº›åŒºé—´ä¹‹ä¸€ã€‚
- en: 'Putting the two together also raises a question, namely, how exactly the function
    deals with the end points. In the context of our example, two points on the number
    line belong to two intervals: CLOSE belongs to both the upper interval and the
    middle one, while HEIGHT seems to fall into both the middle one and the lowest
    one. Such overlaps usually cause problems for programs, and they ought to be avoided.'
  id: totrans-1578
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è¿™ä¸¤è€…ç»“åˆèµ·æ¥ä¹Ÿå¼•å‘äº†ä¸€ä¸ªé—®é¢˜ï¼Œå³å‡½æ•°å¦‚ä½•å¤„ç†ç«¯ç‚¹ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ•°è½´ä¸Šçš„ä¸¤ä¸ªç‚¹å±äºä¸¤ä¸ªåŒºé—´ï¼šCLOSEæ—¢å±äºä¸ŠåŒºé—´ä¹Ÿå±äºä¸­é—´åŒºé—´ï¼Œè€ŒHEIGHTä¼¼ä¹åŒæ—¶å±äºä¸­é—´åŒºé—´å’Œæœ€ä½åŒºé—´ã€‚è¿™ç§é‡å é€šå¸¸ä¼šç»™ç¨‹åºå¸¦æ¥é—®é¢˜ï¼Œå¹¶ä¸”åº”è¯¥é¿å…ã€‚
- en: 'BSL functions avoid them naturally due to the way [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expressions are evaluated. Consider this natural organization of a function that
    consumes elements of WorldState:'
  id: totrans-1579
  prefs: []
  type: TYPE_NORMAL
  zh: BSLå‡½æ•°ç”±äº[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼è¯„ä¼°æ–¹å¼ï¼Œè‡ªç„¶é¿å…äº†è¿™äº›é—®é¢˜ã€‚è€ƒè™‘ä»¥ä¸‹å‡½æ•°çš„è‡ªç„¶ç»„ç»‡ç»“æ„ï¼Œè¯¥å‡½æ•°æ¶ˆè€—WorldStateçš„å…ƒç´ ï¼š
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
  id: totrans-1580
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (fÂ y)
    |'
  id: totrans-1581
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (fÂ y)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1582
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1583
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â CLOSEÂ yÂ HEIGHT)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1584
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â CLOSEÂ yÂ HEIGHT)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â yÂ HEIGHT)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-1585
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â yÂ HEIGHT)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: 'The three [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines correspond to the three intervals. Each condition identifies those values
    of y that are in between the limits of the intervals. Due to the way [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines are checked one by one, however, a y value of CLOSE makes BSL pick the first
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line, and a y value of HEIGHT triggers the evaluation of the second ResultExpression.If
    we wanted to make this choice obvious and immediate for every reader of our code,
    we would use different conditions:'
  id: totrans-1586
  prefs: []
  type: TYPE_NORMAL
  zh: 'The three [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines correspond to the three intervals. Each condition identifies those values
    of y that are in between the limits of the intervals. Due to the way [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines are checked one by one, however, a y value of CLOSE makes BSL pick the first
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line, and a y value of HEIGHT triggers the evaluation of the second ResultExpression.
    If we wanted to make this choice obvious and immediate for every reader of our
    code, we would use different conditions:'
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
  id: totrans-1587
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (gÂ y)
    |'
  id: totrans-1588
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (gÂ y)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1589
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1590
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â CLOSEÂ y)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â yÂ HEIGHT))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1591
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â CLOSEÂ y)Â ([([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â yÂ HEIGHT))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ HEIGHT)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-1592
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ HEIGHT)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: Note how the second [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line uses [and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    to combine a strictly-less check with a less-than-or-equal check instead of fâ€™s
    [<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)
    with three arguments.
  id: totrans-1593
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ç¬¬äºŒä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡Œæ˜¯å¦‚ä½•ä½¿ç”¨[and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)æ¥ç»„åˆä¸€ä¸ªä¸¥æ ¼å°äºæ£€æŸ¥å’Œä¸€ä¸ªå°äºç­‰äºæ£€æŸ¥ï¼Œè€Œä¸æ˜¯ä½¿ç”¨fçš„[<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)ä¸ä¸‰ä¸ªå‚æ•°ä¸€èµ·ä½¿ç”¨ã€‚
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [Image](#%28tech._image%29) |'
  id: totrans-1594
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [WorldState](#%28tech._worldstate%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â adds a status line to the scene created by renderÂ Â  |'
  id: totrans-1595
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸ºé€šè¿‡renderåˆ›å»ºçš„åœºæ™¯æ·»åŠ çŠ¶æ€è¡ŒÂ Â  |'
- en: '| Â  |'
  id: totrans-1596
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (render/statusÂ 10)
    |'
  id: totrans-1597
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (render/statusÂ 10)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "descending"Â 11Â "green")
    |'
  id: totrans-1598
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "descending"Â 11Â "green")
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 |'
  id: totrans-1599
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ 10))) |'
  id: totrans-1600
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ 10))) |'
- en: '| Â  |'
  id: totrans-1601
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (render/statusÂ y)
    |'
  id: totrans-1602
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (render/statusÂ y)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1603
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)
    |'
  id: totrans-1604
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "descending"Â 11Â "green")
    |'
  id: totrans-1605
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "descending"Â 11Â "green")
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 |'
  id: totrans-1606
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ y))] |'
  id: totrans-1607
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ y))] |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â CLOSEÂ y)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â yÂ HEIGHT))
    |'
  id: totrans-1608
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â CLOSEÂ y)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â yÂ HEIGHT))
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "closing
    in"Â 11Â "orange") |'
  id: totrans-1609
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "closing
    in"Â 11Â "orange") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 |'
  id: totrans-1610
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ y))] |'
  id: totrans-1611
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ y))] |'
- en: '| Â Â Â Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ HEIGHT)
    |'
  id: totrans-1612
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ HEIGHT)
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "landed"Â 11Â "red")
    |'
  id: totrans-1613
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    ï¼ˆ[æ–‡æœ¬](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)
    "landed" 11 "red") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â 10 |'
  id: totrans-1614
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| 10 10 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ y))])) |'
  id: totrans-1615
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆæ¸²æŸ“ y))])) |'
- en: ''
  id: totrans-1616
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 23: Rendering with a status line'
  id: totrans-1617
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 23ï¼šå¸¦æœ‰çŠ¶æ€è¡Œçš„æ¸²æŸ“
- en: Given all that, we can complete the definition of the function that adds the
    requested status line to our UFO animation; see [figureÂ 23](#%28counter._%28figure._fig~3arender-status%29%29)
    for the complete definition. The function uses a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression to distinguish the three intervals. In each [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause, the ResultExpression uses render (from [figureÂ 22](#%28counter._%28figure._fig~3aufo%29%29))
    to create the image with the descending UFO and then places an appropriate text
    at position (10,10) with [place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29).
  id: totrans-1618
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°æ‰€æœ‰è¿™äº›ï¼Œæˆ‘ä»¬å¯ä»¥å®Œæˆå°†æ‰€éœ€çŠ¶æ€è¡Œæ·»åŠ åˆ°æˆ‘ä»¬çš„ä¸æ˜é£è¡Œç‰©åŠ¨ç”»ä¸­çš„å‡½æ•°å®šä¹‰ï¼›å‚è§ [å›¾ 23](#%28counter._%28figure._fig~3arender-status%29%29)
    ä»¥è·å–å®Œæ•´çš„å®šä¹‰ã€‚è¯¥å‡½æ•°ä½¿ç”¨ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼æ¥åŒºåˆ†ä¸‰ä¸ªæ—¶é—´æ®µã€‚åœ¨æ¯ä¸€ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    å­å¥ä¸­ï¼Œç»“æœè¡¨è¾¾å¼ä½¿ç”¨ renderï¼ˆæ¥è‡ª [å›¾ 22](#%28counter._%28figure._fig~3aufo%29%29)ï¼‰æ¥åˆ›å»ºå¸¦æœ‰ä¸‹é™ä¸æ˜é£è¡Œç‰©çš„å›¾åƒï¼Œç„¶åä½¿ç”¨
    [place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    åœ¨ä½ç½® (10,10) å¤„æ”¾ç½®é€‚å½“çš„æ–‡æœ¬ã€‚
- en: 'To run this version, you need to change main from [figureÂ 22](#%28counter._%28figure._fig~3aufo%29%29)
    a bit:'
  id: totrans-1619
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è¿è¡Œè¿™ä¸ªç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦å°† main ä» [å›¾ 22](#%28counter._%28figure._fig~3aufo%29%29) ç¨ä½œä¿®æ”¹ï¼š
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
  id: totrans-1620
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [WorldState](#%28tech._worldstate%29) -> [WorldState](#%28tech._worldstate%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ y0)
    |'
  id: totrans-1621
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    ï¼ˆmain y0ï¼‰ |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â y0
    |'
  id: totrans-1622
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    y0 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â nxt]
    |'
  id: totrans-1623
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åœ¨tickä¸Š](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)
    nxtï¼‰ |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â render/status]))
    |'
  id: totrans-1624
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)
    ï¼ˆæ¸²æŸ“/çŠ¶æ€ï¼‰ï¼‰ |'
- en: 'One aspect of this function definition might disturb you, and to clarify why,
    letâ€™s refine the sample problem from above just a tiny bit:'
  id: totrans-1625
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°å®šä¹‰çš„ä¸€ä¸ªæ–¹é¢å¯èƒ½ä¼šè®©æ‚¨æ„Ÿåˆ°å›°æ‰°ï¼Œä¸ºäº†æ¾„æ¸…åŸå› ï¼Œè®©æˆ‘ä»¬å°†ä¸Šé¢çš„ç¤ºä¾‹é—®é¢˜ç¨ä½œç»†åŒ–ï¼š
- en: Sample Problem Add a status line, positioned at (20,20), that says â€œdescendingâ€
    when the UFOâ€™s height is above one third of the height of the canvas. ...
  id: totrans-1626
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ï¼šæ·»åŠ ä¸€ä¸ªçŠ¶æ€è¡Œï¼Œä½äº (20,20) ä½ç½®ï¼Œå½“ä¸æ˜é£è¡Œç‰©çš„é«˜åº¦è¶…è¿‡ç”»å¸ƒé«˜åº¦çš„1/3æ—¶æ˜¾ç¤ºâ€œä¸‹é™â€...
- en: This could be the response of a client who has watched your animation for a
    first time.
  id: totrans-1627
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯èƒ½æ˜¯ç¬¬ä¸€æ¬¡è§‚çœ‹æ‚¨åŠ¨ç”»çš„å®¢æˆ·å¯èƒ½ä¼šç»™å‡ºçš„ååº”ã€‚
- en: '| ;Â [WorldState](#%28tech._worldstate%29) -> [Image](#%28tech._image%29) |'
  id: totrans-1628
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [WorldState](#%28tech._worldstate%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â adds a status line to the scene created by renderÂ Â  |'
  id: totrans-1629
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; å‘ç”± render åˆ›å»ºçš„åœºæ™¯æ·»åŠ çŠ¶æ€è¡ŒÂ Â  |'
- en: '| Â  |'
  id: totrans-1630
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (render/statusÂ 42)
    |'
  id: totrans-1631
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    ï¼ˆæ¸²æŸ“/çŠ¶æ€ 42ï¼‰ |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "closing
    in"Â 11Â "orange") |'
  id: totrans-1632
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([æ–‡æœ¬](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "closing
    in"Â 11Â "orange") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 20Â 20 |'
  id: totrans-1633
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 20Â 20 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ 42))) |'
  id: totrans-1634
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (renderÂ 42))) |'
- en: '| Â  |'
  id: totrans-1635
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (render/statusÂ y)
    |'
  id: totrans-1636
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (render/statusÂ y)
    |'
- en: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    |'
  id: totrans-1637
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    |'
- en: '| Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1638
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)
    |'
  id: totrans-1639
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â yÂ CLOSE)
    |'
- en: '| Â Â Â Â Â Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "descending"Â 11Â "green")]
    |'
  id: totrans-1640
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([æ–‡æœ¬](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "descending"Â 11Â "green")]
    |'
- en: '| Â Â Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â CLOSEÂ y)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â yÂ HEIGHT))
    |'
  id: totrans-1641
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [([å’Œ](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([å°äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â CLOSEÂ y)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â yÂ HEIGHT))
    |'
- en: '| Â Â Â Â Â Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "closing
    in"Â 11Â "orange")] |'
  id: totrans-1642
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([æ–‡æœ¬](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "closing
    in"Â 11Â "orange")] |'
- en: '| Â Â Â Â Â Â [([>](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ HEIGHT)
    |'
  id: totrans-1643
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [([å¤§äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29)Â yÂ HEIGHT)
    |'
- en: '| Â Â Â Â Â Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "landed"Â 11Â "red")])
    |'
  id: totrans-1644
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([æ–‡æœ¬](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "landed"Â 11Â "red")])
    |'
- en: '| Â Â Â Â 20Â 20 |'
  id: totrans-1645
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â 20Â 20 |'
- en: '| Â Â Â Â (renderÂ y))) |'
  id: totrans-1646
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â (renderÂ y))) |'
- en: ''
  id: totrans-1647
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 24: Rendering with a status line, revised'
  id: totrans-1648
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾24ï¼šå¸¦æœ‰çŠ¶æ€è¡Œçš„æ¸²æŸ“ï¼Œä¿®è®¢ç‰ˆ
- en: 'At this point, you have no choice but to change the function render/status
    at six distinct places because you have three copies of one external piece of
    information: the location of the status line. To avoid multiple changes for a
    single element, programmers try to avoid copies. You have two choices to fix this
    problem. The first one is to use constant definitions, which you might recall
    from early chapters. The second one is to think of the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression as an expression that may appear anywhere in a function, including
    in the middle of some other expression; see [figureÂ 24](#%28counter._%28figure._fig~3arender-status2%29%29)
    and compare with [figureÂ 23](#%28counter._%28figure._fig~3arender-status%29%29).
    In this revised definition of render/status, the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression is the first argument to [place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29).
    As you can see, its result is always a [text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)
    image that is placed at position (20,20) into the image created by (render  y).'
  id: totrans-1649
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ ä¸å¾—ä¸åœ¨å…­ä¸ªä¸åŒçš„åœ°æ–¹æ›´æ”¹ render/status å‡½æ•°ï¼Œå› ä¸ºä½ æœ‰ä¸‰ä¸ªç›¸åŒå¤–éƒ¨ä¿¡æ¯çš„å‰¯æœ¬ï¼šçŠ¶æ€è¡Œçš„ä½ç½®ã€‚ä¸ºäº†é¿å…å¯¹å•ä¸ªå…ƒç´ è¿›è¡Œå¤šæ¬¡æ›´æ”¹ï¼Œç¨‹åºå‘˜è¯•å›¾é¿å…å¤åˆ¶ã€‚ä½ æœ‰ä¸¤ç§é€‰æ‹©æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç¬¬ä¸€ä¸ªé€‰æ‹©æ˜¯ä½¿ç”¨å¸¸é‡å®šä¹‰ï¼Œä½ å¯èƒ½è¿˜è®°å¾—ä»æ—©æœŸç« èŠ‚ä¸­æåˆ°çš„ã€‚ç¬¬äºŒä¸ªé€‰æ‹©æ˜¯å°†
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼è§†ä¸ºå¯èƒ½å‡ºç°åœ¨å‡½æ•°ä»»ä½•ä½ç½®çš„è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬åœ¨å…¶ä»–è¡¨è¾¾å¼çš„ä¸­é—´ï¼›å‚è§ [å›¾24](#%28counter._%28figure._fig~3arender-status2%29%29)
    å¹¶ä¸ [å›¾23](#%28counter._%28figure._fig~3arender-status%29%29) è¿›è¡Œæ¯”è¾ƒã€‚åœ¨è¿™ä¸ªä¿®è®¢çš„ render/status
    å®šä¹‰ä¸­ï¼Œ[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼æ˜¯ [place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå®ƒçš„ç»“æœå§‹ç»ˆæ˜¯ä¸€ä¸ªæ”¾ç½®åœ¨ (20,20) ä½ç½®çš„ [text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)
    å›¾åƒï¼Œè¯¥å›¾åƒç”± (render y) åˆ›å»ºã€‚
- en: 4.5Itemizations[ğŸ”—](#(part._itemization._sec~3aitemization) "Link to here")
  id: totrans-1650
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.5 é¡¹ç›®åˆ—è¡¨[ğŸ”—](#(part._itemization._sec~3aitemization) "é“¾æ¥è‡³æ­¤")
- en: An interval distinguishes different sub-classes of numbers, which, in principle,
    is an infinitely large class. An enumeration spells out item for item the useful
    elements of an existing class of data. Some data definitions need to include elements
    from both. They use itemizations, which generalize intervals and enumerations.
    They allow the combination of any already-defined data classes with each other
    and with individual pieces of data.
  id: totrans-1651
  prefs: []
  type: TYPE_NORMAL
  zh: åŒºé—´åŒºåˆ†äº†ä¸åŒå­ç±»çš„æ•°å­—ï¼Œåœ¨åŸåˆ™ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªæ— é™å¤§çš„ç±»åˆ«ã€‚æšä¸¾é€é¡¹åˆ—å‡ºç°æœ‰æ•°æ®ç±»ä¸­çš„æœ‰ç”¨å…ƒç´ ã€‚æŸäº›æ•°æ®å®šä¹‰éœ€è¦åŒ…å«æ¥è‡ªä¸¤ä¸ªç±»åˆ«çš„å…ƒç´ ã€‚å®ƒä»¬ä½¿ç”¨é¡¹ç›®åˆ—è¡¨ï¼Œè¿™æ˜¯åŒºé—´å’Œæšä¸¾çš„æ¨å¹¿ã€‚å®ƒä»¬å…è®¸å°†ä»»ä½•å·²å®šä¹‰çš„æ•°æ®ç±»åˆ«ä¸å…¶ä»–ç±»åˆ«ä»¥åŠå•ä¸ªæ•°æ®é¡¹ç»„åˆèµ·æ¥ã€‚
- en: 'Consider the following example, a rewrite of an important data definition from
    [Enumerations](#%28part._sec~3aenums%29):'
  id: totrans-1652
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼Œè¿™æ˜¯ä» [æšä¸¾](#%28part._sec~3aenums%29) ä¸­ä¸€ä¸ªé‡è¦æ•°æ®å®šä¹‰çš„é‡å†™ï¼š
- en: '| ;Â A KeyEvent is one of: |'
  id: totrans-1653
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â KeyEvent æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  [1String](#%28tech._1string%29) |'
  id: totrans-1654
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [1String](#%28tech._1string%29) |'
- en: '| ;Â â€“  "left" |'
  id: totrans-1655
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "left" |'
- en: '| ;Â â€“  "right" |'
  id: totrans-1656
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "right" |'
- en: '| ;Â â€“  "up" |'
  id: totrans-1657
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "up" |'
- en: '| ;Â â€“  ... |'
  id: totrans-1658
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ... |'
- en: In this case, the KeyEvent data definition refers to the [1String](#%28tech._1string%29)
    data definition. Since functions that deal with [KeyEvent](#%28tech._itemization._keyevent%29)s
    often deal with [1String](#%28tech._1string%29)s separately from the rest and
    do so with auxiliary functions, we now have a convenient way to express signatures
    for these functions, too.The description of the [string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)
    primitive employs the idea of an itemization in a sophisticated way. Its signature
    is
  id: totrans-1659
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ­¤æƒ…å†µä¸‹ï¼ŒKeyEvent æ•°æ®å®šä¹‰å¼•ç”¨äº† [1String](#%28tech._1string%29) æ•°æ®å®šä¹‰ã€‚ç”±äºå¤„ç† [KeyEvent](#%28tech._itemization._keyevent%29)
    çš„å‡½æ•°é€šå¸¸å°† [1String](#%28tech._1string%29) ä¸å…¶ä»–éƒ¨åˆ†åˆ†å¼€å¤„ç†ï¼Œå¹¶ä½¿ç”¨è¾…åŠ©å‡½æ•°è¿›è¡Œï¼Œæˆ‘ä»¬ç°åœ¨ä¹Ÿæœ‰äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥è¡¨ç¤ºè¿™äº›å‡½æ•°çš„ç­¾åã€‚å¯¹
    [string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)
    åŸå§‹å‡½æ•°çš„æè¿°å·§å¦™åœ°è¿ç”¨äº†é¡¹ç›®åˆ—è¡¨çš„æ¦‚å¿µã€‚å…¶ç­¾åæ˜¯
- en: '| ;Â [String](#%28tech._string%29) -> [NorF](#%28tech._itemization._norf%29)
    |'
  id: totrans-1660
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [String](#%28tech._string%29) -> [NorF](#%28tech._itemization._norf%29)
    |'
- en: '| ;Â converts the given string into a number; |'
  id: totrans-1661
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†ç»™å®šçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼› |'
- en: '| ;Â produces #false if impossible |'
  id: totrans-1662
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœä¸å¯èƒ½åˆ™äº§ç”Ÿ #false |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ([string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)Â s)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-1663
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ([string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)Â s)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: 'meaning that the result signature names a simple class of data:'
  id: totrans-1664
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€ç»“æœç­¾åå‘½åäº†ä¸€ä¸ªç®€å•çš„æ•°æ®ç±»åˆ«ï¼š
- en: '| ;Â An NorF is one of: |'
  id: totrans-1665
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An NorFæ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  #false |'
  id: totrans-1666
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  #false |'
- en: '| ;Â â€“ a [Number](#%28tech._number%29) |'
  id: totrans-1667
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ª[Number](#%28tech._number%29) |'
- en: 'This itemization combines one piece of data (#false) with a large, and distinct,
    class of data (Number).Now imagine a function that consumes the result of [string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)
    and adds 3, dealing with #false as if it were 0:'
  id: totrans-1668
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªé¡¹ç›®å°†ä¸€ä¸ªæ•°æ®ç‰‡æ®µ(#false)ä¸ä¸€ä¸ªåºå¤§ä¸”ç‹¬ç‰¹çš„æ•°æ®ç±»åˆ«(Number)ç»“åˆèµ·æ¥ã€‚ç°åœ¨æƒ³è±¡ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¶ˆè€—[string->number](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-~3enumber%29%29)çš„ç»“æœå¹¶åŠ 3ï¼Œå°†#falseè§†ä¸º0è¿›è¡Œå¤„ç†ï¼š
- en: '| ;Â [NorF](#%28tech._itemization._norf%29) -> [Number](#%28tech._number%29)
    |'
  id: totrans-1669
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [NorF](#%28tech._itemization._norf%29) -> [Number](#%28tech._number%29)
    |'
- en: '| ;Â adds 3 to the given number; 3 otherwise |'
  id: totrans-1670
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™ç»™å®šæ•°å­—åŠ 3ï¼›å¦åˆ™åŠ 3 |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (add3Â #false)Â 3)
    |'
  id: totrans-1671
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (add3Â #false)Â 3)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (add3Â 0.12)Â 3.12)
    |'
  id: totrans-1672
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (add3Â 0.12)Â 3.12)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (add3Â x)
    |'
  id: totrans-1673
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (add3Â x)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1674
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([false?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._false~3f%29%29)Â x)Â 3]
    |'
  id: totrans-1675
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([false?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._false~3f%29%29)Â x)Â 3]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â xÂ 3)]))
    |'
  id: totrans-1676
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â xÂ 3)]))
    |'
- en: 'As above, the functionâ€™s body consists of a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression with as many clauses as there are items in the enumeration of the data
    definition. The first [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause recognizes when the function is applied to #false; the corresponding result
    is 3 as requested. The second clause is about numbers and adds 3 as required.'
  id: totrans-1677
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä¸Šæ‰€è¿°ï¼Œå‡½æ•°ä½“ç”±ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ç»„æˆï¼Œå…¶å­å¥çš„æ•°é‡ä¸æ•°æ®å®šä¹‰ä¸­æšä¸¾çš„é¡¹ç›®æ•°é‡ç›¸åŒã€‚ç¬¬ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)å­å¥è¯†åˆ«å½“å‡½æ•°åº”ç”¨äº#falseæ—¶çš„æƒ…å†µï¼›å¯¹åº”çš„ç»“æœæ˜¯æ‰€éœ€çš„3ã€‚ç¬¬äºŒä¸ªå­å¥æ˜¯å…³äºæ•°å­—çš„ï¼Œå¹¶æŒ‰è¦æ±‚åŠ 3ã€‚
- en: 'Letâ€™s study a somewhat more purposeful design task:'
  id: totrans-1678
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç ”ç©¶ä¸€ä¸ªæ›´æœ‰ç›®çš„æ€§çš„è®¾è®¡ä»»åŠ¡ï¼š
- en: Sample Problem Design a program that launches a rocket when the user of your
    program presses the space bar. The program first displays the rocket sitting at
    the bottom of the canvas. Once launched, it moves upward at three pixels per clock
    tick.
  id: totrans-1679
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œå½“ä½ çš„ç¨‹åºçš„ç”¨æˆ·æŒ‰ä¸‹ç©ºæ ¼é”®æ—¶å¯åŠ¨ç«ç®­ã€‚ç¨‹åºé¦–å…ˆæ˜¾ç¤ºç«ç®­ä½äºç”»å¸ƒåº•éƒ¨ã€‚ä¸€æ—¦å¯åŠ¨ï¼Œå®ƒå°±æ¯æ—¶é’Ÿæ»´ç­”å‘ä¸Šç§»åŠ¨ä¸‰ä¸ªåƒç´ ã€‚
- en: 'This revised version suggests a representation with two classes of states:'
  id: totrans-1680
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªä¿®è®¢ç‰ˆå»ºè®®ä½¿ç”¨ä¸¤ç§çŠ¶æ€ç±»åˆ«çš„è¡¨ç¤ºï¼š
- en: '| ;Â An LR (short for launching rocket) is one of: |'
  id: totrans-1681
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An LR (short for launching rocket) is one of: |'
- en: '| ;Â â€“  "resting" |'
  id: totrans-1682
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "resting" |'
- en: '| ;Â â€“  [NonnegativeNumber](#%28tech._nonnegativenumber%29) |'
  id: totrans-1683
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [NonnegativeNumber](#%28tech._nonnegativenumber%29) |'
- en: '| ;Â interpretation  "resting" represents a grounded rocket |'
  id: totrans-1684
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š "resting" è¡¨ç¤ºåœ°é¢ä¸Šçš„ç«ç®­ |'
- en: '| ;Â a number denotes the height of a rocket in flight |'
  id: totrans-1685
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªæ•°å­—è¡¨ç¤ºé£è¡Œä¸­çš„ç«ç®­çš„é«˜åº¦ |'
- en: 'While the interpretation of "resting" is obvious, the interpretation of numbers
    is ambiguous in its notion of height:'
  id: totrans-1686
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶â€œé™æ­¢â€çš„è§£é‡Šå¾ˆæ˜æ˜¾ï¼Œä½†å…³äºé«˜åº¦çš„æ•°å­—è§£é‡Šåœ¨æ¦‚å¿µä¸Šæ˜¯ä¸æ˜ç¡®çš„ï¼š
- en: the word â€œheightâ€ could refer to the distance between the ground and the rocketâ€™s
    point of reference, say, its center; or
  id: totrans-1687
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å•è¯â€œé«˜åº¦â€å¯èƒ½æŒ‡çš„æ˜¯åœ°é¢å’Œç«ç®­çš„å‚è€ƒç‚¹ï¼ˆä¾‹å¦‚ï¼Œå…¶ä¸­å¿ƒï¼‰ä¹‹é—´çš„è·ç¦»ï¼›æˆ–è€…
- en: it could mean the distance between the top of the canvas and the reference point.
  id: totrans-1688
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ƒå¯èƒ½æ„å‘³ç€ç”»å¸ƒé¡¶éƒ¨å’Œå‚è€ƒç‚¹ä¹‹é—´çš„è·ç¦»ã€‚
- en: Either one works fine. The second one uses the conventional computer meaning
    of the word â€œheight.â€ It is thus slightly more convenient for functions that translate
    the state of the world into an image, and we therefore choose to interpret the
    number in that spirit.
  id: totrans-1689
  prefs: []
  type: TYPE_NORMAL
  zh: ä»»ä½•ä¸€ä¸ªéƒ½è¡Œå¾—é€šã€‚ç¬¬äºŒä¸ªä½¿ç”¨çš„æ˜¯â€œé«˜åº¦â€è¿™ä¸ªè¯åœ¨ä¼ ç»Ÿè®¡ç®—æœºæ„ä¹‰ä¸Šçš„å«ä¹‰ã€‚å› æ­¤ï¼Œå¯¹äºå°†ä¸–ç•ŒçŠ¶æ€è½¬æ¢ä¸ºå›¾åƒçš„å‡½æ•°æ¥è¯´ï¼Œå®ƒç¨å¾®æ–¹ä¾¿ä¸€äº›ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©ä»¥é‚£ç§ç²¾ç¥æ¥è§£é‡Šè¿™ä¸ªæ•°å­—ã€‚
- en: To drive home this choice, [exerciseÂ 57](#%28counter._itemization._%28exercise._interpret-height%29%29)
    below asks you to solve the exercises of this section using the first interpretation
    of height.
  id: totrans-1690
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å¼ºè°ƒè¿™ä¸ªé€‰æ‹©ï¼Œä¸‹é¢çš„[ç»ƒä¹ 57](#%28counter._itemization._%28exercise._interpret-height%29%29)è¦æ±‚ä½ ä½¿ç”¨é«˜åº¦çš„ç¬¬ä¸€ç§è§£é‡Šæ¥è§£å†³æœ¬èŠ‚çš„ç»ƒä¹ ã€‚
- en: ExerciseÂ 53\. The design recipe for world programs demands that you translate
    information into data and vice versa to ensure a complete understanding of the
    data definition. Itâ€™s best to draw some world scenarios and to represent them
    with data and, conversely, to pick some data examples and to draw pictures that
    match them. Do so for the [LR](#%28tech._itemization._lr%29) definition, including
    at least HEIGHT and 0 as examples.
  id: totrans-1691
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 53. ä¸–ç•Œç¨‹åºçš„è®¾è®¡é…æ–¹è¦æ±‚ä½ å°†ä¿¡æ¯è½¬æ¢ä¸ºæ•°æ®ï¼Œåä¹‹äº¦ç„¶ï¼Œä»¥ç¡®ä¿å¯¹æ•°æ®å®šä¹‰çš„å®Œæ•´ç†è§£ã€‚æœ€å¥½ç»˜åˆ¶ä¸€äº›ä¸–ç•Œåœºæ™¯ï¼Œå¹¶ç”¨æ•°æ®æ¥è¡¨ç¤ºå®ƒä»¬ï¼Œåä¹‹äº¦ç„¶ï¼Œé€‰æ‹©ä¸€äº›æ•°æ®ç¤ºä¾‹ï¼Œå¹¶ç»˜åˆ¶ä¸ä¹‹åŒ¹é…çš„å›¾ç‰‡ã€‚ä¸º[LR](#%28tech._itemization._lr%29)å®šä¹‰åšæ­¤ç»ƒä¹ ï¼ŒåŒ…æ‹¬è‡³å°‘HEIGHTå’Œ0ä½œä¸ºç¤ºä¾‹ã€‚
- en: 'In reality, rocket launches come with countdowns:'
  id: totrans-1692
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç°å®ä¸­ï¼Œç«ç®­å‘å°„ä¼´éšç€å€’è®¡æ—¶ï¼š
- en: Sample Problem Design a program that launches a rocket when the user presses
    the space bar. At that point, the simulation starts a countdown for three ticks,
    before it displays the scenery of a rising rocket. The rocket should move upward
    at a rate of three pixels per clock tick.
  id: totrans-1693
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œå½“ç”¨æˆ·æŒ‰ä¸‹ç©ºæ ¼é”®æ—¶å¯åŠ¨ç«ç®­ã€‚åœ¨é‚£ä¸ªæ—¶åˆ»ï¼Œæ¨¡æ‹Ÿå¼€å§‹å€’è®¡æ—¶ä¸‰ä¸ªæ»´ç­”å£°ï¼Œç„¶åæ˜¾ç¤ºä¸Šå‡ç«ç®­çš„åœºæ™¯ã€‚ç«ç®­åº”è¯¥ä»¥æ¯æ—¶é’Ÿæ»´ç­”ä¸‰ä¸ªåƒç´ çš„é€Ÿåº¦å‘ä¸Šç§»åŠ¨ã€‚
- en: 'Following the program design recipe, we first collect constants:'
  id: totrans-1694
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§ç¨‹åºè®¾è®¡é…æ–¹ï¼Œæˆ‘ä»¬é¦–å…ˆæ”¶é›†å¸¸é‡ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ 300)Â ;Â distances
    in pixels |'
  id: totrans-1695
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    HEIGHT 300)Â ;Â åƒç´ è·ç¦» |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ Â 100)
    |'
  id: totrans-1696
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    WIDTH 100) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â YDELTAÂ 3)
    |'
  id: totrans-1697
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    YDELTA 3) |'
- en: '| Â  |'
  id: totrans-1698
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BACKGÂ Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHT))
    |'
  id: totrans-1699
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    BACKG ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    WIDTH HEIGHT)) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ROCKETÂ ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 5Â 30Â "solid"Â "red"))
    |'
  id: totrans-1700
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ROCKETÂ ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â 5Â 30Â "solid"Â "red"))
    |'
- en: '| Â  |'
  id: totrans-1701
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CENTERÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ROCKET)Â 2))
    |'
  id: totrans-1702
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CENTERÂ ([/](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2F%29%29)Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â ROCKET)Â 2))
    |'
- en: 'While WIDTH and HEIGHT describe the dimensions of the canvas and the background
    scene, YDELTA describes how fast the rocket moves along the y-axis, as specified
    in the problem statement. The CENTER constant is the computed center of the rocket.Next
    we turn to the development of a data definition. This revision of the problem
    clearly calls for three distinct sub-classes of states:'
  id: totrans-1703
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ WIDTH å’Œ HEIGHT æè¿°ç”»å¸ƒå’ŒèƒŒæ™¯åœºæ™¯çš„å°ºå¯¸æ—¶ï¼ŒYDELTA æè¿°äº†ç«ç®­æ²¿ y è½´ç§»åŠ¨çš„é€Ÿåº¦ï¼Œå¦‚é—®é¢˜é™ˆè¿°ä¸­æŒ‡å®šã€‚CENTER å¸¸é‡æ˜¯ç«ç®­è®¡ç®—å‡ºçš„ä¸­å¿ƒã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è½¬å‘æ•°æ®å®šä¹‰çš„å¼€å‘ã€‚è¿™ä¸ªé—®é¢˜çš„ä¿®è®¢ç‰ˆæ˜ç¡®è¦æ±‚ä¸‰ä¸ªä¸åŒçš„çŠ¶æ€å­ç±»ï¼š
- en: '| ;Â An LRCD (for launching rocket countdown) is one of: |'
  id: totrans-1704
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â LRCDï¼ˆç”¨äºç«ç®­å‘å°„å€’è®¡æ—¶ï¼‰æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  "resting" |'
  id: totrans-1705
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  "é™æ­¢" |'
- en: '| ;Â â€“ a [Number](#%28tech._number%29) between -3 and -1 |'
  id: totrans-1706
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ªä»‹äº -3 å’Œ -1 ä¹‹é—´çš„ [æ•°å­—](#%28tech._number%29) |'
- en: '| ;Â â€“ a [NonnegativeNumber](#%28tech._nonnegativenumber%29) |'
  id: totrans-1707
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ª [éè´Ÿæ•°](#%28tech._nonnegativenumber%29) |'
- en: '| ;Â interpretation a grounded rocket, in countdown mode, |'
  id: totrans-1708
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šï¼šåœ°é¢ä¸Šçš„ç«ç®­ï¼Œå¤„äºå€’è®¡æ—¶æ¨¡å¼ï¼Œ |'
- en: '| ;Â a number denotes the number of pixels between the |'
  id: totrans-1709
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªæ•°å­—è¡¨ç¤ºåƒç´ ä¹‹é—´çš„æ•°é‡ |'
- en: '| ;Â top of the canvas and the rocket (its height) |'
  id: totrans-1710
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”»å¸ƒé¡¶éƒ¨å’Œç«ç®­ï¼ˆå…¶é«˜åº¦ï¼‰ |'
- en: 'The second, new sub-class of dataâ€”<wbr>three negative numbersâ€”<wbr>represents
    the world after the user pressed the space bar and before the rocket lifts off.At
    this point, we write down our wish list for a function that renders states as
    images and for any event-handling functions that we may need:'
  id: totrans-1711
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒä¸ªæ–°çš„æ•°æ®å­ç±»â€”â€”ä¸‰ä¸ªè´Ÿæ•°â€”â€”ä»£è¡¨ç”¨æˆ·æŒ‰ä¸‹ç©ºæ ¼é”®åï¼Œç«ç®­èµ·é£å‰çš„ä¸–ç•Œã€‚åœ¨æ­¤é˜¶æ®µï¼Œæˆ‘ä»¬å†™ä¸‹æˆ‘ä»¬å¯¹å°†çŠ¶æ€æ¸²æŸ“ä¸ºå›¾åƒçš„å‡½æ•°ä»¥åŠæˆ‘ä»¬å¯èƒ½éœ€è¦çš„ä»»ä½•äº‹ä»¶å¤„ç†å‡½æ•°çš„æ„¿æœ›æ¸…å•ï¼š
- en: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [Image](#%28tech._image%29) |'
  id: totrans-1712
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â renders the state as a resting or flying rocket |'
  id: totrans-1713
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†çŠ¶æ€æ¸²æŸ“ä¸ºé™æ­¢æˆ–é£è¡Œçš„ç«ç®­ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (showÂ x)
    |'
  id: totrans-1714
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (showÂ x)
    |'
- en: '| Â Â BACKG) |'
  id: totrans-1715
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â BACKG) |'
- en: '| Â  |'
  id: totrans-1716
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [LRCD](#%28tech._itemization._lrcd%29)  [KeyEvent](#%28tech._itemization._keyevent%29)
    -> [LRCD](#%28tech._itemization._lrcd%29) |'
  id: totrans-1717
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [LRCD](#%28tech._itemization._lrcd%29)  [KeyEvent](#%28tech._itemization._keyevent%29)
    -> [LRCD](#%28tech._itemization._lrcd%29) |'
- en: '| ;Â starts the countdown when space bar is pressed, |'
  id: totrans-1718
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å½“æŒ‰ä¸‹ç©ºæ ¼é”®æ—¶å¼€å§‹å€’è®¡æ—¶ï¼Œ |'
- en: '| ;Â if the rocket is still resting |'
  id: totrans-1719
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœç«ç®­ä»ç„¶å¤„äºé™æ­¢çŠ¶æ€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
  id: totrans-1720
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
- en: '| Â Â x) |'
  id: totrans-1721
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â x) |'
- en: '| Â  |'
  id: totrans-1722
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [LRCD](#%28tech._itemization._lrcd%29)
    |'
  id: totrans-1723
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [LRCD](#%28tech._itemization._lrcd%29)
    |'
- en: '| ;Â raises the rocket by YDELTA, |'
  id: totrans-1724
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†ç«ç®­å‘ä¸Šç§»åŠ¨ YDELTAï¼Œ |'
- en: '| ;Â  if it is moving already |'
  id: totrans-1725
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœå®ƒå·²ç»åœ¨ç§»åŠ¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (flyÂ x)
    |'
  id: totrans-1726
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (flyÂ x)
    |'
- en: '| Â Â x) |'
  id: totrans-1727
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â x) |'
- en: 'Remember that the design recipe for world programs dictates these signatures,
    though the choice of names for the data collection and the event handlers are
    ours. Also, we have specialized the purpose statements to fit our problem statement.From
    here, we use the design recipe for functions to create complete definitions for
    all three of them, starting with examples for the first one:'
  id: totrans-1728
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œä¸–ç•Œç¨‹åºçš„è®¾è®¡é…æ–¹å†³å®šäº†è¿™äº›ç­¾åï¼Œå°½ç®¡æ•°æ®æ”¶é›†å’Œäº‹ä»¶å¤„ç†ç¨‹åºåç§°çš„é€‰æ‹©å±äºæˆ‘ä»¬ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ç›®çš„å£°æ˜ä¸“é—¨åŒ–ä»¥é€‚åº”æˆ‘ä»¬çš„é—®é¢˜é™ˆè¿°ã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•°çš„è®¾è®¡é…æ–¹æ¥ä¸ºè¿™ä¸‰ä¸ªå‡½æ•°åˆ›å»ºå®Œæ•´çš„å®šä¹‰ï¼Œä»ç¬¬ä¸€ä¸ªçš„ç¤ºä¾‹å¼€å§‹ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-1729
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
- en: '| Â (showÂ "resting") |'
  id: totrans-1730
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (showÂ "resting") |'
- en: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â HEIGHTÂ BACKG))
    |'
  id: totrans-1731
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â HEIGHTÂ BACKG))
    |'
- en: '| Â  |'
  id: totrans-1732
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-1733
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
- en: '| Â (showÂ -2) |'
  id: totrans-1734
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (æ˜¾ç¤º -2) |'
- en: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "-2"Â 20Â "red")
    |'
  id: totrans-1735
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "-2"Â 20Â "red")
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 3/4Â WIDTH)
    |'
  id: totrans-1736
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 3/4Â WIDTH)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â HEIGHTÂ BACKG)))
    |'
  id: totrans-1737
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â HEIGHTÂ BACKG)))
    |'
- en: '| Â  |'
  id: totrans-1738
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-1739
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
- en: '| Â (showÂ 53) |'
  id: totrans-1740
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (showÂ 53) |'
- en: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â 53Â BACKG))
    |'
  id: totrans-1741
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â 53Â BACKG))
    |'
- en: As before in this chapter, we make one test per sub-class in the data definition.
    The first example shows the resting state, the second the middle of a countdown,
    and the last one the rocket in flight. Furthermore, we express the expected values
    as expressions that draw appropriate images. We used DrRacketâ€™s interactions area
    to create these images; what would you do?
  id: totrans-1742
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬ç« ä¹‹å‰ï¼Œæˆ‘ä»¬åœ¨æ•°æ®å®šä¹‰çš„æ¯ä¸ªå­ç±»ä¸­åšä¸€ä¸ªæµ‹è¯•ã€‚ç¬¬ä¸€ä¸ªç¤ºä¾‹æ˜¾ç¤ºäº†é™æ­¢çŠ¶æ€ï¼Œç¬¬äºŒä¸ªç¤ºä¾‹æ˜¾ç¤ºäº†å€’è®¡æ—¶ä¸­é—´çŠ¶æ€ï¼Œæœ€åä¸€ä¸ªç¤ºä¾‹æ˜¾ç¤ºäº†ç«ç®­åœ¨é£è¡Œä¸­ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†æœŸæœ›å€¼è¡¨ç¤ºä¸ºç»˜åˆ¶é€‚å½“å›¾åƒçš„è¡¨è¾¾å¼ã€‚æˆ‘ä»¬ä½¿ç”¨DrRacketçš„äº¤äº’åŒºåŸŸåˆ›å»ºè¿™äº›å›¾åƒï¼›ä½ ä¼šæ€ä¹ˆåšï¼Ÿ
- en: A close look at the examples reveals that making examples also means making
    choices. Nothing in the problem statement actually demands how exactly the rocket
    is displayed before it is launched, but doing so is natural. Similarly, nothing
    says to display a number during the countdown, yet it adds a nice touch. Lastly,
    if you solved [exerciseÂ 53](#%28counter._itemization._%28exercise._cond5%29%29)
    you also know that 0 and HEIGHT are special points for the third clause of the
    data definition.
  id: totrans-1743
  prefs: []
  type: TYPE_NORMAL
  zh: ä»”ç»†è§‚å¯Ÿç¤ºä¾‹å¯ä»¥å‘ç°ï¼Œåˆ¶ä½œç¤ºä¾‹ä¹Ÿæ„å‘³ç€åšå‡ºé€‰æ‹©ã€‚é—®é¢˜é™ˆè¿°ä¸­å®é™…ä¸Šå¹¶æ²¡æœ‰è¦æ±‚åœ¨ç«ç®­å‘å°„å‰å¦‚ä½•ç²¾ç¡®æ˜¾ç¤ºç«ç®­ï¼Œä½†è¿™æ ·åšæ˜¯è‡ªç„¶çš„ã€‚åŒæ ·ï¼Œæ²¡æœ‰è¦æ±‚åœ¨å€’è®¡æ—¶æœŸé—´æ˜¾ç¤ºæ•°å­—ï¼Œä½†å®ƒå¢æ·»äº†ä¸€ä¸ç¾æ„Ÿã€‚æœ€åï¼Œå¦‚æœä½ è§£å†³äº†[ç»ƒä¹ 53](#%28counter._itemization._%28exercise._cond5%29%29)ï¼Œä½ ä¹ŸçŸ¥é“0å’ŒHEIGHTæ˜¯æ•°æ®å®šä¹‰ç¬¬ä¸‰æ¡è§„åˆ™çš„ç‰¹æ®Šç‚¹ã€‚
- en: 'In general, intervals deserve special attention when you make up examples,
    that is, they deserve at least three kinds of examples: one from each end and
    another one from inside. Since the second sub-class of [LRCD](#%28tech._itemization._lrcd%29)
    is a (finite) interval and the third one is a half-open interval, letâ€™s take a
    look at their end points:'
  id: totrans-1744
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œå½“ä½ æ„é€ ä¾‹å­æ—¶ï¼ŒåŒºé—´å€¼å¾—ç‰¹åˆ«æ³¨æ„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬è‡³å°‘éœ€è¦ä¸‰ç§ç±»å‹çš„ä¾‹å­ï¼šæ¯ä¸ªç«¯ç‚¹ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªä»å†…éƒ¨ã€‚ç”±äº [LRCD](#(tech._itemization._lrcd))
    çš„ç¬¬äºŒä¸ªå­ç±»æ˜¯ä¸€ä¸ªï¼ˆæœ‰é™ï¼‰åŒºé—´ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ä¸€ä¸ªåŠå¼€åŒºé—´ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬çš„ç«¯ç‚¹ï¼š
- en: Clearly, (show  -3) and (show  -1) must produce images like the one for (show  -2).
    After all, the rocket still rests on the ground, even if the countdown numbers
    differ.
  id: totrans-1745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜¾ç„¶ï¼Œ(show -3) å’Œ (show -1) å¿…é¡»äº§ç”Ÿç±»ä¼¼äº (show -2) çš„å›¾åƒã€‚æ¯•ç«Ÿï¼Œç«ç®­ä»ç„¶åœç•™åœ¨åœ°é¢ä¸Šï¼Œå³ä½¿å€’è®¡æ—¶æ•°å­—ä¸åŒã€‚
- en: 'The case for (show  HEIGHT) is different. According to our agreement, the value
    HEIGHT represents the state when the rocket has just been launched. Pictorially
    this means the rocket is still resting on the ground. Based on the last test case
    above, here is the test case that expresses this insight:'
  id: totrans-1746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (show HEIGHT) çš„æƒ…å†µä¸åŒã€‚æ ¹æ®æˆ‘ä»¬çš„åè®®ï¼ŒHEIGHT çš„å€¼ä»£è¡¨ç«ç®­åˆšåˆšå‘å°„æ—¶çš„çŠ¶æ€ã€‚ä»å›¾é¢ä¸Šçœ‹ï¼Œè¿™æ„å‘³ç€ç«ç®­ä»ç„¶åœç•™åœ¨åœ°é¢ä¸Šã€‚åŸºäºä¸Šè¿°æœ€åä¸€ä¸ªæµ‹è¯•æ¡ˆä¾‹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªè¡¨è¾¾è¿™ä¸€è§è§£çš„æµ‹è¯•æ¡ˆä¾‹ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-1747
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#(form.
    (lib. lang/htdp-beginner.rkt _) _check-expect))) |'
- en: '| Â (showÂ HEIGHT) |'
  id: totrans-1748
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (show HEIGHT) |'
- en: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â HEIGHTÂ BACKG))
    |'
  id: totrans-1749
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#(def.
    (lib. 2htdp/image.rkt _) _place-image)) ROCKET 10 HEIGHT BACKG)) |'
- en: 'Except that if you evaluate the â€œexpected valueâ€ expression by itself in DrRacketâ€™s
    interactions area, you see that the rocket is halfway underground. This shouldnâ€™t
    be the case, of course, meaning that we need to adjust this test case and the
    above:'
  id: totrans-1750
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: é™¤äº†å¦‚æœä½ åœ¨ DrRacket çš„äº¤äº’åŒºåŸŸå•ç‹¬è¯„ä¼°â€œæœŸæœ›å€¼â€è¡¨è¾¾å¼ï¼Œä½ ä¼šçœ‹åˆ°ç«ç®­å·²ç»åŸ‹åˆ°åœ°ä¸‹äº†ä¸€åŠã€‚å½“ç„¶ï¼Œè¿™ä¸åº”è¯¥å‘ç”Ÿï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦è°ƒæ•´è¿™ä¸ªæµ‹è¯•æ¡ˆä¾‹å’Œä¸Šé¢çš„ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-1751
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#(form.
    (lib. lang/htdp-beginner.rkt _) _check-expect))) |'
- en: '| Â (showÂ HEIGHT) |'
  id: totrans-1752
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (show HEIGHT) |'
- en: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ CENTER)Â BACKG))
    |'
  id: totrans-1753
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#(def.
    (lib. 2htdp/image.rkt _place-image))) ROCKET 10 ([- (lib. lang/htdp-beginner.rkt
    _) HEIGHT CENTER) BACKG)) |'
- en: '| Â  |'
  id: totrans-1754
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-1755
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#(form.
    (lib. lang/htdp-beginner.rkt _) _check-expect))) |'
- en: '| Â (showÂ 53) |'
  id: totrans-1756
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (show 53) |'
- en: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 53Â CENTER)Â BACKG))
    |'
  id: totrans-1757
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#(def.
    (lib. 2htdp/image.rkt _) _place-image)) ROCKET 10 ([- (lib. lang/htdp-beginner.rkt
    _) 53 CENTER) BACKG)) |'
- en: Finally, determine the result you now expect from (show  0). It is a simple
    but revealing exercise.
  id: totrans-1758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œç¡®å®šä½ ç°åœ¨æœŸæœ›ä» (show 0) å¾—åˆ°çš„ç»“æœã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•ä½†èƒ½æ­ç¤ºé—®é¢˜çš„ç»ƒä¹ ã€‚
- en: 'Following the precedents in this chapter, show uses a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression to deal with the three clauses of the data definition:'
  id: totrans-1759
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§æœ¬ç« ä¸­çš„å…ˆä¾‹ï¼Œshow ä½¿ç”¨ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#(form.
    (lib. lang/htdp-beginner.rkt _) _cond)) è¡¨è¾¾å¼æ¥å¤„ç†æ•°æ®å®šä¹‰çš„ä¸‰ä¸ªå­å¥ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (showÂ x)
    |'
  id: totrans-1760
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#(form. (lib.
    lang/htdp-beginner.rkt _) _define)) (show x) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1761
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#(form. (lib.
    lang/htdp-beginner.rkt _) _cond))) |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1762
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)
    x) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1763
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)
    -3 x -1) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-1764
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)
    x 0) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: 'Each clause identifies the corresponding sub-class with a precise condition:
    ([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)  x)
    picks the first sub-class, which consists of just one element, the string "resting";
    ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)  -3  x  -1)
    completely describes the second sub-class of data; and ([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)  x  0)
    is a test for all non-negative numbers.'
  id: totrans-1765
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªå­å¥éƒ½ä½¿ç”¨ä¸€ä¸ªç²¾ç¡®çš„æ¡ä»¶æ¥æ ‡è¯†ç›¸åº”çš„å­ç±»ï¼š([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)
    x)é€‰æ‹©ç¬¬ä¸€ä¸ªå­ç±»ï¼Œå®ƒåªåŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œå³å­—ç¬¦ä¸²"resting"ï¼›([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)
    -3 x -1)å®Œå…¨æè¿°äº†æ•°æ®çš„ç¬¬äºŒä¸ªå­ç±»ï¼›è€Œ([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)
    x 0)æ˜¯å¯¹æ‰€æœ‰éè´Ÿæ•°çš„æµ‹è¯•ã€‚
- en: 'ExerciseÂ 54\. Why would it be incorrect to use ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)  "resting"  x)
    as the first condition in show? Conversely, formulate a completely accurate condition,
    that is, a [Boolean](#%28tech._boolean%29) expression that evaluates to #true
    precisely when x belongs to the first sub-class of [LRCD](#%28tech._itemization._lrcd%29).'
  id: totrans-1766
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 54ã€‚ä¸ºä»€ä¹ˆåœ¨showå‡½æ•°ä¸­å°†([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    "resting" x)ä½œä¸ºç¬¬ä¸€ä¸ªæ¡ä»¶æ˜¯ä¸æ­£ç¡®çš„ï¼Ÿç›¸åï¼Œåˆ¶å®šä¸€ä¸ªå®Œå…¨å‡†ç¡®çš„æ¡ä»¶ï¼Œå³ä¸€ä¸ª[å¸ƒå°”](#%28tech._boolean%29)è¡¨è¾¾å¼ï¼Œå½“ä¸”ä»…å½“xå±äº[LRCD](#%28tech._itemization._lrcd%29)çš„ç¬¬ä¸€ä¸ªå­ç±»æ—¶ï¼Œè¯¥è¡¨è¾¾å¼è¯„ä¼°ä¸º#trueã€‚
- en: 'Combining the examples and the above skeleton of the show function yields a
    complete definition in a reasonably straightforward manner:'
  id: totrans-1767
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ç¤ºä¾‹å’Œä¸Šè¿°çš„showå‡½æ•°æ¡†æ¶ç»“åˆèµ·æ¥ï¼Œå¯ä»¥ä»¥ä¸€ç§ç›¸å½“ç›´æ¥çš„æ–¹å¼å¾—åˆ°å®Œæ•´çš„å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (showÂ x)
    |'
  id: totrans-1768
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (show x) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1769
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)
    |'
  id: totrans-1770
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)
    x) |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ CENTER)Â BACKG)]
    |'
  id: totrans-1771
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    ROCKET 10 ([(-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)
    HEIGHT CENTER) BACKG)] |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)
    |'
  id: totrans-1772
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â ([number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)Â x)Â 20Â "red")
    |'
  id: totrans-1773
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â ([number->string](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29)Â x)Â 20Â "red")
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 3/4Â WIDTH)
    |'
  id: totrans-1774
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |Â Â Â 10Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 3/4Â WIDTH)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKET
    |'
  id: totrans-1775
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKET)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ CENTER)
    |'
  id: totrans-1776
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ CENTER)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKG))] |'
  id: totrans-1777
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKG)]'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)
    |'
  id: totrans-1778
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â xÂ CENTER)Â BACKG)]))
    |'
  id: totrans-1779
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â xÂ CENTER)Â BACKG)]'
- en: 'Indeed, this way of defining functions is highly effective and is an essential
    element of the full-fledged design approach in this book.ExerciseÂ 55\. Take another
    look at show. It contains three instances of an expression with the approximate
    shape:'
  id: totrans-1780
  prefs: []
  type: TYPE_NORMAL
  zh: äº‹å®ä¸Šï¼Œè¿™ç§å®šä¹‰å‡½æ•°çš„æ–¹å¼éå¸¸æœ‰æ•ˆï¼Œå¹¶ä¸”æ˜¯æœ¬ä¹¦ä¸­å…¨é¢è®¾è®¡æ–¹æ³•çš„ä¸€ä¸ªåŸºæœ¬è¦ç´ ã€‚ç»ƒä¹ 55ã€‚å†æ¬¡æŸ¥çœ‹showå‡½æ•°ã€‚å®ƒåŒ…å«ä¸‰ä¸ªå…·æœ‰è¿‘ä¼¼å½¢çŠ¶çš„è¡¨è¾¾å¼å®ä¾‹ï¼š
- en: ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â CENTER)Â BACKG)
  id: totrans-1781
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ROCKETÂ 10Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â CENTER)Â BACKG)
- en: 'This expression appears three times in the function: twice to draw a resting
    rocket and once to draw a flying rocket. Define an auxiliary function that performs
    this work and thus shorten show. Why is this a good idea? You may wish to reread
    [Prologue: How to Program](part_prologue.html).Letâ€™s move on to the second function,
    which deals with the key event to launch the rocket. We have its header material,
    so we formulate examples as tests:'
  id: totrans-1782
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªè¡¨è¾¾å¼åœ¨å‡½æ•°ä¸­å‡ºç°äº†ä¸‰æ¬¡ï¼šä¸¤æ¬¡ç”¨äºç»˜åˆ¶é™æ­¢çš„ç«ç®­ï¼Œä¸€æ¬¡ç”¨äºç»˜åˆ¶é£è¡Œçš„ç«ç®­ã€‚å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥å®Œæˆè¿™é¡¹å·¥ä½œï¼Œä»è€Œç¼©çŸ­showå‡½æ•°ã€‚ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Ÿä½ å¯èƒ½éœ€è¦é‡æ–°é˜…è¯»[åºè¨€ï¼šå¦‚ä½•ç¼–ç¨‹](part_prologue.html)ã€‚æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ç»§ç»­åˆ°ç¬¬äºŒä¸ªå‡½æ•°ï¼Œå®ƒå¤„ç†å¯åŠ¨ç«ç®­çš„å…³é”®äº‹ä»¶ã€‚æˆ‘ä»¬å·²ç»æœ‰å®ƒçš„å¤´ææ–™ï¼Œå› æ­¤æˆ‘ä»¬å°†ç¤ºä¾‹ä½œä¸ºæµ‹è¯•æ¥åˆ¶å®šï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ "resting"Â "
    ")Â -3) |'
  id: totrans-1783
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ "resting"Â "
    ")Â -3) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ "resting"Â "a")Â "resting")
    |'
  id: totrans-1784
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ "ä¼‘æ¯"Â "a")Â "ä¼‘æ¯")
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ -3Â "
    ")Â -3) |'
  id: totrans-1785
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ -3Â "
    ")Â -3) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ -1Â "
    ")Â -1) |'
  id: totrans-1786
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ -1Â "
    ")Â -1) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ 33Â "
    ")Â 33) |'
  id: totrans-1787
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ 33Â "
    ")Â 33) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ 33Â "a")Â 33)
    |'
  id: totrans-1788
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (launchÂ 33Â "a")Â 33)
    |'
- en: 'An inspection of these six examples shows that the first two are about the
    first sub-class of [LRCD](#%28tech._itemization._lrcd%29), the third and fourth
    concern the countdown, and the last two are about key events when the rocket is
    already in the air.Since writing down the sketch of a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression worked well for the design of the show function, we do it again:'
  id: totrans-1789
  prefs: []
  type: TYPE_NORMAL
  zh: æ£€æŸ¥è¿™å…­ä¸ªç¤ºä¾‹ï¼Œå‰ä¸¤ä¸ªä¸ LRCD çš„ç¬¬ä¸€ä¸ªå­ç±»æœ‰å…³ï¼Œç¬¬ä¸‰å’Œç¬¬å››ä¸ªä¸å€’è®¡æ—¶æœ‰å…³ï¼Œæœ€åä¸¤ä¸ªä¸ç«ç®­å‡ç©ºåçš„å…³é”®äº‹ä»¶æœ‰å…³ã€‚ç”±äºè®°å½• cond è¡¨è¾¾å¼çš„è‰å›¾å¯¹è®¾è®¡
    show å‡½æ•°å¾ˆæœ‰å¸®åŠ©ï¼Œæˆ‘ä»¬å†æ¬¡è¿™æ ·åšï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
  id: totrans-1790
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1791
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1792
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å­—ç¬¦ä¸²?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1793
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-1794
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å¤§äºç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: 'Looking back at the examples suggests that nothing changes when the world is
    in a state that is represented by the second or third sub-class of data. Meaning,
    launch should produce x when this happens:'
  id: totrans-1795
  prefs: []
  type: TYPE_NORMAL
  zh: å›é¡¾è¿™äº›ç¤ºä¾‹è¡¨æ˜ï¼Œå½“ä¸–ç•Œå¤„äºç”±æ•°æ®çš„ç¬¬äºŒæˆ–ç¬¬ä¸‰ä¸ªå­ç±»è¡¨ç¤ºçš„çŠ¶æ€æ—¶ï¼Œæ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œlaunch åº”è¯¥äº§ç”Ÿ xï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
  id: totrans-1796
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1797
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1798
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â x]
    |'
  id: totrans-1799
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â x]
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â x]))
    |'
  id: totrans-1800
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â x]))
    |'
- en: 'Finally, the first example identifies the exact case when the launch function
    produces a new world state:'
  id: totrans-1801
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œç¬¬ä¸€ä¸ªç¤ºä¾‹ç¡®å®šäº†å½“å¯åŠ¨å‡½æ•°äº§ç”Ÿæ–°çš„ä¸–ç•ŒçŠ¶æ€æ—¶çš„ç¡®åˆ‡æƒ…å†µï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
  id: totrans-1802
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (launchÂ xÂ ke)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1803
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "
    "Â ke)Â -3Â x)] |'
  id: totrans-1804
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "
    "Â ke)Â -3Â x)] |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â x]
    |'
  id: totrans-1805
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â x]
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â x]))
    |'
  id: totrans-1806
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â x]))
    |'
- en: 'Specifically, when the state of the world is "resting" and the user presses
    the space bar, the function starts the countdown with -3.Copy the code into the
    definitions area of DrRacket and ensure that the above definitions work. At that
    point, you may wish to add a function for running the program:'
  id: totrans-1807
  prefs: []
  type: TYPE_NORMAL
  zh: å…·ä½“æ¥è¯´ï¼Œå½“ä¸–ç•ŒçŠ¶æ€ä¸ºâ€œä¼‘æ¯â€ä¸”ç”¨æˆ·æŒ‰ä¸‹ç©ºæ ¼é”®æ—¶ï¼Œå‡½æ•°ä»¥-3å¼€å§‹å€’è®¡æ—¶ã€‚å°†ä»£ç å¤åˆ¶åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸï¼Œå¹¶ç¡®ä¿ä¸Šè¿°å®šä¹‰æ­£å¸¸å·¥ä½œã€‚åˆ°é‚£æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›æ·»åŠ ä¸€ä¸ªè¿è¡Œç¨‹åºçš„åŠŸèƒ½ï¼š
- en: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [LRCD](#%28tech._itemization._lrcd%29)
    |'
  id: totrans-1808
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [LRCD](#%28tech._itemization._lrcd%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (main1Â s)
    |'
  id: totrans-1809
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (main1Â s)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s
    |'
  id: totrans-1810
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s
    |'
- en: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â show]
    |'
  id: totrans-1811
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â show]
    |'
- en: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â launch]))
    |'
  id: totrans-1812
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â launch]))
    |'
- en: This function does not specify what to do when the clock ticks; after all, we
    havenâ€™t designed fly yet. Still, with main1 it is possible to run this incomplete
    version of the program and to check that you can start the countdown. What would
    you provide as the argument in a call to main1?
  id: totrans-1813
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å‡½æ•°æœªæŒ‡å®šæ—¶é’Ÿæ»´ç­”æ—¶åº”è¯¥åšä»€ä¹ˆï¼›æ¯•ç«Ÿï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰è®¾è®¡é£è¡Œã€‚å°½ç®¡å¦‚æ­¤ï¼Œä½¿ç”¨main1å¯ä»¥è¿è¡Œè¿™ä¸ªä¸å®Œæ•´çš„ç¨‹åºç‰ˆæœ¬ï¼Œå¹¶æ£€æŸ¥ä½ æ˜¯å¦å¯ä»¥å¼€å§‹å€’è®¡æ—¶ã€‚ä½ ä¼šåœ¨å¯¹main1çš„è°ƒç”¨ä¸­æä¾›ä»€ä¹ˆä½œä¸ºå‚æ•°ï¼Ÿ
- en: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [LRCD](#%28tech._itemization._lrcd%29)
    |'
  id: totrans-1814
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [LRCD](#%28tech._itemization._lrcd%29) -> [LRCD](#%28tech._itemization._lrcd%29)
    |'
- en: '| ;Â raises the rocket by YDELTA if it is moving already |'
  id: totrans-1815
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœç«ç®­å·²ç»åœ¨ç§»åŠ¨ï¼Œåˆ™å°†å…¶æå‡YDELTA |'
- en: '| Â  |'
  id: totrans-1816
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ "resting")Â "resting")
    |'
  id: totrans-1817
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ "resting")Â "resting")
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ -3)Â -2)
    |'
  id: totrans-1818
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ -3)Â -2)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ -2)Â -1)
    |'
  id: totrans-1819
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ -2)Â -1)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ -1)Â HEIGHT)
    |'
  id: totrans-1820
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ -1)Â HEIGHT)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ 10)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 10Â YDELTA))
    |'
  id: totrans-1821
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ 10)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 10Â YDELTA))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ 22)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 22Â YDELTA))
    |'
  id: totrans-1822
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (flyÂ 22)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â 22Â YDELTA))
    |'
- en: '| Â  |'
  id: totrans-1823
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (flyÂ x)
    |'
  id: totrans-1824
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (flyÂ x)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1825
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â x]
    |'
  id: totrans-1826
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â x]
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ -1)Â HEIGHTÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â xÂ 1))]
    |'
  id: totrans-1827
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â -3Â xÂ -1)Â ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)Â xÂ -1)Â HEIGHTÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â xÂ 1))]
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â xÂ YDELTA)]))
    |'
  id: totrans-1828
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â xÂ 0)Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â xÂ YDELTA))]
    |'
- en: ''
  id: totrans-1829
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 25: Launching a countdown and a liftoff'
  id: totrans-1830
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾25ï¼šå¯åŠ¨å€’è®¡æ—¶å’Œèµ·é£
- en: The design of flyâ€”<wbr>the clock-tick handlerâ€”<wbr>proceeds just like the design
    of the preceding two functions, and [figureÂ 25](#%28counter._itemization._%28figure._fig~3acountdown%29%29)
    displays the result of the design process. Once again the key is to cover the
    space of possible input data with a goodly bunch of examples, especially for the
    two intervals. These examples ensure that the countdown and the transition from
    the countdown to the liftoff work properly.
  id: totrans-1831
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ flyâ€”the clock-tick handler çš„è¿‡ç¨‹ä¸å‰é¢ä¸¤ä¸ªå‡½æ•°çš„è®¾è®¡è¿‡ç¨‹ä¸€æ ·ï¼Œ[å›¾ 25](#%28counter._itemization._%28figure._fig~3acountdown%29%29)
    æ˜¾ç¤ºäº†è®¾è®¡è¿‡ç¨‹çš„ç»“æœã€‚åŒæ ·ï¼Œå…³é”®åœ¨äºç”¨å¤§é‡ç¤ºä¾‹è¦†ç›–å¯èƒ½çš„è¾“å…¥æ•°æ®ç©ºé—´ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸¤ä¸ªåŒºé—´ã€‚è¿™äº›ç¤ºä¾‹ç¡®ä¿å€’è®¡æ—¶å’Œä»å€’è®¡æ—¶åˆ°èµ·é£çš„è¿‡æ¸¡èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚
- en: ExerciseÂ 56\. Define main2 so that you can launch the rocket and watch it lift
    off. Read up on the [on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)
    clause to determine the length of one tick and how to change it.
  id: totrans-1832
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  56ã€‚å®šä¹‰ main2ï¼Œä»¥ä¾¿ä½ å¯ä»¥å¯åŠ¨ç«ç®­å¹¶è§‚çœ‹å®ƒå‡ç©ºã€‚æŸ¥é˜…å…³äº [on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)
    å­å¥çš„èµ„æ–™ï¼Œä»¥ç¡®å®šä¸€ä¸ª tick çš„é•¿åº¦ä»¥åŠå¦‚ä½•æ›´æ”¹å®ƒã€‚
- en: If you watch the entire launch, you will notice that once the rocket reaches
    the top something curious happens. Explain. Add a [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    clause to main2 so that the simulation of the liftoff stops gracefully when the
    rocket is out of sight.
  id: totrans-1833
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è§‚çœ‹äº†æ•´ä¸ªå‘å°„è¿‡ç¨‹ï¼Œä½ ä¼šæ³¨æ„åˆ°å½“ç«ç®­åˆ°è¾¾é¡¶éƒ¨æ—¶ï¼Œä¼šå‘ç”Ÿä¸€äº›å¥‡æ€ªçš„äº‹æƒ…ã€‚è§£é‡Šä¸€ä¸‹ã€‚å‘ main2 æ·»åŠ ä¸€ä¸ª [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    å­å¥ï¼Œä»¥ä¾¿å½“ç«ç®­æ¶ˆå¤±åœ¨è§†çº¿ä¹‹å¤–æ—¶ï¼Œèµ·é£çš„æ¨¡æ‹Ÿèƒ½å¤Ÿä¼˜é›…åœ°åœæ­¢ã€‚
- en: The solution of [exerciseÂ 56](#%28counter._itemization._%28exercise._cond7%29%29)
    yields a complete, working program, but one that behaves a bit strangely. Experienced
    programmers tell you that using negative numbers to represent the countdown phase
    is too â€œbrittle.â€ The next chapter introduces the means to provide a good data
    definition for this problem. Before we go there, however, the next section spells
    out in detail how to design programs that consume data described by itemizations.
  id: totrans-1834
  prefs: []
  type: TYPE_NORMAL
  zh: '[ç»ƒä¹  56](#%28counter._itemization._%28exercise._cond7%29%29) çš„è§£å†³æ–¹æ¡ˆäº§ç”Ÿäº†ä¸€ä¸ªå®Œæ•´ã€å¯å·¥ä½œçš„ç¨‹åºï¼Œä½†å®ƒçš„è¡Œä¸ºæœ‰ç‚¹å¥‡æ€ªã€‚ç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜å‘Šè¯‰ä½ ï¼Œä½¿ç”¨è´Ÿæ•°æ¥è¡¨ç¤ºå€’è®¡æ—¶é˜¶æ®µå¤ªâ€œè„†å¼±â€äº†ã€‚ä¸‹ä¸€ç« å°†ä»‹ç»ä¸ºè¿™ä¸ªé—®é¢˜æä¾›è‰¯å¥½æ•°æ®å®šä¹‰çš„æ–¹æ³•ã€‚ç„¶è€Œï¼Œåœ¨å‰å¾€é‚£é‡Œä¹‹å‰ï¼Œä¸‹ä¸€èŠ‚å°†è¯¦ç»†è¯´æ˜å¦‚ä½•è®¾è®¡æ¶ˆè´¹ç”±åˆ—ä¸¾æè¿°çš„æ•°æ®çš„ç¨‹åºã€‚'
- en: ExerciseÂ 57\. Recall that the word â€œheightâ€ forced us to choose one of two possible
    interpretations. Now that you have solved the exercises in this section, solve
    them again using the first interpretation of the word. Compare and contrast the
    solutions.
  id: totrans-1835
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  57ã€‚å›æƒ³ä¸€ä¸‹ï¼Œâ€œé«˜åº¦â€è¿™ä¸ªè¯è¿«ä½¿æˆ‘ä»¬é€‰æ‹©ä¸¤ç§å¯èƒ½çš„è§£é‡Šä¹‹ä¸€ã€‚ç°åœ¨ä½ å·²ç»å®Œæˆäº†æœ¬èŠ‚çš„æ‰€æœ‰ç»ƒä¹ ï¼Œè¯·ä½¿ç”¨â€œé«˜åº¦â€è¿™ä¸ªè¯çš„ç¬¬ä¸€ä¸ªè§£é‡Šå†æ¬¡è§£å†³å®ƒä»¬ã€‚æ¯”è¾ƒå’Œå¯¹æ¯”è§£å†³æ–¹æ¡ˆã€‚
- en: 4.6Designing with Itemizations[ğŸ”—](#(part._sec~3adesign-itemization) "Link to
    here")
  id: totrans-1836
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.6 ä½¿ç”¨åˆ—ä¸¾è®¾è®¡[ğŸ”—](#(part._sec~3adesign-itemization) "é“¾æ¥è‡³æ­¤")
- en: What the preceding three sections have clarified is that the design of functions
    canâ€”<wbr>and mustâ€”<wbr>exploit the organization of the data definition. Specifically,
    if a data definition singles out certain pieces of data or specifies ranges of
    data, then the creation of examples and the organization of the function reflect
    these cases and ranges.
  id: totrans-1837
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ä¸‰ä¸ªéƒ¨åˆ†æ‰€é˜æ˜çš„æ˜¯ï¼Œå‡½æ•°çš„è®¾è®¡å¯ä»¥â€”â€”è€Œä¸”å¿…é¡»â€”â€”åˆ©ç”¨æ•°æ®å®šä¹‰çš„ç»„ç»‡ç»“æ„ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®å®šä¹‰çªå‡ºäº†æŸäº›æ•°æ®æˆ–æŒ‡å®šäº†æ•°æ®çš„èŒƒå›´ï¼Œé‚£ä¹ˆç¤ºä¾‹çš„åˆ›å»ºå’Œå‡½æ•°çš„ç»„ç»‡å°†åæ˜ è¿™äº›æƒ…å†µå’ŒèŒƒå›´ã€‚
- en: 'In this section, we refine the design recipe of [From Functions to Programs](#%28part._sec~3adesign%29)
    so that you can proceed in a systematic manner when you encounter problems concerning
    functions that consume itemizations, including enumerations and intervals. To
    keep the explanation grounded, we illustrate the six design steps with the following,
    somewhat simplistic, example:'
  id: totrans-1838
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»†åŒ–äº† [ä»å‡½æ•°åˆ°ç¨‹åº](#%28part._sec~3adesign%29) çš„è®¾è®¡é…æ–¹ï¼Œä»¥ä¾¿ä½ åœ¨é‡åˆ°æœ‰å…³æ¶ˆè´¹åˆ—ä¸¾ï¼ˆåŒ…æ‹¬æšä¸¾å’ŒåŒºé—´ï¼‰çš„å‡½æ•°çš„é—®é¢˜æ—¶ï¼Œå¯ä»¥ç³»ç»Ÿåœ°å¤„ç†ã€‚ä¸ºäº†ä½¿è§£é‡Šæ›´åŠ å…·ä½“ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ç›¸å¯¹ç®€å•çš„ç¤ºä¾‹æ¥è¯´æ˜å…­ä¸ªè®¾è®¡æ­¥éª¤ï¼š
- en: Sample Problem The state of Tax Land has created a three-stage sales tax to
    cope with its budget deficit. Inexpensive items, those costing less than $1,000,
    are not taxed. Luxury items, with a price of more than $10,000, are taxed at the
    rate of eight percent (8.00%). Everything in between comes with a five percent
    (5.00%) markup.
  id: totrans-1839
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·æœ¬é—®é¢˜ï¼šTax Landå·ä¸ºäº†åº”å¯¹å…¶é¢„ç®—èµ¤å­—ï¼Œåˆ¶å®šäº†ä¸€ä¸ªä¸‰é˜¶æ®µçš„é”€å”®ç¨ã€‚ä»·æ ¼ä½äº1000ç¾å…ƒçš„ä¾¿å®œç‰©å“ä¸å¾ç¨ã€‚ä»·æ ¼è¶…è¿‡10000ç¾å…ƒçš„å¥¢ä¾ˆå“æŒ‰8%ï¼ˆ8.00%ï¼‰çš„ç¨ç‡å¾ç¨ã€‚ä»‹äºä¸¤è€…ä¹‹é—´çš„ç‰©å“åŠ æ”¶5%ï¼ˆ5.00%ï¼‰çš„é™„åŠ è´¹ã€‚
- en: ''
  id: totrans-1840
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Design a function for a cash register that, given the price of an item, computes
    the sales tax.
  id: totrans-1841
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªç”¨äºæ”¶é“¶æœºçš„å‡½æ•°ï¼Œç»™å®šç‰©å“çš„ä»·æ ¼ï¼Œè®¡ç®—é”€å”®ç¨ã€‚
- en: 'Keep this problem in mind as we revise the steps of the design recipe:'
  id: totrans-1842
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬ä¿®è®¢è®¾è®¡æ­¥éª¤æ—¶ï¼Œè¯·è®°ä½è¿™ä¸ªé—®é¢˜ï¼š
- en: When the problem statement distinguishes different classes of input information,
    you need carefully formulated data definitions.
  id: totrans-1843
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å½“é—®é¢˜é™ˆè¿°åŒºåˆ†ä¸åŒçš„è¾“å…¥ä¿¡æ¯ç±»åˆ«æ—¶ï¼Œä½ éœ€è¦ä»”ç»†åˆ¶å®šæ•°æ®å®šä¹‰ã€‚
- en: A data definition must use distinct clauses for each sub-class of data or in
    some cases just individual pieces of data. Each clause specifies a data representation
    for a particular sub-class of information. The key is that each sub-class of data
    is distinct from every other class, so that our function can proceed by analyzing
    disjoint cases.
  id: totrans-1844
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ•°æ®å®šä¹‰å¿…é¡»ä¸ºæ¯ä¸ªæ•°æ®å­ç±»ä½¿ç”¨ä¸åŒçš„å­å¥ï¼Œæˆ–è€…åœ¨æŸäº›æƒ…å†µä¸‹åªæ˜¯å•ä¸ªæ•°æ®é¡¹ã€‚æ¯ä¸ªå­å¥æŒ‡å®šç‰¹å®šä¿¡æ¯å­ç±»çš„æ•°æ®è¡¨ç¤ºã€‚å…³é”®æ˜¯æ¯ä¸ªæ•°æ®å­ç±»ä¸å…¶ä»–æ¯ä¸ªç±»åˆ«éƒ½ä¸åŒï¼Œè¿™æ ·æˆ‘ä»¬çš„å‡½æ•°å°±å¯ä»¥é€šè¿‡åˆ†æä¸ç›¸äº¤çš„æ¡ˆä¾‹æ¥æ‰§è¡Œã€‚
- en: 'Our sample problem deals with prices and taxes, which are usually positive
    numbers. It also clearly distinguishes three ranges:'
  id: totrans-1845
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„è¿™ä¸ªæ ·æœ¬é—®é¢˜å¤„ç†ä»·æ ¼å’Œç¨æ”¶ï¼Œè¿™äº›é€šå¸¸æ˜¯æ­£æ•°ã€‚å®ƒè¿˜æ¸…æ¥šåœ°åŒºåˆ†äº†ä¸‰ä¸ªèŒƒå›´ï¼š
- en: '| ;Â A Price falls into one of three intervals: |'
  id: totrans-1846
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»·æ ¼åˆ†ä¸ºä¸‰ä¸ªåŒºé—´ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€”<wbr>  0 through 1000 |'
  id: totrans-1847
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  0è‡³1000 |'
- en: '| ;Â â€”<wbr>  1000 through 10000 |'
  id: totrans-1848
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  1000è‡³10000 |'
- en: '| ;Â â€”<wbr>  10000 and above. |'
  id: totrans-1849
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  10000ä»¥ä¸Šã€‚ |'
- en: '| ;Â interpretation the price of an itemÂ Â  |'
  id: totrans-1850
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šç‰©å“çš„ä»·æ ¼ |'
- en: Do you understand how these ranges relate to the original problem?
  id: totrans-1851
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä½ ç†è§£è¿™äº›èŒƒå›´å¦‚ä½•ä¸åŸå§‹é—®é¢˜ç›¸å…³å—ï¼Ÿ
- en: As far as the signature, purpose statement, and function header are concerned,
    you proceed as before.
  id: totrans-1852
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°±ç­¾åã€ç›®çš„é™ˆè¿°å’Œå‡½æ•°å¤´è€Œè¨€ï¼Œä½ å°†åƒä»¥å‰ä¸€æ ·è¿›è¡Œã€‚
- en: Here is the material for our running example:Developers in the real world do
    not use plain numbers in the chosen programming language for representing amounts
    of money. See intermezzo 4 for some problems with numbers.
  id: totrans-1853
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯æˆ‘ä»¬è¿è¡Œç¤ºä¾‹çš„ææ–™ï¼šç°å®ä¸–ç•Œä¸­çš„å¼€å‘è€…ä¸ä¼šåœ¨æ‰€é€‰ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨çº¯æ•°å­—æ¥è¡¨ç¤ºé‡‘é¢ã€‚å‚è§ç¬¬4éƒ¨åˆ†ä¸­å…³äºæ•°å­—çš„ä¸€äº›é—®é¢˜ã€‚
- en: '| ;Â [Price](#%28tech._price%29) -> [Number](#%28tech._number%29) |'
  id: totrans-1854
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä»·æ ¼](#%28tech._price%29) -> [æ•°å­—](#%28tech._number%29) |'
- en: '| ;Â computes the amount of tax charged for p |'
  id: totrans-1855
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è®¡ç®—å¯¹pæ”¶å–çš„ç¨é¢ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (sales-taxÂ p)Â 0)
    |'
  id: totrans-1856
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (sales-taxÂ p)Â 0)
    |'
- en: For functional examples, however, it is imperative that you pick at least one
    example from each sub-class in the data definition. Also, if a sub-class is a
    finite range, be sure to pick examples from the boundaries of the range and from
    its interior.
  id: totrans-1857
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¯¹äºåŠŸèƒ½ç¤ºä¾‹ï¼Œä½ å¿…é¡»ä»æ•°æ®å®šä¹‰ä¸­çš„æ¯ä¸ªå­ç±»è‡³å°‘é€‰æ‹©ä¸€ä¸ªç¤ºä¾‹ã€‚æ­¤å¤–ï¼Œå¦‚æœä¸€ä¸ªå­ç±»æ˜¯æœ‰é™çš„èŒƒå›´ï¼Œç¡®ä¿ä»èŒƒå›´è¾¹ç•Œå’Œå†…éƒ¨é€‰æ‹©ç¤ºä¾‹ã€‚
- en: 'Since our sample data definition involves three distinct intervals, letâ€™s pick
    all boundary examples and one price from inside each interval and determine the
    amount of tax for each: 0, 537, 1000, 1282, 10000, and 12017.'
  id: totrans-1858
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬çš„æ ·æœ¬æ•°æ®å®šä¹‰æ¶‰åŠä¸‰ä¸ªä¸åŒçš„åŒºé—´ï¼Œè®©æˆ‘ä»¬æŒ‘é€‰æ¯ä¸ªåŒºé—´çš„è¾¹ç•Œç¤ºä¾‹ä»¥åŠæ¯ä¸ªåŒºé—´å†…éƒ¨çš„ä¸€ä¸ªä»·æ ¼ï¼Œå¹¶ç¡®å®šæ¯ä¸ªä»·æ ¼çš„ç¨ç‡ï¼š0ï¼Œ537ï¼Œ1000ï¼Œ1282ï¼Œ10000ï¼Œå’Œ12017ã€‚
- en: Stop! Try to calculate the tax for each of these prices.
  id: totrans-1859
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼å°è¯•è®¡ç®—è¿™äº›ä»·æ ¼ä¸­çš„æ¯ä¸ªä»·æ ¼çš„ç¨ç‡ã€‚
- en: 'Here is our first attempt, with rounded tax amounts:'
  id: totrans-1860
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€æ¬¡å°è¯•ï¼Œå¸¦æœ‰å››èˆäº”å…¥çš„ç¨é¢ï¼š
- en: '| 0 |  | 537 |  | 1000 |  | 1282 |  | 10000 |  | 12017 |'
  id: totrans-1861
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 0 |  | 537 |  | 1000 |  | 1282 |  | 10000 |  | 12017 |'
- en: '| 0 |  | 0 |  | ???? |  | 64 |  | ????? |  | 961 |'
  id: totrans-1862
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 0 |  | 0 |  | ???? |  | 64 |  | ????? |  | 961 |'
- en: The question marks point out that the problem statement uses the vague phrase
    â€œthose costing less than $1,000â€ and â€œmore than $10,000â€ to specify the tax table.
    While a programmer may jump to the conclusion that these words mean â€œstrictly
    lessâ€ or â€œstrictly more,â€ the lawmakers may have meant to say â€œless than or equal
    toâ€ or â€œmore than or equal to,â€ respectively. Being skeptical, we decide here
    that Tax Land legislators always want more money to spend, so the tax rate for
    $1,000 is 5% and the rate for $10,000 is 8%. A programmer at a tax company would
    have to ask a tax-law specialist.
  id: totrans-1863
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: é—®å·è¡¨æ˜é—®é¢˜é™ˆè¿°ä½¿ç”¨äº†æ¨¡ç³Šçš„çŸ­è¯­â€œé‚£äº›ä»·æ ¼ä½äº$1,000â€å’Œâ€œé«˜äº$10,000â€æ¥æŒ‡å®šç¨ç‡è¡¨ã€‚è™½ç„¶ç¨‹åºå‘˜å¯èƒ½ä¼šå¾—å‡ºç»“è®ºï¼Œè¿™äº›è¯æ„å‘³ç€â€œä¸¥æ ¼å°äºâ€æˆ–â€œä¸¥æ ¼å¤§äºâ€ï¼Œä½†ç«‹æ³•è€…å¯èƒ½æ„å›¾è¡¨è¾¾çš„æ˜¯â€œå°äºæˆ–ç­‰äºâ€æˆ–â€œå¤§äºæˆ–ç­‰äºâ€ï¼Œåˆ†åˆ«ã€‚æŒæ€€ç–‘æ€åº¦ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå†³å®šï¼Œç¨åœ°ç«‹æ³•è€…æ€»æ˜¯å¸Œæœ›æœ‰æ›´å¤šçš„é’±å¯ä»¥èŠ±ï¼Œæ‰€ä»¥$1,000çš„ç¨ç‡æ˜¯5%ï¼Œè€Œ$10,000çš„ç¨ç‡æ˜¯8%ã€‚åœ¨ç¨åŠ¡å…¬å¸å·¥ä½œçš„ç¨‹åºå‘˜å¿…é¡»å’¨è¯¢ç¨åŠ¡æ³•å¾‹ä¸“å®¶ã€‚
- en: Now that we have figured out how the boundaries are to be interpreted in the
    domain, we could refine the data definition. We trust you can do this on your
    own.
  id: totrans-1864
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ—¢ç„¶æˆ‘ä»¬å·²ç»å¼„æ¸…æ¥šäº†è§£é‡ŠåŸŸä¸­è¾¹ç•Œçš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»†åŒ–æ•°æ®å®šä¹‰ã€‚æˆ‘ä»¬ç›¸ä¿¡ä½ èƒ½è‡ªå·±å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚
- en: 'Before we go, letâ€™s turn some of the examples into test cases:'
  id: totrans-1865
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å°†ä¸€äº›ç¤ºä¾‹è½¬æ¢ä¸ºæµ‹è¯•ç”¨ä¾‹ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (sales-taxÂ 537)Â 0)
    |'
  id: totrans-1866
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (sales-taxÂ 537)Â 0)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (sales-taxÂ 1000)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.05Â 1000))
    |'
  id: totrans-1867
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (sales-taxÂ 1000)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.05Â 1000))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (sales-taxÂ 12017)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.08Â 12017))
    |'
  id: totrans-1868
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (sales-taxÂ 12017)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.08Â 12017))
    |'
- en: Take a close look. Instead of just writing down the expected result, we write
    down how to compute the expected result. This makes it easier later to formulate
    the function definition.
  id: totrans-1869
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä»”ç»†è§‚å¯Ÿã€‚æˆ‘ä»¬ä¸ä»…å†™ä¸‹é¢„æœŸçš„ç»“æœï¼Œè¿˜å†™ä¸‹å¦‚ä½•è®¡ç®—é¢„æœŸçš„ç»“æœã€‚è¿™ä½¿å¾—åæ¥åˆ¶å®šå‡½æ•°å®šä¹‰æ›´å®¹æ˜“ã€‚
- en: Stop! Write down the remaining test cases. Think about why you may need more
    test cases than sub-classes in the data definition.
  id: totrans-1870
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼å†™ä¸‹å‰©ä½™çš„æµ‹è¯•ç”¨ä¾‹ã€‚æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆä½ å¯èƒ½éœ€è¦çš„æµ‹è¯•ç”¨ä¾‹æ¯”æ•°æ®å®šä¹‰ä¸­çš„å­ç±»è¿˜å¤šã€‚
- en: The biggest novelty is the conditional template. In general,
  id: totrans-1871
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€å¤§çš„åˆ›æ–°æ˜¯æ¡ä»¶æ¨¡æ¿ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ
- en: the template mirrors the organization of sub-classes with a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29).
  id: totrans-1872
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¨¡æ¿åæ˜ äº†å­ç±»çš„ç»„ç»‡ç»“æ„ï¼Œä¸[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)ç›¸å¯¹åº”ã€‚
- en: 'This slogan means two concrete things. First, the functionâ€™s body must be a
    conditional expression with as many clauses as there are distinct sub-classes
    in the data definition. If the data definition mentions three distinct sub-classes
    of input data, you need three [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses; if it has seventeen sub-classes, the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression contains seventeen clauses. Second, you must formulate one condition
    expression per [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause. Each expression involves the function parameter and identifies one of
    the sub-classes of data in the data definition:'
  id: totrans-1873
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ ‡è¯­æ„å‘³ç€ä¸¤ä»¶äº‹ã€‚é¦–å…ˆï¼Œå‡½æ•°ä½“å¿…é¡»æ˜¯ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œå…¶å­å¥çš„æ•°é‡ä¸æ•°æ®å®šä¹‰ä¸­ä¸åŒçš„å­ç±»æ•°é‡ç›¸åŒã€‚å¦‚æœæ•°æ®å®šä¹‰æåˆ°äº†ä¸‰ä¸ªä¸åŒçš„è¾“å…¥æ•°æ®å­ç±»ï¼Œä½ éœ€è¦ä¸‰ä¸ª
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    å­å¥ï¼›å¦‚æœæœ‰åä¸ƒä¸ªå­ç±»ï¼Œ[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼åŒ…å«åä¸ƒä¸ªå­å¥ã€‚å…¶æ¬¡ï¼Œä½ å¿…é¡»ä¸ºæ¯ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    å­å¥åˆ¶å®šä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ã€‚æ¯ä¸ªè¡¨è¾¾å¼éƒ½æ¶‰åŠå‡½æ•°å‚æ•°ï¼Œå¹¶è¯†åˆ«æ•°æ®å®šä¹‰ä¸­çš„ä¸€ä¸ªæ•°æ®å­ç±»ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (sales-taxÂ p)
    |'
  id: totrans-1874
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (sales-tax p) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1875
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â p)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â pÂ 1000))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1876
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)
    0 p) ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)
    p 1000)) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 1000Â p)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â pÂ 10000))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-1877
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)
    1000 p) ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)
    p 10000)) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â pÂ 10000)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-1878
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)
    p 10000) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: When you have finished the template, you are ready to define the function. Given
    that the function body already contains a schematic [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression, it is natural to start from the various [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines. For each [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line, you may assume that the input parameter meets the condition and so you exploit
    the corresponding test cases. To formulate the corresponding result expression,
    you write down the computation for this example as an expression that involves
    the function parameter. Ignore all other possible kinds of input data when you
    work on one line; the other [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses take care of those.
  id: totrans-1879
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å½“ä½ å®Œæˆæ¨¡æ¿åï¼Œä½ å°±å¯ä»¥å®šä¹‰å‡½æ•°äº†ã€‚é‰´äºå‡½æ•°ä½“å·²ç»åŒ…å«äº†ä¸€ä¸ªç¤ºä¾‹æ€§çš„ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡¨è¾¾å¼ï¼Œä»å„ç§ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡Œå¼€å§‹æ˜¯å¾ˆè‡ªç„¶çš„ã€‚å¯¹äºæ¯ä¸€æ¡ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡Œï¼Œä½ å¯ä»¥å‡è®¾è¾“å…¥å‚æ•°æ»¡è¶³æ¡ä»¶ï¼Œå› æ­¤ä½ å¯ä»¥åˆ©ç”¨ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ã€‚ä¸ºäº†åˆ¶å®šç›¸åº”çš„ç»“æœè¡¨è¾¾å¼ï¼Œä½ å°†è¿™ä¸ªç¤ºä¾‹çš„è®¡ç®—å†™æˆä¸€ä¸ªæ¶‰åŠå‡½æ•°å‚æ•°çš„è¡¨è¾¾å¼ã€‚å½“ä½ å¤„ç†ä¸€è¡Œæ—¶ï¼Œå¿½ç•¥æ‰€æœ‰å…¶ä»–å¯èƒ½çš„è¾“å…¥æ•°æ®ï¼›å…¶ä»–
    [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    ä»å¥ä¼šå¤„ç†è¿™äº›ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (sales-taxÂ p)
    |'
  id: totrans-1880
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (sales-tax p) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-1881
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â p)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â pÂ 1000))Â 0]
    |'
  id: totrans-1882
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)
    0 p) ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)
    p 1000)) 0] |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 1000Â p)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â pÂ 10000))Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.05Â p)]
    |'
  id: totrans-1883
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)
    1000 p) ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)
    p 10000)) ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)
    0.05 p)] |'
- en: '| Â Â Â Â [([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)Â pÂ 10000)Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 0.08Â p)]))
    |'
  id: totrans-1884
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([>=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e~3d%29%29)
    p 10000) ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)
    0.08 p))) |'
- en: Finally, run the tests and ensure that they cover all [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses.
  id: totrans-1885
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œè¿è¡Œæµ‹è¯•å¹¶ç¡®ä¿å®ƒä»¬è¦†ç›–äº†æ‰€æœ‰çš„ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    ä»å¥ã€‚
- en: What do you do when one of your test cases fails? Review the end of [Designing
    Functions](#%28part._sec~3adesign-func%29) concerning test failures.
  id: totrans-1886
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å½“ä½ çš„æŸä¸ªæµ‹è¯•ç”¨ä¾‹å¤±è´¥æ—¶ï¼Œä½ åº”è¯¥å›é¡¾æœ‰å…³æµ‹è¯•å¤±è´¥çš„ [è®¾è®¡å‡½æ•°](#%28part._sec~3adesign-func%29) çš„å†…å®¹ã€‚
- en: ExerciseÂ 58\. Introduce constant definitions that separate the intervals for
    low prices and luxury prices from the others so that the legislators in Tax Land
    can easily raise the taxes even more.
  id: totrans-1887
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 58. å¼•å…¥å¸¸æ•°å®šä¹‰ï¼Œå°†ä½ä»·æ ¼å’Œå¥¢ä¾ˆå“ä»·æ ¼åŒºé—´ä¸å…¶ä»–åŒºé—´åˆ†å¼€ï¼Œä»¥ä¾¿ç¨åŠ¡é¢†åŸŸçš„ç«‹æ³•è€…å¯ä»¥è½»æ¾åœ°è¿›ä¸€æ­¥æé«˜ç¨æ”¶ã€‚
- en: 4.7Finite State Worlds[ğŸ”—](#(part._sec~3aworlds-more) "Link to here")
  id: totrans-1888
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.7æœ‰é™çŠ¶æ€ä¸–ç•Œ[ğŸ”—](#(part._sec~3aworlds-more) "é“¾æ¥åˆ°æ­¤å¤„")
- en: With the design knowledge in this chapter, you can develop a complete simulation
    of American traffic lights. When such a light is green and it is time to stop
    the traffic, the light turns yellow, and, after that, it turns red. When the light
    is red and it is time to get the traffic going, the light simply switches to green.
  id: totrans-1889
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ©ç”¨æœ¬ç« çš„è®¾è®¡çŸ¥è¯†ï¼Œä½ å¯ä»¥å¼€å‘ä¸€ä¸ªå®Œæ•´çš„ç¾å›½äº¤é€šç¯æ¨¡æ‹Ÿã€‚å½“è¿™ç§ç¯æ˜¯ç»¿è‰²ä¸”æ˜¯æ—¶å€™åœæ­¢äº¤é€šæ—¶ï¼Œç¯ä¼šå˜æˆé»„è‰²ï¼Œç„¶åå˜æˆçº¢è‰²ã€‚å½“ç¯æ˜¯çº¢è‰²ä¸”æ˜¯æ—¶å€™è®©äº¤é€šæµåŠ¨æ—¶ï¼Œç¯ç®€å•åœ°åˆ‡æ¢åˆ°ç»¿è‰²ã€‚
- en: '![image](../Images/d95c02351c47201658e054e482501c71.png)'
  id: totrans-1890
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d95c02351c47201658e054e482501c71.png)'
- en: ''
  id: totrans-1891
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 26: How a traffic light functions'
  id: totrans-1892
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[å›¾26](#%28counter._%28figure._fig~3atraffic-light%29%29)ï¼šäº¤é€šç¯çš„å·¥ä½œåŸç†'
- en: 'The left-hand side of [FigureÂ 26](#%28counter._%28figure._fig~3atraffic-light%29%29)
    summarizes this description as a state transition diagram. Such a diagram consists
    of states and arrows that connect these states. Each state depicts a traffic light
    in one particular configuration: red, yellow, or green. Each arrow shows how the
    world can change, from which state it can transition to another state. Our sample
    diagram contains three arrows, because there are three possible ways in which
    the traffic light can change. Labels on the arrows indicate the reason for changes;
    a traffic light transitions from one state to another as time passes.'
  id: totrans-1893
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾26](#%28counter._%28figure._fig~3atraffic-light%29%29)çš„å·¦ä¾§å°†æ­¤æè¿°æ€»ç»“ä¸ºçŠ¶æ€è½¬æ¢å›¾ã€‚æ­¤ç±»å›¾ç”±çŠ¶æ€å’Œè¿æ¥è¿™äº›çŠ¶æ€çš„ç®­å¤´ç»„æˆã€‚æ¯ä¸ªçŠ¶æ€æè¿°äº†ä¸€ç§ç‰¹å®šé…ç½®çš„äº¤é€šç¯ï¼šçº¢è‰²ã€é»„è‰²æˆ–ç»¿è‰²ã€‚æ¯æ¡ç®­å¤´æ˜¾ç¤ºä¸–ç•Œå¦‚ä½•å˜åŒ–ï¼Œä»¥åŠå®ƒå¯ä»¥ä»å“ªä¸ªçŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚æˆ‘ä»¬çš„ç¤ºä¾‹å›¾åŒ…å«ä¸‰æ¡ç®­å¤´ï¼Œå› ä¸ºäº¤é€šç¯æœ‰ä¸‰ç§å¯èƒ½çš„å˜åŒ–æ–¹å¼ã€‚ç®­å¤´ä¸Šçš„æ ‡ç­¾è¡¨æ˜å˜åŒ–çš„åŸå› ï¼›äº¤é€šç¯éšç€æ—¶é—´çš„æ¨ç§»ä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚'
- en: In many situations, state transition diagrams have only a finite number of states
    and arrows. Computer scientists call such diagrams finite state machines (FSM),
    also known as finite state automata (FSA). Despite their simplicity, FSMs/FSAs
    play an important role in computer science.
  id: totrans-1894
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒçŠ¶æ€è½¬æ¢å›¾åªæœ‰æœ‰é™æ•°é‡çš„çŠ¶æ€å’Œç®­å¤´ã€‚è®¡ç®—æœºç§‘å­¦å®¶ç§°æ­¤ç±»å›¾ä¸ºæœ‰é™çŠ¶æ€æœºï¼ˆFSMï¼‰ï¼Œä¹Ÿç§°ä¸ºæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSAï¼‰ã€‚å°½ç®¡å®ƒä»¬å¾ˆç®€å•ï¼Œä½†FSM/FSAsåœ¨è®¡ç®—æœºç§‘å­¦ä¸­å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚
- en: To create a world program for an FSA, we must first pick a data representation
    for the possible â€œstates of the world,â€ which, according to [Designing World Programs](#%28part._.D.K._sec~3adesign-world%29),
    represents those aspects of the world that may change in some ways as opposed
    to those that remain the same. In the case of our traffic light, what changes
    is the color of the light, that is, which bulb is turned on. The size of the bulbs,
    their arrangement (horizontal or vertical), and other aspects donâ€™t change. Since
    there are only three states, we reuse the string-based data definition of [TrafficLight](#%28tech._trafficlight%29)
    from above.
  id: totrans-1895
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ä¸ºFSAåˆ›å»ºä¸€ä¸ªä¸–ç•Œç¨‹åºï¼Œæˆ‘ä»¬é¦–å…ˆå¿…é¡»ä¸ºå¯èƒ½çš„â€œä¸–ç•ŒçŠ¶æ€â€é€‰æ‹©ä¸€ç§æ•°æ®è¡¨ç¤ºï¼Œæ ¹æ®[è®¾è®¡ä¸–ç•Œç¨‹åº](#%28part._.D.K._sec~3adesign-world%29)ï¼Œè¿™ä»£è¡¨ä¸–ç•Œå¯èƒ½ä»¥æŸç§æ–¹å¼æ”¹å˜çš„é‚£äº›æ–¹é¢ï¼Œè€Œä¸æ˜¯é‚£äº›ä¿æŒä¸å˜æ–¹é¢ã€‚åœ¨æˆ‘ä»¬çš„äº¤é€šç¯æ¡ˆä¾‹ä¸­ï¼Œå˜åŒ–çš„æ˜¯ç¯å…‰çš„é¢œè‰²ï¼Œå³å“ªä¸ªç¯æ³¡è¢«æ‰“å¼€ã€‚ç¯æ³¡çš„å¤§å°ã€å®ƒä»¬çš„æ’åˆ—ï¼ˆæ°´å¹³æˆ–å‚ç›´ï¼‰å’Œå…¶ä»–æ–¹é¢æ²¡æœ‰å˜åŒ–ã€‚ç”±äºåªæœ‰ä¸‰ä¸ªçŠ¶æ€ï¼Œæˆ‘ä»¬é‡ç”¨äº†ä¸Šé¢[TrafficLight](#%28tech._trafficlight%29)çš„åŸºäºå­—ç¬¦ä¸²çš„æ•°æ®å®šä¹‰ã€‚
- en: The right-hand side of [figureÂ 26](#%28counter._%28figure._fig~3atraffic-light%29%29)
    is a diagrammatic interpretation of the [TrafficLight](#%28tech._trafficlight%29)
    data definition. Like the diagram in [figureÂ 26](#%28counter._%28figure._fig~3atraffic-light%29%29),
    it consists of three states, arranged in such a way that it is easy to view each
    data element as a representation of a concrete configuration. Also, the arrows
    are now labeled with tick to suggest that our world program uses the passing of
    time as the trigger that changes the state of the traffic light. If we wanted
    to simulate a manually operated light, we might choose transitions based on keystrokes.
  id: totrans-1896
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾26](#%28counter._%28figure._fig~3atraffic-light%29%29)çš„å³ä¾§æ˜¯å¯¹[TrafficLight](#%28tech._trafficlight%29)æ•°æ®å®šä¹‰çš„å›¾è§£è§£é‡Šã€‚ä¸[å›¾26](#%28counter._%28figure._fig~3atraffic-light%29%29)ä¸­çš„å›¾ä¸€æ ·ï¼Œå®ƒç”±ä¸‰ä¸ªçŠ¶æ€ç»„æˆï¼Œæ’åˆ—æ–¹å¼ä½¿å¾—æ¯ä¸ªæ•°æ®å…ƒç´ éƒ½å®¹æ˜“è¢«è§†ä¸ºä¸€ä¸ªå…·ä½“é…ç½®çš„è¡¨ç¤ºã€‚æ­¤å¤–ï¼Œç®­å¤´ç°åœ¨ç”¨å‹¾å·æ ‡æ³¨ï¼Œä»¥è¡¨æ˜æˆ‘ä»¬çš„ä¸–ç•Œç¨‹åºä½¿ç”¨æ—¶é—´çš„æµé€ä½œä¸ºæ”¹å˜äº¤é€šç¯çŠ¶æ€çš„è§¦å‘å™¨ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ¨¡æ‹Ÿæ‰‹åŠ¨æ“ä½œçš„çº¢ç»¿ç¯ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ ¹æ®æŒ‰é”®é€‰æ‹©è½¬æ¢ã€‚'
- en: 'Now that we know how to represent the states of our world, how to go from one
    to the next, and that the state changes at every tick of the clock, we can write
    down the signature, a purpose statement, and a stub for the two functions we must
    design:'
  id: totrans-1897
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•è¡¨ç¤ºæˆ‘ä»¬ä¸–ç•Œçš„çŠ¶æ€ï¼Œå¦‚ä½•ä»ä¸€ä¸ªçŠ¶æ€è¿‡æ¸¡åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œä»¥åŠçŠ¶æ€åœ¨æ—¶é’Ÿçš„æ¯æ¬¡æ»´ç­”æ—¶éƒ½ä¼šæ”¹å˜ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸‹ä¸¤ä¸ªå¿…é¡»è®¾è®¡çš„å‡½æ•°çš„ç­¾åã€ç›®çš„å£°æ˜å’Œå­˜æ ¹ï¼š
- en: '| ;Â [TrafficLight](#%28tech._trafficlight%29) -> [TrafficLight](#%28tech._trafficlight%29)
    |'
  id: totrans-1898
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [äº¤é€šç¯](#%28tech._trafficlight%29) -> [äº¤é€šç¯](#%28tech._trafficlight%29) |'
- en: '| ;Â yields the next state, given current state cs |'
  id: totrans-1899
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®šå½“å‰çŠ¶æ€ csï¼Œè¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-nextÂ cs)Â cs)
    |'
  id: totrans-1900
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-nextÂ cs)Â cs)
    |'
- en: '| Â  |'
  id: totrans-1901
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [TrafficLight](#%28tech._trafficlight%29) -> [Image](#%28tech._image%29)
    |'
  id: totrans-1902
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [äº¤é€šç¯](#%28tech._trafficlight%29) -> [å›¾åƒ](#%28tech._image%29) |'
- en: '| ;Â renders the current state cs as an image |'
  id: totrans-1903
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†å½“å‰çŠ¶æ€ cs æ¸²æŸ“ä¸ºå›¾åƒ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-renderÂ current-state)
    |'
  id: totrans-1904
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-renderÂ current-state)
    |'
- en: '| Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 90Â 30))
    |'
  id: totrans-1905
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 90Â 30))
    |'
- en: 'Preceding sections use the names render and next to name the functions that
    translate a state of the world into an image and that deal with clock ticks. Here
    we prefix these names with some syllable that suggests to which world the functions
    belong. Because the specific functions have appeared before, we leave them as
    exercises.ExerciseÂ 59\. Finish the design of a world program that simulates the
    traffic light FSA. Here is the main function:'
  id: totrans-1906
  prefs: []
  type: TYPE_NORMAL
  zh: å‰é¢çš„éƒ¨åˆ†ä½¿ç”¨ render å’Œ next æ¥å‘½åå°†ä¸–ç•ŒçŠ¶æ€è½¬æ¢ä¸ºå›¾åƒå’Œå¤„ç†æ—¶é’Ÿæ»´ç­”å£°çš„å‡½æ•°ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€äº›éŸ³èŠ‚æ¥å‰ç¼€è¿™äº›åç§°ï¼Œä»¥è¡¨æ˜è¿™äº›å‡½æ•°å±äºå“ªä¸ªä¸–ç•Œã€‚å› ä¸ºå…·ä½“çš„å‡½æ•°ä¹‹å‰å·²ç»å‡ºç°è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒä»¬ç•™ä½œç»ƒä¹ ã€‚ç»ƒä¹ 
    59ï¼šå®Œæˆæ¨¡æ‹Ÿäº¤é€šç¯ FSA çš„ä¸–ç•Œç¨‹åºçš„è®¾è®¡ã€‚ä»¥ä¸‹æ˜¯ä¸»å‡½æ•°ï¼š
- en: '| ;Â [TrafficLight](#%28tech._trafficlight%29) -> [TrafficLight](#%28tech._trafficlight%29)
    |'
  id: totrans-1907
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [äº¤é€šç¯](#%28tech._trafficlight%29) -> [äº¤é€šç¯](#%28tech._trafficlight%29) |'
- en: '| ;Â simulates a clock-based American traffic light |'
  id: totrans-1908
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ¨¡æ‹ŸåŸºäºæ—¶é’Ÿçš„ç¾å›½äº¤é€šç¯ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (traffic-light-simulationÂ initial-state)
    |'
  id: totrans-1909
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (traffic-light-simulationÂ initial-state)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â initial-state
    |'
  id: totrans-1910
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â initial-state
    |'
- en: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â tl-render]
    |'
  id: totrans-1911
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â tl-render]
    |'
- en: '| Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tl-nextÂ 1]))
    |'
  id: totrans-1912
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â tl-nextÂ 1]))
    |'
- en: The functionâ€™s argument is the initial state for the [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression, which tells DrRacket to redraw the state of the world with tl-render
    and to handle clock ticks with tl-next. Also note that it informs the computer
    that the clock should tick once per second.
  id: totrans-1913
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°çš„å‚æ•°æ˜¯[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼çš„åˆå§‹çŠ¶æ€ï¼Œè¿™å‘Šè¯‰DrRacketä½¿ç”¨tl-renderé‡æ–°ç»˜åˆ¶ä¸–ç•Œçš„çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨tl-nextå¤„ç†æ—¶é’Ÿæ»´ç­”ã€‚è¿˜è¯·æ³¨æ„ï¼Œå®ƒé€šçŸ¥è®¡ç®—æœºæ—¶é’Ÿåº”è¯¥æ¯ç§’æ»´ç­”ä¸€æ¬¡ã€‚
- en: Complete the design of tl-render and tl-next. Start with copying [TrafficLight](#%28tech._trafficlight%29),
    tl-next, and tl-render into DrRacketâ€™s definitions area.
  id: totrans-1914
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæˆtl-renderå’Œtl-nextçš„è®¾è®¡ã€‚é¦–å…ˆï¼Œå°†[TrafficLight](#%28tech._trafficlight%29)ã€tl-nextå’Œtl-renderå¤åˆ¶åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸã€‚
- en: 'Here are some test cases for the design of the latter:'
  id: totrans-1915
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯åè€…çš„è®¾è®¡çš„ä¸€äº›æµ‹è¯•ç”¨ä¾‹ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (tl-renderÂ "red")Â ![image](../Images/f7aecea25163a3d560e0dd6dbd0d71db.png))
    |'
  id: totrans-1916
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (tl-renderÂ "red")Â ![image](../Images/f7aecea25163a3d560e0dd6dbd0d71db.png))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (tl-renderÂ "yellow")Â ![image](../Images/89d97caab9f5f39a68fd77b35f24cfb2.png))
    |'
  id: totrans-1917
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (tl-renderÂ "yellow")Â ![image](../Images/89d97caab9f5f39a68fd77b35f24cfb2.png))
    |'
- en: 'Your function may use these images directly. If you decide to create images
    with the functions from the 2htdp/image teachpack, design an auxiliary function
    for creating the image of a one-color bulb. Then read up on the [place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    function, which can place bulbs into a background scene.ExerciseÂ 60\. An alternative
    data representation for a traffic light program may use numbers instead of strings:'
  id: totrans-1918
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨çš„å‡½æ•°å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å›¾åƒã€‚å¦‚æœæ‚¨å†³å®šä½¿ç”¨2htdp/image teachpackä¸­çš„å‡½æ•°åˆ›å»ºå›¾åƒï¼Œè¯·è®¾è®¡ä¸€ä¸ªç”¨äºåˆ›å»ºå•è‰²ç¯æ³¡å›¾åƒçš„è¾…åŠ©å‡½æ•°ã€‚ç„¶åæŸ¥é˜…[place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥å°†ç¯æ³¡æ”¾ç½®åˆ°èƒŒæ™¯åœºæ™¯ä¸­ã€‚ç»ƒä¹ 60ã€‚ä¸€ä¸ªäº¤é€šç¯ç¨‹åºçš„æ›¿ä»£æ•°æ®è¡¨ç¤ºå¯èƒ½ä½¿ç”¨æ•°å­—è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼š
- en: '| ;Â An N-TrafficLight is one of: |'
  id: totrans-1919
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An N-TrafficLight is one of: |'
- en: '| ;Â â€“  0  interpretation the traffic light shows red |'
  id: totrans-1920
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  0  è§£é‡Šäº¤é€šç¯æ˜¾ç¤ºçº¢è‰² |'
- en: '| ;Â â€“  1  interpretation the traffic light shows green |'
  id: totrans-1921
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  1  è§£é‡Šäº¤é€šç¯æ˜¾ç¤ºç»¿è‰² |'
- en: '| ;Â â€“  2  interpretation the traffic light shows yellow |'
  id: totrans-1922
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  2  è§£é‡Šäº¤é€šç¯æ˜¾ç¤ºé»„è‰² |'
- en: 'It greatly simplifies the definition of tl-next:'
  id: totrans-1923
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¤§å¤§ç®€åŒ–äº†tl-nextçš„å®šä¹‰ï¼š
- en: '| ;Â [N-TrafficLight](#%28tech._n._trafficlight%29) -> [N-TrafficLight](#%28tech._n._trafficlight%29)
    |'
  id: totrans-1924
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N-TrafficLight](#%28tech._n._trafficlight%29) -> [N-TrafficLight](#%28tech._n._trafficlight%29)
    |'
- en: '| ;Â yields the next state, given current state cs |'
  id: totrans-1925
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â yields the next state, given current state cs |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-next-numericÂ cs)Â ([modulo](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._modulo%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â csÂ 1)Â 3))
    |'
  id: totrans-1926
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-next-numericÂ cs)Â ([modulo](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._modulo%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â csÂ 1)Â 3))
    |'
- en: Reformulate tl-nextâ€™s tests for tl-next-numeric.
  id: totrans-1927
  prefs: []
  type: TYPE_NORMAL
  zh: é‡æ–°åˆ¶å®štl-nextçš„tl-next-numericæµ‹è¯•ã€‚
- en: Does the tl-next function convey its intention more clearly than the tl-next-numeric
    function? If so, why? If not, why not?
  id: totrans-1928
  prefs: []
  type: TYPE_NORMAL
  zh: tl-nextå‡½æ•°æ˜¯å¦æ¯”tl-next-numericå‡½æ•°æ›´æ¸…æ™°åœ°ä¼ è¾¾å…¶æ„å›¾ï¼Ÿå¦‚æœæ˜¯ï¼Œä¸ºä»€ä¹ˆï¼Ÿå¦‚æœä¸æ˜¯ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯ï¼Ÿ
- en: ExerciseÂ 61\. As [From Functions to Programs](#%28part._sec~3adesign%29) says,
    programs must define constants and use names instead of actual constants. In this
    spirit, a data definition for traffic lights must use constants, too:This form
    of data definition is what a seasoned designer would use.
  id: totrans-1929
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 61ã€‚æ­£å¦‚[ä»å‡½æ•°åˆ°ç¨‹åº](#%28part._sec~3adesign%29)æ‰€è¯´ï¼Œç¨‹åºå¿…é¡»å®šä¹‰å¸¸é‡å¹¶ä½¿ç”¨åç§°è€Œä¸æ˜¯å®é™…å¸¸é‡ã€‚åœ¨è¿™ç§ç²¾ç¥ä¸‹ï¼Œäº¤é€šç¯çš„æ•°æ®å®šä¹‰ä¹Ÿå¿…é¡»ä½¿ç”¨å¸¸é‡ï¼šè¿™ç§æ•°æ®å®šä¹‰å½¢å¼æ˜¯ç»éªŒä¸°å¯Œçš„è®¾è®¡å¸ˆä¼šä½¿ç”¨çš„ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â REDÂ 0)
    |'
  id: totrans-1930
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â REDÂ 0)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â GREENÂ 1)
    |'
  id: totrans-1931
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â GREENÂ 1)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â YELLOWÂ 2)
    |'
  id: totrans-1932
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â YELLOWÂ 2)
    |'
- en: '| Â  |'
  id: totrans-1933
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â An S-TrafficLight is one of: |'
  id: totrans-1934
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An S-TrafficLight is one of: |'
- en: '| ;Â â€“  RED |'
  id: totrans-1935
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  çº¢è‰² |'
- en: '| ;Â â€“  GREEN |'
  id: totrans-1936
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ç»¿è‰² |'
- en: '| ;Â â€“  YELLOW |'
  id: totrans-1937
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  é»„è‰² |'
- en: If the names are chosen properly, the data definition does not need an interpretation
    statement.
  id: totrans-1938
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœåç§°é€‰æ‹©å¾—å½“ï¼Œæ•°æ®å®šä¹‰ä¸éœ€è¦è§£é‡Šè¯­å¥ã€‚
- en: '|'
  id: totrans-1939
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1940
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [S-TrafficLight](#%28tech._s._trafficlight%29) -> [S-TrafficLight](#%28tech._s._trafficlight%29)
    &#124;'
  id: totrans-1941
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [S-TrafficLight](#%28tech._s._trafficlight%29) -> [S-TrafficLight](#%28tech._s._trafficlight%29)
    &#124;'
- en: '&#124; ;Â yields the next state, given current state cs &#124;'
  id: totrans-1942
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ; è¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œç»™å®šå½“å‰çŠ¶æ€ cs &#124;'
- en: ''
  id: totrans-1943
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1944
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '|  |  |  |'
  id: totrans-1945
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  |  |'
- en: '|'
  id: totrans-1946
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1947
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (tl-next-Â ...Â RED)Â GREEN)
    &#124;'
  id: totrans-1948
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    (tl-next- ... RED) GREEN) &#124;'
- en: '&#124; ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (tl-next-Â ...Â YELLOW)Â RED)
    &#124;'
  id: totrans-1949
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    (tl-next- ... YELLOW) RED) &#124;'
- en: ''
  id: totrans-1950
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1951
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '|  |  |  |'
  id: totrans-1952
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  |  |'
- en: '|'
  id: totrans-1953
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1954
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-next-numericÂ cs)
    &#124;'
  id: totrans-1955
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (tl-next-numeric cs) &#124;'
- en: '&#124; Â Â ([modulo](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._modulo%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â csÂ 1)Â 3))
    &#124;'
  id: totrans-1956
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([å–æ¨¡](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._modulo%29%29)
    ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    cs 1) 3)) &#124;'
- en: ''
  id: totrans-1957
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-1958
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-1959
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tl-next-symbolicÂ cs)
    &#124;'
  id: totrans-1960
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (tl-next-symbolic cs) &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
  id: totrans-1961
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([equal?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)Â csÂ RED)Â GREEN]
    &#124;'
  id: totrans-1962
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   [([ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)
    cs RED) GREEN] &#124;'
- en: '&#124; Â Â Â Â [([equal?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)Â csÂ GREEN)Â YELLOW]
    &#124;'
  id: totrans-1963
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   [([ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)
    cs GREEN) YELLOW] &#124;'
- en: '&#124; Â Â Â Â [([equal?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)Â csÂ YELLOW)Â RED]))
    &#124;'
  id: totrans-1964
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   [([ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)
    cs YELLOW) RED])) &#124;'
- en: ''
  id: totrans-1965
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1966
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1967
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 27: A symbolic traffic light'
  id: totrans-1968
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾27ï¼šä¸€ä¸ªç¬¦å·äº¤é€šç¯
- en: '[FigureÂ 27](#%28counter._%28figure._fig~3aex~3aalternative%29%29) displays
    two different functions that switch the state of a traffic light in a simulation
    program. Which of the two is properly designed using the recipe for itemization?
    Which of the two continues to work if you change the constants to the following'
  id: totrans-1969
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾27](#%28counter._%28figure._fig~3aex~3aalternative%29%29) æ˜¾ç¤ºäº†ä¸¤ä¸ªä¸åŒçš„å‡½æ•°ï¼Œå®ƒä»¬åœ¨æ¨¡æ‹Ÿç¨‹åºä¸­åˆ‡æ¢äº¤é€šç¯çš„çŠ¶æ€ã€‚å“ªä¸€ä¸ªä½¿ç”¨äº†é¡¹ç›®åŒ–çš„é…æ–¹è®¾è®¡å¾—æ°å½“ï¼Ÿå“ªä¸€ä¸ªåœ¨å°†å¸¸æ•°æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹æ—¶ä»ç„¶ç»§ç»­å·¥ä½œï¼Ÿ'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â REDÂ "red")
    |'
  id: totrans-1970
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    RED "red") |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â GREENÂ "green")
    |'
  id: totrans-1971
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    GREEN "green") |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â YELLOWÂ "yellow")
    |'
  id: totrans-1972
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    YELLOW "yellow") |'
- en: Does this help you answer the questions?
  id: totrans-1973
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¦å¸®åŠ©ä½ å›ç­”äº†é—®é¢˜ï¼Ÿ
- en: Aside The [equal?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)
    function in [figureÂ 27](#%28counter._%28figure._fig~3aex~3aalternative%29%29)
    compares two arbitrary values, regardless of what these values are. Equality is
    a complicated topic in the world of programming. End
  id: totrans-1974
  prefs: []
  type: TYPE_NORMAL
  zh: æ—ç™½ï¼š[ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._equal~3f%29%29)
    å‡½æ•°åœ¨[å›¾27](#%28counter._%28figure._fig~3aex~3aalternative%29%29)ä¸­æ¯”è¾ƒä¸¤ä¸ªä»»æ„å€¼ï¼Œæ— è®ºè¿™äº›å€¼æ˜¯ä»€ä¹ˆã€‚åœ¨ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼Œç›¸ç­‰æ€§æ˜¯ä¸€ä¸ªå¤æ‚çš„è¯é¢˜ã€‚ç»“æŸ
- en: 'Here is another finite state problem that introduces a few additional complications:'
  id: totrans-1975
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å¦ä¸€ä¸ªå¼•å…¥äº†ä¸€äº›é¢å¤–å¤æ‚æ€§çš„æœ‰é™çŠ¶æ€é—®é¢˜ï¼š
- en: Sample Problem Design a world program that simulates the working of a door with
    an automatic door closer. If this kind of door is locked, you can unlock it with
    a key. An unlocked door is closed, but someone pushing at the door opens it. Once
    the person has passed through the door and lets go, the automatic door takes over
    and closes the door again. When a door is closed, it can be locked again.
  id: totrans-1976
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜è®¾è®¡ä¸€ä¸ªæ¨¡æ‹Ÿå¸¦è‡ªåŠ¨é—¨å…³é—­å™¨çš„é—¨å·¥ä½œçš„ä¸–ç•Œç¨‹åºã€‚å¦‚æœè¿™ç§é—¨æ˜¯é”ç€çš„ï¼Œä½ å¯ä»¥ç”¨é’¥åŒ™å°†å…¶è§£é”ã€‚æœªä¸Šé”çš„é—¨æ˜¯å…³é—­çš„ï¼Œä½†æœ‰äººæ¨é—¨æ—¶é—¨ä¼šæ‰“å¼€ã€‚ä¸€æ—¦äººé€šè¿‡é—¨å¹¶æ”¾æ‰‹ï¼Œè‡ªåŠ¨é—¨å°±ä¼šæ¥ç®¡å¹¶å†æ¬¡å…³é—­é—¨ã€‚å½“é—¨å…³é—­æ—¶ï¼Œå®ƒå¯ä»¥å†æ¬¡ä¸Šé”ã€‚
- en: 'To tease out the essential elements, we again draw a transition diagram; see
    the left-hand side of [figureÂ 28](#%28counter._%28figure._fig~3adoor-closer%29%29).
    Like the traffic light, the door has three distinct states: locked, closed, and
    open. Locking and unlocking are the activities that cause the door to transition
    from the locked to the closed state and vice versa. As for opening an unlocked
    door, we say that one needs to push the door open. The remaining transition is
    unlike the others because it doesnâ€™t require any activities by anyone or anything
    else. Instead, the door closes automatically over time. The corresponding transition
    arrow is labeled with *time* to emphasize this.'
  id: totrans-1977
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æç‚¼å‡ºåŸºæœ¬å…ƒç´ ï¼Œæˆ‘ä»¬å†æ¬¡ç»˜åˆ¶äº†ä¸€ä¸ªè½¬æ¢å›¾ï¼›è¯·å‚è§[å›¾28](#%28counter._%28figure._fig~3adoor-closer%29%29)çš„å·¦ä¾§ã€‚åƒäº¤é€šç¯ä¸€æ ·ï¼Œé—¨æœ‰ä¸‰ä¸ªä¸åŒçš„çŠ¶æ€ï¼šé”ç€çš„ã€å…³é—­çš„å’Œæ‰“å¼€çš„ã€‚é”é—¨å’Œå¼€é”æ˜¯å¯¼è‡´é—¨ä»é”ç€çš„çŠ¶æ€è½¬æ¢åˆ°å…³é—­çŠ¶æ€ä»¥åŠç›¸åçŠ¶æ€çš„æ´»åŠ¨ã€‚è‡³äºæ‰“å¼€æœªä¸Šé”çš„é—¨ï¼Œæˆ‘ä»¬è¯´éœ€è¦æ¨å¼€é—¨ã€‚å…¶ä½™çš„è½¬æ¢ä¸å…¶ä»–ä¸åŒï¼Œå› ä¸ºå®ƒä¸éœ€è¦ä»»ä½•äººæˆ–ä»»ä½•å…¶ä»–äº‹ç‰©çš„æ´»åŠ¨ã€‚ç›¸åï¼Œé—¨ä¼šéšç€æ—¶é—´çš„æ¨ç§»è‡ªåŠ¨å…³é—­ã€‚ç›¸åº”çš„è½¬æ¢ç®­å¤´è¢«æ ‡è®°ä¸º*æ—¶é—´*ï¼Œä»¥å¼ºè°ƒè¿™ä¸€ç‚¹ã€‚
- en: '![image](../Images/6541af78e82ccf6c0b54c2dd46610172.png) Â Â Â Â Â Â Â Â Â Â  ![image](../Images/489d6c3223b9d0e25c29a8dbcf018204.png)'
  id: totrans-1978
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/6541af78e82ccf6c0b54c2dd46610172.png) ![image](../Images/489d6c3223b9d0e25c29a8dbcf018204.png)'
- en: ''
  id: totrans-1979
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 28: A transition diagram for a door with an automatic closer'
  id: totrans-1980
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾28ï¼šå¸¦è‡ªåŠ¨å…³é—­å™¨çš„é—¨çš„è½¬æ¢å›¾
- en: 'Following our recipe, we start with a translation of the three real-world states
    into BSL data:'
  id: totrans-1981
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§æˆ‘ä»¬çš„é…æ–¹ï¼Œæˆ‘ä»¬é¦–å…ˆå°†ä¸‰ä¸ªç°å®ä¸–ç•ŒçŠ¶æ€ç¿»è¯‘æˆBSLæ•°æ®ï¼š
- en: '|'
  id: totrans-1982
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1983
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â LOCKEDÂ "locked")
    &#124;'
  id: totrans-1984
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â LOCKEDÂ "locked")
    &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CLOSEDÂ "closed")
    &#124;'
  id: totrans-1985
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CLOSEDÂ "closed")
    &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â OPENÂ "open")
    &#124;'
  id: totrans-1986
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â OPENÂ "open")
    &#124;'
- en: ''
  id: totrans-1987
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-1988
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-1989
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â A DoorState is one of: &#124;'
  id: totrans-1990
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â A DoorState is one of: &#124;'
- en: '&#124; ;Â â€“  LOCKED &#124;'
  id: totrans-1991
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  LOCKED &#124;'
- en: '&#124; ;Â â€“  CLOSED &#124;'
  id: totrans-1992
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  CLOSED &#124;'
- en: '&#124; ;Â â€“  OPEN &#124;'
  id: totrans-1993
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  OPEN &#124;'
- en: ''
  id: totrans-1994
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1995
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: We also keep in mind the lesson of [exerciseÂ 61](#%28counter._%28exercise._ex~3aalternative-data-design2%29%29),
    namely, that it is best to define symbolic constants and formulate data definitions
    in terms of such constants.
  id: totrans-1996
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜ç‰¢è®°äº†[ç»ƒä¹ 61](#%28counter._%28exercise._ex~3aalternative-data-design2%29%29)çš„æ•™è®­ï¼Œå³æœ€å¥½å®šä¹‰ç¬¦å·å¸¸é‡ï¼Œå¹¶ä»¥è¿™äº›å¸¸é‡æ¥åˆ¶å®šæ•°æ®å®šä¹‰ã€‚
- en: 'The next step of a world design demands that we translate the chosen actions
    in our domainâ€”<wbr>the arrows in the left-hand diagramâ€”<wbr>into interactions
    with the computer that the 2htdp/universe teachpack can deal with. Our pictorial
    representation of the doorâ€™s states and transitions, specifically the arrow from
    open to closed, suggests the use of clock ticks. For the other arrows, we could
    use either key presses or mouse clicks. Letâ€™s use three keystrokes: "u" for unlocking
    the door, "l" for locking it, and the space bar " " for pushing it open. The right-hand-side
    diagram of [figureÂ 28](#%28counter._%28figure._fig~3adoor-closer%29%29) expresses
    these choices graphically; it translates the state-machine diagram from the world
    of information into the world of data in BSL.'
  id: totrans-1997
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸–ç•Œè®¾è®¡çš„ä¸‹ä¸€æ­¥è¦æ±‚æˆ‘ä»¬å°†æˆ‘ä»¬é¢†åŸŸä¸­çš„é€‰æ‹©åŠ¨ä½œâ€”â€”<wbr>å·¦å›¾ä¸­çš„ç®­å¤´â€”â€”<wbr>ç¿»è¯‘æˆ2htdp/universe teachpackå¯ä»¥å¤„ç†çš„ä¸è®¡ç®—æœºçš„äº¤äº’ã€‚æˆ‘ä»¬å¯¹é—¨çš„å½“å‰çŠ¶æ€å’Œè½¬æ¢çš„å›¾ç¤ºè¡¨ç¤ºï¼Œç‰¹åˆ«æ˜¯ä»æ‰“å¼€åˆ°å…³é—­çš„ç®­å¤´ï¼Œæš—ç¤ºäº†ä½¿ç”¨æ—¶é’Ÿæ»´ç­”å£°ã€‚å¯¹äºå…¶ä»–ç®­å¤´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŒ‰é”®æˆ–é¼ æ ‡ç‚¹å‡»ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ä¸‰ä¸ªæŒ‰é”®ï¼šâ€œuâ€ç”¨äºè§£é”é—¨ï¼Œâ€œlâ€ç”¨äºé”å®šå®ƒï¼Œä»¥åŠç©ºæ ¼é”®â€œ
    â€ç”¨äºå°†å…¶æ¨å¼€ã€‚[å›¾28](#%28counter._%28figure._fig~3adoor-closer%29%29)çš„å³ä¾§å›¾ç¤ºä»¥å›¾å½¢æ–¹å¼è¡¨è¾¾äº†è¿™äº›é€‰æ‹©ï¼›å®ƒå°†çŠ¶æ€æœºå›¾ä»ä¿¡æ¯ä¸–ç•Œè½¬æ¢åˆ°BSLæ•°æ®ä¸–ç•Œã€‚
- en: 'Once we have decided to use the passing of time for one action and key presses
    for the others, we must design functions that render the current state of the
    worldâ€”<wbr>represented as [DoorState](#%28tech._doorstate%29)â€”<wbr>and that transform
    it into the next state of the world. And that, of course, amounts to a wish list
    of [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    functions:'
  id: totrans-1998
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦æˆ‘ä»¬å†³å®šä½¿ç”¨æ—¶é—´çš„æµé€æ¥è¡¨ç¤ºä¸€ä¸ªåŠ¨ä½œï¼Œä»¥åŠä½¿ç”¨æŒ‰é”®æ¥è¡¨ç¤ºå…¶ä»–åŠ¨ä½œï¼Œæˆ‘ä»¬å¿…é¡»è®¾è®¡å‡½æ•°æ¥æ¸²æŸ“ä¸–ç•Œçš„å½“å‰çŠ¶æ€â€”â€”<wbr>è¡¨ç¤ºä¸º[DoorState](#%28tech._doorstate%29)â€”â€”<wbr>å¹¶å°†å…¶è½¬æ¢ä¸ºä¸–ç•Œçš„ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚å½“ç„¶ï¼Œè¿™ç›¸å½“äºä¸€ä¸ª[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)å‡½æ•°çš„æ„¿æœ›æ¸…å•ï¼š
- en: door-closer, which closes the door during one tick;
  id: totrans-1999
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: door-closerï¼Œå®ƒåœ¨æ»´ç­”æœŸé—´å…³é—­é—¨ï¼›
- en: door-action, which acts on it in response to pressing a key; and
  id: totrans-2000
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: door-actionï¼Œå®ƒä¼šåœ¨æŒ‰ä¸‹é”®æ—¶å¯¹å…¶åšå‡ºå“åº”ï¼›å¹¶ä¸”
- en: door-render, which translates the current state into an image.
  id: totrans-2001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: door-renderï¼Œå®ƒå°†å½“å‰çŠ¶æ€è½¬æ¢ä¸ºå›¾åƒã€‚
- en: 'Stop! Formulate appropriate signatures.We start with door-closer. Since door-closer
    acts as the [on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)
    handler, we get its signature from our choice of [DoorState](#%28tech._doorstate%29)
    as the collection of world states:'
  id: totrans-2002
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼åˆ¶å®šé€‚å½“çš„ç­¾åã€‚æˆ‘ä»¬ä»door-closerå¼€å§‹ã€‚ç”±äºdoor-closerå……å½“[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)å¤„ç†ç¨‹åºï¼Œæˆ‘ä»¬æ ¹æ®[DoorState](#%28tech._doorstate%29)ä½œä¸ºä¸–ç•ŒçŠ¶æ€çš„é›†åˆæ¥è·å–å…¶ç­¾åï¼š
- en: '| ;Â [DoorState](#%28tech._doorstate%29) -> [DoorState](#%28tech._doorstate%29)
    |'
  id: totrans-2003
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [DoorState](#%28tech._doorstate%29) -> [DoorState](#%28tech._doorstate%29)
    |'
- en: '| ;Â closes an open door over the period of one tick |'
  id: totrans-2004
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨æ»´ç­”æœŸé—´å…³é—­æ‰“å¼€çš„é—¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-closerÂ state-of-door)Â state-of-door)
    |'
  id: totrans-2005
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-closerÂ state-of-door)Â state-of-door)
    |'
- en: 'Making up examples is trivial when the world can only be in one of three states.
    Here we use a table to express the basic idea, just like in some of the mathematical
    examples given above:'
  id: totrans-2006
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä¸–ç•Œåªèƒ½å¤„äºä¸‰ç§çŠ¶æ€ä¹‹ä¸€æ—¶ï¼Œç¼–é€ ç¤ºä¾‹æ˜¯å¾®ä¸è¶³é“çš„ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨è¡¨æ ¼æ¥è¡¨è¾¾åŸºæœ¬æ€æƒ³ï¼Œå°±åƒä¸Šé¢ç»™å‡ºçš„æŸäº›æ•°å­¦ç¤ºä¾‹ä¸€æ ·ï¼š
- en: '| given state |  | desired state |'
  id: totrans-2007
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šçŠ¶æ€ |  | æ‰€éœ€çŠ¶æ€ |'
- en: '| LOCKED |  | LOCKED |'
  id: totrans-2008
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| é”å®š |  | é”å®š |'
- en: '| CLOSED |  | CLOSED |'
  id: totrans-2009
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| å…³é—­ |  | å…³é—­ |'
- en: '| OPEN |  | CLOSED |'
  id: totrans-2010
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ‰“å¼€ |  | å…³é—­ |'
- en: 'Stop! Express these examples as BSL tests.The template step demands a conditional
    with three clauses:'
  id: totrans-2011
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼å°†è¿™äº›ç¤ºä¾‹è¡¨è¾¾ä¸ºBSLæµ‹è¯•ã€‚æ¨¡æ¿æ­¥éª¤è¦æ±‚ä¸€ä¸ªæœ‰ä¸‰ä¸ªå­å¥çš„æ¡ä»¶ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-closerÂ state-of-door)
    |'
  id: totrans-2012
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-closerÂ state-of-door)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2013
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â LOCKEDÂ state-of-door)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-2014
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    LOCKED state-of-door) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â CLOSEDÂ state-of-door)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-2015
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    CLOSED state-of-door) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â OPENÂ state-of-door)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-2016
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    OPEN state-of-door) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: 'and the process of turning this template into a function definition is dictated
    by the examples:'
  id: totrans-2017
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ­¤æ¨¡æ¿è½¬æ¢ä¸ºå‡½æ•°å®šä¹‰çš„è¿‡ç¨‹ç”±ä»¥ä¸‹ç¤ºä¾‹å†³å®šï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-closerÂ state-of-door)
    |'
  id: totrans-2018
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (door-closer state-of-door) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2019
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â LOCKEDÂ state-of-door)Â LOCKED]
    |'
  id: totrans-2020
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    LOCKED state-of-door) LOCKED] |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â CLOSEDÂ state-of-door)Â CLOSED]
    |'
  id: totrans-2021
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    CLOSED state-of-door) CLOSED] |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â OPENÂ state-of-door)Â CLOSED]))
    |'
  id: totrans-2022
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    OPEN state-of-door) CLOSED])) |'
- en: 'Donâ€™t forget to run your tests.The second function, door-action, takes care
    of the remaining three arrows of the diagram. Functions that deal with keyboard
    events consume both a world and a key event, meaning the signature is as follows:'
  id: totrans-2023
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¦å¿˜è®°è¿è¡Œä½ çš„æµ‹è¯•ã€‚ç¬¬äºŒä¸ªå‡½æ•°ï¼Œé—¨åŠ¨ä½œï¼Œè´Ÿè´£å¤„ç†å›¾ä¸­å‰©ä½™çš„ä¸‰ä¸ªç®­å¤´ã€‚å¤„ç†é”®ç›˜äº‹ä»¶çš„å‡½æ•°åŒæ—¶æ¶ˆè€—ä¸€ä¸ªä¸–ç•Œäº‹ä»¶å’Œä¸€ä¸ªé”®äº‹ä»¶ï¼Œæ„å‘³ç€å…¶ç­¾åå¦‚ä¸‹ï¼š
- en: '| ;Â [DoorState](#%28tech._doorstate%29)  [KeyEvent](#%28tech._keyevent%29)
    -> [DoorState](#%28tech._doorstate%29) |'
  id: totrans-2024
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; DoorState [DoorState](#%28tech._doorstate%29) [KeyEvent](#%28tech._keyevent%29)
    -> [DoorState](#%28tech._doorstate%29) |'
- en: '| ;Â turns key event k into an action on state s |'
  id: totrans-2025
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ; å°†é”®äº‹ä»¶ k è½¬æ¢ä¸ºçŠ¶æ€ s ä¸Šçš„åŠ¨ä½œ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-actionÂ sÂ k)
    |'
  id: totrans-2026
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (door-action s k) |'
- en: '| Â Â s) |'
  id: totrans-2027
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    s) |'
- en: 'We once again present the examples in tabular form:'
  id: totrans-2028
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å†æ¬¡ä»¥è¡¨æ ¼å½¢å¼å‘ˆç°ç¤ºä¾‹ï¼š
- en: '| given state |  | given key event |  | desired state |'
  id: totrans-2029
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»™å®šçŠ¶æ€ |  | ç»™å®šé”®äº‹ä»¶ |  | æ‰€éœ€çŠ¶æ€ |'
- en: '| LOCKED |  | "u" |  | CLOSED |'
  id: totrans-2030
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| é”å®š |  | "u" |  | å…³é—­ |'
- en: '| CLOSED |  | "l" |  | LOCKED |'
  id: totrans-2031
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    CLOSED |  | "l" |  | é”å®š |'
- en: '| CLOSED |  | " " |  | OPEN |'
  id: totrans-2032
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    CLOSED |  | " " |  | å¼€å¯ |'
- en: '| OPEN |  | â€”<wbr> |  | OPEN |'
  id: totrans-2033
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    å¼€å¯ |  | â€”<wbr> |  | å¼€å¯ |'
- en: 'The examples combine information from our drawing with the choices we made
    about mapping actions to keyboard events. Unlike the table of examples for traffic
    light, this table is incomplete. Think of some other examples; then consider why
    our table suffices.From here, it is straightforward to create a complete design:'
  id: totrans-2034
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›ç¤ºä¾‹ç»“åˆäº†æˆ‘ä»¬çš„ç»˜å›¾ä¿¡æ¯ä»¥åŠæˆ‘ä»¬å°†åŠ¨ä½œæ˜ å°„åˆ°é”®ç›˜äº‹ä»¶çš„é€‰æ‹©ã€‚ä¸äº¤é€šç¯çš„ç¤ºä¾‹è¡¨ä¸åŒï¼Œè¿™ä¸ªè¡¨æ˜¯ä¸å®Œæ•´çš„ã€‚æƒ³æƒ³å…¶ä»–ç¤ºä¾‹ï¼›ç„¶åè€ƒè™‘ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„è¡¨æ˜¯è¶³å¤Ÿçš„ã€‚ä»è¿™é‡Œï¼Œåˆ›å»ºä¸€ä¸ªå®Œæ•´çš„è®¾è®¡å°±å¾ˆç®€å•äº†ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ LOCKEDÂ "u")Â CLOSED)
    |'
  id: totrans-2035
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ LOCKEDÂ "u")Â CLOSED)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ CLOSEDÂ "l")Â LOCKED)
    |'
  id: totrans-2036
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ CLOSEDÂ "l")Â LOCKED)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ CLOSEDÂ "
    ")Â OPEN) |'
  id: totrans-2037
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ CLOSEDÂ "
    ")Â OPEN) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ OPENÂ "a")Â OPEN)
    |'
  id: totrans-2038
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ OPENÂ "a")Â OPEN)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ CLOSEDÂ "a")Â CLOSED)
    |'
  id: totrans-2039
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-actionÂ CLOSEDÂ "a")Â CLOSED)
    |'
- en: '| Â  |'
  id: totrans-2040
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-actionÂ sÂ k)
    |'
  id: totrans-2041
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-actionÂ sÂ k)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2042
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â LOCKEDÂ s)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "u"Â k))
    |'
  id: totrans-2043
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â LOCKEDÂ s)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "u"Â k))
    |'
- en: '| Â Â Â Â Â CLOSED] |'
  id: totrans-2044
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â CLOSED] |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â CLOSEDÂ s)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "l"Â k))
    |'
  id: totrans-2045
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â CLOSEDÂ s)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "l"Â k))
    |'
- en: '| Â Â Â Â Â LOCKED] |'
  id: totrans-2046
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â LOCKED] |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â CLOSEDÂ s)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "
    "Â k)) |'
  id: totrans-2047
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â CLOSEDÂ s)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "
    "Â k)) |'
- en: '| Â Â Â Â Â OPEN] |'
  id: totrans-2048
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â OPEN] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â s]))
    |'
  id: totrans-2049
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â s]))
    |'
- en: 'Note the use of [and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)
    to combine two conditions: one concerning the current state of the door and the
    other concerning the given key event.Lastly, we need to render the state of the
    world as a scene:'
  id: totrans-2050
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„åˆ°ä½¿ç”¨äº†[and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)æ¥ç»„åˆä¸¤ä¸ªæ¡ä»¶ï¼šä¸€ä¸ªå…³äºé—¨å½“å‰çš„çŠ¶æ€ï¼Œå¦ä¸€ä¸ªå…³äºç»™å®šçš„æŒ‰é”®äº‹ä»¶ã€‚æœ€åï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸–ç•Œçš„çŠ¶æ€æ¸²æŸ“ä¸ºä¸€ä¸ªåœºæ™¯ï¼š
- en: '| ;Â [DoorState](#%28tech._doorstate%29) -> [Image](#%28tech._image%29) |'
  id: totrans-2051
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [DoorState](#%28tech._doorstate%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â translates the state s into a large text image |'
  id: totrans-2052
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†çŠ¶æ€sè½¬æ¢ä¸ºå¤§å‹æ–‡æœ¬å›¾åƒ |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-renderÂ CLOSED)
    |'
  id: totrans-2053
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (door-renderÂ CLOSED)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â CLOSEDÂ 40Â "red"))
    |'
  id: totrans-2054
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â CLOSEDÂ 40Â "red"))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-renderÂ s)
    |'
  id: totrans-2055
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-renderÂ s)
    |'
- en: '| Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â sÂ 40Â "red"))
    |'
  id: totrans-2056
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â sÂ 40Â "red"))
    |'
- en: 'This simplistic function uses large text. Here is how we run it all:'
  id: totrans-2057
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªç®€å•çš„å‡½æ•°ä½¿ç”¨å¤§æ–‡æœ¬ã€‚ä»¥ä¸‹æ˜¯è¿è¡Œå®ƒçš„æ–¹æ³•ï¼š
- en: '| ;Â [DoorState](#%28tech._doorstate%29) -> [DoorState](#%28tech._doorstate%29)
    |'
  id: totrans-2058
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [DoorState](#%28tech._doorstate%29) -> [DoorState](#%28tech._doorstate%29)
    |'
- en: '| ;Â simulates a door with an automatic door closer |'
  id: totrans-2059
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ¨¡æ‹Ÿä¸€ä¸ªå¸¦æœ‰è‡ªåŠ¨é—¨å…³é—­å™¨çš„é—¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-simulationÂ initial-state)
    |'
  id: totrans-2060
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (door-simulationÂ initial-state)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â initial-state
    |'
  id: totrans-2061
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â initial-state
    |'
- en: '| Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â door-closer]
    |'
  id: totrans-2062
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â door-closer]
    |'
- en: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â door-action]
    |'
  id: totrans-2063
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â door-action]
    |'
- en: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â door-render]))
    |'
  id: totrans-2064
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â door-render]))
    |'
- en: Now it is time for you to collect the pieces and run them in DrRacket to see
    whether it all works.
  id: totrans-2065
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ˜¯æ—¶å€™æ”¶é›†è¿™äº›ç‰‡æ®µå¹¶åœ¨DrRacketä¸­è¿è¡Œå®ƒä»¬ï¼Œçœ‹çœ‹æ˜¯å¦ä¸€åˆ‡æ­£å¸¸ã€‚
- en: ExerciseÂ 62\. During a door simulation the â€œopenâ€ state is barely visible. Modify
    door-simulation so that the clock ticks once every three seconds. Rerun the simulation.
  id: totrans-2066
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 62ã€‚åœ¨é—¨æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­ï¼Œâ€œæ‰“å¼€â€çŠ¶æ€å‡ ä¹çœ‹ä¸è§ã€‚ä¿®æ”¹door-simulationï¼Œä½¿å…¶æ¯ä¸‰ç§’é’Ÿæ»´ç­”ä¸€æ¬¡é’Ÿã€‚é‡æ–°è¿è¡Œæ¨¡æ‹Ÿã€‚
- en: 5Adding Structure[ğŸ”—](#(part._ch~3astructure) "Link to here")
  id: totrans-2067
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5æ·»åŠ ç»“æ„[ğŸ”—](#(part._ch~3astructure) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: Suppose you want to design a world program that simulates a ball bouncing back
    and forth on a straight vertical line between the floor and ceiling of some imaginary,
    perfect room. Assume that it always moves two pixels per clock tick. If you follow
    the design recipe, your first goal is to develop a data representation for what
    changes over time. Here, the ballâ€™s position and its direction change over time,
    but thatâ€™s two values while [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    keeps track of just one. Thus the question arises how one piece of data can represent
    two changing quantities of information.
  id: totrans-2068
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ æƒ³è®¾è®¡ä¸€ä¸ªä¸–ç•Œç¨‹åºï¼Œæ¨¡æ‹Ÿä¸€ä¸ªçƒåœ¨æŸä¸ªæƒ³è±¡ä¸­çš„å®Œç¾æˆ¿é—´åœ°æ¿å’Œå¤©èŠ±æ¿ä¹‹é—´ç›´çº¿ä¸Šçš„æ¥å›å¼¹è·³ã€‚å‡è®¾å®ƒæ¯æ¬¡æ—¶é’Ÿæ»´ç­”å£°ç§»åŠ¨ä¸¤ä¸ªåƒç´ ã€‚å¦‚æœä½ éµå¾ªè®¾è®¡é…æ–¹ï¼Œä½ çš„ç¬¬ä¸€ä¸ªç›®æ ‡æ˜¯å¼€å‘ä¸€ä¸ªæ•°æ®è¡¨ç¤ºï¼Œç”¨äºè¡¨ç¤ºéšæ—¶é—´å˜åŒ–çš„å†…å®¹ã€‚åœ¨è¿™é‡Œï¼Œçƒçš„ä½ç½®å’Œæ–¹å‘éšæ—¶é—´å˜åŒ–ï¼Œä½†è¿™æ˜¯ä¸¤ä¸ªå€¼ï¼Œè€Œ[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)åªè·Ÿè¸ªä¸€ä¸ªã€‚å› æ­¤ï¼Œé—®é¢˜å°±å‡ºç°äº†ï¼Œå¦‚ä½•ç”¨ä¸€å—æ•°æ®è¡¨ç¤ºä¸¤ä¸ªå˜åŒ–çš„ä¿¡æ¯é‡ã€‚
- en: Mathematicians know tricks that â€œmergeâ€ two numbers into a single number such
    that it is possible to retrieve the original ones. Programmers consider these
    kinds of tricks evil because they obscure a programâ€™s true intentions.
  id: totrans-2069
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ•°å­¦å®¶çŸ¥é“ä¸€äº›â€œåˆå¹¶â€ä¸¤ä¸ªæ•°å­—æˆä¸€ä¸ªæ•°å­—çš„æŠ€å·§ï¼Œè¿™æ ·å°±å¯ä»¥æ¢å¤åŸå§‹çš„æ•°å­—ã€‚ç¨‹åºå‘˜è®¤ä¸ºè¿™ç±»æŠ€å·§å¾ˆç³Ÿç³•ï¼Œå› ä¸ºå®ƒä»¬æ©ç›–äº†ç¨‹åºçš„çœŸå®æ„å›¾ã€‚
- en: Here is another scenario that raises the same question. Your cell phone is mostly
    a few million lines of code wrapped in plastic. Among other things, it administrates
    your contacts. Each contact comes with a name, a phone number, an email address,
    and perhaps some other information. When you have lots of contacts, each single
    contact is best represented as a single piece of data; otherwise the various pieces
    could get mixed up by accident.
  id: totrans-2070
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å¦ä¸€ä¸ªæå‡ºç›¸åŒé—®é¢˜çš„åœºæ™¯ã€‚ä½ çš„æ‰‹æœºä¸»è¦æ˜¯å‡ ç™¾ä¸‡è¡Œä»£ç åŒ…è£¹åœ¨å¡‘æ–™ä¸­ã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯ç®¡ç†ä½ çš„è”ç³»äººã€‚æ¯ä¸ªè”ç³»äººéƒ½æœ‰ä¸€ä¸ªåå­—ã€ç”µè¯å·ç ã€ç”µå­é‚®ä»¶åœ°å€ï¼Œå¯èƒ½è¿˜æœ‰ä¸€äº›å…¶ä»–ä¿¡æ¯ã€‚å½“ä½ æœ‰å¾ˆå¤šè”ç³»äººæ—¶ï¼Œæ¯ä¸ªå•ç‹¬çš„è”ç³»äººæœ€å¥½è¡¨ç¤ºä¸ºå•ä¸€çš„æ•°æ®ç‰‡æ®µï¼›å¦åˆ™ï¼Œå„ç§æ•°æ®å¯èƒ½ä¼šæ„å¤–æ··æ·†ã€‚
- en: Because of such programming problems, every programming language provides some
    mechanism to combine several pieces of data into a single piece of compound data
    and ways to retrieve the constituent values when needed. This chapter introduces
    BSLâ€™s mechanics, so-called structure type definitions, and how to design programs
    that work on compound data.
  id: totrans-2071
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè¿™æ ·çš„ç¼–ç¨‹é—®é¢˜ï¼Œæ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†ä¸€äº›æœºåˆ¶ï¼Œå¯ä»¥å°†å¤šä¸ªæ•°æ®ç‰‡æ®µç»„åˆæˆä¸€ä¸ªå•ä¸€çš„æ•°æ®ç»„åˆï¼Œå¹¶åœ¨éœ€è¦æ—¶æ£€ç´¢å…¶ç»„æˆéƒ¨åˆ†çš„å€¼ã€‚æœ¬ç« ä»‹ç»äº†BSLçš„æœºåˆ¶ï¼Œæ‰€è°“çš„ç»“æ„ç±»å‹å®šä¹‰ï¼Œä»¥åŠå¦‚ä½•è®¾è®¡å¤„ç†å¤åˆæ•°æ®çš„ç¨‹åºã€‚
- en: 5.1From Positions to posn Structures[ğŸ”—](#(part._sec~3aposn-structures) "Link
    to here")
  id: totrans-2072
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.1 ä»ä½ç½®åˆ°ä½ç½®ç»“æ„[ğŸ”—](#(part._sec~3aposn-structures) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'A position on a world canvas is uniquely identified by two pieces of data:
    the distance from the left margin and the distance from the top margin. The first
    is called an x-coordinate and the second one is the y-coordinate.'
  id: totrans-2073
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸–ç•Œç”»å¸ƒä¸Šçš„ä½ç½®ç”±ä¸¤ä»½æ•°æ®å”¯ä¸€æ ‡è¯†ï¼šä»å·¦è¾¹è·çš„è·ç¦»å’Œä»ä¸Šè¾¹è·çš„è·ç¦»ã€‚ç¬¬ä¸€ä¸ªè¢«ç§°ä¸ºxåæ ‡ï¼Œç¬¬äºŒä¸ªè¢«ç§°ä¸ºyåæ ‡ã€‚
- en: DrRacket, which is basically a BSL program, represents such positions with posn
    structures. A posn structure combines two numbers into a single value. We can
    create a posn structure with the operation [make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29),
    which consumes two numbers and makes a posn. For example,
  id: totrans-2074
  prefs: []
  type: TYPE_NORMAL
  zh: DrRacketï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªBSLç¨‹åºï¼Œä½¿ç”¨ä½ç½®ç»“æ„æ¥è¡¨ç¤ºè¿™æ ·çš„ä½ç½®ã€‚ä½ç½®ç»“æ„å°†ä¸¤ä¸ªæ•°å­—ç»„åˆæˆä¸€ä¸ªå•ä¸€å€¼ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ“ä½œ[åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)æ¥åˆ›å»ºä½ç½®ç»“æ„ï¼Œå®ƒæ¶ˆè€—ä¸¤ä¸ªæ•°å­—å¹¶ç”Ÿæˆä¸€ä¸ªä½ç½®ã€‚ä¾‹å¦‚ï¼Œ
- en: ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 3Â 4)
  id: totrans-2075
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 3Â 4)
- en: 'is an expression that creates a posn structure whose x-coordinate is 3 and
    whose y-coordinate is 4.A posn structure has the same status as a number or a
    Boolean or a string. In particular, both primitive operations and functions may
    consume and produce structures. Also, a program can name a posn structure:'
  id: totrans-2076
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯ä¸€ä¸ªåˆ›å»ºä½ç½®ç»“æ„ï¼Œå…¶xåæ ‡ä¸º3ï¼Œyåæ ‡ä¸º4çš„è¡¨è¾¾å¼ã€‚ä½ç½®ç»“æ„å…·æœ‰ä¸æ•°å­—ã€å¸ƒå°”å€¼æˆ–å­—ç¬¦ä¸²ç›¸åŒçš„åœ°ä½ã€‚ç‰¹åˆ«æ˜¯ï¼ŒåŸå§‹æ“ä½œå’Œå‡½æ•°éƒ½å¯ä»¥æ¶ˆè€—å’Œäº§ç”Ÿç»“æ„ã€‚æ­¤å¤–ï¼Œç¨‹åºå¯ä»¥å‘½åä½ç½®ç»“æ„ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â one-posnÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 8Â 6))
  id: totrans-2077
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â one-posnÂ ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 8Â 6))
- en: Stop! Describe one-posn in terms of coordinates.
  id: totrans-2078
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ç”¨åæ ‡æ¥æè¿°one-posnã€‚
- en: Before doing anything else, letâ€™s take a look at the laws of computation for
    posn structures. That way, we can both create functions that process posn structures
    and predict what they compute.
  id: totrans-2079
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åšå…¶ä»–ä»»ä½•äº‹æƒ…ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä½ç½®ç»“æ„çš„è®¡ç®—æ³•åˆ™ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åˆ›å»ºå¤„ç†ä½ç½®ç»“æ„çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥é¢„æµ‹å®ƒä»¬ä¼šè®¡ç®—ä»€ä¹ˆã€‚
- en: 5.2Computing with posns[ğŸ”—](#(part._sec~3aeval-posns) "Link to here")
  id: totrans-2080
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.2 ä½¿ç”¨ä½ç½®ç»“æ„è¿›è¡Œè®¡ç®—[ğŸ”—](#(part._sec~3aeval-posns) "é“¾æ¥åˆ°æ­¤å¤„")
- en: While functions and the laws of functions are completely familiar from pre-algebra,
    posn structures appear to be a new idea. Then again, the concept of a posn ought
    to look like the Cartesian points or positions in the plane you may have encountered
    before.
  id: totrans-2081
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶å‡½æ•°åŠå…¶æ³•åˆ™åœ¨ä»£æ•°ä¹‹å‰å°±å·²ç»å®Œå…¨ç†Ÿæ‚‰ï¼Œä½†ä½ç½®ç»“æ„ä¼¼ä¹æ˜¯ä¸€ä¸ªæ–°æ¦‚å¿µã€‚ç„¶è€Œï¼Œä½ç½®çš„æ¦‚å¿µåº”è¯¥çœ‹èµ·æ¥åƒä½ ä¹‹å‰å¯èƒ½é‡åˆ°è¿‡çš„ç¬›å¡å°”ç‚¹æˆ–å¹³é¢ä¸Šçš„ä½ç½®ã€‚
- en: '![image](../Images/083c70882fcadef8bbd1763197de3bf6.png)'
  id: totrans-2082
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/083c70882fcadef8bbd1763197de3bf6.png)'
- en: ''
  id: totrans-2083
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 29: A Cartesian point'
  id: totrans-2084
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾29ï¼šç¬›å¡å°”ç‚¹
- en: Selecting a Cartesian pointâ€™s pieces is also a familiar process. For example,We
    thank Neil Toronto for the plot library. when a teacher says, â€œtake a look at
    the graph of [figureÂ 29](#%28counter._%28figure._fig~3acartesian-point%29%29)
    and tell me what px and py are,â€ you are likely to answer 31 and 26, respectively,
    because you know that you need to read off the values where the vertical and horizontal
    lines that radiate out from p hit the axes.
  id: totrans-2085
  prefs: []
  type: TYPE_NORMAL
  zh: é€‰æ‹©ç¬›å¡å°”ç‚¹çš„å„ä¸ªéƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ªç†Ÿæ‚‰çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œå½“è€å¸ˆè¯´ï¼Œâ€œçœ‹çœ‹[å›¾ 29](#%28counter._%28figure._fig~3acartesian-point%29%29)çš„å›¾è¡¨ï¼Œå‘Šè¯‰æˆ‘
    px å’Œ py æ˜¯å¤šå°‘â€æ—¶ï¼Œä½ å¯èƒ½ä¼šå›ç­” 31 å’Œ 26ï¼Œåˆ†åˆ«ï¼Œå› ä¸ºä½ çŸ¥é“ä½ éœ€è¦è¯»å–ä» p å‘å‡ºçš„å‚ç›´å’Œæ°´å¹³è¾å°„çº¿ä¸åæ ‡è½´ç›¸äº¤å¤„çš„å€¼ã€‚
- en: We can express this idea in BSL. Assume you add
  id: totrans-2086
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ç”¨ BSL è¡¨è¾¾è¿™ä¸ªæƒ³æ³•ã€‚å‡è®¾ä½ åœ¨å®šä¹‰åŒºåŸŸæ·»åŠ 
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â pÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 31Â 26))
  id: totrans-2087
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â pÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 31Â 26))
- en: 'to the definitions area, click RUN, and perform these interactions:'
  id: totrans-2088
  prefs: []
  type: TYPE_NORMAL
  zh: ç‚¹å‡»è¿è¡Œï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹äº¤äº’ï¼š
- en: '| > ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)
    |'
  id: totrans-2089
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)
    |'
- en: '| 31 |'
  id: totrans-2090
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 31 |'
- en: '| > ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)
    |'
  id: totrans-2091
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)
    |'
- en: '| 26 |'
  id: totrans-2092
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 26 |'
- en: 'Defining p is like marking the point in a Cartesian plane; using [posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    and [posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    is like subscripting p with indexes: px and py.Computationally speaking, posn
    structures come with two equations:'
  id: totrans-2093
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰ p å°±åƒåœ¨ç¬›å¡å°”å¹³é¢ä¸Šæ ‡è®°ä¸€ä¸ªç‚¹ï¼›ä½¿ç”¨ [posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    å’Œ [posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    å°±åƒç”¨ç´¢å¼•å¯¹ p è¿›è¡Œä¸‹æ ‡ï¼špx å’Œ pyã€‚ä»è®¡ç®—çš„è§’åº¦è®²ï¼Œposn ç»“æ„ä½“å¸¦æœ‰ä¸¤ä¸ªæ–¹ç¨‹ï¼š
- en: '| ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x0  y0))
    |  | == |  | x0 |'
  id: totrans-2094
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x0  y0))
    |  | == |  | x0 |'
- en: '| ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x0  y0))
    |  | == |  | y0 |'
  id: totrans-2095
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x0  y0))
    |  | == |  | y0 |'
- en: 'DrRacket uses these equations during computations. Here is an example of a
    computation involving posn structures:'
  id: totrans-2096
  prefs: []
  type: TYPE_NORMAL
  zh: DrRacket åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ä½¿ç”¨è¿™äº›æ–¹ç¨‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¶‰åŠ posn ç»“æ„ä½“çš„è®¡ç®—ç¤ºä¾‹ï¼š
- en: '| ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)
    |'
  id: totrans-2097
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)
    |'
- en: '| ==Â ;Â DrRacket replaces p with ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  31  26)
    |'
  id: totrans-2098
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket å°† p æ›¿æ¢ä¸º ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  31  26)
    |'
- en: '| ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 31Â 26))
    |'
  id: totrans-2099
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 31Â 26))
    |'
- en: '| ==Â ;Â DrRacket uses the law for [posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    |'
  id: totrans-2100
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ; DrRacketä½¿ç”¨[posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)æ³•åˆ™
    |'
- en: '| 31 |'
  id: totrans-2101
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 31 |'
- en: Stop! Confirm the second interaction above with your own computation. Also use
    DrRacketâ€™s stepper to double-check.
  id: totrans-2102
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¯·ç”¨ä½ è‡ªå·±çš„è®¡ç®—æ¥ç¡®è®¤ä¸Šé¢çš„ç¬¬äºŒä¸ªäº¤äº’ã€‚åŒæ—¶ï¼Œä¹Ÿä½¿ç”¨DrRacketçš„æ­¥è¿›å™¨è¿›è¡ŒåŒé‡æ£€æŸ¥ã€‚
- en: 5.3Programming with posn[ğŸ”—](#(part._sec~3aprogramming-posn) "Link to here")
  id: totrans-2103
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.3ä½¿ç”¨posnç¼–ç¨‹[ğŸ”—](#(part._sec~3aprogramming-posn) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Now consider designing a function that computes the distance of some location
    to the origin of the canvas:'
  id: totrans-2104
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è€ƒè™‘è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è®¡ç®—æŸä¸ªä½ç½®åˆ°ç”»å¸ƒåŸç‚¹çš„è·ç¦»ï¼š
- en: '![image](../Images/f180d53753fa815ae429247a0f0b4e98.png)'
  id: totrans-2105
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/f180d53753fa815ae429247a0f0b4e98.png)'
- en: 'The picture clarifies that â€œdistanceâ€ means the length of the most direct pathâ€”<wbr>â€œas
    the crow fliesâ€â€”<wbr>from the designated point to the top-left corner of the canvas.Here
    are the purpose statement and the header:'
  id: totrans-2106
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¸…æ¥šåœ°è¯´æ˜äº†â€œè·ç¦»â€æ˜¯æŒ‡ä»æŒ‡å®šç‚¹åˆ°ç”»å¸ƒå·¦ä¸Šè§’çš„æœ€ç›´æ¥è·¯å¾„çš„é•¿åº¦â€”â€”â€œå¦‚é£é¸Ÿèˆ¬â€â€”â€”è¿™é‡Œæ˜¯æŒ‡å®šç‚¹åˆ°ç”»å¸ƒå·¦ä¸Šè§’çš„æœ€ç›´æ¥è·¯å¾„çš„é•¿åº¦ã€‚ä»¥ä¸‹æ˜¯ç›®çš„å£°æ˜å’Œå¤´æ–‡ä»¶ï¼š
- en: '| ;Â computes the distance of ap to the origin |'
  id: totrans-2107
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| è®¡ç®—ç‚¹apåˆ°åŸç‚¹çš„è·ç¦» |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-0Â ap)
    |'
  id: totrans-2108
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-0Â ap)
    |'
- en: '| Â Â 0) |'
  id: totrans-2109
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0) |'
- en: 'The key is that distance-to-0 consumes a single value, some posn. It produces
    a single value, the distance of the location to the origin.In order to make up
    examples, we need to know how to compute this distance. For points with 0 as one
    of the coordinates, the result is the other coordinate:'
  id: totrans-2110
  prefs: []
  type: TYPE_NORMAL
  zh: å…³é”®åœ¨äºdistance-to-0å‡½æ•°æ¥å—ä¸€ä¸ªå•ä¸€å€¼ï¼ŒæŸä¸ªä½ç½®ã€‚å®ƒäº§ç”Ÿä¸€ä¸ªå•ä¸€å€¼ï¼Œå³è¯¥ä½ç½®åˆ°åŸç‚¹çš„è·ç¦»ã€‚ä¸ºäº†æ„é€ ç¤ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å¦‚ä½•è®¡ç®—è¿™ä¸ªè·ç¦»ã€‚å¯¹äºåæ ‡ä¸­æœ‰ä¸€ä¸ªä¸º0çš„ç‚¹ï¼Œç»“æœæ˜¯å¦ä¸€ä¸ªåæ ‡ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 0Â 5))Â 5)
    |'
  id: totrans-2111
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 0Â 5))Â 5)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 7Â 0))Â 7)
    |'
  id: totrans-2112
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 7Â 0))Â 7)
    |'
- en: 'For the general case, we could try to figure out the formula on our own, or
    we may recall the formula from our geometry courses. As you know, this is domain
    knowledge that you might have, but in case you donâ€™t we supply it; after all,
    this domain knowledge isnâ€™t computer science. So, here is the distance formula
    for (x,y) again:'
  id: totrans-2113
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä¸€èˆ¬æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å°è¯•æ¨å¯¼å…¬å¼ï¼Œæˆ–è€…å›å¿†èµ·æˆ‘ä»¬å‡ ä½•è¯¾ç¨‹ä¸­çš„å…¬å¼ã€‚æ­£å¦‚ä½ æ‰€çŸ¥ï¼Œè¿™æ˜¯ä½ å¯èƒ½æ‹¥æœ‰çš„é¢†åŸŸçŸ¥è¯†ï¼Œä½†å¦‚æœä½ æ²¡æœ‰ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæä¾›ï¼›æ¯•ç«Ÿï¼Œè¿™ç§é¢†åŸŸçŸ¥è¯†ä¸æ˜¯è®¡ç®—æœºç§‘å­¦ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œå†æ¬¡ç»™å‡º(x,y)çš„è·ç¦»å…¬å¼ï¼š
- en: '![image](../Images/3bcc995fde35661f1299e4353837ba17.png)'
  id: totrans-2114
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/3bcc995fde35661f1299e4353837ba17.png)'
- en: 'Given this formula, we can easily make up some more functional examples:'
  id: totrans-2115
  prefs: []
  type: TYPE_NORMAL
  zh: ç»™å®šè¿™ä¸ªå…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ„é€ ä¸€äº›æ›´å¤šçš„å‡½æ•°ç¤ºä¾‹ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 3Â 4))Â 5)
    |'
  id: totrans-2116
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 3Â 4))Â 5)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 8Â 6))Â 10)
    |'
  id: totrans-2117
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 8Â 6))Â 10)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 5Â 12))Â 13)
    |'
  id: totrans-2118
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (distance-to-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 5Â 12))Â 13)
    |'
- en: Just in case youâ€™re wondering, we rigged the examples so that the results would
    be easy to figure out. This isnâ€™t the case for all posn structures.
  id: totrans-2119
  prefs: []
  type: TYPE_NORMAL
  zh: å°±ç®—ä½ å¥½å¥‡ï¼Œæˆ‘ä»¬ä¹Ÿè®¾ç½®äº†ç¤ºä¾‹ï¼Œä»¥ä¾¿ç»“æœå®¹æ˜“ç†è§£ã€‚ä½†è¿™å¹¶ä¸æ˜¯æ‰€æœ‰ posn ç»“æ„çš„æƒ…å†µã€‚
- en: Stop! Plug the x- and y-coordinates from the examples into the formula. Confirm
    the expected results for all five examples.
  id: totrans-2120
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼å°†ç¤ºä¾‹ä¸­çš„ x å’Œ y åæ ‡ä»£å…¥å…¬å¼ã€‚ç¡®è®¤æ‰€æœ‰äº”ä¸ªç¤ºä¾‹çš„é¢„æœŸç»“æœã€‚
- en: 'Next we can turn our attention to the definition of the function. The examples
    imply that the design of distance-to-0 does not need to distinguish between different
    situations; it always just computes the distance from the x- and y-coordinates
    inside the given posn structure. But the function must select these coordinates
    from the given posn structure. And for that, it uses the [posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    and [posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    primitives. Specifically, the function needs to compute ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  ap)
    and ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  ap)
    because ap is the name of the given, unknown posn structure:'
  id: totrans-2121
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ³¨æ„åŠ›è½¬å‘å‡½æ•°çš„å®šä¹‰ã€‚ç¤ºä¾‹æš—ç¤ºï¼Œdistance-to-0 çš„è®¾è®¡ä¸éœ€è¦åŒºåˆ†ä¸åŒçš„æƒ…å†µï¼›å®ƒæ€»æ˜¯åªè®¡ç®—ç»™å®š posn ç»“æ„å†…éƒ¨ x å’Œ
    y åæ ‡ä¹‹é—´çš„è·ç¦»ã€‚ä½†æ˜¯ï¼Œå‡½æ•°å¿…é¡»ä»ç»™å®šçš„ posn ç»“æ„ä¸­é€‰æ‹©è¿™äº›åæ ‡ã€‚ä¸ºæ­¤ï¼Œå®ƒä½¿ç”¨äº† [posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    å’Œ [posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    åŸè¯­ã€‚å…·ä½“æ¥è¯´ï¼Œå‡½æ•°éœ€è¦è®¡ç®— ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  ap)
    å’Œ ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  ap)ï¼Œå› ä¸º
    ap æ˜¯ç»™å®šã€æœªçŸ¥çš„ posn ç»“æ„çš„åç§°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-0Â ap)
    |'
  id: totrans-2122
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-0Â ap)
    |'
- en: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â ap)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-2123
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â ap)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â ap)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-2124
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â ap)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: 'Using this template and the examples, the rest is straightforward:'
  id: totrans-2125
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™ä¸ªæ¨¡æ¿å’Œç¤ºä¾‹ï¼Œå…¶ä½™çš„éƒ¨åˆ†å°±å¾ˆç®€å•äº†ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-0Â ap)
    |'
  id: totrans-2126
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (distance-to-0Â ap)
    |'
- en: '| Â Â ([sqrt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)
    |'
  id: totrans-2127
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([sqrt](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqrt%29%29)
    |'
- en: '| Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â ap))
    |'
  id: totrans-2128
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â ap))
    |'
- en: '| Â Â Â Â Â Â Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â ap)))))
    |'
  id: totrans-2129
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â ap)))))
    |'
- en: 'The function squares ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  ap)
    and ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  ap),
    which represent the x- and y-coordinates, sums up the results, and takes the square
    root. With DrRacket, we can also quickly check that our new function produces
    the proper results for our examples.ExerciseÂ 63\. Evaluate the following expressions:'
  id: totrans-2130
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°å¹³æ–¹([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  ap)å’Œ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  ap)ï¼Œå³ä»£è¡¨xå’Œyåæ ‡ï¼Œç„¶åå°†ç»“æœç›¸åŠ å¹¶å¼€å¹³æ–¹ã€‚ä½¿ç”¨DrRacketï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¿«é€Ÿæ£€æŸ¥æˆ‘ä»¬çš„æ–°å‡½æ•°æ˜¯å¦ä¸ºæˆ‘ä»¬çš„ç¤ºä¾‹äº§ç”Ÿæ­£ç¡®çš„ç»“æœã€‚ç»ƒä¹ 63ã€‚è¯„ä¼°ä»¥ä¸‹è¡¨è¾¾å¼ï¼š
- en: (distance-to-0  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  3  4))
  id: totrans-2131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (distance-to-0  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  3  4))
- en: (distance-to-0  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  6  ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)  2  4)))
  id: totrans-2132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (distance-to-0  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  6  ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)  2  4)))
- en: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  (distance-to-0  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  12  5))  10)
  id: totrans-2133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)  (distance-to-0  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  12  5))  10)
- en: 'by hand. Show all steps. Assume that [sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)
    performs its computation in a single step. Check the results with DrRacketâ€™s stepper.ExerciseÂ 64\.
    The Manhattan distance of a point to the origin considers a path that follows
    the rectangular grid of streets found in Manhattan. Here are two examples:'
  id: totrans-2134
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨è®¡ç®—ã€‚å±•ç¤ºæ‰€æœ‰æ­¥éª¤ã€‚å‡è®¾[sqr](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._sqr%29%29)åœ¨å•æ­¥å†…å®Œæˆå…¶è®¡ç®—ã€‚ä½¿ç”¨DrRacketçš„æ­¥è¿›å™¨æ£€æŸ¥ç»“æœã€‚ç»ƒä¹ 64ã€‚æ›¼å“ˆé¡¿è·ç¦»æ˜¯æŒ‡ä»ç‚¹åˆ°åŸç‚¹çš„è·¯å¾„éµå¾ªæ›¼å“ˆé¡¿è¡—é“çš„çŸ©å½¢ç½‘æ ¼ã€‚ä»¥ä¸‹æœ‰ä¸¤ä¸ªç¤ºä¾‹ï¼š
- en: '![image](../Images/27c0fbfa2eddf6d47f67f9984206300b.png)Â Â Â Â Â Â Â Â Â Â ![image](../Images/6094a3a7df57141bbab594ab575ce6cd.png)'
  id: totrans-2135
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/27c0fbfa2eddf6d47f67f9984206300b.png)Â Â Â Â Â Â Â Â Â Â ![image](../Images/6094a3a7df57141bbab594ab575ce6cd.png)'
- en: The left one shows a â€œdirectâ€ strategy, going as far left as needed, followed
    by as many upward steps as needed. In comparison, the right one shows a â€œrandom
    walkâ€ strategy, going some blocks leftward, some upward, and so on until the destinationâ€”<wbr>here,
    the originâ€”<wbr>is reached.
  id: totrans-2136
  prefs: []
  type: TYPE_NORMAL
  zh: å·¦è¾¹æ˜¾ç¤ºäº†ä¸€ç§â€œç›´æ¥â€ç­–ç•¥ï¼Œå‘å·¦èµ°æ‰€éœ€çš„æœ€è¿œè·ç¦»ï¼Œç„¶åå‘ä¸Šèµ°æ‰€éœ€çš„æœ€å¤šä¸ªæ­¥éª¤ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå³è¾¹æ˜¾ç¤ºäº†ä¸€ç§â€œéšæœºæ¸¸èµ°â€ç­–ç•¥ï¼Œå‘å·¦èµ°ä¸€äº›è¡—åŒºï¼Œå‘ä¸Šèµ°ä¸€äº›ï¼Œç­‰ç­‰ï¼Œç›´åˆ°è¾¾åˆ°ç›®çš„åœ°â€”â€”<wbr>åœ¨è¿™é‡Œï¼Œæ˜¯èµ·ç‚¹â€”â€”<wbr>ã€‚
- en: Stop! Does it matter which strategy you follow?
  id: totrans-2137
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ä½ éµå¾ªå“ªç§ç­–ç•¥æœ‰å…³ç³»å—ï¼Ÿ
- en: Design the function manhattan-distance, which measures the Manhattan distance
    of the given posn to the origin.
  id: totrans-2138
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªåä¸ºmanhattan-distanceçš„å‡½æ•°ï¼Œå®ƒæµ‹é‡ç»™å®šposnåˆ°åŸç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚
- en: 5.4Defining Structure Types[ğŸ”—](#(part._sec~3astructures) "Link to here")
  id: totrans-2139
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.4 å®šä¹‰ç»“æ„ç±»å‹[ğŸ”—](#(part._sec~3astructures) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Unlike numbers or Boolean values, structures such as posn usually donâ€™t come
    with a programming language. Only the mechanism to define structure types is provided;
    the rest is left up to the programmer. This is also true for BSL.
  id: totrans-2140
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æ•°å­—æˆ–å¸ƒå°”å€¼ä¸åŒï¼Œç»“æ„å¦‚posné€šå¸¸ä¸éšç¼–ç¨‹è¯­è¨€æä¾›ã€‚åªæä¾›äº†å®šä¹‰ç»“æ„ç±»å‹çš„æœºåˆ¶ï¼›å…¶ä½™çš„ç•™ç»™ç¨‹åºå‘˜ã€‚è¿™å¯¹äºBSLä¹Ÿæ˜¯å¦‚æ­¤ã€‚
- en: 'A structure type definition is another form of definition, distinct from constant
    and function definitions. Here is how the creator of DrRacket defined the posn
    structure type in BSL:'
  id: totrans-2141
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æ„ç±»å‹å®šä¹‰æ˜¯å¦ä¸€ç§å®šä¹‰å½¢å¼ï¼Œä¸å¸¸é‡å’Œå‡½æ•°å®šä¹‰ä¸åŒã€‚ä»¥ä¸‹æ˜¯DrRacketçš„åˆ›å»ºè€…åœ¨BSLä¸­å®šä¹‰posnç»“æ„ç±»å‹çš„ç¤ºä¾‹ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â posnÂ [xÂ y])
  id: totrans-2142
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â posnÂ [xÂ y])
- en: In general, a structure type definition has this shape:The use of brackets in
    a structure type definition is a convention, not a necessity. It makes the field
    names stand out. Replacing brackets with parentheses is perfectly acceptable.
  id: totrans-2143
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œç»“æ„ç±»å‹å®šä¹‰å…·æœ‰ä»¥ä¸‹å½¢çŠ¶ï¼šåœ¨ç»“æ„ç±»å‹å®šä¹‰ä¸­ä½¿ç”¨æ‹¬å·æ˜¯ä¸€ç§çº¦å®šï¼Œè€Œä¸æ˜¯å¿…éœ€çš„ã€‚å®ƒä½¿å­—æ®µåç§°çªå‡ºã€‚ç”¨æ‹¬å·æ›¿æ¢æ‹¬å·æ˜¯å®Œå…¨å¯æ¥å—çš„ã€‚
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â StructureNameÂ [FieldNameÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)])
  id: totrans-2144
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â StructureNameÂ [FieldNameÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)])
- en: 'The keyword [define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    signals the introduction of a new structure type. It is followed by the name of
    the structure. The third part of a structure type definition is a sequence of
    names enclosed in brackets; these names are the fields.A structure type definition
    actually defines functions. But, unlike an ordinary function definition, a structure
    type definition defines many functions simultaneously. Specifically, it defines
    three kinds of functions:'
  id: totrans-2145
  prefs: []
  type: TYPE_NORMAL
  zh: å…³é”®å­—[define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)è¡¨ç¤ºå¼•å…¥ä¸€ä¸ªæ–°çš„ç»“æ„ç±»å‹ã€‚å®ƒåé¢è·Ÿç€ç»“æ„ç±»å‹çš„åç§°ã€‚ç»“æ„ç±»å‹å®šä¹‰çš„ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ä¸€ä¸ªæ‹¬å·å†…çš„åç§°åºåˆ—ï¼›è¿™äº›åç§°æ˜¯å­—æ®µã€‚å®é™…ä¸Šï¼Œç»“æ„ç±»å‹å®šä¹‰å®šä¹‰äº†å‡½æ•°ã€‚ä½†æ˜¯ï¼Œä¸æ™®é€šå‡½æ•°å®šä¹‰ä¸åŒï¼Œç»“æ„ç±»å‹å®šä¹‰åŒæ—¶å®šä¹‰äº†è®¸å¤šå‡½æ•°ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå®šä¹‰äº†ä¸‰ç§ç±»å‹çš„å‡½æ•°ï¼š
- en: one constructor, a function that creates structure instances. It takes as many
    values as there are fields; as mentioned, structure is short for structure instance.
    The phrase structure type is a generic name for the collection of all possible
    instances;
  id: totrans-2146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªåˆ›å»ºç»“æ„å®ä¾‹çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸å­—æ®µæ•°é‡ç›¸åŒçš„å€¼ï¼›å¦‚å‰æ‰€è¿°ï¼Œç»“æ„æ˜¯ç»“æ„å®ä¾‹çš„ç®€ç§°ã€‚ç»“æ„ç±»å‹è¿™ä¸ªçŸ­è¯­æ˜¯æ‰€æœ‰å¯èƒ½å®ä¾‹çš„é›†åˆçš„é€šç”¨åç§°ï¼›
- en: one selector per field, which extracts the value of the field from a structure
    instance; and
  id: totrans-2147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªå­—æ®µä¸€ä¸ªé€‰æ‹©å™¨ï¼Œå®ƒä»ç»“æ„å®ä¾‹ä¸­æå–å­—æ®µçš„å€¼ï¼›å¹¶ä¸”
- en: one structure predicate, which, like ordinary predicates, distinguishes instances
    from all other kinds of values.
  id: totrans-2148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªç»“æ„è°“è¯ï¼Œå®ƒåƒæ™®é€šè°“è¯ä¸€æ ·ï¼Œå°†å®ä¾‹ä¸å…¶ä»–æ‰€æœ‰ç±»å‹çš„å€¼åŒºåˆ†å¼€æ¥ã€‚
- en: A program can use these as if they were functions or built-in primitives.
  id: totrans-2149
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªç¨‹åºå¯ä»¥ä½¿ç”¨è¿™äº›ä½œä¸ºå‡½æ•°æˆ–å†…ç½®åŸè¯­ã€‚
- en: Curiously, a structure type definition makes up names for the various new operations
    it creates. For the name of the constructor, it prefixes the structure name with
    â€œmake-â€ and for the names of the selectors it postfixes the structure name with
    the field names. Finally, the predicate is just the structure name with â€œ?â€ added,
    pronounced â€œhuhâ€ when read aloud.
  id: totrans-2150
  prefs: []
  type: TYPE_NORMAL
  zh: å¥‡æ€ªçš„æ˜¯ï¼Œç»“æ„ç±»å‹å®šä¹‰ä¼šä¸ºå®ƒåˆ›å»ºçš„å„ç§æ–°æ“ä½œå‘½åã€‚å¯¹äºæ„é€ å‡½æ•°çš„åç§°ï¼Œå®ƒå°†â€œmake-â€å‰ç¼€åŠ åˆ°ç»“æ„åç§°ä¸Šï¼Œå¯¹äºé€‰æ‹©å™¨çš„åç§°ï¼Œå®ƒå°†ç»“æ„åç§°åç¼€åŠ ä¸Šå­—æ®µåç§°ã€‚æœ€åï¼Œè°“è¯åªæ˜¯ç»“æ„åç§°åŠ ä¸Šâ€œï¼Ÿâ€å¹¶åŠ ä¸Šï¼Œå½“å¤§å£°è¯»å‡ºæ¥æ—¶å‘éŸ³ä¸ºâ€œhuhâ€ã€‚
- en: 'This naming convention looks complicated and perhaps even confusing. But, with
    a little bit of practice, youâ€™ll get the hang of it. It also explains the functions
    that come with posn structures: [make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    is the constructor, [posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    and [posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    are selectors. While we havenâ€™t encountered [posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)
    yet, we now know that it exists; the next chapter explains the role of these predicates
    in detail.'
  id: totrans-2151
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§å‘½åçº¦å®šçœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä¹Ÿè®¸ç”šè‡³æœ‰äº›ä»¤äººå›°æƒ‘ã€‚ä½†æ˜¯ï¼Œåªè¦ç¨å¾®ç»ƒä¹ ä¸€ä¸‹ï¼Œä½ å°±ä¼šæŒæ¡å®ƒçš„æŠ€å·§ã€‚å®ƒè¿˜è§£é‡Šäº†ä¸posnç»“æ„ç›¸å…³çš„åŠŸèƒ½ï¼š[make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    æ˜¯æ„é€ å‡½æ•°ï¼Œ[posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    å’Œ [posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    æ˜¯é€‰æ‹©å™¨ã€‚è™½ç„¶æˆ‘ä»¬è¿˜æ²¡æœ‰é‡åˆ° [posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)ï¼Œä½†æˆ‘ä»¬ç°åœ¨çŸ¥é“å®ƒå­˜åœ¨ï¼›ä¸‹ä¸€ç« å°†è¯¦ç»†è§£é‡Šè¿™äº›è°“è¯çš„ä½œç”¨ã€‚
- en: 'ExerciseÂ 65\. Take a look at the following structure type definitions:'
  id: totrans-2152
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  65ã€‚çœ‹çœ‹ä»¥ä¸‹çš„ç»“æ„ç±»å‹å®šä¹‰ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  movie  [title  producer  year])
  id: totrans-2153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  movie  [title  producer  year])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  person  [name  hair  eyes  phone])
  id: totrans-2154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  person  [name  hair  eyes  phone])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  pet  [name  number])
  id: totrans-2155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  pet  [name  number])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  CD  [artist  title  price])
  id: totrans-2156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  CD  [artist  title  price])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  sweater  [material  size  producer])
  id: totrans-2157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  sweater  [material  size  producer])
- en: 'Write down the names of the functions (constructors, selectors, and predicates)
    that each introduces.Enough with posn structures for a while. Letâ€™s look at a
    structure type definition that we might use to keep track of contacts such as
    those in your cell phone:'
  id: totrans-2158
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ¯ä¸ªå¼•å…¥çš„å‡½æ•°ï¼ˆæ„é€ å‡½æ•°ã€é€‰æ‹©å™¨å’Œè°“è¯ï¼‰çš„åç§°å†™ä¸‹æ¥ã€‚æš‚æ—¶å…ˆæ”¾ä¸‹posnç»“æ„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ç§ç»“æ„ç±»å‹å®šä¹‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç”¨å®ƒæ¥è·Ÿè¸ªåƒä½ æ‰‹æœºé‡Œçš„è”ç³»äººè¿™æ ·çš„ä¿¡æ¯ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â entryÂ [nameÂ phoneÂ email])
  id: totrans-2159
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â entryÂ [nameÂ phoneÂ email])
- en: 'Here are the names of the functions that this definition introduces:'
  id: totrans-2160
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯è¿™ä¸ªå®šä¹‰å¼•å…¥çš„å‡½æ•°çš„åç§°ï¼š
- en: make-entry, which consumes three values and constructs an instance of entry;
  id: totrans-2161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: make-entryï¼Œå®ƒæ¶ˆè€—ä¸‰ä¸ªå€¼å¹¶æ„å»ºä¸€ä¸ªentryå®ä¾‹ï¼›
- en: entry-name, entry-phone, and entry-email, which consume one instance of entry
    and select one of the three field values; and
  id: totrans-2162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: entry-nameï¼Œentry-phoneï¼Œå’Œ entry-emailï¼Œå®ƒä»¬æ¶ˆè€—ä¸€ä¸ªentryå®ä¾‹å¹¶é€‰æ‹©ä¸‰ä¸ªå­—æ®µå€¼ä¹‹ä¸€ï¼›ä»¥åŠ
- en: entry?, the predicate.
  id: totrans-2163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: entry?ï¼Œè°“è¯ã€‚
- en: Since each entry combines three values, the expression
  id: totrans-2164
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæ¯ä¸ªentryç»„åˆäº†ä¸‰ä¸ªå€¼ï¼Œæ‰€ä»¥è¡¨è¾¾å¼
- en: (make-entryÂ "Al Abe"Â "666-7771"Â "lee@x.me")
  id: totrans-2165
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (make-entry "Al Abe" "666-7771" "lee@x.me")
- en: creates an entry structure with "Al Abe" in the name field, "666-7771" in the
    phone field, and "lee@x.me" in the email field.
  id: totrans-2166
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åç§°å­—æ®µä¸­åˆ›å»ºä¸€ä¸ªåŒ…å« "Al Abe" çš„æ¡ç›®ç»“æ„ï¼Œç”µè¯å­—æ®µä¸­åŒ…å« "666-7771"ï¼Œç”µå­é‚®ä»¶å­—æ®µä¸­åŒ…å« "lee@x.me"ã€‚
- en: ExerciseÂ 66\. Revisit the structure type definitions of [exerciseÂ 65](#%28counter._%28exercise._struct3%29%29).
    Make sensible guesses as to what kind of values go with which fields. Then create
    at least one instance per structure type definition.
  id: totrans-2167
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  66. å›é¡¾ [ç»ƒä¹  65](#%28counter._%28exercise._struct3%29%29) çš„ç»“æ„ç±»å‹å®šä¹‰ã€‚å¯¹å“ªäº›å€¼ä¸å“ªäº›å­—æ®µç›¸åŒ¹é…è¿›è¡Œåˆç†çš„çŒœæµ‹ã€‚ç„¶åä¸ºæ¯ä¸ªç»“æ„ç±»å‹å®šä¹‰åˆ›å»ºè‡³å°‘ä¸€ä¸ªå®ä¾‹ã€‚
- en: Every structure type definition introduces a new kind of structure, distinct
    from all others. Programmers want this kind of expressive power because they wish
    to convey an intention with the structure name. Wherever a structure is created,
    selected, or tested, the text of the program explicitly reminds the reader of
    this intention. If it werenâ€™t for these future readers of code, programmers could
    use one structure definition for structures with one field, another for structures
    with two fields, a third for structures with three, and so on.
  id: totrans-2168
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç»“æ„ç±»å‹å®šä¹‰éƒ½å¼•å…¥äº†ä¸€ç§æ–°çš„ç»“æ„ç±»å‹ï¼Œä¸å…¶ä»–æ‰€æœ‰ç»“æ„ç±»å‹éƒ½ä¸åŒã€‚ç¨‹åºå‘˜å¸Œæœ›æ‹¥æœ‰è¿™ç§è¡¨è¾¾åŠ›ï¼Œå› ä¸ºä»–ä»¬å¸Œæœ›é€šè¿‡ç»“æ„åç§°ä¼ è¾¾æ„å›¾ã€‚æ— è®ºç»“æ„æ˜¯åœ¨åˆ›å»ºã€é€‰æ‹©è¿˜æ˜¯æµ‹è¯•æ—¶ï¼Œç¨‹åºä¸­çš„æ–‡æœ¬éƒ½ä¼šæ˜ç¡®æé†’è¯»è€…è¿™ç§æ„å›¾ã€‚å¦‚æœæ²¡æœ‰è¿™äº›æœªæ¥çš„ä»£ç è¯»è€…ï¼Œç¨‹åºå‘˜å¯ä»¥ä¸ºåªæœ‰ä¸€ä¸ªå­—æ®µçš„ã€æœ‰ä¸¤ä¸ªå­—æ®µçš„ã€æœ‰ä¸‰ä¸ªå­—æ®µçš„ç­‰ç»“æ„ä½¿ç”¨ä¸€ä¸ªç»“æ„å®šä¹‰ã€‚
- en: 'In this context, letâ€™s study another programming problem:'
  id: totrans-2169
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªèƒŒæ™¯ä¸‹ï¼Œè®©æˆ‘ä»¬ç ”ç©¶å¦ä¸€ä¸ªç¼–ç¨‹é—®é¢˜ï¼š
- en: Sample Problem Develop a structure type definition for a program that deals
    with â€œbouncing balls,â€ briefly mentioned at the very beginning of this chapter.
    The ballâ€™s location is a single number, namely the distance of pixels from the
    top. Its constant speed is the number of pixels it moves per clock tick. Its velocity
    is the speed plus the direction in which it moves.
  id: totrans-2170
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·æœ¬é—®é¢˜ï¼šä¸ºå¤„ç†â€œå¼¹è·³çƒâ€çš„ç¨‹åºåˆ¶å®šç»“æ„ç±»å‹å®šä¹‰ï¼Œè¿™åœ¨æœ¬ç« å¼€å¤´ç®€è¦æåˆ°ã€‚çƒçš„ä½ç½®æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ•°å­—ï¼Œå³ä»é¡¶éƒ¨åƒç´ çš„è·ç¦»ã€‚å®ƒçš„æ’å®šé€Ÿåº¦æ˜¯æ¯æ—¶é’Ÿå‘¨æœŸç§»åŠ¨çš„åƒç´ æ•°ã€‚å®ƒçš„é€Ÿåº¦æ˜¯é€Ÿåº¦åŠ ä¸Šç§»åŠ¨çš„æ–¹å‘ã€‚
- en: 'Since the ball moves along a straight, vertical line, a number is a perfectly
    adequate data representation for its velocity:'
  id: totrans-2171
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºçƒæ²¿ç€ä¸€æ¡ç›´çº¿ã€å‚ç›´çš„è·¯å¾„ç§»åŠ¨ï¼Œä¸€ä¸ªæ•°å­—å°±è¶³ä»¥è¡¨ç¤ºå®ƒçš„é€Ÿåº¦ï¼š
- en: A positive number means the ball moves down.
  id: totrans-2172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­£æ•°è¡¨ç¤ºçƒå‘ä¸‹ç§»åŠ¨ã€‚
- en: A negative number means it moves up.
  id: totrans-2173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è´Ÿæ•°è¡¨ç¤ºå®ƒå‘ä¸Šç§»åŠ¨ã€‚
- en: 'We can use this domain knowledge to formulate a structure type definition:'
  id: totrans-2174
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ç§é¢†åŸŸçŸ¥è¯†æ¥åˆ¶å®šç»“æ„ç±»å‹å®šä¹‰ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ballÂ [locationÂ velocity])
  id: totrans-2175
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    ball [location velocity])
- en: Both fields are going to contain numbers, so (make-ball  10  -3) is a good data
    example. It represents a ball that is 10 pixels from the top and moves up at 3
    pixels per clock tick.
  id: totrans-2176
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªå­—æ®µéƒ½å°†åŒ…å«æ•°å­—ï¼Œæ‰€ä»¥ (make-ball 10 -3) æ˜¯ä¸€ä¸ªè‰¯å¥½çš„æ•°æ®ç¤ºä¾‹ã€‚å®ƒä»£è¡¨ä¸€ä¸ªä»é¡¶éƒ¨10åƒç´ å¤„å¼€å§‹å‘ä¸Šç§»åŠ¨ï¼Œæ¯æ—¶é’Ÿå‘¨æœŸç§»åŠ¨3åƒç´ çš„çƒã€‚
- en: Notice how, in principle, a ball structure merely combines two numbers, just
    like a posn structure. When a program contains the expression (ball-velocity  a-ball),
    it immediately conveys that this program deals with the representation of a ball
    and its velocity. In contrast, if the program used posn structures instead, ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  a-ball)
    might mislead a reader of the code into thinking that the expression is about
    a y-coordinate.
  id: totrans-2177
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼ŒåŸåˆ™ä¸Šï¼Œçƒç»“æ„åªæ˜¯å°†ä¸¤ä¸ªæ•°å­—ç»„åˆåœ¨ä¸€èµ·ï¼Œå°±åƒ posn ç»“æ„ä¸€æ ·ã€‚å½“ç¨‹åºåŒ…å«è¡¨è¾¾å¼ (ball-velocity a-ball) æ—¶ï¼Œå®ƒç«‹å³ä¼ è¾¾äº†è¯¥ç¨‹åºå¤„ç†çš„æ˜¯çƒåŠå…¶é€Ÿåº¦çš„è¡¨ç¤ºã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœç¨‹åºä½¿ç”¨
    posn ç»“æ„ï¼Œ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    a-ball) å¯èƒ½ä¼šè¯¯å¯¼ä»£ç çš„è¯»è€…ï¼Œä½¿ä»–ä»¬è®¤ä¸ºè¯¥è¡¨è¾¾å¼æ˜¯å…³äº y åæ ‡çš„ã€‚
- en: 'ExerciseÂ 67\. Here is another way to represent bouncing balls:'
  id: totrans-2178
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  67. è¿™æ˜¯è¡¨ç¤ºå¼¹è·³çƒçš„å¦ä¸€ç§æ–¹å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â SPEEDÂ 3)
    |'
  id: totrans-2179
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    SPEED 3) |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â balldÂ [locationÂ direction])
    |'
  id: totrans-2180
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    balld [location direction]) |'
- en: '| (make-balldÂ 10Â "up") |'
  id: totrans-2181
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-balld 10 "up") |'
- en: Interpret this code fragment and create other instances of balld.
  id: totrans-2182
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šè¿™æ®µä»£ç å¹¶åˆ›å»ºå…¶ä»– balld å®ä¾‹ã€‚
- en: 'Since structures are values, just like numbers or Booleans or strings, it makes
    sense that one instance of a structure occurs inside another instance. Consider
    game objects. Unlike bouncing balls, such objects donâ€™t always move along vertical
    lines. Instead, they move in some â€œobliqueâ€ manner across the canvas. Describing
    both the location and the velocity of a ball moving across a 2-dimensional world
    canvas demands two numbers: one per direction.It is physics that tells you to
    add an objectâ€™s velocity to its location to obtain its next location. Developers
    need to learn whom to ask about which domain. For the location part, the two numbers
    represent the x- and y-coordinates. Velocity describes the changes in the horizontal
    and vertical direction; in other words, these â€œchange numbersâ€ must be added to
    the respective coordinates to find out where the object will be next.'
  id: totrans-2183
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºç»“æ„æ˜¯å€¼ï¼Œå°±åƒæ•°å­—æˆ–å¸ƒå°”å€¼æˆ–å­—ç¬¦ä¸²ä¸€æ ·ï¼Œä¸€ä¸ªç»“æ„å®ä¾‹å‡ºç°åœ¨å¦ä¸€ä¸ªå®ä¾‹å†…éƒ¨æ˜¯æœ‰æ„ä¹‰çš„ã€‚è€ƒè™‘æ¸¸æˆå¯¹è±¡ã€‚ä¸å¼¹è·³çƒä¸åŒï¼Œè¿™ç±»å¯¹è±¡å¹¶ä¸æ€»æ˜¯æ²¿ç€å‚ç›´çº¿ç§»åŠ¨ã€‚ç›¸åï¼Œå®ƒä»¬ä»¥æŸç§â€œæ–œâ€çš„æ–¹å¼åœ¨ç”»å¸ƒä¸Šç§»åŠ¨ã€‚æè¿°åœ¨äºŒç»´ä¸–ç•Œç”»å¸ƒä¸Šç§»åŠ¨çš„çƒä½“çš„ä½ç½®å’Œé€Ÿåº¦éœ€è¦ä¸¤ä¸ªæ•°å­—ï¼šæ¯ä¸ªæ–¹å‘ä¸€ä¸ªã€‚æ˜¯ç‰©ç†å­¦å‘Šè¯‰ä½ è¦å°†å¯¹è±¡çš„é€Ÿç‡åŠ åˆ°å…¶ä½ç½®ä¸Šä»¥è·å¾—å…¶ä¸‹ä¸€ä¸ªä½ç½®ã€‚å¼€å‘è€…éœ€è¦å­¦ä¹ å‘è°è¯¢é—®å“ªä¸ªé¢†åŸŸã€‚å¯¹äºä½ç½®éƒ¨åˆ†ï¼Œä¸¤ä¸ªæ•°å­—è¡¨ç¤º
    x å’Œ y åæ ‡ã€‚é€Ÿç‡æè¿°äº†æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„å˜åŒ–ï¼›æ¢å¥è¯è¯´ï¼Œè¿™äº›â€œå˜åŒ–æ•°å­—â€å¿…é¡»åŠ åˆ°ç›¸åº”çš„åæ ‡ä¸Šï¼Œä»¥æ‰¾å‡ºå¯¹è±¡å°†å‡ºç°åœ¨å“ªé‡Œã€‚
- en: 'Clearly, posn structures can represent locations. For the velocities, we define
    the vel structure type:'
  id: totrans-2184
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¾ç„¶ï¼Œposn ç»“æ„å¯ä»¥è¡¨ç¤ºä½ç½®ã€‚å¯¹äºé€Ÿåº¦ï¼Œæˆ‘ä»¬å®šä¹‰ vel ç»“æ„ç±»å‹ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â velÂ [deltaxÂ deltay])
  id: totrans-2185
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([å®šä¹‰ç»“æ„](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â velÂ [deltaxÂ deltay])
- en: 'It comes with two fields: deltax and deltay. The word â€œdeltaâ€ is commonly used
    to speak of change when it comes to simulations of physical activities, and the
    x and y parts indicate which axis is concerned.Now we can use instances of ball
    to combine a posn structure with a vel structure to represent balls that move
    in straight lines but not necessarily along only vertical (or horizontal) lines:'
  id: totrans-2186
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒåŒ…å«ä¸¤ä¸ªå­—æ®µï¼šdeltax å’Œ deltayã€‚å•è¯â€œdeltaâ€é€šå¸¸ç”¨äºæè¿°ç‰©ç†æ´»åŠ¨æ¨¡æ‹Ÿä¸­çš„å˜åŒ–ï¼Œè€Œ x å’Œ y éƒ¨åˆ†è¡¨ç¤ºå“ªä¸ªè½´ç›¸å…³ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çƒä½“çš„å®ä¾‹å°†
    posn ç»“æ„ä¸ vel ç»“æ„ç»“åˆèµ·æ¥ï¼Œä»¥è¡¨ç¤ºæ²¿ç›´çº¿ç§»åŠ¨ä½†ä¸å¿…ä»…æ²¿å‚ç›´ï¼ˆæˆ–æ°´å¹³ï¼‰çº¿ç§»åŠ¨çš„çƒä½“ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ball1
    |'
  id: totrans-2187
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ball1)
    |'
- en: '| Â Â (make-ballÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 30Â 40)Â (make-velÂ -10Â 5)))
    |'
  id: totrans-2188
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (make-ballÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 30Â 40)Â (make-velÂ -10Â 5)))
    |'
- en: One way to interpret this instance is to think of a ball that is 30 pixels from
    the left and 40 pixels from the top. It moves 10 pixels toward the left per clock
    tick, because subtracting 10 pixels from the x-coordinate brings it closer to
    the left. As for the vertical direction, the ball drops at 5 pixels per clock
    tick, because adding positive numbers to a y-coordinate increases the distance
    from the top.ExerciseÂ 68\. An alternative to the nested data representation of
    balls uses four fields to keep track of the four properties:Yet another alternative
    is to use complex numbers. If you know about them, contemplate a data representation
    that uses them for both location and velocity. For example, in BSL, 4-3i is a
    complex number and could be used to represent the location or velocity (4,-3).
  id: totrans-2189
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šè¿™ä¸ªå®ä¾‹çš„ä¸€ç§æ–¹æ³•æ˜¯å°†çƒä½“æƒ³è±¡æˆè·ç¦»å·¦è¾¹ 30 åƒç´ ï¼Œè·ç¦»é¡¶éƒ¨ 40 åƒç´ çš„çƒä½“ã€‚å®ƒæ¯æ—¶é’Ÿå‘¨æœŸå‘å·¦ç§»åŠ¨ 10 åƒç´ ï¼Œå› ä¸ºä» x åæ ‡ä¸­å‡å» 10 åƒç´ ä½¿å…¶æ›´é è¿‘å·¦è¾¹ã€‚è‡³äºå‚ç›´æ–¹å‘ï¼Œçƒä½“æ¯æ—¶é’Ÿå‘¨æœŸä¸‹é™
    5 åƒç´ ï¼Œå› ä¸ºå‘ y åæ ‡æ·»åŠ æ­£æ•°ä¼šå¢åŠ è·ç¦»é¡¶éƒ¨çš„è·ç¦»ã€‚ç»ƒä¹  68ã€‚çƒä½“çš„åµŒå¥—æ•°æ®è¡¨ç¤ºçš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å››ä¸ªå­—æ®µæ¥è·Ÿè¸ªå››ä¸ªå±æ€§ï¼šå¦ä¸€ç§é€‰æ‹©æ˜¯ä½¿ç”¨å¤æ•°ã€‚å¦‚æœä½ äº†è§£å®ƒä»¬ï¼Œè€ƒè™‘ä¸€ç§ä½¿ç”¨å®ƒä»¬æ¥è¡¨ç¤ºä½ç½®å’Œé€Ÿåº¦çš„æ•°æ®è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œåœ¨
    BSL ä¸­ï¼Œ4-3i æ˜¯ä¸€ä¸ªå¤æ•°ï¼Œå¯ä»¥ç”¨æ¥è¡¨ç¤ºä½ç½®æˆ–é€Ÿåº¦ï¼ˆ4ï¼Œ-3ï¼‰ã€‚
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ballfÂ [xÂ yÂ deltaxÂ deltay])
  id: totrans-2190
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([å®šä¹‰ç»“æ„](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ballfÂ [xÂ yÂ deltaxÂ deltay])
- en: 'Programmers call this a flat representation. Create an instance of ballf that
    has the same interpretation as ball1.For a second example of nested structures,
    letâ€™s briefly look at the example of contact lists. Many cell phones support contact
    lists that allow several phone numbers per name: one for a home line, one for
    the office, and one for a cell phone number. For phone numbers, we wish to include
    both the area code and the local number. Since this nests the information, itâ€™s
    best to create a nested data representation, too:'
  id: totrans-2191
  prefs: []
  type: TYPE_NORMAL
  zh: ç¨‹åºå‘˜ç§°è¿™ç§è¡¨ç¤ºä¸ºå¹³é¢è¡¨ç¤ºã€‚åˆ›å»ºä¸€ä¸ªä¸ball1å…·æœ‰ç›¸åŒè§£é‡Šçš„ballfå®ä¾‹ã€‚ä¸ºäº†ç¬¬äºŒä¸ªåµŒå¥—ç»“æ„çš„ç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬ç®€è¦åœ°çœ‹çœ‹è”ç³»åå•çš„ä¾‹å­ã€‚è®¸å¤šæ‰‹æœºæ”¯æŒè”ç³»åå•ï¼Œå…è®¸æ¯ä¸ªåå­—æœ‰å¤šä¸ªç”µè¯å·ç ï¼šä¸€ä¸ªå®¶åº­ç”µè¯ï¼Œä¸€ä¸ªåŠå…¬å®¤ç”µè¯ï¼Œå’Œä¸€ä¸ªæ‰‹æœºå·ç ã€‚å¯¹äºç”µè¯å·ç ï¼Œæˆ‘ä»¬å¸Œæœ›åŒ…æ‹¬åŒºå·å’Œæœ¬åœ°å·ç ã€‚ç”±äºè¿™ç§åµŒå¥—äº†ä¿¡æ¯ï¼Œæœ€å¥½ä¹Ÿåˆ›å»ºä¸€ä¸ªåµŒå¥—çš„æ•°æ®è¡¨ç¤ºï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â centryÂ [nameÂ homeÂ officeÂ cell])
    |'
  id: totrans-2192
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â centryÂ [nameÂ homeÂ officeÂ cell])
    |'
- en: '| Â  |'
  id: totrans-2193
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â phoneÂ [areaÂ number])
    |'
  id: totrans-2194
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â phoneÂ [areaÂ number])
    |'
- en: '| Â  |'
  id: totrans-2195
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| (make-centryÂ "Shriram Fisler" |'
  id: totrans-2196
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-centryÂ "Shriram Fisler" |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (make-phoneÂ 207Â "363-2421") |'
  id: totrans-2197
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (make-phoneÂ 207Â "363-2421") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (make-phoneÂ 101Â "776-1099") |'
  id: totrans-2198
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (make-phoneÂ 101Â "776-1099") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (make-phoneÂ 208Â "112-9981")) |'
  id: totrans-2199
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (make-phoneÂ 208Â "112-9981")) |'
- en: 'The intention here is that an entry on a contact list has four fields: a name
    and three phone records. The latter are represented with instance of phone, which
    separates the area code from the local phone number.'
  id: totrans-2200
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œçš„æ„å›¾æ˜¯ï¼Œè”ç³»åå•ä¸Šçš„æ¡ç›®æœ‰å››ä¸ªå­—æ®µï¼šä¸€ä¸ªåå­—å’Œä¸‰ä¸ªç”µè¯è®°å½•ã€‚åè€…ç”¨phoneå®ä¾‹è¡¨ç¤ºï¼Œå°†åŒºå·ä¸æœ¬åœ°ç”µè¯å·ç åˆ†å¼€ã€‚
- en: In sum, nesting information is natural. The best way to represent such information
    with data is to mirror the nesting with nested structure instances. Doing so makes
    it easy to interpret the data in the application domain of the program, and it
    is also straightforward to go from examples of information to data. Of course,
    it is really the task of data definitions to specify how to go back and forth
    between information and data. Before we study data definitions for structure type
    definitions, however, we first take a systematic look at computing with, and thinking
    about, structures.
  id: totrans-2201
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ç»“æ¥è¯´ï¼ŒåµŒå¥—ä¿¡æ¯æ˜¯è‡ªç„¶çš„ã€‚ç”¨æ•°æ®è¡¨ç¤ºæ­¤ç±»ä¿¡æ¯æœ€å¥½çš„æ–¹æ³•æ˜¯é€šè¿‡åµŒå¥—ç»“æ„å®ä¾‹æ¥åæ˜ åµŒå¥—ã€‚è¿™æ ·åšä½¿å¾—åœ¨ç¨‹åºçš„åº”ç”¨é¢†åŸŸä¸­è§£é‡Šæ•°æ®å˜å¾—å®¹æ˜“ï¼Œè€Œä¸”ä»ä¿¡æ¯ç¤ºä¾‹åˆ°æ•°æ®çš„è½¬æ¢ä¹Ÿå¾ˆç›´æ¥ã€‚å½“ç„¶ï¼ŒçœŸæ­£æŒ‡å®šå¦‚ä½•åœ¨ä¸åŒä¿¡æ¯ä¸æ•°æ®ä¹‹é—´æ¥å›è½¬æ¢çš„æ˜¯æ•°æ®å®šä¹‰çš„ä»»åŠ¡ã€‚ç„¶è€Œï¼Œåœ¨æˆ‘ä»¬ç ”ç©¶ç»“æ„ç±»å‹å®šä¹‰çš„æ•°æ®å®šä¹‰ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆç³»ç»Ÿåœ°çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å’Œæ€è€ƒç»“æ„ã€‚
- en: 5.5Computing with Structures[ğŸ”—](#(part._sec~3aeval-structs) "Link to here")
  id: totrans-2202
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.5 ä½¿ç”¨ç»“æ„è¿›è¡Œè®¡ç®—[ğŸ”—](#(part._sec~3aeval-structs) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Structure types generalize Cartesian points in two ways. First, a structure
    type may specify an arbitrary number of fields: zero, one, two, three, and so
    forth. Second, structure types name fields, they donâ€™t number them.Most programming
    languages also support structure-like data that use numeric field names. This
    helps programmers read code because it is much easier to remember that a family
    name is available in a field called last-name than in the 7th field.'
  id: totrans-2203
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æ„ç±»å‹ä»¥ä¸¤ç§æ–¹å¼æ¦‚æ‹¬ç¬›å¡å°”ç‚¹ã€‚é¦–å…ˆï¼Œç»“æ„ç±»å‹å¯ä»¥æŒ‡å®šä»»æ„æ•°é‡çš„å­—æ®µï¼šé›¶ã€ä¸€ã€äºŒã€ä¸‰ç­‰ç­‰ã€‚å…¶æ¬¡ï¼Œç»“æ„ç±»å‹å‘½åå­—æ®µï¼Œè€Œä¸æ˜¯ç¼–å·ã€‚å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¹Ÿæ”¯æŒç±»ä¼¼ç»“æ„çš„æ•°æ®ï¼Œä½¿ç”¨æ•°å­—å­—æ®µåã€‚è¿™æœ‰åŠ©äºç¨‹åºå‘˜é˜…è¯»ä»£ç ï¼Œå› ä¸ºè®°ä½ä¸€ä¸ªå®¶æ—åå­—åœ¨åä¸ºlast-nameçš„å­—æ®µä¸­æ¯”åœ¨ç¬¬ä¸ƒä¸ªå­—æ®µä¸­è¦å®¹æ˜“å¾—å¤šã€‚
- en: In the same spirit, computing with structure instances generalizes the manipulation
    of Cartesian points. To appreciate this idea, let us first look at a diagrammatic
    way to think about structure instances as lockboxes with as many compartments
    as there are fields. Here is a representation of
  id: totrans-2204
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŒæ ·çš„ç²¾ç¥ï¼Œä½¿ç”¨ç»“æ„å®ä¾‹è¿›è¡Œè®¡ç®—æ¦‚æ‹¬äº†ç¬›å¡å°”ç‚¹çš„æ“ä½œã€‚ä¸ºäº†ç†è§£è¿™ä¸ªæƒ³æ³•ï¼Œè®©æˆ‘ä»¬é¦–å…ˆçœ‹çœ‹ä¸€ç§å›¾ç¤ºçš„æ–¹å¼æ¥æ€è€ƒç»“æ„å®ä¾‹ï¼Œå³å…·æœ‰ä¸å­—æ®µæ•°é‡ä¸€æ ·å¤šçš„éš”é—´çš„é”ç®±ã€‚ä»¥ä¸‹æ˜¯è¿™ç§è¡¨ç¤ºï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â plÂ (make-entryÂ "Al
    Abe"Â "666-7771"Â "lee@x.me"))
  id: totrans-2205
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â plÂ (make-entryÂ "Al
    Abe"Â "666-7771"Â "lee@x.me"))
- en: 'as such a diagram:'
  id: totrans-2206
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '![image](../Images/abc1068791547899f90f899357d7d37f.png)'
  id: totrans-2207
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/abc1068791547899f90f899357d7d37f.png)'
- en: 'The boxâ€™s italicized label identifies it as an instance of a specific structure
    type; each compartment is labeled, too. Here is another instance:'
  id: totrans-2208
  prefs: []
  type: TYPE_NORMAL
  zh: æ¡†çš„æ–œä½“æ ‡ç­¾æ ‡è¯†å®ƒæ˜¯ä¸€ä¸ªç‰¹å®šç»“æ„ç±»å‹çš„å®ä¾‹ï¼›æ¯ä¸ªéš”é—´ä¹Ÿæ ‡æœ‰æ ‡ç­¾ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå®ä¾‹ï¼š
- en: (make-entryÂ "Tara Harp"Â "666-7770"Â "th@smlu.edu")
  id: totrans-2209
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (make-entryÂ "Tara Harp"Â "666-7770"Â "th@smlu.edu")
- en: 'corresponds to a similar box diagram, though the content differs:'
  id: totrans-2210
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹åº”äºä¸€ä¸ªç±»ä¼¼çš„æ¡†å›¾ï¼Œå°½ç®¡å†…å®¹ä¸åŒï¼š
- en: '![image](../Images/3d4907c4750007b127b07c56336fec48.png)'
  id: totrans-2211
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/3d4907c4750007b127b07c56336fec48.png)'
- en: 'Not surprisingly, nested structure instances have a diagram of boxes nested
    in boxes. Thus, ball1 from above is equivalent to this diagram:'
  id: totrans-2212
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯«ä¸å¥‡æ€ªï¼ŒåµŒå¥—çš„ç»“æ„å®ä¾‹æœ‰ä¸€ä¸ªåµŒå¥—åœ¨æ¡†ä¸­çš„æ¡†å›¾ã€‚å› æ­¤ï¼Œä¸Šé¢çš„ ball1 ç­‰ä»·äºè¿™ä¸ªå›¾ï¼š
- en: '![image](../Images/7df3b7888fdb201314178d4992343e96.png)'
  id: totrans-2213
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/7df3b7888fdb201314178d4992343e96.png)'
- en: In this case, the outer box contains two boxes, one per field.
  id: totrans-2214
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¤–å±‚æ¡†åŒ…å«ä¸¤ä¸ªæ¡†ï¼Œæ¯ä¸ªå­—æ®µä¸€ä¸ªã€‚
- en: ExerciseÂ 69\. Draw box representations for the solution of [exerciseÂ 65](#%28counter._%28exercise._struct3%29%29).
  id: totrans-2215
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  69. ä¸º [ç»ƒä¹  65](#%28counter._%28exercise._struct3%29%29) çš„è§£ç»˜åˆ¶æ¡†è¡¨ç¤ºã€‚
- en: 'In the context of this imagery, a selector is like a key. It opens a specific
    compartment for a certain kind of box and thus enables the holder to extract its
    content. Hence, applying entry-name to pl from above yields a string:'
  id: totrans-2216
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªæ„è±¡çš„èƒŒæ™¯ä¸‹ï¼Œé€‰æ‹©å™¨å°±åƒæ˜¯ä¸€ä¸ªé”®ã€‚å®ƒæ‰“å¼€ç‰¹å®šç±»å‹çš„æ¡†çš„ç‰¹å®šéš”é—´ï¼Œä»è€Œä½¿å¾—æŒæœ‰è€…èƒ½å¤Ÿæå–å…¶å†…å®¹ã€‚å› æ­¤ï¼Œå°† entry-name åº”ç”¨åˆ°ä¸Šé¢çš„ pl
    å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
- en: '| > (entry-nameÂ pl) |'
  id: totrans-2217
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (entry-nameÂ pl) |'
- en: '| "Al Abe" |'
  id: totrans-2218
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "Al Abe" |'
- en: 'But entry-name applied to a posn structure signals an error:'
  id: totrans-2219
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†å°† entry-name åº”ç”¨åˆ° posn ç»“æ„ä¼šå¼•å‘é”™è¯¯ï¼š
- en: '| > (entry-nameÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 42Â 5))
    |'
  id: totrans-2220
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (entry-nameÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 42Â 5))
    |'
- en: '| entry-name:expects an entry, given (make-posn 42 5) |'
  id: totrans-2221
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| entry-name: expects an entry, given (make-posn 42 5) |'
- en: 'If a compartment contains a box, it might be necessary to use two selectors
    in a row to get to the desired number:'
  id: totrans-2222
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä¸€ä¸ªéš”é—´åŒ…å«ä¸€ä¸ªæ¡†ï¼Œå¯èƒ½éœ€è¦è¿ç»­ä½¿ç”¨ä¸¤ä¸ªé€‰æ‹©å™¨æ‰èƒ½å¾—åˆ°æ‰€éœ€çš„æ•°å­—ï¼š
- en: '| > (ball-velocityÂ ball1) |'
  id: totrans-2223
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (ball-velocityÂ ball1) |'
- en: '| (make-vel -10 5) |'
  id: totrans-2224
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-vel -10 5) |'
- en: 'Applying ball-velocity to ball1 extracts the value of the velocity field, which
    is an instance of vel. To get to the velocity along the x axis, we apply a selector
    to the result of the first selection:'
  id: totrans-2225
  prefs: []
  type: TYPE_NORMAL
  zh: å°† ball-velocity åº”ç”¨åˆ° ball1 ä¸­æå–é€Ÿåº¦å­—æ®µçš„å€¼ï¼Œè¿™æ˜¯ä¸€ä¸ª vel çš„å®ä¾‹ã€‚è¦å¾—åˆ° x è½´ä¸Šçš„é€Ÿåº¦ï¼Œæˆ‘ä»¬å¯¹ç¬¬ä¸€æ¬¡é€‰æ‹©çš„ç»“æœåº”ç”¨ä¸€ä¸ªé€‰æ‹©å™¨ï¼š
- en: '| > (vel-deltaxÂ (ball-velocityÂ ball1)) |'
  id: totrans-2226
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (vel-deltaxÂ (ball-velocityÂ ball1)) |'
- en: '| -10 |'
  id: totrans-2227
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| -10 |'
- en: 'Since the inner expression extracts the velocity from ball1, the outer expression
    extracts the value of the deltax field, which in this case is -10.The interactions
    also show that structure instances are values. DrRacket prints them exactly as
    entered, just like for plain values such as numbers:'
  id: totrans-2228
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºå†…éƒ¨è¡¨è¾¾å¼ä» ball1 ä¸­æå–é€Ÿåº¦ï¼Œå¤–éƒ¨è¡¨è¾¾å¼æå– deltax å­—æ®µçš„å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ -10ã€‚äº¤äº’ä¹Ÿæ˜¾ç¤ºç»“æ„å®ä¾‹æ˜¯å€¼ã€‚DrRacket æŒ‰ç…§è¾“å…¥çš„ç²¾ç¡®æ‰“å°å®ƒä»¬ï¼Œå°±åƒå¯¹æ™®é€šå€¼ï¼ˆå¦‚æ•°å­—ï¼‰ä¸€æ ·ï¼š
- en: '| > (make-velÂ -10Â 5) |'
  id: totrans-2229
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (make-velÂ -10Â 5) |'
- en: '| (make-vel -10 5) |'
  id: totrans-2230
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-vel -10 5) |'
- en: '| > (make-entryÂ "Tara Harp"Â "666-7770"Â "th@smlu.edu") |'
  id: totrans-2231
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (make-entryÂ "Tara Harp"Â "666-7770"Â "th@smlu.edu") |'
- en: '| (make-entry "Tara Harp" "666-7770" "th@smlu.edu") |'
  id: totrans-2232
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-entry "Tara Harp" "666-7770" "th@smlu.edu") |'
- en: '|'
  id: totrans-2233
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-2234
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > (make-centry &#124;'
  id: totrans-2235
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; > (make-centry &#124;'
- en: '&#124; Â Â Â Â "Shriram Fisler" &#124;'
  id: totrans-2236
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â "Shriram Fisler" &#124;'
- en: '&#124; Â Â Â Â (make-phoneÂ 207Â "363-2421") &#124;'
  id: totrans-2237
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â (make-phoneÂ 207Â "363-2421") &#124;'
- en: '&#124; Â Â Â Â (make-phoneÂ 101Â "776-1099") &#124;'
  id: totrans-2238
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â (make-phoneÂ 101Â "776-1099") &#124;'
- en: '&#124; Â Â Â Â (make-phoneÂ 208Â "112-9981")) &#124;'
  id: totrans-2239
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â (make-phoneÂ 208Â "112-9981")) &#124;'
- en: ''
  id: totrans-2240
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-2241
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '| (make-centry ...) |'
  id: totrans-2242
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-centry ...) |'
- en: Stop! Try this last interaction at home, so you see the proper result.
  id: totrans-2243
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼åœ¨å®¶å°è¯•è¿™ä¸ªæœ€åçš„äº¤äº’ï¼Œä»¥ä¾¿çœ‹åˆ°æ­£ç¡®çš„ç»“æœã€‚
- en: Generally speaking, a structure type definition not only creates new functions
    and new ways to create values, but it also adds new laws of computation to DrRacketâ€™s
    knowledge. These laws generalize those for posn structures in [Computing with
    posns](#%28part._sec~3aeval-posns%29), and they are best understood by example.
  id: totrans-2244
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€èˆ¬è€Œè¨€ï¼Œç»“æ„ç±»å‹å®šä¹‰ä¸ä»…åˆ›å»ºæ–°çš„å‡½æ•°å’Œåˆ›å»ºå€¼çš„æ–°æ–¹æ³•ï¼Œè€Œä¸”è¿˜å‘ DrRacket çš„çŸ¥è¯†ä¸­æ·»åŠ æ–°çš„è®¡ç®—æ³•åˆ™ã€‚è¿™äº›æ³•åˆ™æ¦‚æ‹¬äº† [ä½¿ç”¨ posn è®¡ç®—](#%28part._sec~3aeval-posns%29)
    ä¸­ posn ç»“æ„çš„æ³•åˆ™ï¼Œå¹¶ä¸”æœ€å¥½é€šè¿‡ä¾‹å­æ¥ç†è§£ã€‚
- en: When DrRacket encounters a structure type definition with two fields,
  id: totrans-2245
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ DrRacket é‡åˆ°å…·æœ‰ä¸¤ä¸ªå­—æ®µçš„ç»“æ„ç±»å‹å®šä¹‰æ—¶ï¼Œ
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ballÂ [locationÂ velocity])
  id: totrans-2246
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ballÂ [locationÂ velocity])
- en: 'it introduces two laws, one per selector:'
  id: totrans-2247
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå¼•å…¥äº†ä¸¤æ¡å®šå¾‹ï¼Œæ¯æ¡å®šå¾‹å¯¹åº”ä¸€ä¸ªé€‰æ‹©å™¨ï¼š
- en: '| (ball-location  (make-ball  l0  v0)) |  | == |  | l0 |'
  id: totrans-2248
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (ball-location  (make-ball  l0  v0)) |  | == |  | l0 |'
- en: '| (ball-velocity  (make-ball  l0  v0)) |  | == |  | v0 |'
  id: totrans-2249
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (ball-velocity  (make-ball  l0  v0)) |  | == |  | v0 |'
- en: For different structure type definitions, it introduces analogous laws. Thus,
  id: totrans-2250
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä¸åŒçš„ç»“æ„ç±»å‹å®šä¹‰ï¼Œå®ƒå¼•å…¥äº†ç±»ä¼¼çš„æ³•å¾‹ã€‚å› æ­¤ï¼Œ
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â velÂ [deltaxÂ deltay])
  id: totrans-2251
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â velÂ [deltaxÂ deltay])
- en: 'DrRacket adds these two laws to its knowledge:'
  id: totrans-2252
  prefs: []
  type: TYPE_NORMAL
  zh: DrRacket å°†è¿™ä¸¤æ¡å®šå¾‹æ·»åŠ åˆ°å…¶çŸ¥è¯†åº“ä¸­ï¼š
- en: '| (vel-deltax  (make-vel  dx0  dy0)) |  | == |  | dx0 |'
  id: totrans-2253
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (vel-deltax  (make-vel  dx0  dy0)) |  | == |  | dx0 |'
- en: '| (vel-deltay  (make-vel  dx0  dy0)) |  | == |  | dy0 |'
  id: totrans-2254
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (vel-deltay  (make-vel  dx0  dy0)) |  | == |  | dy0 |'
- en: 'Using these laws, we can now explain the interaction from above:'
  id: totrans-2255
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™äº›å®šå¾‹ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è§£é‡Šä¸Šé¢çš„äº¤äº’ï¼š
- en: '| (vel-deltaxÂ (ball-velocityÂ ball1)) |'
  id: totrans-2256
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (vel-deltaxÂ (ball-velocityÂ ball1)) |'
- en: '| ==Â ;Â DrRacket replaces ball1 with its value |'
  id: totrans-2257
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket ç”¨å…¶å€¼æ›¿æ¢ ball1 |'
- en: '| (vel-deltax |'
  id: totrans-2258
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (vel-deltax |'
- en: '| Â Â (ball-velocity |'
  id: totrans-2259
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (ball-velocity |'
- en: '| Â Â Â Â (make-ballÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 30Â 40)Â (make-velÂ -10Â 5))))
    |'
  id: totrans-2260
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â (make-ballÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 30Â 40)Â (make-velÂ -10Â 5))))
    |'
- en: '| ==Â ;Â DrRacket uses the law for ball-velocity |'
  id: totrans-2261
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket ä½¿ç”¨çƒé€Ÿåº¦å®šå¾‹ |'
- en: '| (vel-deltaxÂ (make-velÂ -10Â 5)) |'
  id: totrans-2262
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (vel-deltaxÂ (make-velÂ -10Â 5)) |'
- en: '| ==Â ;Â DrRacket uses the law for vel-deltax |'
  id: totrans-2263
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ;Â DrRacket ä½¿ç”¨ vel-deltax å®šå¾‹ |'
- en: '| -10 |'
  id: totrans-2264
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| -10 |'
- en: 'ExerciseÂ 70\. Spell out the laws for these structure type definitions:'
  id: totrans-2265
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  70ã€‚åˆ—å‡ºè¿™äº›ç»“æ„ç±»å‹å®šä¹‰çš„å®šå¾‹ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â centryÂ [nameÂ homeÂ officeÂ cell])
    |'
  id: totrans-2266
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â centryÂ [nameÂ homeÂ officeÂ cell])
    |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â phoneÂ [areaÂ number])
    |'
  id: totrans-2267
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â phoneÂ [areaÂ number])
    |'
- en: 'Use DrRacketâ€™s stepper to confirm 101 as the value of this expression:'
  id: totrans-2268
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨æ¥ç¡®è®¤è¿™ä¸ªè¡¨è¾¾å¼çš„å€¼ä¸º 101ï¼š
- en: '| (phone-area |'
  id: totrans-2269
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (phone-area |'
- en: '| Â (centry-office |'
  id: totrans-2270
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (centry-office |'
- en: '| Â Â (make-centryÂ "Shriram Fisler" |'
  id: totrans-2271
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (make-centryÂ "Shriram Fisler" |'
- en: '| Â Â Â Â (make-phoneÂ 207Â "363-2421") |'
  id: totrans-2272
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â (make-phoneÂ 207Â "363-2421") |'
- en: '| Â Â Â Â (make-phoneÂ 101Â "776-1099") |'
  id: totrans-2273
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â (make-phoneÂ 101Â "776-1099") |'
- en: '| Â Â Â Â (make-phoneÂ 208Â "112-9981"))))Â  |'
  id: totrans-2274
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â (make-phoneÂ 208Â "112-9981"))))Â  |'
- en: 'Predicates are the last idea that we must discuss to understand structure type
    definitions. As mentioned, every structure type definition introduces one new
    predicate. DrRacket uses these predicates to discover whether a selector is applied
    to the proper kind of value; the next chapter explains this idea in detail. Here
    we just want to convey that these predicates are just like the predicates from
    â€œarithmetic.â€ While [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)
    recognizes numbers and [string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)
    recognizes strings, predicates such as [posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)
    and entry? recognize posn structures and entry structures. We can confirm our
    ideas of how they work with experiments in the interactions area. Assume that
    the definitions area contains these definitions:'
  id: totrans-2275
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç†è§£ç»“æ„ç±»å‹å®šä¹‰ï¼Œæˆ‘ä»¬å¿…é¡»è®¨è®ºçš„æœ€åä¸€ä¸ªæ¦‚å¿µæ˜¯è°“è¯ã€‚æ­£å¦‚æ‰€è¿°ï¼Œæ¯ä¸ªç»“æ„ç±»å‹å®šä¹‰å¼•å…¥ä¸€ä¸ªæ–°è°“è¯ã€‚DrRacket ä½¿ç”¨è¿™äº›è°“è¯æ¥å‘ç°é€‰æ‹©å™¨æ˜¯å¦åº”ç”¨äºæ­£ç¡®çš„å€¼ç±»å‹ï¼›ä¸‹ä¸€ç« å°†è¯¦ç»†è§£é‡Šè¿™ä¸ªæ¦‚å¿µã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªæƒ³ä¼ è¾¾è¿™äº›è°“è¯å°±åƒâ€œç®—æœ¯â€ä¸­çš„è°“è¯ä¸€æ ·ã€‚è™½ç„¶
    [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)
    è¯†åˆ«æ•°å­—å’Œ [string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)
    è¯†åˆ«å­—ç¬¦ä¸²ï¼Œè°“è¯å¦‚ [posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)
    å’Œ entry? è¯†åˆ« posn ç»“æ„å’Œ entry ç»“æ„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡äº¤äº’åŒºåŸŸä¸­çš„å®éªŒæ¥éªŒè¯æˆ‘ä»¬å¯¹å®ƒä»¬å¦‚ä½•å·¥ä½œçš„æƒ³æ³•ã€‚å‡è®¾å®šä¹‰åŒºåŸŸåŒ…å«ä»¥ä¸‹å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â apÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 7Â 0))
    |'
  id: totrans-2276
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â apÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 7Â 0))
    |'
- en: '| Â  |'
  id: totrans-2277
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â plÂ (make-entryÂ "Al
    Abe"Â "666-7771"Â "lee@x.me")) |'
  id: totrans-2278
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â plÂ (make-entryÂ "Al
    Abe"Â "666-7771"Â "lee@x.me")) |'
- en: 'If [posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)
    is a predicate that distinguishes posns from all other values, we should expect
    that it yields #false for numbers and #true for ap:'
  id: totrans-2279
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ[posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)æ˜¯ä¸€ä¸ªåŒºåˆ†posnå’Œå…¶ä»–æ‰€æœ‰å€¼çš„è°“è¯ï¼Œæˆ‘ä»¬åº”è¯¥æœŸæœ›å®ƒå¯¹æ•°å­—è¿”å›#falseï¼Œå¯¹apè¿”å›#trueï¼š
- en: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â ap)
    |'
  id: totrans-2280
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â ap)
    |'
- en: '| #true |'
  id: totrans-2281
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â 42)
    |'
  id: totrans-2282
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â 42)
    |'
- en: '| #false |'
  id: totrans-2283
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â #true)
    |'
  id: totrans-2284
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â #true)
    |'
- en: '| #false |'
  id: totrans-2285
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 3Â 4))
    |'
  id: totrans-2286
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 3Â 4))
    |'
- en: '| #true |'
  id: totrans-2287
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: 'Similarly, entry? distinguishes entry structures from all other values:'
  id: totrans-2288
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œentry?åŒºåˆ†entryç»“æ„å’Œæ‰€æœ‰å…¶ä»–å€¼ï¼š
- en: '| > (entry?Â pl) |'
  id: totrans-2289
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (entry?Â pl) |'
- en: '| #true |'
  id: totrans-2290
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: '| > (entry?Â 42) |'
  id: totrans-2291
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (entry?Â 42) |'
- en: '| #false |'
  id: totrans-2292
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > (entry?Â #true) |'
  id: totrans-2293
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (entry?Â #true) |'
- en: '| #false |'
  id: totrans-2294
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: 'In general, a predicate recognizes exactly those values constructed with a
    constructor of the same name. [Intermezzo 1: Beginning Student Language](i1-2.html)
    explains this law in detail, and it also collects the laws of computing for BSL
    in one place.ExerciseÂ 71\. Place the following into DrRacketâ€™s definitions area:'
  id: totrans-2295
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œä¸€ä¸ªè°“è¯æ°å¥½è¯†åˆ«å‡ºä½¿ç”¨ç›¸åŒåç§°çš„æ„é€ å‡½æ•°æ„å»ºçš„å€¼ã€‚[é—´å¥æ›²1ï¼šåˆå­¦è€…çš„è¯­è¨€](i1-2.html)è¯¦ç»†è§£é‡Šäº†è¿™ä¸€æ³•åˆ™ï¼Œå¹¶æ”¶é›†äº†BSLçš„è®¡ç®—æ³•åˆ™ã€‚ç»ƒä¹ 71ï¼šå°†ä»¥ä¸‹å†…å®¹æ”¾å…¥DrRacketçš„å®šä¹‰åŒºåŸŸï¼š
- en: '| ;Â distances in terms of pixels: |'
  id: totrans-2296
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â distances in terms of pixels: |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ 200)
    |'
  id: totrans-2297
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â HEIGHTÂ 200)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MIDDLEÂ ([quotient](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._quotient%29%29)Â HEIGHTÂ 2))
    |'
  id: totrans-2298
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MIDDLEÂ ([quotient](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._quotient%29%29)Â HEIGHTÂ 2))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ Â 400)
    |'
  id: totrans-2299
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â WIDTHÂ Â 400)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CENTERÂ ([quotient](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._quotient%29%29)Â WIDTHÂ 2))
    |'
  id: totrans-2300
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â CENTERÂ ([quotient](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._quotient%29%29)Â WIDTHÂ 2))
    |'
- en: '| Â  |'
  id: totrans-2301
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â gameÂ [left-playerÂ right-playerÂ ball])
    |'
  id: totrans-2302
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    game [left-player right-player ball]) |'
- en: '| Â  |'
  id: totrans-2303
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â game0
    |'
  id: totrans-2304
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    game0 |'
- en: '| Â Â (make-gameÂ MIDDLEÂ MIDDLEÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â CENTERÂ CENTER)))
    |'
  id: totrans-2305
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-game MIDDLE MIDDLE ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    CENTER CENTER))) |'
- en: 'Click RUN and evaluate the following expressions:'
  id: totrans-2306
  prefs: []
  type: TYPE_NORMAL
  zh: ç‚¹å‡»è¿è¡Œå¹¶è¯„ä¼°ä»¥ä¸‹è¡¨è¾¾å¼ï¼š
- en: '| (game-ballÂ game0) |'
  id: totrans-2307
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (game-ball game0) |'
- en: '| ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â (game-ballÂ game0))
    |'
  id: totrans-2308
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)
    (game-ball game0)) |'
- en: '| (game-left-playerÂ game0) |'
  id: totrans-2309
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (game-left-player game0) |'
- en: Explain the results with step-by-step computations. Double-check your computations
    with DrRacketâ€™s stepper.
  id: totrans-2310
  prefs: []
  type: TYPE_NORMAL
  zh: ç”¨é€æ­¥è®¡ç®—çš„æ–¹å¼è§£é‡Šç»“æœã€‚ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨åŒé‡æ£€æŸ¥ä½ çš„è®¡ç®—ã€‚
- en: 5.6Programming with Structures[ğŸ”—](#(part._sec~3aprogstructs) "Link to here")
  id: totrans-2311
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.6 ä½¿ç”¨ç»“æ„ä½“ç¼–ç¨‹[ğŸ”—](#(part._sec~3aprogstructs) "é“¾æ¥è‡³æ­¤")
- en: 'Proper programming calls for data definitions. With the introduction of structure
    type definitions, data definitions become interesting. Remember that a data definition
    provides a way of representing information into data and interpreting that data
    as information. For structure types, this calls for a description of what kind
    of data goes into which field. For some structure type definitions, formulating
    such descriptions is easy and obvious:'
  id: totrans-2312
  prefs: []
  type: TYPE_NORMAL
  zh: åˆç†çš„ç¼–ç¨‹éœ€è¦æ•°æ®å®šä¹‰ã€‚éšç€ç»“æ„ä½“ç±»å‹å®šä¹‰çš„å¼•å…¥ï¼Œæ•°æ®å®šä¹‰å˜å¾—æœ‰è¶£ã€‚è®°ä½ï¼Œæ•°æ®å®šä¹‰æä¾›äº†ä¸€ç§å°†ä¿¡æ¯è¡¨ç¤ºä¸ºæ•°æ®å¹¶å°†è¿™äº›æ•°æ®è§£é‡Šä¸ºä¿¡æ¯çš„æ–¹æ³•ã€‚å¯¹äºç»“æ„ä½“ç±»å‹ï¼Œè¿™éœ€è¦æè¿°å“ªäº›æ•°æ®æ”¾å…¥å“ªä¸ªå­—æ®µã€‚å¯¹äºæŸäº›ç»“æ„ä½“ç±»å‹å®šä¹‰ï¼Œè¿™æ ·çš„æè¿°æ˜¯ç®€å•ä¸”æ˜æ˜¾çš„ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â posnÂ [xÂ y])
    |'
  id: totrans-2313
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    posn [x y]) |'
- en: '| ;Â A Posn is a structure: |'
  id: totrans-2314
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; A Posn is a structure: |'
- en: '| ;Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
    |'
  id: totrans-2315
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    [Number](#%28tech._number%29) [Number](#%28tech._number%29)) |'
- en: '| ;Â interpretation a point x pixels from left, y from top |'
  id: totrans-2316
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; interpretation a point x pixels from left, y from top |'
- en: 'It doesnâ€™t make any sense to use other kinds of data to create a posn. Similarly,
    all fields of entryâ€”<wbr>our structure type definition for entries on a contact
    listâ€”<wbr>are clearly supposed to be strings, according to our usage in the preceding
    section:'
  id: totrans-2317
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å…¶ä»–ç±»å‹çš„æ•°æ®æ¥åˆ›å»ºä½ç½®æ²¡æœ‰æ„ä¹‰ã€‚åŒæ ·ï¼Œæ ¹æ®æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚ä¸­çš„ä½¿ç”¨ï¼Œentry çš„æ‰€æœ‰å­—æ®µâ€”â€”æˆ‘ä»¬çš„ç»“æ„ä½“ç±»å‹å®šä¹‰ï¼Œç”¨äºè”ç³»äººåˆ—è¡¨ä¸­çš„æ¡ç›®â€”â€”æ˜¾ç„¶åº”è¯¥æ˜¯å­—ç¬¦ä¸²ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â entryÂ [nameÂ phoneÂ email])
    |'
  id: totrans-2318
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    entry [name phone email]) |'
- en: '| ;Â An Entry is a structure: |'
  id: totrans-2319
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; An Entry is a structure: |'
- en: '| ;Â Â Â (make-entry  [String](#%28tech._string%29)  [String](#%28tech._string%29)  [String](#%28tech._string%29))
    |'
  id: totrans-2320
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; (make-entry [String](#%28tech._string%29) [String](#%28tech._string%29)
    [String](#%28tech._string%29)) |'
- en: '| ;Â interpretation a contact''s name, phone#, and email |'
  id: totrans-2321
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; interpretation a contact''s name, phone#, and email |'
- en: 'For both posn and entry, a reader can easily interpret instances of these structures
    in the application domain.Contrast this simplicity with the structure type definition
    for ball, which obviously allows at least two distinct interpretations:'
  id: totrans-2322
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº posn å’Œ entryï¼Œè¯»è€…å¯ä»¥è½»æ¾åœ°åœ¨åº”ç”¨é¢†åŸŸä¸­è§£é‡Šè¿™äº›ç»“æ„ä½“çš„å®ä¾‹ã€‚å°†è¿™ç§ç®€å•æ€§ä¸çƒçš„ç»“æ„ä½“ç±»å‹å®šä¹‰è¿›è¡Œå¯¹æ¯”ï¼Œåè€…æ˜¾ç„¶è‡³å°‘å…è®¸ä¸¤ç§ä¸åŒçš„è§£é‡Šï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ballÂ [locationÂ velocity])
    |'
  id: totrans-2323
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    ball [location velocity]) |'
- en: '| ;Â A Ball-1d is a structure:Â Â  |'
  id: totrans-2324
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; A Ball-1d is a structure:Â Â  |'
- en: '| ;Â Â Â (make-ball  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
    |'
  id: totrans-2325
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-ball  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
    |'
- en: '| ;Â interpretation 1 distance to top and velocity |'
  id: totrans-2326
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation 1 è·ç¦»é¡¶éƒ¨å’Œé€Ÿåº¦ |'
- en: '| ;Â interpretation 2 distance to left and velocity |'
  id: totrans-2327
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation 2 è·ç¦»å·¦ä¾§å’Œé€Ÿåº¦ |'
- en: 'Whichever one we use in a program, we must stick to it consistently. As [Defining
    Structure Types](#%28part._sec~3astructures%29) shows, however, it is also possible
    to use ball structures in an entirely different manner:'
  id: totrans-2328
  prefs: []
  type: TYPE_NORMAL
  zh: æ— è®ºæˆ‘ä»¬åœ¨ç¨‹åºä¸­ä½¿ç”¨å“ªä¸€ä¸ªï¼Œæˆ‘ä»¬éƒ½å¿…é¡»å§‹ç»ˆå¦‚ä¸€åœ°åšæŒä½¿ç”¨å®ƒã€‚ç„¶è€Œï¼Œæ­£å¦‚ [å®šä¹‰ç»“æ„ç±»å‹](#%28part._sec~3astructures%29)
    æ‰€ç¤ºï¼Œä¹Ÿæœ‰å¯èƒ½ä»¥å®Œå…¨ä¸åŒçš„æ–¹å¼ä½¿ç”¨çƒç»“æ„ï¼š
- en: '| ;Â A Ball-2d is a structure: |'
  id: totrans-2329
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A Ball-2d is a structure: |'
- en: '| ;Â Â Â (make-ball  [Posn](#%28tech._posn%29)  [Vel](#%28tech._vel%29)) |'
  id: totrans-2330
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-ball  [Posn](#%28tech._posn%29)  [Vel](#%28tech._vel%29)) |'
- en: '| ;Â interpretation a 2-dimensional position and velocity |'
  id: totrans-2331
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation a 2 ç»´ä½ç½®å’Œé€Ÿåº¦ |'
- en: '| Â  |'
  id: totrans-2332
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â velÂ [deltaxÂ deltay])
    |'
  id: totrans-2333
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â velÂ [deltaxÂ deltay])
    |'
- en: '| ;Â A Vel is a structure: |'
  id: totrans-2334
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A Vel is a structure: |'
- en: '| ;Â Â Â (make-vel  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
    |'
  id: totrans-2335
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-vel  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
    |'
- en: '| ;Â interpretation  (make-vel  dx  dy) means a velocity of |'
  id: totrans-2336
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation  (make-vel  dx  dy) è¡¨ç¤ºä¸€ä¸ªé€Ÿåº¦ä¸º |'
- en: '| ;Â dx pixels [per tick] along the horizontal and |'
  id: totrans-2337
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â dx pixels [per tick] along the horizontal and |'
- en: '| ;Â dy pixels [per tick] along the vertical direction |'
  id: totrans-2338
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â dy pixels [per tick] along the vertical direction |'
- en: Here we name a second collection of data, [Ball-2d](#%28tech._ball._2d%29),
    distinct from [Ball-1d](#%28tech._ball._1d%29), to describe data representations
    for balls that move in straight lines across a world canvas. In short, it is possible
    to use one and the same structure type in two different ways. Of course, within
    one program, it is best to stick to one and only one use; otherwise you are setting
    yourself up for problems.
  id: totrans-2339
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å‘½åäº†ä¸€ä¸ªåä¸º [Ball-2d](#%28tech._ball._2d%29) çš„ç¬¬äºŒç»„æ•°æ®ï¼Œä¸ [Ball-1d](#%28tech._ball._1d%29)
    åŒºåˆ†å¼€æ¥ï¼Œä»¥æè¿°åœ¨ä¸–ç•Œä¸Šç”»å¸ƒä¸Šç›´çº¿ç§»åŠ¨çš„çƒçš„æ•°æ®è¡¨ç¤ºã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç»“æ„ç±»å‹ä»¥ä¸¤ç§ä¸åŒçš„æ–¹å¼ã€‚å½“ç„¶ï¼Œåœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼Œæœ€å¥½åšæŒä½¿ç”¨ä¸€ç§ä¸”ä»…ä½¿ç”¨ä¸€ç§æ–¹å¼ï¼›å¦åˆ™ï¼Œä½ å¯èƒ½ä¼šç»™è‡ªå·±å¸¦æ¥é—®é¢˜ã€‚
- en: Also, [Ball-2d](#%28tech._ball._2d%29) refers to another one of our data definitions,
    namely, the one for [Vel](#%28tech._vel%29). While all other data definitions
    have thus far referred to built-in data collections ([Number](#%28tech._number%29),
    [Boolean](#%28tech._boolean%29), [String](#%28tech._string%29)), it is perfectly
    acceptable, and indeed common, that one of your data definitions refers to another.
  id: totrans-2340
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œ[Ball-2d](#%28tech._ball._2d%29) æŒ‡çš„æ˜¯æˆ‘ä»¬å¦ä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œå³ [Vel](#%28tech._vel%29) çš„å®šä¹‰ã€‚è™½ç„¶åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰å…¶ä»–æ•°æ®å®šä¹‰éƒ½æŒ‡çš„æ˜¯å†…ç½®æ•°æ®é›†åˆï¼ˆ[Number](#%28tech._number%29)ã€[Boolean](#%28tech._boolean%29)ã€[String](#%28tech._string%29)ï¼‰ï¼Œä½†ä¸€ä¸ªæ•°æ®å®šä¹‰å¼•ç”¨å¦ä¸€ä¸ªæ•°æ®å®šä¹‰æ˜¯å®Œå…¨å¯æ¥å—çš„ï¼Œå®é™…ä¸Šä¹Ÿå¾ˆå¸¸è§ã€‚
- en: ExerciseÂ 72\. Formulate a data definition for the above phone structure type
    definition that accommodates the given examples.
  id: totrans-2341
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  72ï¼šä¸ºä¸Šè¿°ç”µè¯ç»“æ„ç±»å‹å®šä¹‰åˆ¶å®šä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œä»¥é€‚åº”ç»™å®šçš„ç¤ºä¾‹ã€‚
- en: 'Next formulate a data definition for phone numbers using this structure type
    definition:'
  id: totrans-2342
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œä½¿ç”¨è¿™ç§ç»“æ„ç±»å‹å®šä¹‰æ¥åˆ¶å®šç”µè¯å·ç çš„æ•°æ®å®šä¹‰ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â phone#Â [areaÂ switchÂ num])
  id: totrans-2343
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â phone#Â [areaÂ switchÂ num])
- en: Historically, the first three digits make up the area code, the next three the
    code for the phone switch (exchange) of your neighborhood, and the last four the
    phone with respect to the neighborhood. Describe the content of the three fields
    as precisely as possible with intervals.
  id: totrans-2344
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å†å²ä¸Šçœ‹ï¼Œå‰ä¸‰ä½æ•°å­—ç»„æˆåŒºå·ï¼Œæ¥ä¸‹æ¥çš„ä¸‰ä½æ˜¯æ‚¨æ‰€åœ¨åœ°åŒºçš„ç”µè¯äº¤æ¢ï¼ˆäº¤æ¢ï¼‰ä»£ç ï¼Œæœ€åå››ä½æ˜¯ç›¸å¯¹äºè¯¥åœ°åŒºçš„ç”µè¯å·ç ã€‚å°½å¯èƒ½ç²¾ç¡®åœ°ç”¨åŒºé—´æè¿°è¿™ä¸‰ä¸ªå­—æ®µçš„å†…å®¹ã€‚
- en: At this point, you might be wondering what data definitions really mean. This
    question, and its answer, is the topic of the next section. For now, we indicate
    how to use data definitions for program design.
  id: totrans-2345
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä½ å¯èƒ½æƒ³çŸ¥é“æ•°æ®å®šä¹‰ç©¶ç«Ÿæ„å‘³ç€ä»€ä¹ˆã€‚è¿™ä¸ªé—®é¢˜åŠå…¶ç­”æ¡ˆå°†æ˜¯ä¸‹ä¸€èŠ‚çš„ä¸»é¢˜ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬è¡¨æ˜å¦‚ä½•ä½¿ç”¨æ•°æ®å®šä¹‰è¿›è¡Œç¨‹åºè®¾è®¡ã€‚
- en: 'Here is a problem statement to set up some context:'
  id: totrans-2346
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸€ä¸ªé—®é¢˜é™ˆè¿°ï¼Œä»¥è®¾å®šä¸€äº›ä¸Šä¸‹æ–‡ï¼š
- en: 'Sample Problem Your team is designing an interactive game program that moves
    a red dot across a ![image](../Images/2e7c3a3683fb083a963341e02a1087cd.png) canvas
    and allows players to use the mouse to reset the dot. Here is how far you got
    together:'
  id: totrans-2347
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·æœ¬é—®é¢˜ï¼šä½ çš„å›¢é˜Ÿæ­£åœ¨è®¾è®¡ä¸€ä¸ªäº¤äº’å¼æ¸¸æˆç¨‹åºï¼Œè¯¥ç¨‹åºåœ¨![å›¾åƒ](../Images/2e7c3a3683fb083a963341e02a1087cd.png)ç”»å¸ƒä¸Šç§»åŠ¨ä¸€ä¸ªçº¢è‰²åœ†ç‚¹ï¼Œå¹¶å…è®¸ç©å®¶ä½¿ç”¨é¼ æ ‡é‡ç½®åœ†ç‚¹ã€‚ä½ ä»¬ä¸€èµ·å·²ç»åšåˆ°äº†è¿™ä¸€æ­¥ï¼š
- en: ''
  id: totrans-2348
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTSÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    |'
  id: totrans-2349
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MTSÂ ([ç©ºåœºæ™¯](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â DOTÂ ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 3Â "solid"Â "red"))
    |'
  id: totrans-2350
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â DOTÂ ([åœ†å½¢](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 3Â "solid"Â "red"))
    |'
- en: '| Â  |'
  id: totrans-2351
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â A [Posn](#%28tech._posn%29) represents the state of the world. |'
  id: totrans-2352
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Posn](#%28tech._posn%29)ä»£è¡¨ä¸–ç•Œçš„çŠ¶æ€ã€‚ |'
- en: '| Â  |'
  id: totrans-2353
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Posn](#%28tech._posn%29) -> [Posn](#%28tech._posn%29) |'
  id: totrans-2354
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Posn](#%28tech._posn%29) -> [Posn](#%28tech._posn%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ p0)
    |'
  id: totrans-2355
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ p0)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â p0
    |'
  id: totrans-2356
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â p0
    |'
- en: '| Â Â Â Â [[on-tick](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â x+]
    |'
  id: totrans-2357
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[æ¯å¸§æ›´æ–°](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29)Â x+]
    |'
- en: '| Â Â Â Â [[on-mouse](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)Â reset-dot]
    |'
  id: totrans-2358
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[é¼ æ ‡äº‹ä»¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29)Â reset-dot]
    |'
- en: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â scene+dot]))
    |'
  id: totrans-2359
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[ç»˜åˆ¶åœºæ™¯](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â scene+dot]))
    |'
- en: ''
  id: totrans-2360
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Your task is to design scene+dot, the function that adds a red dot to the empty
    canvas at the specified position.
  id: totrans-2361
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä½ çš„ä»»åŠ¡æ˜¯è®¾è®¡scene+dotå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨æŒ‡å®šçš„ä½ç½®å‘ç©ºç”»å¸ƒæ·»åŠ ä¸€ä¸ªçº¢è‰²åœ†ç‚¹ã€‚
- en: 'The problem context dictates the signature of your function:'
  id: totrans-2362
  prefs: []
  type: TYPE_NORMAL
  zh: é—®é¢˜ä¸Šä¸‹æ–‡å†³å®šäº†ä½ å‡½æ•°çš„ç­¾åï¼š
- en: '| ;Â [Posn](#%28tech._posn%29) -> [Image](#%28tech._image%29) |'
  id: totrans-2363
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Posn](#%28tech._posn%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â adds a red spot to MTS at p |'
  id: totrans-2364
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨MTSä¸Špä½ç½®æ·»åŠ ä¸€ä¸ªçº¢è‰²åœ†ç‚¹ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (scene+dotÂ p)Â MTS)
    |'
  id: totrans-2365
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (scene+dotÂ p)Â MTS)
    |'
- en: 'Adding a purpose statement is straightforward. As [Designing Functions](#%28part._sec~3adesign-func%29)
    mentions, it uses the functionâ€™s parameter to express what the function computes.Now
    we work out a couple of examples and formulate them as tests:'
  id: totrans-2366
  prefs: []
  type: TYPE_NORMAL
  zh: æ·»åŠ ä¸€ä¸ªç›®çš„å£°æ˜å¾ˆç®€å•ã€‚æ­£å¦‚[è®¾è®¡å‡½æ•°](#%28part._sec~3adesign-func%29)æ‰€æåˆ°çš„ï¼Œå®ƒä½¿ç”¨å‡½æ•°çš„å‚æ•°æ¥è¡¨ç¤ºå‡½æ•°è®¡ç®—çš„å†…å®¹ã€‚ç°åœ¨æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªä¾‹å­ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºæµ‹è¯•æ¥åˆ¶å®šï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (scene+dotÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20))
    |'
  id: totrans-2367
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (scene+dotÂ ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 10Â 20Â MTS))
    |'
  id: totrans-2368
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 10Â 20Â MTS))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (scene+dotÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 88Â 73))
    |'
  id: totrans-2369
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (scene+dotÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 88Â 73))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 88Â 73Â MTS))
    |'
  id: totrans-2370
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 88Â 73Â MTS))
    |'
- en: 'Given that the function consumes a [Posn](#%28tech._posn%29), we know that
    the function can extract the values of the x and y fields:'
  id: totrans-2371
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºå‡½æ•°æ¶ˆè€—ä¸€ä¸ª[Posn](#%28tech._posn%29)ï¼Œæˆ‘ä»¬çŸ¥é“å‡½æ•°å¯ä»¥æå–xå’Œyå­—æ®µçš„å€¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (scene+dotÂ p)
    |'
  id: totrans-2372
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (scene+dotÂ p)
    |'
- en: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-2373
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: 'Once we see these additional pieces in the body of the function, the rest of
    the definition is straightforward. Using [place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29),
    the function puts DOT into MTS at the coordinates contained in p:'
  id: totrans-2374
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦æˆ‘ä»¬åœ¨å‡½æ•°ä½“ä¸­çœ‹åˆ°è¿™äº›é¢å¤–çš„éƒ¨åˆ†ï¼Œå…¶ä½™çš„å®šä¹‰å°±å¾ˆç®€å•äº†ã€‚ä½¿ç”¨[place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)ï¼Œå‡½æ•°å°†DOTæ”¾ç½®åœ¨pä¸­åŒ…å«çš„åæ ‡ä½ç½®ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (scene+dotÂ p)
    |'
  id: totrans-2375
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (scene+dotÂ p)
    |'
- en: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â MTS))
    |'
  id: totrans-2376
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â MTS))
    |'
- en: 'A function may produce structures. Letâ€™s resume our sample problem from above
    because it includes just such a task:'
  id: totrans-2377
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°å¯ä»¥äº§ç”Ÿç»“æ„ã€‚è®©æˆ‘ä»¬ä»ä¸Šé¢çš„æ ·æœ¬é—®é¢˜ç»§ç»­ï¼Œå› ä¸ºå®ƒåŒ…æ‹¬è¿™æ ·ä¸€ä¸ªä»»åŠ¡ï¼š
- en: Sample Problem A colleague is asked to define x+, a function that consumes a
    [Posn](#%28tech._posn%29) and increases the x-coordinate by 3.
  id: totrans-2378
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·æœ¬é—®é¢˜ï¼šä¸€ä½åŒäº‹è¢«è¦æ±‚å®šä¹‰x+å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ª[Posn](#%28tech._posn%29)å¹¶å°†xåæ ‡å¢åŠ 3ã€‚
- en: 'Recall that the x+ function handles clock ticks.We can adapt the first few
    steps of the design of scene+dot:'
  id: totrans-2379
  prefs: []
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹ï¼Œx+å‡½æ•°å¤„ç†æ—¶é’Ÿæ»´ç­”ã€‚æˆ‘ä»¬å¯ä»¥è°ƒæ•´scene+dotè®¾è®¡çš„æœ€åˆå‡ ä¸ªæ­¥éª¤ï¼š
- en: '| ;Â [Posn](#%28tech._posn%29) -> [Posn](#%28tech._posn%29) |'
  id: totrans-2380
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Posn](#%28tech._posn%29) -> [Posn](#%28tech._posn%29) |'
- en: '| ;Â increases the x-coordinate of p by 3 |'
  id: totrans-2381
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†pçš„xåæ ‡å¢åŠ 3 |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (x+Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 0))Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 13Â 0))
    |'
  id: totrans-2382
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (x+Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 0))Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 13Â 0))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (x+Â p)
    |'
  id: totrans-2383
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (x+Â p)
    |'
- en: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-2384
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: 'The signature, the purpose, and the example all come out of the problem statement.
    Instead of a headerâ€”<wbr>a function with a default resultâ€”<wbr>our sketch contains
    the two selector expressions for [Posn](#%28tech._posn%29)s. After all, the information
    for the result must come from the inputs, and the input is a structure that contains
    two values.Finishing the definition is easy now. Since the desired result is a
    [Posn](#%28tech._posn%29), the function uses [make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    to combine the pieces:'
  id: totrans-2385
  prefs: []
  type: TYPE_NORMAL
  zh: ç­¾åã€ç›®çš„å’Œç¤ºä¾‹éƒ½æ¥è‡ªé—®é¢˜é™ˆè¿°ã€‚è€Œä¸æ˜¯ä¸€ä¸ªå¸¦æœ‰é»˜è®¤ç»“æœçš„å‡½æ•°æ ‡é¢˜â€”â€”æˆ‘ä»¬çš„è‰å›¾åŒ…å«äº†ä¸¤ä¸ªç”¨äº[Posn](#%28tech._posn%29)çš„é€‰æ‹©è¡¨è¾¾å¼ã€‚æ¯•ç«Ÿï¼Œç»“æœçš„ä¿¡æ¯å¿…é¡»æ¥è‡ªè¾“å…¥ï¼Œè€Œè¾“å…¥æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå€¼çš„ç»“æ„ã€‚ç°åœ¨å®Œæˆå®šä¹‰å¾ˆå®¹æ˜“ã€‚ç”±äºæ‰€éœ€çš„ç»“æœæ˜¯ä¸€ä¸ª[Posn](#%28tech._posn%29)ï¼Œå‡½æ•°ä½¿ç”¨[make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)æ¥ç»„åˆè¿™äº›éƒ¨åˆ†ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (x+Â p)
    |'
  id: totrans-2386
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (x+Â p)
    |'
- en: '| Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â 3)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)))
    |'
  id: totrans-2387
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â 3)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)))
    |'
- en: ExerciseÂ 73\. Design the function posn-up-x, which consumes a [Posn](#%28tech._posn%29)
    p and a Number n. It produces a [Posn](#%28tech._posn%29) like p with n in the
    x field.
  id: totrans-2388
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 73ã€‚è®¾è®¡å‡½æ•°posn-up-xï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ª[Posn](#%28tech._posn%29) på’Œä¸€ä¸ªæ•°å­—nã€‚å®ƒäº§ç”Ÿä¸€ä¸ªç±»ä¼¼äºpçš„[Posn](#%28tech._posn%29)ï¼Œå…¶ä¸­xå­—æ®µä¸ºnã€‚
- en: 'A neat observation is that we can define x+ using posn-up-x:'
  id: totrans-2389
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå·§å¦™çš„è§‚å¯Ÿæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨posn-up-xæ¥å®šä¹‰x+ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (x+Â p)
    |'
  id: totrans-2390
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (x+Â p)
    |'
- en: '| Â Â (posn-up-xÂ pÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â 3)))
    |'
  id: totrans-2391
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (posn-up-xÂ pÂ ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â 3)))
    |'
- en: 'Note Functions such as posn-up-x are often called updaters or functional setters.
    They are extremely useful when you write large programs.A function may also produce
    instances from atomic data. While [make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    is a built-in primitive that does so, our running problem provides another fitting
    illustration:'
  id: totrans-2392
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„åƒposn-up-xè¿™æ ·çš„å‡½æ•°é€šå¸¸è¢«ç§°ä¸ºæ›´æ–°å™¨æˆ–åŠŸèƒ½è®¾ç½®å™¨ã€‚å½“æ‚¨ç¼–å†™å¤§å‹ç¨‹åºæ—¶ï¼Œå®ƒä»¬éå¸¸æœ‰ç”¨ã€‚ä¸€ä¸ªå‡½æ•°ä¹Ÿå¯èƒ½ä»åŸå­æ•°æ®ç”Ÿæˆå®ä¾‹ã€‚è™½ç„¶[make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)æ˜¯ä¸€ä¸ªæ‰§è¡Œæ­¤æ“ä½œçš„å†…ç½®åŸè¯­ï¼Œä½†æˆ‘ä»¬çš„è¿è¡Œé—®é¢˜æä¾›äº†å¦ä¸€ä¸ªåˆé€‚çš„è¯´æ˜ï¼š
- en: Sample Problem Another colleague is tasked to design reset-dot, a function that
    resets the dot when the mouse is clicked.
  id: totrans-2393
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ å¦ä¸€ä½åŒäº‹è´Ÿè´£è®¾è®¡reset-dotå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨é¼ æ ‡ç‚¹å‡»æ—¶é‡ç½®ç‚¹ã€‚
- en: 'To tackle this problem, you need to recall from [Designing World Programs](#%28part._.D.K._sec~3adesign-world%29)
    that mouse-event handlers consume four values: the current state of the world,
    the x- and y-coordinates of the mouse click, and a [MouseEvt](#%28tech._mouseevt%29).By
    adding the knowledge from the sample problem to the program design recipe, we
    get a signature, a purpose statement, and a header:'
  id: totrans-2394
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨éœ€è¦ä»[Designing World Programs](#%28part._.D.K._sec~3adesign-world%29)ä¸­å›å¿†èµ·é¼ æ ‡äº‹ä»¶å¤„ç†ç¨‹åºæ¶ˆè€—å››ä¸ªå€¼ï¼šä¸–ç•Œçš„å½“å‰çŠ¶æ€ã€é¼ æ ‡ç‚¹å‡»çš„xå’Œyåæ ‡ï¼Œä»¥åŠä¸€ä¸ª[MouseEvt](#%28tech._mouseevt%29)ã€‚é€šè¿‡å°†æ ·æœ¬é—®é¢˜çš„çŸ¥è¯†æ·»åŠ åˆ°ç¨‹åºè®¾è®¡é…æ–¹ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªç­¾åã€ä¸€ä¸ªç›®çš„å£°æ˜å’Œä¸€ä¸ªå¤´ï¼š
- en: '| ;Â [Posn](#%28tech._posn%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [MouseEvt](#%28tech._mouseevt%29)
    -> [Posn](#%28tech._posn%29) |'
  id: totrans-2395
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Posn](#%28tech._posn%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [MouseEvt](#%28tech._mouseevt%29)
    -> [Posn](#%28tech._posn%29) |'
- en: '| ;Â for mouse clicks, ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x  y);
    otherwise p |'
  id: totrans-2396
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â for mouse clicks, ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â xÂ y);
    otherwise p |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (reset-dotÂ pÂ xÂ yÂ me)Â p)
    |'
  id: totrans-2397
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (reset-dotÂ pÂ xÂ yÂ me)Â p)
    |'
- en: 'Examples for mouse-event handlers need a [Posn](#%28tech._posn%29), two numbers,
    and a [MouseEvt](#%28tech._mouseevt%29), which is just a special kind of [String](#%28tech._string%29).
    A mouse click, for example, is represented with one of two strings: "button-down"
    and "button-up". The first one signals that a user clicked the mouse button, the
    latter signals its release. With this in mind, here are two examples, which you
    may wish to study and interpret:'
  id: totrans-2398
  prefs: []
  type: TYPE_NORMAL
  zh: é¼ æ ‡äº‹ä»¶å¤„ç†ç¨‹åºçš„ç¤ºä¾‹éœ€è¦ä¸€ä¸ª[Posn](#%28tech._posn%29)ï¼Œä¸¤ä¸ªæ•°å­—å’Œä¸€ä¸ª[MouseEvt](#%28tech._mouseevt%29)ï¼Œåè€…åªæ˜¯[String](#%28tech._string%29)çš„ä¸€ç§ç‰¹æ®Šç±»å‹ã€‚ä¾‹å¦‚ï¼Œé¼ æ ‡ç‚¹å‡»å¯ä»¥ç”¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹ä¸€è¡¨ç¤ºï¼šâ€œbutton-downâ€å’Œâ€œbutton-upâ€ã€‚å‰è€…è¡¨ç¤ºç”¨æˆ·ç‚¹å‡»äº†é¼ æ ‡æŒ‰é’®ï¼Œåè€…è¡¨ç¤ºé‡Šæ”¾ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªç¤ºä¾‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ç ”ç©¶å’Œè§£é‡Šï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-2399
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (reset-dotÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20)Â 29Â 31Â "button-down")
    |'
  id: totrans-2400
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (reset-dotÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20)Â 29Â 31Â "button-down")
    |'
- en: '| Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 29Â 31))
    |'
  id: totrans-2401
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 29Â 31))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
  id: totrans-2402
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (reset-dotÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20)Â 29Â 31Â "button-up")
    |'
  id: totrans-2403
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (reset-dotÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20)Â 29Â 31Â "button-up")
    |'
- en: '| Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20))
    |'
  id: totrans-2404
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20))
    |'
- en: 'Although the function consumes only atomic forms of data, its purpose statement
    and the examples suggest that it differentiates between two kinds of [MouseEvt](#%28tech._mouseevt%29)s:
    "button-down" and all others. Such a case split suggests a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression:'
  id: totrans-2405
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡è¯¥å‡½æ•°ä»…æ¶ˆè€—åŸå­å½¢å¼çš„æ•°æ®ï¼Œä½†å…¶ç›®çš„è¯´æ˜å’Œç¤ºä¾‹è¡¨æ˜å®ƒåŒºåˆ†ä¸¤ç§ç±»å‹çš„[MouseEvt](#%28tech._mouseevt%29)sï¼šâ€œbutton-downâ€å’Œå…¶ä»–æ‰€æœ‰ç±»å‹ã€‚è¿™ç§æƒ…å†µåˆ’åˆ†æš—ç¤ºäº†ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (reset-dotÂ pÂ xÂ yÂ me)
    |'
  id: totrans-2406
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (reset-dotÂ pÂ xÂ yÂ me)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2407
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)Â "button-down"Â me)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â pÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â xÂ yÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]
    |'
  id: totrans-2408
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)Â "button-down"Â me)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â pÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â xÂ yÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â pÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â xÂ yÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]))
    |'
  id: totrans-2409
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â pÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â xÂ yÂ [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]))
    |'
- en: 'Following the design recipe, this skeleton mentions the parameters to remind
    you of what data is available.The rest is straightforward again because the purpose
    statement itself dictates what the function computes in each of the two cases:'
  id: totrans-2410
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§è®¾è®¡é£Ÿè°±ï¼Œè¿™ä¸ªæ¡†æ¶æåˆ°äº†å‚æ•°ä»¥æé†’ä½ æœ‰å“ªäº›æ•°æ®å¯ç”¨ã€‚å…¶ä½™éƒ¨åˆ†å†æ¬¡éå¸¸ç›´æ¥ï¼Œå› ä¸ºç›®çš„è¯´æ˜æœ¬èº«è§„å®šäº†å‡½æ•°åœ¨ä¸¤ç§æƒ…å†µä¸‹åˆ†åˆ«è®¡ç®—ä»€ä¹ˆï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (reset-dotÂ pÂ xÂ yÂ me)
    |'
  id: totrans-2411
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (reset-dotÂ pÂ xÂ yÂ me)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2412
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)Â meÂ "button-down")Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â xÂ y)]
    |'
  id: totrans-2413
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)Â meÂ "button-down")Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â xÂ y)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â p]))
    |'
  id: totrans-2414
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â p]))
    |'
- en: As above, we could have mentioned that [make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    creates instances of [Posn](#%28tech._posn%29), but you know this and we donâ€™t
    need to remind you constantly.
  id: totrans-2415
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æœ¬å¯ä»¥æåˆ° [make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    åˆ›å»º [Posn](#%28tech._posn%29) çš„å®ä¾‹ï¼Œä½†ä½ å·²ç»çŸ¥é“è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸æ–­æé†’ä½ ã€‚
- en: ExerciseÂ 74\. Copy all relevant constant and function definitions to DrRacketâ€™s
    definitions area. Add the tests and make sure they pass. Then run the program
    and use the mouse to place the red dot.
  id: totrans-2416
  prefs: []
  type: TYPE_NORMAL
  zh: 'ç»ƒä¹  74ã€‚å°†æ‰€æœ‰ç›¸å…³çš„å¸¸é‡å’Œå‡½æ•°å®šä¹‰å¤åˆ¶åˆ° DrRacket çš„å®šä¹‰åŒºåŸŸã€‚æ·»åŠ æµ‹è¯•å¹¶ç¡®ä¿å®ƒä»¬é€šè¿‡ã€‚ç„¶åè¿è¡Œç¨‹åºå¹¶ä½¿ç”¨é¼ æ ‡æ”¾ç½®çº¢è‰²ç‚¹ã€‚ '
- en: 'Many programs deal with nested structures. We illustrate this point with another
    small excerpt from a world program:'
  id: totrans-2417
  prefs: []
  type: TYPE_NORMAL
  zh: è®¸å¤šç¨‹åºå¤„ç†åµŒå¥—ç»“æ„ã€‚æˆ‘ä»¬ç”¨ä¸–ç•Œç¨‹åºä¸­çš„å¦ä¸€ä¸ªå°ç‰‡æ®µæ¥è¯´æ˜è¿™ä¸€ç‚¹ï¼š
- en: Sample Problem Your team is designing a game program that keeps track of an
    object that moves across the canvas at changing speed. The chosen data representation
    requires two data definitions:Remember, itâ€™s about physics.
  id: totrans-2418
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ï¼šä½ çš„å›¢é˜Ÿæ­£åœ¨è®¾è®¡ä¸€ä¸ªæ¸¸æˆç¨‹åºï¼Œè¯¥ç¨‹åºè·Ÿè¸ªåœ¨ç”»å¸ƒä¸Šä»¥å˜åŒ–é€Ÿåº¦ç§»åŠ¨çš„å¯¹è±¡ã€‚æ‰€é€‰çš„æ•°æ®è¡¨ç¤ºéœ€è¦ä¸¤ä¸ªæ•°æ®å®šä¹‰ï¼šè®°ä½ï¼Œè¿™æ˜¯å…³äºç‰©ç†çš„ã€‚
- en: ''
  id: totrans-2419
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ufoÂ [locÂ vel])
    |'
  id: totrans-2420
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ufoÂ [locÂ vel])
    |'
- en: '| ;Â A UFO is a structure: |'
  id: totrans-2421
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â UFO æ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-ufo  [Posn](#%28tech._posn%29)  [Vel](#%28tech._vel%29)) |'
  id: totrans-2422
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-ufo  [Posn](#%28tech._posn%29)  [Vel](#%28tech._vel%29)) |'
- en: '| ;Â interpretation  (make-ufo  p  v) is at location |'
  id: totrans-2423
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation  (make-ufo  p  v) is at location |'
- en: '| ;Â p moving at velocity v |'
  id: totrans-2424
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â p moving at velocity v |'
- en: ''
  id: totrans-2425
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: It is your task to develop ufo-move-1. The function computes the location of
    a given [UFO](#%28tech._ufo%29) after one clock tick passes.
  id: totrans-2426
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä½ çš„ä»»åŠ¡æ˜¯å¼€å‘ ufo-move-1ã€‚è¯¥å‡½æ•°è®¡ç®—ç»™å®š [UFO](#%28tech._ufo%29) åœ¨ç»è¿‡ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸåçš„ä½ç½®ã€‚
- en: 'Let us start with some examples that explore the data definitions a bit:'
  id: totrans-2427
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ä¸€äº›ç¤ºä¾‹å¼€å§‹ï¼Œè¿™äº›ç¤ºä¾‹æ¢ç´¢äº†æ•°æ®å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â v1Â (make-velÂ 8Â -3))
    |'
  id: totrans-2428
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â v1Â (make-velÂ 8Â -3))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â v2Â (make-velÂ -5Â -3))
    |'
  id: totrans-2429
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â v2Â (make-velÂ -5Â -3))
    |'
- en: '| Â  |'
  id: totrans-2430
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| The order of these definitions matters. See [Intermezzo 1: Beginning Student
    Language](i1-2.html). |'
  id: totrans-2431
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| è¿™äº›å®šä¹‰çš„é¡ºåºå¾ˆé‡è¦ã€‚å‚è§ [Intermezzo 1: åˆå­¦è€…è¯­è¨€](i1-2.html)ã€‚ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â p1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 22Â 80))
    |'
  id: totrans-2432
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â p1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 22Â 80))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â p2Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 30Â 77))
    |'
  id: totrans-2433
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â p2Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 30Â 77))
    |'
- en: '| Â  |'
  id: totrans-2434
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u1Â (make-ufoÂ p1Â v1))
    |'
  id: totrans-2435
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u1Â (make-ufoÂ p1Â v1))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u2Â (make-ufoÂ p1Â v2))
    |'
  id: totrans-2436
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u2Â (make-ufoÂ p1Â v2))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u3Â (make-ufoÂ p2Â v1))
    |'
  id: totrans-2437
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u3Â (make-ufoÂ p2Â v1))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u4Â (make-ufoÂ p2Â v2))
    |'
  id: totrans-2438
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â u4Â (make-ufoÂ p2Â v2))
    |'
- en: 'The first four are elements of [Vel](#%28tech._vel%29) and [Posn](#%28tech._posn%29).
    The last four combine the first four in all possible combinations.Next we write
    down a signature, a purpose, some examples, and a function header:'
  id: totrans-2439
  prefs: []
  type: TYPE_NORMAL
  zh: å‰å››ä¸ªæ˜¯[Vel](#%28tech._vel%29)å’Œ[Posn](#%28tech._posn%29)çš„å…ƒç´ ã€‚åå››ä¸ªå°†å‰å››ä¸ªä»¥æ‰€æœ‰å¯èƒ½çš„ç»„åˆæ–¹å¼ç»“åˆèµ·æ¥ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†™ä¸‹ç­¾åã€ç›®çš„ã€ä¸€äº›ç¤ºä¾‹å’Œå‡½æ•°å¤´ï¼š
- en: '| ;Â [UFO](#%28tech._ufo%29) -> [UFO](#%28tech._ufo%29) |'
  id: totrans-2440
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [UFO](#%28tech._ufo%29) -> [UFO](#%28tech._ufo%29) |'
- en: '| ;Â determines where u moves in one clock tick; |'
  id: totrans-2441
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â determines where u moves in one clock tick; |'
- en: '| ;Â leaves the velocity as is |'
  id: totrans-2442
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â leaves the velocity as is |'
- en: '| Â  |'
  id: totrans-2443
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (ufo-move-1Â u1)Â u3)
    |'
  id: totrans-2444
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (ufo-move-1Â u1)Â u3)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (ufo-move-1Â u2)
    |'
  id: totrans-2445
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (ufo-move-1Â u2)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-ufoÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 17Â 77)Â v2))
    |'
  id: totrans-2446
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-ufoÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 17Â 77)Â v2))
    |'
- en: '| Â  |'
  id: totrans-2447
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-move-1Â u)Â u)
    |'
  id: totrans-2448
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-move-1Â u)Â u)
    |'
- en: 'For the function examples, we use the data examples and our domain knowledge
    of positions and velocities. Specifically, we know that a vehicle that is moving
    north at 60 miles per hour and west at 10 miles per hour is going to end up 60
    miles north from its starting point and 10 miles west after one hour of driving.
    After two hours, it will be 120 miles north from the starting point and 20 miles
    to its west.As always, a function that consumes a structure instance can (and
    probably must) extract information from the structure to compute its result. So
    once again we add selector expressions to the function definition:'
  id: totrans-2449
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºå‡½æ•°ç¤ºä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°æ®ç¤ºä¾‹ä»¥åŠæˆ‘ä»¬å¯¹ä½ç½®å’Œé€Ÿåº¦çš„é¢†åŸŸçŸ¥è¯†ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€è¾†ä»¥æ¯å°æ—¶60è‹±é‡Œå‘åŒ—è¡Œé©¶ã€ä»¥æ¯å°æ—¶10è‹±é‡Œå‘è¥¿è¡Œé©¶çš„è½¦è¾†ï¼Œåœ¨ä¸€å°æ—¶åå°†ä»èµ·ç‚¹å‘åŒ—è¡Œé©¶60è‹±é‡Œï¼Œå‘è¥¿è¡Œé©¶10è‹±é‡Œã€‚ä¸¤å°æ—¶åï¼Œå®ƒå°†ä»èµ·ç‚¹å‘åŒ—è¡Œé©¶120è‹±é‡Œï¼Œå‘è¥¿è¡Œé©¶20è‹±é‡Œã€‚ä¸€å¦‚æ—¢å¾€ï¼Œä¸€ä¸ªæ¶ˆè€—ç»“æ„å®ä¾‹çš„å‡½æ•°å¯ä»¥ï¼ˆå¹¶ä¸”å¯èƒ½å¿…é¡»ï¼‰ä»ç»“æ„ä¸­æå–ä¿¡æ¯æ¥è®¡ç®—å…¶ç»“æœã€‚å› æ­¤ï¼Œæˆ‘ä»¬å†æ¬¡åœ¨å‡½æ•°å®šä¹‰ä¸­æ·»åŠ é€‰æ‹©è¡¨è¾¾å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-move-1Â u)
    |'
  id: totrans-2450
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-move-1Â u)
    |'
- en: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (ufo-locÂ u)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (ufo-velÂ u)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-2451
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (ufo-locÂ u)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (ufo-velÂ u)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: 'Note The selector expressions raise the question whether we need to refine
    this sketch even more. After all, the two expressions extract instances of [Posn](#%28tech._posn%29)
    and [Vel](#%28tech._vel%29), respectively. These two are also structure instances,
    and we could extract values from them in turn. Here is what the resulting skeleton
    would look like:'
  id: totrans-2452
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šé€‰æ‹©è¡¨è¾¾å¼æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œå³æˆ‘ä»¬æ˜¯å¦éœ€è¦è¿›ä¸€æ­¥ç»†åŒ–è¿™ä¸ªè‰å›¾ã€‚æ¯•ç«Ÿï¼Œè¿™ä¸¤ä¸ªè¡¨è¾¾å¼åˆ†åˆ«æå–äº†[Posn](#%28tech._posn%29)å’Œ[Vel](#%28tech._vel%29)çš„å®ä¾‹ã€‚è¿™ä¸¤ä¸ªä¹Ÿæ˜¯ç»“æ„å®ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¾æ¬¡ä»å®ƒä»¬ä¸­æå–å€¼ã€‚ä¸‹é¢æ˜¯ç»“æœéª¨æ¶çš„æ ·å­ï¼š
- en: '| ;Â [UFO](#%28tech._ufo%29) -> [UFO](#%28tech._ufo%29) |'
  id: totrans-2453
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [UFO](#%28tech._ufo%29) -> [UFO](#%28tech._ufo%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-move-1Â u)
    |'
  id: totrans-2454
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-move-1Â u)
    |'
- en: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â (ufo-locÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-2455
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â (ufo-locÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â (ufo-locÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-2456
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â (ufo-locÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (vel-deltaxÂ (ufo-velÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-2457
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    (vel-deltaxÂ (ufo-velÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (vel-deltayÂ (ufo-velÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-2458
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (vel-deltayÂ (ufo-velÂ u))Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: Doing so obviously makes the sketch look quite complex, however. For truly realistic
    programs, following this idea to its logical end would create incredibly complex
    program outlines. More generally,
  id: totrans-2459
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·åšæ˜¾ç„¶ä¼šä½¿è‰å›¾çœ‹èµ·æ¥ç›¸å½“å¤æ‚ã€‚ç„¶è€Œï¼Œå¯¹äºçœŸæ­£ç°å®çš„ç¨‹åºï¼Œå°†è¿™ä¸ªæƒ³æ³•è´¯å½»åˆ°åº•ä¼šåˆ›å»ºå‡ºæå…¶å¤æ‚çš„ç¨‹åºæ¦‚è¦ã€‚æ›´æ™®éåœ°ï¼Œ
- en: If a function deals with nested structures, develop one function per level of
    nesting.
  id: totrans-2460
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¦‚æœä¸€ä¸ªå‡½æ•°å¤„ç†åµŒå¥—ç»“æ„ï¼Œåˆ™æ¯ä¸ªåµŒå¥—çº§åˆ«å¼€å‘ä¸€ä¸ªå‡½æ•°ã€‚
- en: 'In the second part of the book, this guideline becomes even more important
    and we refine it a bit. EndHere we focus on how to combine the given [Posn](#%28tech._posn%29)
    and the given [Vel](#%28tech._vel%29) in order to obtain the next location of
    the [UFO](#%28tech._ufo%29)â€”<wbr>because thatâ€™s what our physics knowledge tells
    us. Specifically, it says to â€œaddâ€ the two together, where â€œaddingâ€ canâ€™t mean
    the operation we usually apply to numbers. So let us imagine that we have a function
    for adding a [Vel](#%28tech._vel%29) to a [Posn](#%28tech._posn%29):'
  id: totrans-2461
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬ä¹¦çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œè¿™ä¸ªæŒ‡å—å˜å¾—æ›´åŠ é‡è¦ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯¹å…¶è¿›è¡Œäº†ä¸€äº›ç»†åŒ–ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å…³æ³¨å¦‚ä½•å°†ç»™å®šçš„[ä½ç½®](#%28tech._posn%29)å’Œç»™å®šçš„[é€Ÿåº¦](#%28tech._vel%29)ç»“åˆèµ·æ¥ï¼Œä»¥è·å¾—[ä¸æ˜é£è¡Œç‰©](#%28tech._ufo%29)çš„ä¸‹ä¸€ä¸ªä½ç½®â€”â€”å› ä¸ºè¿™æ˜¯æˆ‘ä»¬çš„ç‰©ç†çŸ¥è¯†å‘Šè¯‰æˆ‘ä»¬çš„ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒè¯´â€œç›¸åŠ â€ï¼Œè¿™é‡Œçš„â€œç›¸åŠ â€å¹¶ä¸æ„å‘³ç€æˆ‘ä»¬é€šå¸¸åº”ç”¨äºæ•°å­—çš„æ“ä½œã€‚æ‰€ä»¥è®©æˆ‘ä»¬æƒ³è±¡æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†[é€Ÿåº¦](#%28tech._vel%29)åŠ åˆ°[ä½ç½®](#%28tech._posn%29)ä¸Šï¼š
- en: '| ;Â [Posn](#%28tech._posn%29)  [Vel](#%28tech._vel%29) -> [Posn](#%28tech._posn%29)
    |'
  id: totrans-2462
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä½ç½®](#%28tech._posn%29)  [é€Ÿåº¦](#%28tech._vel%29) -> [ä½ç½®](#%28tech._posn%29)
    |'
- en: '| ;Â adds v to p |'
  id: totrans-2463
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°† v æ·»åŠ åˆ° p |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (posn+Â pÂ v)Â p)
    |'
  id: totrans-2464
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (posn+Â pÂ v)Â p)
    |'
- en: 'Writing down the signature, purpose, and header like this is a legitimate way
    of programming. It is called â€œmaking a wishâ€ and is a part of â€œmaking a wish listâ€
    as described in [From Functions to Programs](#%28part._sec~3adesign%29).The key
    is to make wishes in such a way that we can complete the function that we are
    working on. In this manner, we can split difficult programming tasks into different
    tasks, a technique that helps us solve problems in reasonably small steps. For
    the sample problem, we get a complete definition for ufo-move-1:'
  id: totrans-2465
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§è¿™ç§æ–¹å¼å†™ä¸‹ç­¾åã€ç›®çš„å’Œå¤´æ˜¯åˆæ³•çš„ç¼–ç¨‹æ–¹å¼ã€‚è¿™è¢«ç§°ä¸ºâ€œè®¸æ„¿â€ï¼Œæ˜¯ã€Šä»å‡½æ•°åˆ°ç¨‹åºã€‹ä¸­æè¿°çš„â€œè®¸æ„¿æ¸…å•â€çš„ä¸€éƒ¨åˆ†ã€‚å…³é”®æ˜¯è®©æˆ‘ä»¬èƒ½å¤Ÿå®Œæˆæˆ‘ä»¬æ­£åœ¨å·¥ä½œçš„å‡½æ•°ã€‚ä»¥è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å›°éš¾çš„ç¼–ç¨‹ä»»åŠ¡åˆ†è§£æˆä¸åŒçš„ä»»åŠ¡ï¼Œè¿™æ˜¯ä¸€ç§å¸®åŠ©æˆ‘ä»¬ä»¥åˆç†çš„å°æ­¥éª¤è§£å†³é—®é¢˜çš„æŠ€æœ¯ã€‚å¯¹äºç¤ºä¾‹é—®é¢˜ï¼Œæˆ‘ä»¬å¾—åˆ°äº†
    ufo-move-1 çš„å®Œæ•´å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-move-1Â u)
    |'
  id: totrans-2466
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (ufo-move-1 u)) |'
- en: '| Â Â (make-ufoÂ (posn+Â (ufo-locÂ u)Â (ufo-velÂ u)) |'
  id: totrans-2467
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-ufo (posn+ (ufo-loc u) (ufo-vel u))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (ufo-velÂ u))) |'
  id: totrans-2468
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (ufo-vel u))) |'
- en: 'Because ufo-move-1 and posn+ are complete definitions, we can even click RUN,
    which checks that DrRacket doesnâ€™t complain about grammatical problems with our
    work so far. Naturally, the tests fail because posn+ is just a wish, not the function
    we need.Now it is time to focus on posn+. We have completed the first two steps
    of the design (data definitions, signature/purpose/header),In geometry, the operation
    corresponding to posn+ is called a translation. so we must create examples. One
    easy way to create functional examples for a â€œwishâ€ is to use the examples for
    the original function and to turn them into examples for the new function:'
  id: totrans-2469
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸º ufo-move-1 å’Œ posn+ æ˜¯å®Œæ•´çš„å®šä¹‰ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥ç‚¹å‡» RUNï¼Œè¿™ä¼šæ£€æŸ¥ DrRacket æ˜¯å¦å¯¹æˆ‘ä»¬çš„å·¥ä½œåˆ°ç›®å‰ä¸ºæ­¢çš„è¯­æ³•é—®é¢˜æœ‰æŠ±æ€¨ã€‚è‡ªç„¶åœ°ï¼Œæµ‹è¯•å¤±è´¥ï¼Œå› ä¸º
    posn+ åªæ˜¯ä¸€ä¸ªæ„¿æœ›ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„å‡½æ•°ã€‚ç°åœ¨æ˜¯æˆ‘ä»¬ä¸“æ³¨äº posn+ çš„æ—¶å€™äº†ã€‚æˆ‘ä»¬å·²ç»å®Œæˆäº†è®¾è®¡çš„ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ï¼ˆæ•°æ®å®šä¹‰ï¼Œç­¾å/ç›®çš„/å¤´ï¼‰ï¼Œåœ¨å‡ ä½•å­¦ä¸­ï¼Œå¯¹åº”äº
    posn+ çš„æ“ä½œè¢«ç§°ä¸ºå¹³ç§»ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºç¤ºä¾‹ã€‚ä¸ºâ€œæ„¿æœ›â€åˆ›å»ºåŠŸèƒ½ç¤ºä¾‹çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯å°†åŸå§‹å‡½æ•°çš„ç¤ºä¾‹è½¬æ¢ä¸ºæ–°çš„å‡½æ•°çš„ç¤ºä¾‹ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (posn+Â p1Â v1)Â p2)
    |'
  id: totrans-2470
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    (posn+ p1 v1) p2) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (posn+Â p1Â v2)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 17Â 77))
    |'
  id: totrans-2471
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)
    (posn+ p1 v2) ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    17 77)) |'
- en: 'For this problem, we know that (ufo-move-1  (make-ufo  p1  v1)) is to produce
    p2. At the same time, we know that ufo-move-1 applies posn+ to p1 and v1, implying
    that posn+ must produce p2 for these inputs. Stop! Check our manual calculations
    to ensure that you are following what we are doing.We are now able to add selector
    expressions to our design sketch:'
  id: totrans-2472
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çŸ¥é“ (ufo-move-1 (make-ufo p1 v1)) åº”è¯¥äº§ç”Ÿ p2ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬çŸ¥é“ ufo-move-1 å°† posn+
    åº”ç”¨åˆ° p1 å’Œ v1 ä¸Šï¼Œè¿™æ„å‘³ç€ posn+ å¿…é¡»ä¸ºè¿™äº›è¾“å…¥äº§ç”Ÿ p2ã€‚åœï¼æ£€æŸ¥æˆ‘ä»¬çš„æ‰‹åŠ¨è®¡ç®—ä»¥ç¡®ä¿æˆ‘ä»¬æ­£åœ¨æŒ‰ç…§æˆ‘ä»¬æ­£åœ¨åšçš„äº‹æƒ…è¿›è¡Œã€‚æˆ‘ä»¬ç°åœ¨èƒ½å¤Ÿå‘æˆ‘ä»¬çš„è®¾è®¡è‰å›¾æ·»åŠ é€‰æ‹©è¡¨è¾¾å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (posn+Â pÂ v)
    |'
  id: totrans-2473
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (posn+ p v)) |'
- en: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-2474
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    p) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (vel-deltaxÂ v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (vel-deltayÂ v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-2475
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    (vel-deltax v) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    (vel-deltay v) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: 'Because posn+ consumes instances of [Posn](#%28tech._posn%29) and [Vel](#%28tech._vel%29)
    and because each piece of data is an instance of a two-field structure, we get
    four expressions. In contrast to the nested selector expressions from above, these
    are simple applications of a selector to a parameter.If we remind ourselves what
    these four expressions represent, or if we recall how we computed the desired
    results from the two structures, our completion of the definition of posn+ is
    straightforward:'
  id: totrans-2476
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸º`posn+`æ¶ˆè€—äº†`[Posn](#%28tech._posn%29)`å’Œ`[Vel](#%28tech._vel%29)`çš„å®ä¾‹ï¼Œå¹¶ä¸”æ¯æ¡æ•°æ®éƒ½æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­—æ®µçš„ç»“æ„çš„å®ä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°äº†å››ä¸ªè¡¨è¾¾å¼ã€‚ä¸ä¸Šé¢çš„åµŒå¥—é€‰æ‹©è¡¨è¾¾å¼ç›¸æ¯”ï¼Œè¿™äº›åªæ˜¯é€‰æ‹©å™¨å¯¹å‚æ•°çš„ç®€å•åº”ç”¨ã€‚å¦‚æœæˆ‘ä»¬å›æƒ³èµ·è¿™å››ä¸ªè¡¨è¾¾å¼ä»£è¡¨ä»€ä¹ˆï¼Œæˆ–è€…å¦‚æœæˆ‘ä»¬å›å¿†èµ·æˆ‘ä»¬å¦‚ä½•ä»ä¸¤ä¸ªç»“æ„ä¸­è®¡ç®—å‡ºæ‰€éœ€çš„ç»“æœï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å®Œæˆ`posn+`çš„å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (posn+Â pÂ v)
    |'
  id: totrans-2477
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (posn+ p v) |'
- en: '| Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â p)Â (vel-deltaxÂ v))
    |'
  id: totrans-2478
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)
    p) (vel-deltax v))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â p)Â (vel-deltayÂ v))))
    |'
  id: totrans-2479
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([+](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2B%29%29)
    ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)
    p) (vel-deltay v)))) |'
- en: The first step is to add the velocity in the horizontal direction to the x-coordinate
    and the velocity in the vertical direction to the y-coordinate. This yields two
    expressions, one per new coordinate. With [make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    we can combine them into a single [Posn](#%28tech._posn%29) again.
  id: totrans-2480
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥æ˜¯å°†æ°´å¹³æ–¹å‘çš„é€Ÿåº¦åŠ åˆ°xåæ ‡ä¸Šï¼Œå°†å‚ç›´æ–¹å‘çš„é€Ÿåº¦åŠ åˆ°yåæ ‡ä¸Šã€‚è¿™äº§ç”Ÿäº†ä¸¤ä¸ªè¡¨è¾¾å¼ï¼Œæ¯ä¸ªæ–°åæ ‡ä¸€ä¸ªã€‚ä½¿ç”¨[make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªå•ä¸€çš„[Posn](#%28tech._posn%29)ã€‚
- en: ExerciseÂ 75\. Enter these definitions and their test cases into the definitions
    area of DrRacket and make sure they work. This is the first time that you have
    dealt with a â€œwish,â€ and you need to make sure you understand how the two functions
    work together.
  id: totrans-2481
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 75ã€‚å°†è¿™äº›å®šä¹‰åŠå…¶æµ‹è¯•ç”¨ä¾‹è¾“å…¥åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸï¼Œå¹¶ç¡®ä¿å®ƒä»¬æ­£å¸¸å·¥ä½œã€‚è¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡å¤„ç†â€œæ„¿æœ›â€ï¼Œä½ éœ€è¦ç¡®ä¿ä½ ç†è§£è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯å¦‚ä½•ä¸€èµ·å·¥ä½œçš„ã€‚
- en: 5.7The Universe of Data[ğŸ”—](#(part._data-uni._sec~3adata-uni) "Link to here")
  id: totrans-2482
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.7 æ•°æ®å®‡å®™[ğŸ”—](#(part._data-uni._sec~3adata-uni) "é“¾æ¥è‡³æ­¤")
- en: Every language comes with a universe of data. This data represents information
    from and about the external world; it is what programs manipulate. This universe
    of data is a collection that not only containsRemember that mathematicians call
    data collections or data classes sets. all built-in data but also any piece of
    data that any program may ever create.
  id: totrans-2483
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ç§è¯­è¨€éƒ½ä¼´éšç€ä¸€ä¸ªæ•°æ®å®‡å®™ã€‚è¿™äº›æ•°æ®ä»£è¡¨æ¥è‡ªå’Œå…³äºå¤–éƒ¨ä¸–ç•Œçš„ä¿¡æ¯ï¼›å®ƒæ˜¯ç¨‹åºæ‰€æ“ä½œçš„å†…å®¹ã€‚è¿™ä¸ªæ•°æ®å®‡å®™æ˜¯ä¸€ä¸ªé›†åˆï¼Œä¸ä»…åŒ…å«æ‰€æœ‰å†…ç½®æ•°æ®ï¼Œè¿˜åŒ…æ‹¬ä»»ä½•ç¨‹åºå¯èƒ½åˆ›å»ºçš„ä»»ä½•æ•°æ®ã€‚è®°ä½ï¼Œæ•°å­¦å®¶å°†æ•°æ®é›†åˆæˆ–æ•°æ®ç±»ç§°ä¸ºé›†åˆã€‚æ‰€æœ‰è¿™äº›æ•°æ®éƒ½æ˜¯å†…ç½®çš„ï¼Œä½†è¿˜åŒ…æ‹¬ä»»ä½•ç¨‹åºå¯èƒ½åˆ›å»ºçš„ä»»ä½•æ•°æ®ã€‚
- en: The left side of [figureÂ 30](#%28counter._data-uni._%28figure._fig~3auniverse%29%29)
    shows one way to imagine the universe of BSL. Since there are infinitely many
    numbers and strings, the collection of all data is infinite. We indicate â€œinfinityâ€
    in the figure with â€œ...â€, but a real definition would have to avoid this imprecision.
  id: totrans-2484
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾30](#%28counter._data-uni._%28figure._fig~3auniverse%29%29)çš„å·¦ä¾§æ˜¾ç¤ºäº†æƒ³è±¡BSLå®‡å®™çš„ä¸€ç§æ–¹å¼ã€‚ç”±äºæ•°å­—å’Œå­—ç¬¦ä¸²æ˜¯æ— é™çš„ï¼Œæ‰€æœ‰æ•°æ®çš„é›†åˆæ˜¯æ— é™çš„ã€‚æˆ‘ä»¬åœ¨å›¾ä¸­ç”¨â€œ...â€è¡¨ç¤ºâ€œæ— é™â€ï¼Œä½†çœŸæ­£çš„å®šä¹‰å¿…é¡»é¿å…è¿™ç§ä¸ç²¾ç¡®æ€§ã€‚'
- en: Neither programs nor individual functions in programs deal with the entire universe
    of data. It is the purpose of a data definition to describe parts of this universe
    and to name these parts so that we can refer to them concisely. Put differently,
    a named data definition is a description of a collection of data, and that name
    is usable in other data definitions and in function signatures. In a function
    signature, the name specifies what data a function will deal with and, implicitly,
    which part of the universe of data it wonâ€™t deal with.
  id: totrans-2485
  prefs: []
  type: TYPE_NORMAL
  zh: ç¨‹åºæˆ–ç¨‹åºä¸­çš„å•ä¸ªå‡½æ•°éƒ½ä¸å¤„ç†æ•´ä¸ªæ•°æ®å®‡å®™ã€‚æ•°æ®å®šä¹‰çš„ç›®çš„æ˜¯æè¿°è¿™ä¸ªå®‡å®™çš„æŸäº›éƒ¨åˆ†ï¼Œå¹¶å‘½åè¿™äº›éƒ¨åˆ†ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ç®€æ´åœ°å¼•ç”¨å®ƒä»¬ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå‘½åæ•°æ®å®šä¹‰æ˜¯æ•°æ®é›†åˆçš„æè¿°ï¼Œå¹¶ä¸”è¯¥åç§°å¯ä»¥åœ¨å…¶ä»–æ•°æ®å®šä¹‰å’Œå‡½æ•°ç­¾åä¸­ä½¿ç”¨ã€‚åœ¨å‡½æ•°ç­¾åä¸­ï¼Œè¯¥åç§°æŒ‡å®šäº†å‡½æ•°å°†å¤„ç†å“ªäº›æ•°æ®ï¼Œä»¥åŠéšå«åœ°å®ƒä¸ä¼šå¤„ç†æ•°æ®å®‡å®™çš„å“ªäº›éƒ¨åˆ†ã€‚
- en: '![image](../Images/d41f193abe3d782f8e663aebf199e0bc.png)Â Â Â Â Â Â Â Â Â Â ![image](../Images/600a6a8633c1e3c44f1e88a7c0391d46.png)'
  id: totrans-2486
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d41f193abe3d782f8e663aebf199e0bc.png)Â Â Â Â Â Â Â Â Â Â ![image](../Images/600a6a8633c1e3c44f1e88a7c0391d46.png)'
- en: ''
  id: totrans-2487
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 30: The universe of data'
  id: totrans-2488
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾30ï¼šæ•°æ®å®‡å®™
- en: 'Practically, the data definitions of the first four chapters restrict built-in
    collections of data. They do so via an explicit or implicit itemization of all
    included values. For example, the region shaded with gray on the right side in
    [figureÂ 30](#%28counter._data-uni._%28figure._fig~3auniverse%29%29) depicts the
    following data definition:'
  id: totrans-2489
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼Œå‰å››ç« çš„æ•°æ®å®šä¹‰é™åˆ¶äº†å†…ç½®æ•°æ®é›†åˆã€‚å®ƒä»¬é€šè¿‡æ˜ç¡®æˆ–éšå¼åˆ—ä¸¾æ‰€æœ‰åŒ…å«çš„å€¼æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ä¾‹å¦‚ï¼Œ[å›¾30](#%28counter._data-uni._%28figure._fig~3auniverse%29%29)ä¸­å³ä¾§ç”¨ç°è‰²é˜´å½±è¡¨ç¤ºçš„åŒºåŸŸæè¿°äº†ä»¥ä¸‹æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A BS is one of: |'
  id: totrans-2490
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â BS æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€”<wbr>  "hello", |'
  id: totrans-2491
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "hello", |'
- en: '| ;Â â€”<wbr>  "world", or |'
  id: totrans-2492
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "world", æˆ– |'
- en: '| ;Â â€”<wbr>  [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29).
    |'
  id: totrans-2493
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  [pi](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29).
    |'
- en: While this particular data definition looks silly, note the stylized mix of
    English and BSL that is used. Its meaning is precise and unambiguous, clarifying
    exactly which elements belong to [BS](#%28tech._data-uni._b%29) and which donâ€™t.
  id: totrans-2494
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶è¿™ä¸ªç‰¹å®šçš„æ•°æ®å®šä¹‰çœ‹èµ·æ¥å¾ˆæ„šè ¢ï¼Œä½†è¯·æ³¨æ„æ‰€ä½¿ç”¨çš„è‹±è¯­å’ŒBSLé£æ ¼çš„æ··åˆã€‚å®ƒçš„æ„ä¹‰æ˜¯ç²¾ç¡®ä¸”æ— æ­§ä¹‰çš„ï¼Œæ˜ç¡®æŒ‡å‡ºå“ªäº›å…ƒç´ å±äº[BS](#%28tech._data-uni._b%29)ä»¥åŠå“ªäº›ä¸å±äºã€‚
- en: The definition of structure types completely revised the picture. When a programmer
    defines a structure type, the universe expands with all possible structure instances.
    For example, the addition of posn means that instances of posn with all possible
    values in the two fields appear. The middle bubble in [figureÂ 31](#%28counter._data-uni._%28figure._fig~3auni-struct%29%29)
    depicts the addition of these values, including such seeming nonsense as ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  "hello"  0)
    and ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  0  1)  2).
    And yes, some of these instances of posn make no sense to us. But, a BSL program
    may construct any of them.
  id: totrans-2495
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æ„ç±»å‹çš„å®šä¹‰å®Œå…¨æ”¹å˜äº†æ•´ä¸ªå›¾æ™¯ã€‚å½“ç¨‹åºå‘˜å®šä¹‰ä¸€ä¸ªç»“æ„ç±»å‹æ—¶ï¼Œå®‡å®™ä¼šæ‰©å±•åˆ°æ‰€æœ‰å¯èƒ½çš„ç»“æ„å®ä¾‹ã€‚ä¾‹å¦‚ï¼Œæ·»åŠ ä½ç½®ç»“æ„æ„å‘³ç€å‡ºç°æ‰€æœ‰å¯èƒ½å€¼çš„ä½ç½®å®ä¾‹ã€‚[å›¾31](#%28counter._data-uni._%28figure._fig~3auni-struct%29%29)ä¸­çš„ä¸­é—´æ°”æ³¡æè¿°äº†è¿™äº›å€¼çš„æ·»åŠ ï¼ŒåŒ…æ‹¬è¯¸å¦‚([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    "hello" 0)å’Œ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    0 1) 2)è¿™æ ·çš„çœ‹ä¼¼æ— æ„ä¹‰çš„å†…å®¹ã€‚æ˜¯çš„ï¼Œå…¶ä¸­ä¸€äº›ä½ç½®å®ä¾‹å¯¹æˆ‘ä»¬æ¥è¯´æ²¡æœ‰æ„ä¹‰ã€‚ä½†æ˜¯ï¼ŒBSLç¨‹åºå¯ä»¥æ„å»ºå…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚
- en: '![image](../Images/60c835d289de3e33d84df4afb96658ce.png)'
  id: totrans-2496
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/60c835d289de3e33d84df4afb96658ce.png)'
- en: ''
  id: totrans-2497
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 31: Adding structure to a universe'
  id: totrans-2498
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾31ï¼šå‘å®‡å®™æ·»åŠ ç»“æ„
- en: Adding yet another structure type definition mixes and matches everything again.
    Say we add the definition for ball, also with two fields. As the third bubble
    in [figureÂ 31](#%28counter._data-uni._%28figure._fig~3auni-struct%29%29) shows,
    this addition creates instances of ball that contain numbers, posn structures,
    and so on, as well as instances of posn that contain instances of ball. Try it
    out in DrRacket! Add
  id: totrans-2499
  prefs: []
  type: TYPE_NORMAL
  zh: æ·»åŠ å¦ä¸€ç§ç»“æ„ç±»å‹å®šä¹‰å†æ¬¡æ··åˆåŒ¹é…æ‰€æœ‰å†…å®¹ã€‚å‡è®¾æˆ‘ä»¬æ·»åŠ çƒä½“çš„å®šä¹‰ï¼Œå®ƒä¹Ÿæœ‰ä¸¤ä¸ªå­—æ®µã€‚æ­£å¦‚[å›¾31](#%28counter._data-uni._%28figure._fig~3auni-struct%29%29)ä¸­çš„ç¬¬ä¸‰ä¸ªæ°”æ³¡æ‰€ç¤ºï¼Œè¿™ç§æ·»åŠ åˆ›å»ºäº†åŒ…å«æ•°å­—ã€ä½ç½®ç»“æ„ç­‰å®ä¾‹çš„çƒä½“ï¼Œä»¥åŠåŒ…å«çƒä½“å®ä¾‹çš„ä½ç½®å®ä¾‹ã€‚åœ¨DrRacketä¸­è¯•ä¸€è¯•ï¼æ·»åŠ 
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â ballÂ [locationÂ velocity])
  id: totrans-2500
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    ball [location velocity])
- en: to the definitions area, hit RUN, and create some structure instances.As far
    as the pragmatics of data definitions is concerned, a data definition for structure
    types describes large collections of data via combinations of existing data definitions
    with instances. When we write
  id: totrans-2501
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è¿™äº›å®šä¹‰æ·»åŠ åˆ°å®šä¹‰åŒºåŸŸï¼Œç‚¹å‡»è¿è¡Œï¼Œåˆ›å»ºä¸€äº›ç»“æ„å®ä¾‹ã€‚å°±æ•°æ®å®šä¹‰çš„å®ç”¨æ€§è€Œè¨€ï¼Œç»“æ„ç±»å‹çš„æ•°æ®å®šä¹‰é€šè¿‡ç°æœ‰æ•°æ®å®šä¹‰ä¸å®ä¾‹çš„ç»„åˆæ¥æè¿°å¤§é‡æ•°æ®é›†åˆã€‚å½“æˆ‘ä»¬å†™ä¸‹
- en: ;Â Posn is ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
  id: totrans-2502
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â ä½ç½®ç»“æ„æ˜¯([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
- en: 'we are describing an infinite number of possible instances of posn. Like above,
    the data definitions use combinations of natural language, data collections defined
    elsewhere, and data constructors. Nothing else should show up in a data definition
    at the moment.A data definition for structures specifies a new collection of data
    made up of those instances to be used by our functions. For example, the data
    definition for [Posn](#%28tech._posn%29)s identifies the region shaded in gray
    in the center bubble of the universe in [figureÂ 31](#%28counter._data-uni._%28figure._fig~3auni-struct%29%29),
    which includes all those posn structures whose two fields contain numbers. At
    the same time, it is perfectly possible to construct an instance of posn that
    doesnâ€™t satisfy the requirement that both fields contain numbers:'
  id: totrans-2503
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ­£åœ¨æè¿°æ— é™å¤šä¸ªå¯èƒ½çš„posnå®ä¾‹ã€‚å°±åƒä¸Šé¢ä¸€æ ·ï¼Œæ•°æ®å®šä¹‰ä½¿ç”¨äº†è‡ªç„¶è¯­è¨€ã€åœ¨å…¶ä»–åœ°æ–¹å®šä¹‰çš„æ•°æ®é›†åˆå’Œæ•°æ®æ„é€ å‡½æ•°çš„ç»„åˆã€‚ç›®å‰æ•°æ®å®šä¹‰ä¸­ä¸åº”å‡ºç°å…¶ä»–å†…å®¹ã€‚ç»“æ„çš„æ•°æ®å®šä¹‰æŒ‡å®šäº†ç”±è¿™äº›å®ä¾‹ç»„æˆçš„æ–°æ•°æ®é›†åˆï¼Œè¿™äº›æ•°æ®é›†åˆå°†è¢«æˆ‘ä»¬çš„å‡½æ•°ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ[Posn](#%28tech._posn%29)çš„æ•°æ®å®šä¹‰ç¡®å®šäº†[å›¾31](#%28counter._data-uni._%28figure._fig~3auni-struct%29%29)ä¸­å¿ƒæ°”æ³¡ä¸­ç°è‰²é˜´å½±çš„åŒºåŸŸï¼ŒåŒ…æ‹¬æ‰€æœ‰ä¸¤ä¸ªå­—æ®µéƒ½åŒ…å«æ•°å­—çš„posnç»“æ„ã€‚åŒæ—¶ï¼Œæ„é€ ä¸€ä¸ªä¸æ»¡è¶³ä¸¤ä¸ªå­—æ®µéƒ½åŒ…å«æ•°å­—è¦æ±‚çš„posnå®ä¾‹æ˜¯å®Œå…¨å¯èƒ½çš„ï¼š
- en: ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 1Â 1)Â "hello")
  id: totrans-2504
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 1Â 1)Â "hello")
- en: 'This structure contains a posn in the x field and a string in the y field.ExerciseÂ 76\.
    Formulate data definitions for the following structure type definitions:'
  id: totrans-2505
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤ç»“æ„åŒ…å«xå­—æ®µä¸­çš„posnå’Œä¸€ä¸ªyå­—æ®µä¸­çš„å­—ç¬¦ä¸²ã€‚ç»ƒä¹ 76ã€‚ä¸ºä»¥ä¸‹ç»“æ„ç±»å‹å®šä¹‰åˆ¶å®šæ•°æ®å®šä¹‰ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  movie  [title  producer  year])
  id: totrans-2506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  movie  [title  producer  year])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  person  [name  hair  eyes  phone])
  id: totrans-2507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  person  [name  hair  eyes  phone])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  pet  [name  number])
  id: totrans-2508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  pet  [name  number])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  CD  [artist  title  price])
  id: totrans-2509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  CD  [artist  title  price])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  sweater  [material  size  producer])
  id: totrans-2510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  sweater  [material  size  producer])
- en: Make sensible assumptions as to what kind of values go into each field.
  id: totrans-2511
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹æ¯ä¸ªå­—æ®µå¯èƒ½åŒ…å«çš„å€¼åšå‡ºåˆç†çš„å‡è®¾ã€‚
- en: 'ExerciseÂ 77\. Provide a structure type definition and a data definition for
    representing points in time since midnight. A point in time consists of three
    numbers: hours, minutes, and seconds.'
  id: totrans-2512
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 77ã€‚æä¾›ä¸€ä¸ªç»“æ„ç±»å‹å®šä¹‰å’Œä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œç”¨äºè¡¨ç¤ºåˆå¤œä¹‹åçš„æ—¶é—´ç‚¹ã€‚æ—¶é—´ç‚¹ç”±ä¸‰ä¸ªæ•°å­—ç»„æˆï¼šå°æ—¶ã€åˆ†é’Ÿå’Œç§’ã€‚
- en: 'ExerciseÂ 78\. Provide a structure type and a data definition for representing
    three-letter words. A word consists of lowercase letters, represented with the
    [1String](#%28tech._1string%29)s "a" through "z" plus #false. Note This exercise
    is a part of the design of a hangman game; see [exerciseÂ 396](part_four.html#%28counter._%28exercise._ex~3ahangman-list%29%29).'
  id: totrans-2513
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 78ã€‚æä¾›ä¸€ä¸ªè¡¨ç¤ºä¸‰ä¸ªå­—æ¯å•è¯çš„ç»“æ„ç±»å‹å’Œæ•°æ®å®šä¹‰ã€‚ä¸€ä¸ªå•è¯ç”±å°å†™å­—æ¯ç»„æˆï¼Œç”¨[1String](#%28tech._1string%29)s "a"åˆ°"z"ä»¥åŠ#falseè¡¨ç¤ºã€‚æ³¨æ„ï¼šæ­¤ç»ƒä¹ æ˜¯è®¾è®¡çŒœå­—æ¸¸æˆçš„ä¸€éƒ¨åˆ†ï¼›å‚è§[ç»ƒä¹ 396](part_four.html#%28counter._%28exercise._ex~3ahangman-list%29%29)ã€‚
- en: Programmers not only write data definitions, they also read them in order to
    understand programs, to expand the kind of data they can deal with, to eliminate
    errors, and so on. We read a data definition to understand how to create data
    that belongs to the designated collection and to determine whether some piece
    of data belongs to some specified class.
  id: totrans-2514
  prefs: []
  type: TYPE_NORMAL
  zh: ç¨‹åºå‘˜ä¸ä»…ç¼–å†™æ•°æ®å®šä¹‰ï¼Œè¿˜é˜…è¯»å®ƒä»¬ä»¥ä¾¿ç†è§£ç¨‹åºï¼Œæ‰©å±•ä»–ä»¬å¯ä»¥å¤„ç†çš„æ•°æ®ç±»å‹ï¼Œæ¶ˆé™¤é”™è¯¯ç­‰ã€‚æˆ‘ä»¬é˜…è¯»æ•°æ®å®šä¹‰æ¥äº†è§£å¦‚ä½•åˆ›å»ºå±äºæŒ‡å®šé›†åˆçš„æ•°æ®ï¼Œå¹¶ç¡®å®šæŸäº›æ•°æ®æ˜¯å¦å±äºæŸä¸ªæŒ‡å®šçš„ç±»åˆ«ã€‚
- en: 'Since data definitions play such a central and important role in the design
    process, it is often best to illustrate data definitions with examples just like
    we illustrate the behavior of functions with examples. And indeed, creating data
    examples from a data definition is straightforward:'
  id: totrans-2515
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæ•°æ®å®šä¹‰åœ¨è®¾è®¡è¿‡ç¨‹ä¸­æ‰®æ¼”ç€å¦‚æ­¤æ ¸å¿ƒå’Œé‡è¦çš„è§’è‰²ï¼Œå› æ­¤é€šå¸¸æœ€å¥½ç”¨ç¤ºä¾‹æ¥å±•ç¤ºæ•°æ®å®šä¹‰ï¼Œå°±åƒæˆ‘ä»¬ç”¨ç¤ºä¾‹æ¥å±•ç¤ºå‡½æ•°çš„è¡Œä¸ºä¸€æ ·ã€‚å®é™…ä¸Šï¼Œä»æ•°æ®å®šä¹‰ä¸­åˆ›å»ºæ•°æ®ç¤ºä¾‹æ˜¯ç›´æ¥çš„ï¼š
- en: for a built-in collection of data (number, string, Boolean, images), choose
    your favorite examples;
  id: totrans-2516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºå†…ç½®æ•°æ®é›†åˆï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€å›¾åƒï¼‰ï¼Œé€‰æ‹©ä½ å–œæ¬¢çš„ç¤ºä¾‹ï¼›
- en: Note On occasion, people use descriptive names to qualify built-in data collections,
    such as NegativeNumber or OneLetterString. They are no replacement for a well-written
    data definition. End
  id: totrans-2517
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šæœ‰æ—¶äººä»¬ä½¿ç”¨æè¿°æ€§åç§°æ¥é™å®šå†…ç½®æ•°æ®é›†åˆï¼Œä¾‹å¦‚ NegativeNumber æˆ– OneLetterStringã€‚å®ƒä»¬ä¸èƒ½æ›¿ä»£ä¸€ä¸ªå†™å¾—å¥½çš„æ•°æ®å®šä¹‰ã€‚ç»“æŸ
- en: for an enumeration, use several of the items of the enumeration;
  id: totrans-2518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºæšä¸¾ï¼Œä½¿ç”¨æšä¸¾ä¸­çš„å‡ ä¸ªé¡¹ï¼›
- en: for intervals, use the end points (if they are included) and at least one interior
    point;
  id: totrans-2519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºåŒºé—´ï¼Œä½¿ç”¨ç«¯ç‚¹ï¼ˆå¦‚æœåŒ…å«çš„è¯ï¼‰å’Œè‡³å°‘ä¸€ä¸ªå†…éƒ¨ç‚¹ï¼›
- en: for itemizations, deal with each part separately; and
  id: totrans-2520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºåˆ—ä¸¾ï¼Œåˆ†åˆ«å¤„ç†æ¯ä¸ªéƒ¨åˆ†ï¼›å¹¶ä¸”
- en: for data definitions for structures, follow the natural language description;
    that is, use the constructor and pick an example from the data collection named
    for each field.
  id: totrans-2521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºç»“æ„çš„å®šä¹‰æ•°æ®ï¼Œéµå¾ªè‡ªç„¶è¯­è¨€æè¿°ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨æ„é€ å‡½æ•°å¹¶ä»æ¯ä¸ªå­—æ®µå‘½åçš„æ•°æ®é›†ä¸­é€‰æ‹©ä¸€ä¸ªç¤ºä¾‹ã€‚
- en: 'Thatâ€™s all there is to constructing examples from data definitions for most
    of this book, though data definitions are going to become much more complex than
    what you have seen so far.ExerciseÂ 79\. Create examples for the following data
    definitions:'
  id: totrans-2522
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæœ¬ä¹¦å¤§å¤šæ•°æ•°æ®å®šä¹‰çš„ç¤ºä¾‹æ„å»ºæ¥è¯´ï¼Œè¿™å°±æ˜¯å…¨éƒ¨å†…å®¹ï¼Œå°½ç®¡æ•°æ®å®šä¹‰å°†æ¯”è¿„ä»Šä¸ºæ­¢çœ‹åˆ°çš„æ›´åŠ å¤æ‚ã€‚ç»ƒä¹  79ï¼šä¸ºä»¥ä¸‹æ•°æ®å®šä¹‰åˆ›å»ºç¤ºä¾‹ï¼š
- en: '| ;Â A Color is one of: |'
  id: totrans-2523
  prefs:
  - PREF_UL
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªé¢œè‰²æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€”<wbr>  "white" |'
  id: totrans-2524
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "ç™½è‰²" |'
- en: '| ;Â â€”<wbr>  "yellow" |'
  id: totrans-2525
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "é»„è‰²" |'
- en: '| ;Â â€”<wbr>  "orange" |'
  id: totrans-2526
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "æ©™è‰²" |'
- en: '| ;Â â€”<wbr>  "green" |'
  id: totrans-2527
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "ç»¿è‰²" |'
- en: '| ;Â â€”<wbr>  "red" |'
  id: totrans-2528
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "çº¢è‰²" |'
- en: '| ;Â â€”<wbr>  "blue" |'
  id: totrans-2529
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "è“è‰²" |'
- en: '| ;Â â€”<wbr>  "black" |'
  id: totrans-2530
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  "é»‘è‰²" |'
- en: Note DrRacket recognizes many more strings as colors. End
  id: totrans-2531
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ³¨æ„ DrRacket è¯†åˆ«äº†è®¸å¤šæ›´å¤šçš„å­—ç¬¦ä¸²ä½œä¸ºé¢œè‰²ã€‚ç»“æŸ
- en: '| ;Â H is a [Number](#%28tech._number%29) between 0 and 100. |'
  id: totrans-2532
  prefs:
  - PREF_UL
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â H æ˜¯ä¸€ä¸ªä»‹äº 0 å’Œ 100 ä¹‹é—´çš„[Number](#%28tech._number%29)ã€‚ |'
- en: '| ;Â interpretation represents a happiness value |'
  id: totrans-2533
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè¡¨ç¤ºä¸€ä¸ªå¹¸ç¦å€¼ |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â personÂ [fstnameÂ lstnameÂ male?])
    |'
  id: totrans-2534
  prefs:
  - PREF_UL
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â personÂ [fstnameÂ lstnameÂ male?])
    |'
- en: '| ;Â A Person is a structure: |'
  id: totrans-2535
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªäººæ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-person  [String](#%28tech._string%29)  [String](#%28tech._string%29)  [Boolean](#%28tech._boolean%29))
    |'
  id: totrans-2536
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-person  [String](#%28tech._string%29)  [String](#%28tech._string%29)  [Boolean](#%28tech._boolean%29))
    |'
- en: Is it a good idea to use a field name that looks like the name of a predicate?
  id: totrans-2537
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä½¿ç”¨çœ‹èµ·æ¥åƒè°“è¯åç§°çš„å­—æ®µåæ˜¯å¦æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Ÿ
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â dogÂ [ownerÂ nameÂ ageÂ happiness])
    |'
  id: totrans-2538
  prefs:
  - PREF_UL
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â dogÂ [ownerÂ nameÂ ageÂ happiness])
    |'
- en: '| ;Â A Dog is a structure: |'
  id: totrans-2539
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªç‹—æ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-dog  [Person](#%28tech._data-uni._person%29)  [String](#%28tech._string%29)  [PositiveInteger](#%28tech._positiveinteger%29)  [H](#%28tech._data-uni._h%29))
    |'
  id: totrans-2540
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-dog  [Person](#%28tech._data-uni._person%29)  [String](#%28tech._string%29)  [PositiveInteger](#%28tech._positiveinteger%29)  [H](#%28tech._data-uni._h%29))
    |'
- en: Add an interpretation to this data definition, too.
  id: totrans-2541
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¹Ÿä¸ºè¿™ä¸ªæ•°æ®å®šä¹‰æ·»åŠ ä¸€ä¸ªè§£é‡Šã€‚
- en: '| ;Â A Weapon is one of: |'
  id: totrans-2542
  prefs:
  - PREF_UL
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªæ­¦å™¨æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€”<wbr>  #false |'
  id: totrans-2543
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  #false |'
- en: '| ;Â â€”<wbr>  [Posn](#%28tech._posn%29) |'
  id: totrans-2544
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€”<wbr>  [Posn](#%28tech._posn%29) |'
- en: '| ;Â interpretation  #false means the missile hasn''t |'
  id: totrans-2545
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š #false è¡¨ç¤ºå¯¼å¼¹å°šæœªå‘å°„ |'
- en: '| ;Â been fired yet; a [Posn](#%28tech._posn%29) means it is in flight |'
  id: totrans-2546
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ˜¯å¦å·²ç»å‘å°„ï¼›ä¸€ä¸ª[Posn](#%28tech._posn%29)è¡¨ç¤ºå®ƒåœ¨é£è¡Œ |'
- en: The last definition is an unusual itemization, combining built-in data with
    a structure type. The next chapter deals with such definitions in depth.
  id: totrans-2547
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åä¸€ä¸ªå®šä¹‰æ˜¯ä¸€ä¸ªä¸å¯»å¸¸çš„é¡¹ç›®åˆ—è¡¨ï¼Œå®ƒå°†å†…ç½®æ•°æ®ä¸ç»“æ„ç±»å‹ç»“åˆåœ¨ä¸€èµ·ã€‚ä¸‹ä¸€ç« å°†æ·±å…¥æ¢è®¨è¿™ç±»å®šä¹‰ã€‚
- en: 5.8Designing with Structures[ğŸ”—](#(part._sec~3adesignstructs) "Link to here")
  id: totrans-2548
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.8 ä½¿ç”¨ç»“æ„ä½“è®¾è®¡[ğŸ”—](#(part._sec~3adesignstructs) "é“¾æ¥åˆ°æ­¤å¤„")
- en: The introduction of structure types reinforces the need for all six steps in
    the design recipe. It no longer suffices to rely on built-in data collections
    to represent information; it is now clear that programmers must create data definitions
    for all but the simplest problems.
  id: totrans-2549
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æ„ç±»å‹çš„å¼•å…¥å¼ºè°ƒäº†è®¾è®¡é£Ÿè°±ä¸­æ‰€æœ‰å…­ä¸ªæ­¥éª¤çš„å¿…è¦æ€§ã€‚ç°åœ¨ä¸å†ä»…ä»…ä¾èµ–äºå†…ç½®æ•°æ®é›†åˆæ¥è¡¨ç¤ºä¿¡æ¯ï¼›ç°åœ¨å¾ˆæ¸…æ¥šï¼Œç¨‹åºå‘˜å¿…é¡»ä¸ºé™¤æœ€ç®€å•çš„é—®é¢˜ä¹‹å¤–çš„æ‰€æœ‰é—®é¢˜åˆ›å»ºæ•°æ®å®šä¹‰ã€‚
- en: 'This section adds a design recipe, illustrating it with the following:'
  id: totrans-2550
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚å¢åŠ äº†ä¸€ä¸ªè®¾è®¡é£Ÿè°±ï¼Œä»¥ä¸‹åˆ—ä¸ºä¾‹å­ï¼š
- en: Sample Problem Design a function that computes the distance of objects in a
    3-dimensional space to the origin.
  id: totrans-2551
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹é—®é¢˜è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¡ç®—ä¸‰ç»´ç©ºé—´ä¸­ç‰©ä½“åˆ°åŸç‚¹çš„è·ç¦»ã€‚
- en: 'Here we go:'
  id: totrans-2552
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¼€å§‹äº†ï¼š
- en: When a problem calls for the representation of pieces of information that belong
    together or describe a natural whole, you need a structure type definition. It
    requires as many fields as there are relevant properties. An instance of this
    structure type corresponds to the whole, and the values in the fields correspond
    to its attributes.
  id: totrans-2553
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å½“ä¸€ä¸ªé—®é¢˜éœ€è¦è¡¨ç¤ºå±äºä¸€èµ·çš„ä¿¡æ¯ç‰‡æ®µæˆ–æè¿°ä¸€ä¸ªè‡ªç„¶æ•´ä½“æ—¶ï¼Œä½ éœ€è¦ä¸€ä¸ªç»“æ„ç±»å‹å®šä¹‰ã€‚å®ƒéœ€è¦ä¸ç›¸å…³å±æ€§ä¸€æ ·å¤šçš„å­—æ®µã€‚è¿™ç§ç»“æ„ç±»å‹çš„å®ä¾‹å¯¹åº”äºæ•´ä½“ï¼Œå­—æ®µä¸­çš„å€¼å¯¹åº”äºå…¶å±æ€§ã€‚
- en: A data definition for a structure type introduces a name for the collection
    of instances that are legitimate. Furthermore, it must describe which kind of
    data goes with which field. Use only names of built-in data collections or previously
    defined data definitions.
  id: totrans-2554
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç»“æ„ç±»å‹çš„æ•°æ®å®šä¹‰å¼•å…¥äº†ä¸€ä¸ªåˆæ³•å®ä¾‹é›†åˆçš„åç§°ã€‚æ­¤å¤–ï¼Œå®ƒå¿…é¡»æè¿°å“ªç§æ•°æ®ä¸å“ªä¸ªå­—æ®µç›¸å…³è”ã€‚åªèƒ½ä½¿ç”¨å†…ç½®æ•°æ®é›†åˆæˆ–å…ˆå‰å®šä¹‰çš„æ•°æ®å®šä¹‰çš„åç§°ã€‚
- en: In the end, we (and others) must be able to use the data definition to create
    sample structure instances. Otherwise, something is wrong with our data definition.
    To ensure that we can create instances, our data definitions should come with
    data examples.
  id: totrans-2555
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæˆ‘ä»¬ï¼ˆä»¥åŠå…¶ä»–äººï¼‰å¿…é¡»èƒ½å¤Ÿä½¿ç”¨æ•°æ®å®šä¹‰æ¥åˆ›å»ºç¤ºä¾‹ç»“æ„å®ä¾‹ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬çš„æ•°æ®å®šä¹‰æœ‰é—®é¢˜ã€‚ä¸ºäº†ç¡®ä¿æˆ‘ä»¬å¯ä»¥åˆ›å»ºå®ä¾‹ï¼Œæˆ‘ä»¬çš„æ•°æ®å®šä¹‰åº”è¯¥é™„å¸¦æ•°æ®ç¤ºä¾‹ã€‚
- en: 'Here is how we apply this idea to the sample problem:'
  id: totrans-2556
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»¬å°†è¿™ä¸ªæƒ³æ³•åº”ç”¨äºç¤ºä¾‹é—®é¢˜çš„æ–¹æ³•ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â r3Â [xÂ yÂ z])
    |'
  id: totrans-2557
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â r3Â [xÂ yÂ z])
    |'
- en: '| ;Â An R3 is a structure: |'
  id: totrans-2558
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An R3 is a structure: |'
- en: '| ;Â Â Â (make-r3  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
    |'
  id: totrans-2559
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-r3  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)  [Number](#%28tech._number%29))
    |'
- en: '| Â  |'
  id: totrans-2560
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ex1Â (make-r3Â 1Â 2Â 13))
    |'
  id: totrans-2561
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ex1Â (make-r3Â 1Â 2Â 13))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ex2Â (make-r3Â -1Â 0Â 3))
    |'
  id: totrans-2562
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ex2Â (make-r3Â -1Â 0Â 3))
    |'
- en: The structure type definition introduces a new kind of structure, r3, and the
    data definition introduces [R3](#%28tech._r3%29) as the name for all instances
    of r3 that contain only numbers.
  id: totrans-2563
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç»“æ„ç±»å‹å®šä¹‰å¼•å…¥äº†ä¸€ç§æ–°çš„ç»“æ„ç±»å‹ï¼Œr3ï¼Œæ•°æ®å®šä¹‰å¼•å…¥[R3](#%28tech._r3%29)ä½œä¸ºæ‰€æœ‰åªåŒ…å«æ•°å­—çš„r3å®ä¾‹çš„åç§°ã€‚
- en: You still need a signature, a purpose statement, and a function header but they
    remain the same. Stop! Do it for the sample problem.
  id: totrans-2564
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½ ä»ç„¶éœ€è¦ä¸€ä¸ªç­¾åã€ä¸€ä¸ªç›®çš„å£°æ˜å’Œä¸€ä¸ªå‡½æ•°å¤´ï¼Œä½†å®ƒä»¬ä¿æŒä¸å˜ã€‚åœï¼ä¸ºç¤ºä¾‹é—®é¢˜åšè¿™ä¸ªã€‚
- en: Use the examples from the first step to create functional examples. For each
    field associated with intervals or enumerations, make sure to pick end points
    and intermediate points to create functional examples. We expect you to continue
    working on the sample problem.
  id: totrans-2565
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ç¬¬ä¸€æ­¥ä¸­çš„ç¤ºä¾‹æ¥åˆ›å»ºåŠŸèƒ½ç¤ºä¾‹ã€‚å¯¹äºä¸åŒºé—´æˆ–æšä¸¾ç›¸å…³è”çš„æ¯ä¸ªå­—æ®µï¼Œç¡®ä¿é€‰æ‹©ç«¯ç‚¹å’Œä¸­é—´ç‚¹æ¥åˆ›å»ºåŠŸèƒ½ç¤ºä¾‹ã€‚æˆ‘ä»¬æœŸæœ›ä½ ç»§ç»­å¤„ç†ç¤ºä¾‹é—®é¢˜ã€‚
- en: A function that consumes structures usuallyâ€”<wbr>though not alwaysâ€”<wbr>extracts
    the values from the various fields in the structure. To remind yourself of this
    possibility, add a selector for each field to the templates for such functions.
  id: totrans-2566
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ¶ˆè€—ç»“æ„çš„å‡½æ•°ä¼šä»ç»“æ„ä¸­çš„å„ä¸ªå­—æ®µä¸­æå–å€¼â€”â€”å°½ç®¡å¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚ä¸ºäº†æé†’è‡ªå·±è¿™ç§å¯èƒ½æ€§ï¼Œè¯·ä¸ºè¿™ç±»å‡½æ•°çš„æ¨¡æ¿æ·»åŠ æ¯ä¸ªå­—æ®µçš„é€‰æ‹©å™¨ã€‚
- en: 'Here is what we have for the sample problem:'
  id: totrans-2567
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯æˆ‘ä»¬ä¸ºç¤ºä¾‹é—®é¢˜æ‰€åšçš„ï¼š
- en: '| ;Â [R3](#%28tech._r3%29) -> [Number](#%28tech._number%29) |'
  id: totrans-2568
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [R3](#%28tech._r3%29) -> [Number](#%28tech._number%29) |'
- en: '| ;Â determines the distance of p to the origin |'
  id: totrans-2569
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â determines the distance of p to the origin |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (r3-distance-to-0Â p)
    |'
  id: totrans-2570
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (r3-distance-to-0Â p)
    |'
- en: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (r3-xÂ p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (r3-yÂ p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (r3-zÂ p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-2571
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (r3-xÂ p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (r3-yÂ p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (r3-zÂ p)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: You may want to write down next to each selector expression what kind of data
    it extracts from the given structure; you can find this information in the data
    definition. Stop! Just do it!
  id: totrans-2572
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ‚¨å¯èƒ½æƒ³åœ¨æ¯ä¸ªé€‰æ‹©å™¨è¡¨è¾¾å¼æ—è¾¹å†™ä¸‹å®ƒä»ç»™å®šç»“æ„ä¸­æå–çš„æ•°æ®ç±»å‹ï¼›æ‚¨å¯ä»¥åœ¨æ•°æ®å®šä¹‰ä¸­æ‰¾åˆ°è¿™äº›ä¿¡æ¯ã€‚åœæ­¢ï¼å°±åšè¿™ä»¶äº‹ï¼
- en: Use the selector expressions from the template when you define the function.
    Keep in mind that you may not need some of them.
  id: totrans-2573
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨å®šä¹‰å‡½æ•°æ—¶ä½¿ç”¨æ¨¡æ¿ä¸­çš„é€‰æ‹©å™¨è¡¨è¾¾å¼ã€‚è¯·è®°ä½ï¼Œæ‚¨å¯èƒ½ä¸éœ€è¦å…¶ä¸­çš„ä¸€äº›ã€‚
- en: Test. Test as soon as the function header is written. Test until all expressions
    have been covered. Test again when you make changes.
  id: totrans-2574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æµ‹è¯•ã€‚ä¸€æ—¦ç¼–å†™äº†å‡½æ•°å¤´ï¼Œå°±ç«‹å³è¿›è¡Œæµ‹è¯•ã€‚æµ‹è¯•ç›´åˆ°æ‰€æœ‰è¡¨è¾¾å¼éƒ½è¢«è¦†ç›–ã€‚åœ¨æ‚¨è¿›è¡Œæ›´æ”¹åå†æ¬¡æµ‹è¯•ã€‚
- en: 'Finish the sample problem. If you cannot remember the distance of a 3-dimensional
    point to the origin, look it up in a geometry book.There you will find a formula
    such as ![image](../Images/a4bbf83748b5c5054955928ca10d4882.png).ExerciseÂ 80\.
    Create templates for functions that consume instances of the following structure
    types:'
  id: totrans-2575
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæˆç¤ºä¾‹é—®é¢˜ã€‚å¦‚æœæ‚¨è®°ä¸èµ·ä¸‰ç»´ç‚¹åˆ°åŸç‚¹çš„è·ç¦»ï¼Œå¯ä»¥åœ¨å‡ ä½•ä¹¦ä¸­æŸ¥æ‰¾ã€‚åœ¨é‚£é‡Œæ‚¨å°†æ‰¾åˆ°ä¸€ä¸ªç±»ä¼¼äº![image](../Images/a4bbf83748b5c5054955928ca10d4882.png)çš„å…¬å¼ã€‚ç»ƒä¹ 80ã€‚ä¸ºä»¥ä¸‹ç»“æ„ç±»å‹çš„å®ä¾‹åˆ›å»ºå‡½æ•°æ¨¡æ¿ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  movie  [title  director  year])
  id: totrans-2576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  movie  [title  director  year])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  pet  [name  number])
  id: totrans-2577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  pet  [name  number])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  CD  [artist  title  price])
  id: totrans-2578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  CD  [artist  title  price])
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  sweater  [material  size  [color](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._color%29%29)])
  id: totrans-2579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)  sweater  [material  size  [color](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._color%29%29)])
- en: No, you do not need data definitions for this task.
  id: totrans-2580
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ï¼Œæ‚¨ä¸éœ€è¦ä¸ºè¿™ä¸ªä»»åŠ¡å®šä¹‰æ•°æ®ã€‚
- en: ExerciseÂ 81\. Design the function time->seconds, which consumes instances of
    time structures (see [exerciseÂ 77](#%28counter._data-uni._%28exercise._ex~3atime-structure%29%29))
    and produces the number of seconds that have passed since midnight. For example,
    if you are representing 12 hours, 30 minutes, and 2 seconds with one of these
    structures and if you then apply time->seconds to this instance, the correct result
    is 45002.
  id: totrans-2581
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 81ã€‚è®¾è®¡å‡½æ•°time->secondsï¼Œè¯¥å‡½æ•°æ¶ˆè€—æ—¶é—´ç»“æ„å®ä¾‹ï¼ˆå‚è§[ç»ƒä¹ 77](#%28counter._data-uni._%28exercise._ex~3atime-structure%29%29)ï¼‰å¹¶äº§ç”Ÿè‡ªåˆå¤œä»¥æ¥ç»è¿‡çš„ç§’æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ç”¨è¿™äº›ç»“æ„ä¹‹ä¸€è¡¨ç¤º12å°æ—¶30åˆ†é’Ÿå’Œ2ç§’ï¼Œç„¶ååº”ç”¨time->secondsåˆ°è¿™ä¸ªå®ä¾‹ï¼Œæ­£ç¡®çš„ç»“æœæ˜¯45002ã€‚
- en: 'ExerciseÂ 82\. Design the function compare-word. The function consumes two three-letter
    words (see [exerciseÂ 78](#%28counter._data-uni._%28exercise._struct9%29%29)).
    It produces a word that indicates where the given ones agree and disagree. The
    function retains the content of the structure fields if the two agree; otherwise
    it places #false in the field of the resulting word. Hint The exercises mentions
    two tasks: the comparison of words and the comparison of â€œletters.â€'
  id: totrans-2582
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 82ã€‚è®¾è®¡å‡½æ•°compare-wordã€‚è¯¥å‡½æ•°æ¶ˆè€—ä¸¤ä¸ªä¸‰å­—æ¯å•è¯ï¼ˆå‚è§[ç»ƒä¹ 78](#%28counter._data-uni._%28exercise._struct9%29%29)ï¼‰ã€‚å®ƒäº§ç”Ÿä¸€ä¸ªå•è¯ï¼ŒæŒ‡ç¤ºç»™å®šçš„å•è¯åœ¨å“ªé‡Œä¸€è‡´å’Œä¸åŒã€‚å¦‚æœä¸¤ä¸ªå•è¯ä¸€è‡´ï¼Œè¯¥å‡½æ•°ä¿ç•™ç»“æ„å­—æ®µçš„å†…å®¹ï¼›å¦åˆ™ï¼Œå®ƒåœ¨ç»“æœå•è¯çš„å­—æ®µä¸­æ”¾ç½®#falseã€‚æç¤ºï¼šç»ƒä¹ ä¸­æåˆ°äº†ä¸¤ä¸ªä»»åŠ¡ï¼šå•è¯çš„æ¯”è¾ƒå’Œâ€œå­—æ¯â€çš„æ¯”è¾ƒã€‚
- en: 5.9Structure in the World[ğŸ”—](#(part._sec~3aworld-structs) "Link to here")
  id: totrans-2583
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.9ä¸–ç•Œä¸­çš„ç»“æ„[ğŸ”—](#(part._sec~3aworld-structs) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: When a world program must track two independent pieces of information, we must
    use a collection of structures to represent the world state data. One field keeps
    track of one piece of information and the other field the second piece of information.
    Naturally, if the domain world contains more than two independent pieces of information,
    the structure type definition must specify as many fields as there are distinct
    pieces of information.
  id: totrans-2584
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä¸€ä¸ªä¸–ç•Œç¨‹åºå¿…é¡»è·Ÿè¸ªä¸¤å—ç‹¬ç«‹çš„ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ç»„ç»“æ„æ¥è¡¨ç¤ºä¸–ç•ŒçŠ¶æ€æ•°æ®ã€‚ä¸€ä¸ªå­—æ®µè·Ÿè¸ªä¸€å—ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªå­—æ®µè·Ÿè¸ªç¬¬äºŒå—ä¿¡æ¯ã€‚è‡ªç„¶åœ°ï¼Œå¦‚æœé¢†åŸŸä¸–ç•ŒåŒ…å«è¶…è¿‡ä¸¤å—ç‹¬ç«‹çš„ä¿¡æ¯ï¼Œç»“æ„ç±»å‹å®šä¹‰å¿…é¡»æŒ‡å®šä¸ä¿¡æ¯å—æ•°é‡ç›¸ç­‰çš„å­—æ®µã€‚
- en: 'Consider a space invader game that consists of a UFO and a tank. The UFO descends
    along a straight vertical line and a tank moves horizontally at the bottom of
    a scene. If both objects move at known constant speeds, all thatâ€™s needed to describe
    these two objects is one piece of information per object: the y-coordinate for
    the UFO and the x-coordinate for the tank. Putting those together requires a structure
    with two fields:'
  id: totrans-2585
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘ä¸€ä¸ªç”±UFOå’Œå¦å…‹ç»„æˆçš„å¤ªç©ºä¾µç•¥è€…æ¸¸æˆã€‚UFOæ²¿ç€ä¸€æ¡ç›´çº¿å‚ç›´ä¸‹é™ï¼Œå¦å…‹åœ¨åœºæ™¯åº•éƒ¨æ°´å¹³ç§»åŠ¨ã€‚å¦‚æœè¿™ä¸¤ä¸ªå¯¹è±¡ä»¥å·²çŸ¥çš„æ’å®šé€Ÿåº¦ç§»åŠ¨ï¼Œæè¿°è¿™ä¸¤ä¸ªå¯¹è±¡æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯å°±æ˜¯æ¯ä¸ªå¯¹è±¡ä¸€å—ï¼šUFOçš„yåæ ‡å’Œå¦å…‹çš„xåæ ‡ã€‚å°†è¿™äº›ä¿¡æ¯ç»„åˆåœ¨ä¸€èµ·éœ€è¦ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­—æ®µçš„æœºæ„ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â space-gameÂ [ufoÂ tank])
  id: totrans-2586
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)
    space-game [ufo tank])
- en: We leave it to you to formulate an adequate data definition for this structure
    type definition, including an interpretation. Ponder the hyphen in the name of
    the structure. BSL really allows the use of all kinds of characters in the names
    of variables, functions, structures, and field names. What are the selector names
    for this structure? The name of the predicate?
  id: totrans-2587
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†åˆ¶å®šé€‚å½“çš„æ•°æ®å®šä¹‰çš„ä»»åŠ¡ç•™ç»™ä½ ä»¬ï¼ŒåŒ…æ‹¬è§£é‡Šã€‚æ€è€ƒç»“æ„åç§°ä¸­çš„è¿å­—ç¬¦ã€‚BSLç¡®å®å…è®¸åœ¨å˜é‡ã€å‡½æ•°ã€ç»“æ„å’Œå­—æ®µåç§°ä¸­ä½¿ç”¨æ‰€æœ‰ç±»å‹çš„å­—ç¬¦ã€‚è¿™ä¸ªç»“æ„çš„é€‰æ‹©å™¨åç§°æ˜¯ä»€ä¹ˆï¼Ÿè°“è¯çš„åç§°ï¼Ÿ
- en: Every time we say â€œpiece of information,â€ we donâ€™t necessarily mean a single
    number or a single word. A piece of information may itself combine several pieces
    of information. Creating a data representation for that kind of information naturally
    leads to nested structures.
  id: totrans-2588
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯å½“æˆ‘ä»¬è¯´â€œä¿¡æ¯å—â€æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸ä¸€å®šæ„å‘³ç€ä¸€ä¸ªå•ä¸€çš„æ•°å­—æˆ–ä¸€ä¸ªå•è¯ã€‚ä¸€ä¸ªä¿¡æ¯å—æœ¬èº«å¯èƒ½ç»“åˆäº†å¤šä¸ªä¿¡æ¯å—ã€‚ä¸ºè¿™ç±»ä¿¡æ¯åˆ›å»ºæ•°æ®è¡¨ç¤ºè‡ªç„¶å¯¼è‡´åµŒå¥—ç»“æ„ã€‚
- en: 'Letâ€™s add a modicum of spice to our imaginary space invader game. A UFO that
    descends only along a vertical line is boring. To turn this idea into an interesting
    game where the tank attacks the UFO with some weapon, the UFO must be able to
    descend in nontrivial lines, perhaps jumping randomly. An implementation of this
    idea means that we need two coordinates to describe the location of the UFO, so
    that our revised data definition for the space game becomes:'
  id: totrans-2589
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„æƒ³è±¡ç©ºé—´å…¥ä¾µè€…æ¸¸æˆä¸­åŠ å…¥ä¸€äº›è¶£å‘³ã€‚ä¸€ä¸ªä»…æ²¿å‚ç›´çº¿ä¸‹é™çš„UFOæ˜¯æ— èŠçš„ã€‚ä¸ºäº†å°†è¿™ä¸ªæƒ³æ³•å˜æˆä¸€ä¸ªæœ‰è¶£çš„å¦å…‹ç”¨æ­¦å™¨æ”»å‡»UFOçš„æ¸¸æˆï¼ŒUFOå¿…é¡»èƒ½å¤Ÿä»¥éå¹³å‡¡çš„æ–¹å¼ä¸‹é™ï¼Œå¯èƒ½éšæœºè·³è·ƒã€‚è¿™ä¸ªæƒ³æ³•çš„å®ç°æ„å‘³ç€æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªåæ ‡æ¥æè¿°UFOçš„ä½ç½®ï¼Œå› æ­¤æˆ‘ä»¬ä¿®æ”¹åçš„ç©ºé—´æ¸¸æˆæ•°æ®å®šä¹‰å˜ä¸ºï¼š
- en: '| ;Â A SpaceGame is a structure: |'
  id: totrans-2590
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªSpaceGameæ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-space-game  [Posn](#%28tech._posn%29)  [Number](#%28tech._number%29)).
    |'
  id: totrans-2591
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-space-game  [Posn](#%28tech._posn%29)  [Number](#%28tech._number%29)).
    |'
- en: '| ;Â interpretation  (make-space-game  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  ux  uy)  tx)
    |'
  id: totrans-2592
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š  (make-space-game  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  ux  uy)  tx)
    |'
- en: '| ;Â describes a configuration where the UFO is |'
  id: totrans-2593
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æè¿°äº†ä¸€ä¸ªUFOçš„ä½ç½®é…ç½® |'
- en: '| ;Â at (ux,uy) and the tank''s x-coordinate is tx |'
  id: totrans-2594
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨(ux,uy)å¤„ï¼Œå¦å…‹çš„xåæ ‡æ˜¯tx |'
- en: Understanding what kind of data representations are needed for world programs
    takes practice. The following two sections introduce several reasonably complex
    problem statements. Solve them before moving on to the kind of games that you
    might like to design on your own.
  id: totrans-2595
  prefs: []
  type: TYPE_NORMAL
  zh: ç†è§£ä¸ºä¸–ç•Œç¨‹åºæ‰€éœ€çš„æ•°æ®è¡¨ç¤ºç±»å‹éœ€è¦å®è·µã€‚ä»¥ä¸‹ä¸¤èŠ‚ä»‹ç»äº†å‡ ä¸ªç›¸å¯¹å¤æ‚çš„é—®é¢˜é™ˆè¿°ã€‚åœ¨ç»§ç»­è®¾è®¡ä½ å¯èƒ½æƒ³è¦è‡ªå·±è®¾è®¡çš„æ¸¸æˆç±»å‹ä¹‹å‰ï¼Œå…ˆè§£å†³è¿™äº›é—®é¢˜ã€‚
- en: 5.10A Graphical Editor[ğŸ”—](#(part._sec~3aedit1) "Link to here")
  id: totrans-2596
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.10A å›¾å½¢ç¼–è¾‘å™¨[ğŸ”—](#(part._sec~3aedit1) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: To program in BSL, you open DrRacket, type on the keyboard, and watch text appear.
    Pressing the left arrow on the keyboard moves the cursor to the left; pressing
    the backspace (or delete) key erases a single letter to the left of the cursorâ€”<wbr>if
    there is a letter to start with.
  id: totrans-2597
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ç”¨BSLç¼–ç¨‹ï¼Œä½ æ‰“å¼€DrRacketï¼Œåœ¨é”®ç›˜ä¸Šè¾“å…¥ï¼Œå¹¶è§‚å¯Ÿæ–‡æœ¬çš„å‡ºç°ã€‚æŒ‰é”®ç›˜ä¸Šçš„å·¦ç®­å¤´é”®å°†å…‰æ ‡ç§»åŠ¨åˆ°å·¦è¾¹ï¼›æŒ‰é€€æ ¼é”®ï¼ˆæˆ–åˆ é™¤é”®ï¼‰å°†åˆ é™¤å…‰æ ‡å·¦ä¾§çš„ä¸€ä¸ªå­—æ¯â€”â€”å¦‚æœå…‰æ ‡å·¦ä¾§æœ‰å­—æ¯çš„è¯ã€‚
- en: This process is called â€œediting,â€ though its precise name should be â€œtext editing
    of programsâ€ because we will use â€œeditingâ€ for a more demanding task than typing
    on a keyboard. When you write and revise other kinds of documents, say, an English
    assignment, you are likely to use other software applications, called word processors,
    though computer scientists dub all of them editors or even graphical editors.
  id: totrans-2598
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºâ€œç¼–è¾‘â€ï¼Œå°½ç®¡å…¶ç¡®åˆ‡åç§°åº”è¯¥æ˜¯â€œç¨‹åºæ–‡æœ¬ç¼–è¾‘â€ï¼Œå› ä¸ºæˆ‘ä»¬å°†ä¼šç”¨â€œç¼–è¾‘â€è¿™ä¸ªè¯æ¥æè¿°æ¯”é”®ç›˜è¾“å…¥æ›´å¤æ‚çš„å·¥ä½œã€‚å½“ä½ æ’°å†™å’Œä¿®æ”¹å…¶ä»–ç±»å‹çš„æ–‡æ¡£æ—¶ï¼Œæ¯”å¦‚ä¸€ç¯‡è‹±è¯­ä½œä¸šï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨å…¶ä»–è½¯ä»¶åº”ç”¨ï¼Œè¿™äº›åº”ç”¨è¢«ç§°ä¸ºæ–‡å­—å¤„ç†å™¨ï¼Œå°½ç®¡è®¡ç®—æœºç§‘å­¦å®¶å°†å®ƒä»¬éƒ½ç§°ä¸ºç¼–è¾‘å™¨ï¼Œç”šè‡³æ˜¯å›¾å½¢ç¼–è¾‘å™¨ã€‚
- en: You are now in a position to design a world program that acts as a one-line
    editor for plain text. Editing here includes entering letters and somehow changing
    the already existing text, including the deletion and the insertion of letters.
    This implies some notion of position within the text. People call this position
    a cursor; most graphical editors display it in such a way that it can easily be
    spotted.
  id: totrans-2599
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œä½ å·²ç»èƒ½å¤Ÿè®¾è®¡ä¸€ä¸ªä¸–ç•Œç¨‹åºï¼Œå®ƒä½œä¸ºä¸€ä¸ªå•è¡Œæ–‡æœ¬ç¼–è¾‘å™¨ã€‚è¿™é‡Œçš„ç¼–è¾‘åŒ…æ‹¬è¾“å…¥å­—æ¯ä»¥åŠä»¥æŸç§æ–¹å¼æ›´æ”¹å·²ç»å­˜åœ¨çš„æ–‡æœ¬ï¼ŒåŒ…æ‹¬åˆ é™¤å’Œæ’å…¥å­—æ¯ã€‚è¿™æš—ç¤ºäº†æ–‡æœ¬ä¸­çš„æŸç§ä½ç½®æ¦‚å¿µã€‚äººä»¬ç§°è¿™ä¸ªä½ç½®ä¸ºå…‰æ ‡ï¼›å¤§å¤šæ•°å›¾å½¢ç¼–è¾‘å™¨ä»¥è¿™ç§æ–¹å¼æ˜¾ç¤ºå®ƒï¼Œä½¿å…¶å®¹æ˜“è¢«å‘ç°ã€‚
- en: 'Take a look at the following editor configuration:'
  id: totrans-2600
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹ä¸€ä¸‹ä»¥ä¸‹ç¼–è¾‘å™¨é…ç½®ï¼š
- en: '![image](../Images/d2c329266f3cf44a6c1a27976d4243e4.png)'
  id: totrans-2601
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d2c329266f3cf44a6c1a27976d4243e4.png)'
- en: 'Someone might have entered the text â€œhelloworldâ€ and hit the left arrow key
    five times, causing the cursor to move from the end of the text to the position
    between â€œoâ€ and â€œw.â€ Pressing the space bar would now cause the editor to change
    its display as follows:'
  id: totrans-2602
  prefs: []
  type: TYPE_NORMAL
  zh: æŸäººå¯èƒ½è¾“å…¥äº†æ–‡æœ¬â€œhelloworldâ€å¹¶æŒ‰äº†äº”æ¬¡å·¦ç®­å¤´é”®ï¼Œå¯¼è‡´å…‰æ ‡ä»æ–‡æœ¬çš„æœ«å°¾ç§»åŠ¨åˆ°â€œoâ€å’Œâ€œwâ€ä¹‹é—´çš„ä½ç½®ã€‚ç°åœ¨æŒ‰ä¸‹ç©ºæ ¼é”®ä¼šå¯¼è‡´ç¼–è¾‘å™¨æŒ‰ä»¥ä¸‹æ–¹å¼æ›´æ”¹å…¶æ˜¾ç¤ºï¼š
- en: '![image](../Images/b699ea59935f753b8f04482e7838fcee.png)'
  id: totrans-2603
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/b699ea59935f753b8f04482e7838fcee.png)'
- en: 'In short, the action inserts â€œ â€ and places the cursor between it and â€œw.â€Given
    this much, an editor must track two pieces of information:'
  id: totrans-2604
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œè¿™ä¸ªåŠ¨ä½œæ’å…¥â€œ â€å¹¶å°†å…‰æ ‡æ”¾ç½®åœ¨å®ƒå’Œâ€œwâ€ä¹‹é—´ã€‚é‰´äºè¿™äº›ï¼Œç¼–è¾‘å™¨å¿…é¡»è·Ÿè¸ªä¸¤å—ä¿¡æ¯ï¼š
- en: the text entered so far, and
  id: totrans-2605
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢è¾“å…¥çš„æ–‡æœ¬ï¼Œä»¥åŠ
- en: the current location of the cursor.
  id: totrans-2606
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å…‰æ ‡å½“å‰çš„ä½ç½®ã€‚
- en: 'And this suggests a structure type with two fields.We can imagine several different
    ways of going from the information to data and back. For example, one field in
    the structure may contain the entire text entered, and the other the number of
    characters between the first character (counting from the left) and the cursor.
    Another data representation is to use two strings in the two fields: the part
    of the text to the left of the cursor and the part of the text to its right. Here
    is our preferred approach to representing the state of an editor:'
  id: totrans-2607
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™è¡¨æ˜ç»“æ„ç±»å‹æœ‰ä¸¤ä¸ªå­—æ®µã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡ä»ä¿¡æ¯åˆ°æ•°æ®ä»¥åŠä»æ•°æ®åˆ°ä¿¡æ¯çš„ä¸åŒæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œç»“æ„ä¸­çš„ä¸€ä¸ªå­—æ®µå¯èƒ½åŒ…å«æ•´ä¸ªè¾“å…¥çš„æ–‡æœ¬ï¼Œè€Œå¦ä¸€ä¸ªå­—æ®µåŒ…å«ä»ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆä»å·¦æ•°ï¼‰åˆ°å…‰æ ‡ä¹‹é—´çš„å­—ç¬¦æ•°ã€‚å¦ä¸€ç§æ•°æ®è¡¨ç¤ºæ–¹æ³•æ˜¯åœ¨ä¸¤ä¸ªå­—æ®µä¸­ä½¿ç”¨ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼šå…‰æ ‡å·¦ä¾§çš„æ–‡æœ¬éƒ¨åˆ†å’Œå…‰æ ‡å³ä¾§çš„æ–‡æœ¬éƒ¨åˆ†ã€‚ä»¥ä¸‹æ˜¯è¡¨ç¤ºç¼–è¾‘å™¨çŠ¶æ€çš„æˆ‘ä»¬é¦–é€‰çš„æ–¹æ³•ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â editorÂ [preÂ post])
    |'
  id: totrans-2608
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â editorÂ [preÂ post])
    |'
- en: '| ;Â An Editor is a structure: |'
  id: totrans-2609
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An Editor is a structure: |'
- en: '| ;Â Â Â (make-editor  [String](#%28tech._string%29)  [String](#%28tech._string%29))
    |'
  id: totrans-2610
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-editor  [String](#%28tech._string%29)  [String](#%28tech._string%29))
    |'
- en: '| ;Â interpretation  (make-editor  s  t) describes an editor |'
  id: totrans-2611
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation  (make-editor  s  t) describes an editor |'
- en: '| ;Â whose visible text is ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  s  t)
    with |'
  id: totrans-2612
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â whose visible text is ([string-append](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29)  s  t)
    with |'
- en: '| ;Â the cursor displayed between s and t |'
  id: totrans-2613
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â the cursor displayed between s and t |'
- en: Solve the next few exercises based on this data representation.
  id: totrans-2614
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®è¿™ç§æ•°æ®è¡¨ç¤ºï¼Œè§£å†³æ¥ä¸‹æ¥çš„å‡ ä¸ªç»ƒä¹ ã€‚
- en: ExerciseÂ 83\. Design the function render, which consumes an [Editor](#%28tech._editor%29)
    and produces an image.
  id: totrans-2615
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  83\. è®¾è®¡ä¸€ä¸ªåä¸º render çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ª [Editor](#%28tech._editor%29) ä½œä¸ºå‚æ•°å¹¶ç”Ÿæˆä¸€ä¸ªå›¾åƒã€‚
- en: The purpose of the function is to render the text within an empty scene of ![image](../Images/50b76603f0069d912d51c4c9c1a5c2ea.png)
    pixels. For the cursor, use a ![image](../Images/253607f0ed25d1ca29475ed400c834a8.png)
    red rectangle and for the strings, black text of size 16.
  id: totrans-2616
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°çš„ç›®çš„æ˜¯åœ¨ ![image](../Images/50b76603f0069d912d51c4c9c1a5c2ea.png) åƒç´ çš„ç©ºåœºæ™¯ä¸­æ¸²æŸ“æ–‡æœ¬ã€‚å¯¹äºå…‰æ ‡ï¼Œä½¿ç”¨
    ![image](../Images/253607f0ed25d1ca29475ed400c834a8.png) çº¢è‰²çŸ©å½¢ï¼Œå¯¹äºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨å¤§å°ä¸º 16 çš„é»‘è‰²æ–‡æœ¬ã€‚
- en: 'Develop the image for a sample string in DrRacketâ€™s interactions area. We started
    with this expression:'
  id: totrans-2617
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ DrRacket çš„äº¤äº’åŒºåŸŸä¸ºç¤ºä¾‹å­—ç¬¦ä¸²å¼€å‘å›¾åƒã€‚æˆ‘ä»¬å¼€å§‹äºä»¥ä¸‹è¡¨è¾¾å¼ï¼š
- en: '| ([overlay/align](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%2Falign%29%29)Â "left"Â "center"
    |'
  id: totrans-2618
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([overlay/align](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%2Falign%29%29)Â "left"Â "center"
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "hello
    world"Â 11Â "black") |'
  id: totrans-2619
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([text](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29)Â "hello
    world"Â 11Â "black") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 200Â 20))
    |'
  id: totrans-2620
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 200Â 20))
    |'
- en: You may wish to read up on [beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29),
    [above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29),
    and such functions. When you are happy with the looks of the image, use the expression
    as a test and as a guide to the design of render.
  id: totrans-2621
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½éœ€è¦é˜…è¯»æœ‰å…³ [beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)ã€[above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)
    ä»¥åŠç±»ä¼¼å‡½æ•°çš„æ–‡æ¡£ã€‚å½“ä½ å¯¹å›¾åƒçš„å¤–è§‚æ»¡æ„æ—¶ï¼Œå¯ä»¥å°†è¯¥è¡¨è¾¾å¼ç”¨ä½œæµ‹è¯•ï¼Œå¹¶ä½œä¸ºè®¾è®¡ render çš„æŒ‡å—ã€‚
- en: ExerciseÂ 84\. Design edit. The function consumes two inputs, an editor ed and
    a [KeyEvent](#%28tech._keyevent%29) ke, and it produces another editor. Its task
    is to add a single-character [KeyEvent](#%28tech._keyevent%29) ke to the end of
    the pre field of ed, unless ke denotes the backspace ("\b") key. In that case,
    it deletes the character immediately to the left of the cursor (if there are any).
    The function ignores the tab key ("\t") and the return key ("\r").
  id: totrans-2622
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 84ã€‚è®¾è®¡ç¼–è¾‘ã€‚è¯¥å‡½æ•°æ¶ˆè€—ä¸¤ä¸ªè¾“å…¥ï¼Œä¸€ä¸ªç¼–è¾‘å™¨edå’Œä¸€ä¸ª[KeyEvent](#%28tech._keyevent%29) keï¼Œå¹¶äº§ç”Ÿå¦ä¸€ä¸ªç¼–è¾‘å™¨ã€‚å…¶ä»»åŠ¡æ˜¯å‘edçš„å‰å­—æ®µæœ«å°¾æ·»åŠ å•ä¸ªå­—ç¬¦[KeyEvent](#%28tech._keyevent%29)
    keï¼Œé™¤ékeè¡¨ç¤ºé€€æ ¼é”®("\b")ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå°†åˆ é™¤å…‰æ ‡å·¦ä¾§çš„å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚è¯¥å‡½æ•°å¿½ç•¥åˆ¶è¡¨é”®("\t")å’Œå›è½¦é”®("\r")ã€‚
- en: 'The function pays attention to only two [KeyEvent](#%28tech._keyevent%29)s
    longer than one letter: "left" and "right". The left arrow moves the cursor one
    character to the left (if any), and the right arrow moves it one character to
    the right (if any). All other such [KeyEvent](#%28tech._keyevent%29)s are ignored.'
  id: totrans-2623
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°ä»…å…³æ³¨ä¸¤ä¸ªé•¿åº¦è¶…è¿‡ä¸€ä¸ªå­—æ¯çš„[KeyEvent](#%28tech._keyevent%29)ï¼š"left"å’Œ"right"ã€‚å·¦ç®­å¤´å°†å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå³ç®­å¤´å°†å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚æ‰€æœ‰å…¶ä»–æ­¤ç±»[KeyEvent](#%28tech._keyevent%29)éƒ½è¢«å¿½ç•¥ã€‚
- en: Develop a goodly number of examples for edit, paying attention to special cases.
    When we solved this exercise, we created 20 examples and turned all of them into
    tests.
  id: totrans-2624
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºç¼–è¾‘ç¼–å†™å¤§é‡ç¤ºä¾‹ï¼Œæ³¨æ„ç‰¹æ®Šæƒ…å†µã€‚å½“æˆ‘ä»¬è§£å†³è¿™ä¸ªç»ƒä¹ æ—¶ï¼Œæˆ‘ä»¬åˆ›å»ºäº†20ä¸ªç¤ºä¾‹å¹¶å°†å®ƒä»¬å…¨éƒ¨è½¬æ¢ä¸ºæµ‹è¯•ã€‚
- en: Hint Think of this function as consuming [KeyEvent](#%28tech._keyevent%29)s,
    a collection that is specified as an enumeration. It uses auxiliary functions
    to deal with the [Editor](#%28tech._editor%29) structure. Keep a wish list handy;
    you will need to design additional functions for most of these auxiliary functions,
    such as string-first, string-rest, string-last, and string-remove-last. If you
    havenâ€™t done so, solve the exercises in [Functions](#%28part._sec~3afuncs%29).
  id: totrans-2625
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤º å°†æ­¤å‡½æ•°è§†ä¸ºæ¶ˆè€—[KeyEvent](#%28tech._keyevent%29)sï¼Œè¿™æ˜¯ä¸€ä¸ªæŒ‡å®šä¸ºæšä¸¾çš„é›†åˆã€‚å®ƒä½¿ç”¨è¾…åŠ©å‡½æ•°æ¥å¤„ç†[Editor](#%28tech._editor%29)ç»“æ„ã€‚éšæ—¶å‡†å¤‡ä¸€ä¸ªæ„¿æœ›æ¸…å•ï¼›ä½ å°†éœ€è¦ä¸ºè¿™äº›è¾…åŠ©å‡½æ•°ä¸­çš„å¤§å¤šæ•°è®¾è®¡é¢å¤–çš„å‡½æ•°ï¼Œä¾‹å¦‚string-firstã€string-restã€string-lastå’Œstring-remove-lastã€‚å¦‚æœä½ è¿˜æ²¡æœ‰è¿™æ ·åšï¼Œè¯·è§£å†³[å‡½æ•°](#%28part._sec~3afuncs%29)ä¸­çš„ç»ƒä¹ ã€‚
- en: ExerciseÂ 85\. Define the function run. Given the pre field of an editor, it
    launches an interactive editor, using render and edit from the preceding two exercises
    for the [to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)
    and [on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)
    clauses, respectively.
  id: totrans-2626
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 85ã€‚å®šä¹‰å‡½æ•°runã€‚ç»™å®šç¼–è¾‘å™¨çš„å‰å­—æ®µï¼Œå®ƒå¯åŠ¨ä¸€ä¸ªäº¤äº’å¼ç¼–è¾‘å™¨ï¼Œåˆ†åˆ«ä½¿ç”¨å‰ä¸¤ä¸ªç»ƒä¹ ä¸­çš„renderå’Œeditæ¥å¤„ç†[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)å’Œ[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)å­å¥ã€‚
- en: ExerciseÂ 86\. Notice that if you type a lot, your editor program does not display
    all of the text. Instead the text is cut off at the right margin. Modify your
    function edit from [exerciseÂ 84](#%28counter._%28exercise._struct-edit1%29%29)
    so that it ignores a keystroke if adding it to the end of the pre field would
    mean the rendered text is too wide for your canvas.
  id: totrans-2627
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 86ã€‚æ³¨æ„ï¼Œå¦‚æœä½ è¾“å…¥å¾ˆå¤šï¼Œä½ çš„ç¼–è¾‘ç¨‹åºä¸ä¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡æœ¬ã€‚ç›¸åï¼Œæ–‡æœ¬ä¼šåœ¨å³è¾¹ç¼˜è¢«æˆªæ–­ã€‚ä¿®æ”¹ä½ çš„[ç»ƒä¹ 84](#%28counter._%28exercise._struct-edit1%29%29)ä¸­çš„editå‡½æ•°ï¼Œä»¥ä¾¿åœ¨å°†æŒ‰é”®æ·»åŠ åˆ°å‰å­—æ®µæœ«å°¾ä¼šå¯¼è‡´æ¸²æŸ“æ–‡æœ¬è¶…å‡ºä½ çš„ç”»å¸ƒå®½åº¦æ—¶å¿½ç•¥æŒ‰é”®ã€‚
- en: ExerciseÂ 87\. Develop a data representation for an editor based on our first
    idea, using a string and an index. Then solve the preceding exercises again. Retrace
    the design recipe. Hint if you havenâ€™t done so, solve the exercises in [Functions](#%28part._sec~3afuncs%29).
  id: totrans-2628
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 87ã€‚æ ¹æ®æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæƒ³æ³•ï¼Œä½¿ç”¨å­—ç¬¦ä¸²å’Œç´¢å¼•ä¸ºç¼–è¾‘å™¨å¼€å‘ä¸€ä¸ªæ•°æ®è¡¨ç¤ºï¼Œç„¶åå†æ¬¡è§£å†³å‰é¢çš„ç»ƒä¹ ã€‚é‡æ–°å®¡è§†è®¾è®¡é…æ–¹ã€‚æç¤ºå¦‚æœä½ è¿˜æ²¡æœ‰è¿™æ ·åšï¼Œè¯·è§£å†³[å‡½æ•°](#%28part._sec~3afuncs%29)ä¸­çš„ç»ƒä¹ ã€‚
- en: Note on Design Choices The exercise is a first study of making design choices.
    It shows that the very first design choice concerns the data representation. Making
    the right choice requires planning ahead and weighing the complexity of each.
    Of course, getting good at this is a question of gaining experience.
  id: totrans-2629
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºè®¾è®¡é€‰æ‹©çš„è¯´æ˜ è¿™ä¸ªç»ƒä¹ æ˜¯å¯¹è®¾è®¡é€‰æ‹©çš„ç¬¬ä¸€é¡¹ç ”ç©¶ã€‚å®ƒè¡¨æ˜ï¼Œç¬¬ä¸€ä¸ªè®¾è®¡é€‰æ‹©ä¸æ•°æ®è¡¨ç¤ºæœ‰å…³ã€‚åšå‡ºæ­£ç¡®çš„é€‰æ‹©éœ€è¦æå‰è§„åˆ’å’Œæƒè¡¡æ¯ä¸ªçš„å¤æ‚æ€§ã€‚å½“ç„¶ï¼Œç²¾é€šè¿™ä¸€ç‚¹æ˜¯ä¸€ä¸ªè·å¾—ç»éªŒçš„é—®é¢˜ã€‚
- en: 5.11More Virtual Pets[ğŸ”—](#(part._sec~3azoo2) "Link to here")
  id: totrans-2630
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.11æ›´å¤šè™šæ‹Ÿå® ç‰©[ğŸ”—](#(part._sec~3azoo2) "é“¾æ¥åˆ°æ­¤å¤„")
- en: In this section we continue our virtual zoo project from [Virtual Pet Worlds](#%28part._sec~3azoo1%29).
    Specifically, the goal of the exercise is to combine the cat world program with
    the program for managing its happiness gauge. When the combined program runs,
    you see the cat walking across the canvas, and, with each step, its happiness
    goes down. The only way to make the cat happy is to feed it or pet it (up arrow).
    Finally, the goal of the last exercise in this section is to create another virtual,
    happy pet.
  id: totrans-2631
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»§ç»­æˆ‘ä»¬çš„è™šæ‹ŸåŠ¨ç‰©å›­é¡¹ç›®ï¼Œä»[è™šæ‹Ÿå® ç‰©ä¸–ç•Œ](#%28part._sec~3azoo1%29)å¼€å§‹ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™ä¸ªç»ƒä¹ çš„ç›®æ ‡æ˜¯å°†çŒ«çš„ä¸–ç•Œç¨‹åºä¸å®ƒçš„å¹¸ç¦åº¦ç®¡ç†ç¨‹åºç»“åˆèµ·æ¥ã€‚å½“ç»„åˆç¨‹åºè¿è¡Œæ—¶ï¼Œä½ ä¼šçœ‹åˆ°çŒ«åœ¨ç”»å¸ƒä¸Šè¡Œèµ°ï¼Œå¹¶ä¸”æ¯èµ°ä¸€æ­¥ï¼Œå®ƒçš„å¹¸ç¦åº¦å°±ä¼šä¸‹é™ã€‚è®©çŒ«é«˜å…´çš„å”¯ä¸€æ–¹æ³•æ˜¯å–‚å®ƒæˆ–æŠšæ‘¸å®ƒï¼ˆä¸Šç®­å¤´ï¼‰ã€‚æœ€åï¼Œæœ¬èŠ‚æœ€åä¸€ä¸ªç»ƒä¹ çš„ç›®æ ‡æ˜¯åˆ›å»ºå¦ä¸€ä¸ªè™šæ‹Ÿçš„ã€å¿«ä¹çš„å® ç‰©ã€‚
- en: ExerciseÂ 88\. Define a structure type that keeps track of the catâ€™s x-coordinate
    and its happiness. Then formulate a data definition for cats, dubbed VCat, including
    an interpretation.
  id: totrans-2632
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 88ã€‚å®šä¹‰ä¸€ä¸ªç»“æ„ç±»å‹ï¼Œç”¨äºè·Ÿè¸ªçŒ«çš„xåæ ‡å’Œå®ƒçš„å¹¸ç¦åº¦ã€‚ç„¶åä¸ºçŒ«åˆ¶å®šä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œç§°ä¸ºVCatï¼ŒåŒ…æ‹¬è§£é‡Šã€‚
- en: ExerciseÂ 89\. Design the happy-cat world program, which manages a walking cat
    and its happiness level. Letâ€™s assume that the cat starts out with perfect happiness.
  id: totrans-2633
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 89ã€‚è®¾è®¡å¿«ä¹çŒ«ä¸–ç•Œç¨‹åºï¼Œè¯¥ç¨‹åºç®¡ç†ä¸€ä¸ªè¡Œèµ°çš„çŒ«åŠå…¶å¹¸ç¦åº¦ã€‚å‡è®¾çŒ«ä¸€å¼€å§‹æ˜¯å®Œç¾çš„å¹¸ç¦ã€‚
- en: Hints (1) Reuse the functions from the world programs in [Virtual Pet Worlds](#%28part._sec~3azoo1%29).
    (2) Use structure type from the preceding exercise to represent the state of the
    world.
  id: totrans-2634
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼ˆ1ï¼‰é‡ç”¨[è™šæ‹Ÿå® ç‰©ä¸–ç•Œ](#%28part._sec~3azoo1%29)ä¸­çš„ä¸–ç•Œç¨‹åºä¸­çš„å‡½æ•°ã€‚ï¼ˆ2ï¼‰ä½¿ç”¨å‰ä¸€ä¸ªç»ƒä¹ ä¸­çš„ç»“æ„ç±»å‹æ¥è¡¨ç¤ºä¸–ç•Œçš„çŠ¶æ€ã€‚
- en: ExerciseÂ 90\. Modify the happy-cat program from the preceding exercises so that
    it stops whenever the catâ€™s happiness falls to 0.
  id: totrans-2635
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 90ã€‚ä¿®æ”¹å‰ä¸€ä¸ªç»ƒä¹ ä¸­çš„å¿«ä¹çŒ«ç¨‹åºï¼Œä½¿å…¶åœ¨çŒ«çš„å¹¸ç¦åº¦é™åˆ°0æ—¶åœæ­¢ã€‚
- en: ExerciseÂ 91\. Extend your structure type definition and data definition from
    [exerciseÂ 88](#%28counter._%28exercise._struct12%29%29) to include a direction
    field. Adjust your happy-cat program so that the cat moves in the specified direction.
    The program should move the cat in the current direction, and it should turn the
    cat around when it reaches either end of the scene.
  id: totrans-2636
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 91ã€‚å°†ç»ƒä¹ 88ä¸­çš„ç»“æ„ç±»å‹å®šä¹‰å’Œæ•°æ®å®šä¹‰æ‰©å±•åˆ°åŒ…æ‹¬æ–¹å‘å­—æ®µã€‚è°ƒæ•´å¿«ä¹çŒ«ç¨‹åºï¼Œä½¿çŒ«å‘æŒ‡å®šçš„æ–¹å‘ç§»åŠ¨ã€‚ç¨‹åºåº”è¯¥æŒ‰ç…§å½“å‰æ–¹å‘ç§»åŠ¨çŒ«ï¼Œå¹¶åœ¨çŒ«åˆ°è¾¾åœºæ™¯çš„ä»»ä¸€ç«¯æ—¶å°†å…¶è½¬èº«ã€‚
- en: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â chamÂ ![](../Images/765bbcf6f0798ca77b1d223d92d98faa.png))
  id: totrans-2637
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â chamÂ ![](../Images/765bbcf6f0798ca77b1d223d92d98faa.png))
- en: The above drawing of a chameleon is a transparent image. To insert it into DrRacket,
    insert it with the â€œInsert Imageâ€ menu item. Using this instruction preserves
    the transparency of the drawingâ€™s pixels.
  id: totrans-2638
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šé¢çš„å˜è‰²é¾™çš„æ’å›¾æ˜¯ä¸€ä¸ªé€æ˜å›¾åƒã€‚è¦å°†å®ƒæ’å…¥åˆ°DrRacketä¸­ï¼Œè¯·ä½¿ç”¨â€œæ’å…¥å›¾åƒâ€èœå•é¡¹æ’å…¥ã€‚ä½¿ç”¨æ­¤è¯´æ˜å¯ä»¥ä¿ç•™ç»˜å›¾åƒç´ çš„é€æ˜åº¦ã€‚
- en: 'When a partly transparent image is combined with a colored shape, say a rectangle,
    the image takes on the underlying color. In the chameleon drawing, it is actually
    the inside of the animal that is transparent; the area outside is solid white.
    Try out this expression in your DrRacket:'
  id: totrans-2639
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä¸€ä¸ªéƒ¨åˆ†é€æ˜çš„å›¾åƒä¸ä¸€ä¸ªå½©è‰²å½¢çŠ¶ï¼ˆå¦‚çŸ©å½¢ï¼‰ç»“åˆæ—¶ï¼Œå›¾åƒä¼šé‡‡ç”¨ä¸‹å±‚çš„é¢œè‰²ã€‚åœ¨å˜è‰²é¾™çš„ç»˜ç”»ä¸­ï¼Œå®é™…ä¸Šæ˜¯åŠ¨ç‰©çš„å†…éƒ¨æ˜¯é€æ˜çš„ï¼›å¤–éƒ¨åŒºåŸŸæ˜¯çº¯ç™½è‰²ã€‚åœ¨ä½ çš„DrRacketä¸­å°è¯•è¿™ä¸ªè¡¨è¾¾å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â background
    |'
  id: totrans-2640
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â background
    |'
- en: '| Â Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â cham)
    |'
  id: totrans-2641
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([rectangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._rectangle%29%29)Â ([image-width](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-width%29%29)Â cham)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â cham)
    |'
  id: totrans-2642
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â ([image-height](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-height%29%29)Â cham)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â "solid" |'
  id: totrans-2643
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â "solid" |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â "red")) |'
  id: totrans-2644
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â "red")) |'
- en: '| Â  |'
  id: totrans-2645
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)Â chamÂ background)
    |'
  id: totrans-2646
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([overlay](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._overlay%29%29)
    cham èƒŒæ™¯) |'
- en: ExerciseÂ 92\. Design the cham program, which has the chameleon continuously
    walking across the canvas from left to right. When it reaches the right end of
    the canvas, it disappears and immediately reappears on the left. Like the cat,
    the chameleon gets hungry from all the walking, and, as time passes by, this hunger
    expresses itself as unhappiness.
  id: totrans-2647
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  92\. è®¾è®¡ cham ç¨‹åºï¼Œä½¿å˜è‰²é¾™åœ¨ç”»å¸ƒä¸Šä»å·¦åˆ°å³è¿ç»­è¡Œèµ°ã€‚å½“å®ƒåˆ°è¾¾ç”»å¸ƒçš„å³ç«¯æ—¶ï¼Œå®ƒä¼šæ¶ˆå¤±å¹¶ç«‹å³åœ¨å·¦ä¾§é‡æ–°å‡ºç°ã€‚åƒçŒ«ä¸€æ ·ï¼Œå˜è‰²é¾™å› ä¸ºè¡Œèµ°è€Œæ„Ÿåˆ°é¥¥é¥¿ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™ç§é¥¥é¥¿è¡¨ç°ä¸ºä¸å¿«ä¹ã€‚
- en: 'For managing the chameleonâ€™s happiness gauge, you may reuse the happiness gauge
    from the virtual cat. To make the chameleon happy, you feed it (down arrow, two
    points only); petting isnâ€™t allowed. Of course, like all chameleons, ours can
    change color, too: "r" turns it red, "b" blue, and "g" green. Add the chameleon
    world program to the virtual cat game and reuse functions from the latter when
    possible.'
  id: totrans-2648
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç®¡ç†å˜è‰²é¾™çš„å¹¸ç¦åº¦ï¼Œä½ å¯ä»¥é‡ç”¨è™šæ‹ŸçŒ«çš„å¹¸ç¦åº¦è®¡ã€‚è¦è®©å˜è‰²é¾™å¼€å¿ƒï¼Œç»™å®ƒå–‚é£Ÿï¼ˆå‘ä¸‹ç®­å¤´ï¼Œåªéœ€ä¸¤ä¸ªç‚¹ï¼‰ï¼›ä¸å…è®¸æŠšæ‘¸ã€‚å½“ç„¶ï¼Œåƒæ‰€æœ‰å˜è‰²é¾™ä¸€æ ·ï¼Œæˆ‘ä»¬çš„å˜è‰²é¾™ä¹Ÿèƒ½æ”¹å˜é¢œè‰²ï¼šâ€œrâ€ä½¿å…¶å˜çº¢ï¼Œâ€œbâ€å˜è“ï¼Œâ€œgâ€å˜ç»¿ã€‚å°†å˜è‰²é¾™ä¸–ç•Œç¨‹åºæ·»åŠ åˆ°è™šæ‹ŸçŒ«æ¸¸æˆä¸­ï¼Œå¹¶åœ¨å¯èƒ½çš„æƒ…å†µä¸‹é‡ç”¨åè€…çš„å‡½æ•°ã€‚
- en: Start with a data definition, VCham, for representing chameleons.
  id: totrans-2649
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¡¨ç¤ºå˜è‰²é¾™çš„æ•°æ®å®šä¹‰ VCham å¼€å§‹ã€‚
- en: 'ExerciseÂ 93\. Copy your solution to [exerciseÂ 92](#%28counter._%28exercise._struct16%29%29)
    and modify the copy so that the chameleon walks across a tricolor background.
    Our solution uses these colors:'
  id: totrans-2650
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  93\. å°† [ç»ƒä¹  92](#%28counter._%28exercise._struct16%29%29) çš„è§£å†³æ–¹æ¡ˆå¤åˆ¶è¿‡æ¥ï¼Œå¹¶ä¿®æ”¹å‰¯æœ¬ï¼Œä½¿å˜è‰²é¾™åœ¨å½©è‰²èƒŒæ™¯ä¸Šè¡Œèµ°ã€‚æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆä½¿ç”¨ä»¥ä¸‹é¢œè‰²ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BACKGROUND
    |'
  id: totrans-2651
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    èƒŒæ™¯ |'
- en: '| Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHTÂ "green")Â Have
    some Italian pizza when youâ€™re done. |'
  id: totrans-2652
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)
    ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    WIDTH HEIGHT "ç»¿è‰²") å®Œæˆåï¼Œæ¥ç‚¹æ„å¤§åˆ©æŠ«è¨å§ã€‚ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHTÂ "white")
    |'
  id: totrans-2653
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    WIDTH HEIGHT "ç™½è‰²") |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â WIDTHÂ HEIGHTÂ "red")))
    |'
  id: totrans-2654
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    WIDTH HEIGHT "çº¢è‰²"))) |'
- en: but you may use any colors. Observe how the chameleon changes colors to blend
    in as it crosses the border between two colors.
  id: totrans-2655
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•é¢œè‰²ã€‚è§‚å¯Ÿå˜è‰²é¾™å¦‚ä½•æ”¹å˜é¢œè‰²ä»¥èå…¥ä¸¤ç§é¢œè‰²ä¹‹é—´çš„è¾¹ç•Œã€‚
- en: Note When you watch the animation carefully, you see the chameleon riding on
    a white rectangle. If you know how to use image editing software, modify the picture
    so that the white rectangle is invisible. Then the chameleon will really blend
    in.
  id: totrans-2656
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šå½“ä½ ä»”ç»†è§‚å¯ŸåŠ¨ç”»æ—¶ï¼Œä½ ä¼šçœ‹åˆ°å˜è‰²é¾™éª‘åœ¨ä¸€ä¸ªç™½è‰²çŸ©å½¢ä¸Šã€‚å¦‚æœä½ çŸ¥é“å¦‚ä½•ä½¿ç”¨å›¾åƒç¼–è¾‘è½¯ä»¶ï¼Œä¿®æ”¹å›¾ç‰‡ï¼Œä½¿ç™½è‰²çŸ©å½¢ä¸å¯è§ã€‚ç„¶åå˜è‰²é¾™å°†çœŸæ­£èå…¥èƒŒæ™¯ä¸­ã€‚
- en: 6Itemizations and Structures[ğŸ”—](#(part._ch~3amix) "Link to here")
  id: totrans-2657
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6é¡¹åŒ–å’Œç»“æ„[ğŸ”—](#(part._ch~3amix) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: The preceding two chapters introduce two ways of formulating data definitions.
    Those that employ itemization (enumeration and intervals) are used to create small
    collections from large ones. Those that use structures combine multiple collections.
    Since the development of data representations is the starting point for proper
    program design, it cannot surprise you that programmers frequently want to itemize
    data definitions that involve structures or to use structures to combine itemized
    data.
  id: totrans-2658
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ä¸¤ç« ä»‹ç»äº†ä¸¤ç§æ•°æ®å®šä¹‰çš„è¡¨è¿°æ–¹å¼ã€‚é‚£äº›ä½¿ç”¨é¡¹åŒ–ï¼ˆæšä¸¾å’ŒåŒºé—´ï¼‰çš„æ˜¯ä»å¤§é‡æ•°æ®ä¸­åˆ›å»ºå°é›†åˆã€‚é‚£äº›ä½¿ç”¨ç»“æ„çš„æ˜¯ç»„åˆå¤šä¸ªé›†åˆã€‚ç”±äºæ•°æ®è¡¨ç¤ºçš„å‘å±•æ˜¯è‰¯å¥½ç¨‹åºè®¾è®¡çš„èµ·ç‚¹ï¼Œå› æ­¤ç¨‹åºå‘˜ç»å¸¸æƒ³è¦é¡¹åŒ–æ¶‰åŠç»“æ„çš„æ•°æ®å®šä¹‰ï¼Œæˆ–è€…ä½¿ç”¨ç»“æ„æ¥ç»„åˆé¡¹åŒ–æ•°æ®ï¼Œè¿™å¹¶ä¸å¥‡æ€ªã€‚
- en: 'Recall the imaginary space invader game from [Structure in the World](#%28part._sec~3aworld-structs%29)
    in the preceding chapter. Thus far, it involves one UFO, descending from space,
    and one tank on the ground, moving horizontally. Our data representation uses
    a structure with two fields: one for the data representation of the UFO and another
    one for the data representation of the tank. Naturally, players will want a tank
    that can fire off a missile. All of a sudden, we can think of a second kind of
    state that contains three independently moving objects: the UFO, the tank, and
    the missile. Thus we have two distinct structures: one for representing two independently
    moving objects and another one for the third. Since a world state may now be one
    of these two structures, it is natural to use an itemization to describe all possible
    states:'
  id: totrans-2659
  prefs: []
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹ä¸Šä¸€ç« ä¸­æåˆ°çš„æƒ³è±¡ä¸­çš„å¤ªç©ºä¾µç•¥è€…æ¸¸æˆ[ä¸–ç•Œä¸­çš„ç»“æ„](#%28part._sec~3aworld-structs%29)ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®ƒæ¶‰åŠä¸€ä¸ªä»å¤ªç©ºä¸‹é™çš„UFOå’Œä¸€ä¸ªåœ¨åœ°é¢ä¸Šæ°´å¹³ç§»åŠ¨çš„å¦å…‹ã€‚æˆ‘ä»¬çš„æ•°æ®è¡¨ç¤ºä½¿ç”¨ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­—æ®µçš„è®°å½•ï¼šä¸€ä¸ªç”¨äºUFOçš„æ•°æ®è¡¨ç¤ºï¼Œå¦ä¸€ä¸ªç”¨äºå¦å…‹çš„æ•°æ®è¡¨ç¤ºã€‚è‡ªç„¶åœ°ï¼Œç©å®¶ä¼šæƒ³è¦ä¸€ä¸ªèƒ½å¤Ÿå‘å°„å¯¼å¼¹çš„å¦å…‹ã€‚çªç„¶ä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ç¬¬äºŒç§çŠ¶æ€ï¼Œå®ƒåŒ…å«ä¸‰ä¸ªç‹¬ç«‹ç§»åŠ¨çš„å¯¹è±¡ï¼šUFOã€å¦å…‹å’Œå¯¼å¼¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ä¸åŒçš„ç»“æ„ï¼šä¸€ä¸ªç”¨äºè¡¨ç¤ºä¸¤ä¸ªç‹¬ç«‹ç§»åŠ¨çš„å¯¹è±¡ï¼Œå¦ä¸€ä¸ªç”¨äºç¬¬ä¸‰ä¸ªã€‚ç”±äºä¸–ç•ŒçŠ¶æ€ç°åœ¨å¯èƒ½æ˜¯è¿™ä¸¤ç§ç»“æ„ä¹‹ä¸€ï¼Œæ‰€ä»¥ä½¿ç”¨é¡¹åŒ–æ¥æè¿°æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€æ˜¯è‡ªç„¶çš„ï¼š
- en: the state of the world is a structure with two fields, or
  id: totrans-2660
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸–ç•ŒçŠ¶æ€æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­—æ®µçš„è®°å½•ï¼Œæˆ–è€…
- en: the state of the world is a structure with three fields.
  id: totrans-2661
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸–ç•ŒçŠ¶æ€æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå­—æ®µçš„è®°å½•ã€‚
- en: As far as our domain isNo worries, the next part of the book is about firing
    as many missiles as you want, without reloading. concernedâ€”<wbr>the actual gameâ€”<wbr>the
    first kind of state represents the time before the tank has launched its sole
    missile and the second one the time after the missile has been fired.
  id: totrans-2662
  prefs: []
  type: TYPE_NORMAL
  zh: å°±æˆ‘ä»¬çš„é¢†åŸŸè€Œè¨€â€”â€”ä¸ç”¨æ‹…å¿ƒï¼Œä¹¦çš„ä¸‹ä¸€éƒ¨åˆ†æ˜¯å…³äºæ— é™åˆ¶å‘å°„å¯¼å¼¹ï¼Œæ— éœ€é‡æ–°åŠ è½½ã€‚å®é™…æ¸¸æˆâ€”â€”ç¬¬ä¸€ç§çŠ¶æ€ä»£è¡¨å¦å…‹å‘å°„å”¯ä¸€å¯¼å¼¹ä¹‹å‰çš„æ—¶é—´ï¼Œç¬¬äºŒç§çŠ¶æ€ä»£è¡¨å¯¼å¼¹å‘å°„ä¹‹åçš„æ—¶é—´ã€‚
- en: This chapter introduces the basic idea of itemizing data definitions that involve
    structures. Because we have all the other ingredients we need, we start straight
    with itemizing structures. After that, we discuss some examples, including world
    programs that benefit from our new power. The last section is about errors in
    programming.
  id: totrans-2663
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« ä»‹ç»äº†æ¶‰åŠç»“æ„çš„é¡¹åŒ–æ•°æ®å®šä¹‰çš„åŸºæœ¬æ€æƒ³ã€‚å› ä¸ºæˆ‘ä»¬å·²ç»æ‹¥æœ‰äº†æ‰€æœ‰éœ€è¦çš„å…¶ä»–æˆåˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ä»é¡¹åŒ–ç»“æ„å¼€å§‹ã€‚ä¹‹åï¼Œæˆ‘ä»¬è®¨è®ºäº†ä¸€äº›ä¾‹å­ï¼ŒåŒ…æ‹¬ä»æˆ‘ä»¬çš„æ–°åŠŸèƒ½ä¸­å—ç›Šçš„ä¸–ç•Œç¨‹åºã€‚æœ€åä¸€èŠ‚æ˜¯å…³äºç¼–ç¨‹ä¸­çš„é”™è¯¯ã€‚
- en: 6.1Designing with Itemizations, Again[ğŸ”—](#(part._mix._sec~3aitemization-design2)
    "Link to here")
  id: totrans-2664
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 6.1 å†æ¬¡ä½¿ç”¨é¡¹åŒ–è¿›è¡Œè®¾è®¡[ğŸ”—](#(part._mix._sec~3aitemization-design2) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: Letâ€™s start with a refined problem statement for our space invader game from
    [Programming with Structures](#%28part._sec~3aprogstructs%29).
  id: totrans-2665
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»[ä½¿ç”¨ç»“æ„ç¼–ç¨‹](#%28part._sec~3aprogstructs%29)ä¸­çš„å¤ªç©ºä¾µç•¥è€…æ¸¸æˆçš„ä¸€ä¸ªç²¾ç‚¼é—®é¢˜é™ˆè¿°å¼€å§‹ã€‚
- en: Sample Problem Design a game program using the 2htdp/universe teachpack for
    playing a simple space invader game. The player is in control of a tank (a small
    rectangle) that must defend our planet (the bottom of the canvas) from a UFO (see
    [Intervals](#%28part._sec~3aintervals%29) for one possibility) that descends from
    the top of the canvas to the bottom. In order to stop the UFO from landing, the
    player may fire a single missile (a triangle smaller than the tank) by hitting
    the space bar. In response, the missile emerges from the tank. If the UFO collides
    with the missile, the player wins; otherwise the UFO lands and the player loses.
  id: totrans-2666
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜è®¾è®¡ä¸€ä¸ªä½¿ç”¨2htdp/universe teachpackè¿›è¡Œç®€å•å¤ªç©ºä¾µç•¥è€…æ¸¸æˆçš„æ¸¸æˆç¨‹åºã€‚ç©å®¶æ§åˆ¶ç€ä¸€ä¸ªå¦å…‹ï¼ˆä¸€ä¸ªå°çŸ©å½¢ï¼‰ï¼Œå¿…é¡»ä¿å«æˆ‘ä»¬çš„æ˜Ÿçƒï¼ˆç”»å¸ƒçš„åº•éƒ¨ï¼‰å…å—ä»ç”»å¸ƒé¡¶éƒ¨ä¸‹é™åˆ°åº•éƒ¨çš„UFOï¼ˆå‚è§[åŒºé—´](#%28part._sec~3aintervals%29)ä»¥è·å–ä¸€ç§å¯èƒ½æ€§ï¼‰çš„æ”»å‡»ã€‚ä¸ºäº†é˜»æ­¢UFOç€é™†ï¼Œç©å®¶å¯ä»¥é€šè¿‡æŒ‰ä¸‹ç©ºæ ¼é”®å‘å°„ä¸€æšå¯¼å¼¹ï¼ˆä¸€ä¸ªæ¯”å¦å…‹å°çš„ä¸‰è§’å½¢ï¼‰ã€‚ä½œä¸ºå›åº”ï¼Œå¯¼å¼¹ä»å¦å…‹ä¸­å‘å°„å‡ºæ¥ã€‚å¦‚æœUFOä¸å¯¼å¼¹ç›¸æ’ï¼Œç©å®¶è·èƒœï¼›å¦åˆ™UFOç€é™†ï¼Œç©å®¶å¤±è´¥ã€‚
- en: ''
  id: totrans-2667
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Here are some details concerning the three game objects and their movements.
    First, the tank moves a constant speed along the bottom of the canvas, though
    the player may use the left arrow key and the right arrow key to change directions.
    Second, the UFO descends at a constant velocity but makes small random jumps to
    the left or right. Third, once fired, the missile ascends along a straight vertical
    line at a constant speed at least twice as fast as the UFO descends. Finally,
    the UFO and the missile collide if their reference points are close enough, for
    whatever you think â€œclose enoughâ€ means.
  id: totrans-2668
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯å…³äºä¸‰ä¸ªæ¸¸æˆå¯¹è±¡åŠå…¶è¿åŠ¨çš„è¯¦ç»†ä¿¡æ¯ã€‚é¦–å…ˆï¼Œå¦å…‹ä»¥æ’å®šé€Ÿåº¦æ²¿ç€ç”»å¸ƒåº•éƒ¨ç§»åŠ¨ï¼Œå°½ç®¡ç©å®¶å¯ä»¥ä½¿ç”¨å·¦ç®­å¤´é”®å’Œå³ç®­å¤´é”®æ”¹å˜æ–¹å‘ã€‚å…¶æ¬¡ï¼ŒUFOä»¥æ’å®šé€Ÿåº¦ä¸‹é™ï¼Œä½†ä¼šå‘å·¦æˆ–å‘å³è¿›è¡Œå°èŒƒå›´çš„éšæœºè·³è·ƒã€‚ç¬¬ä¸‰ï¼Œä¸€æ—¦å‘å°„ï¼Œå¯¼å¼¹å°†ä»¥è‡³å°‘æ˜¯UFOä¸‹é™é€Ÿåº¦ä¸¤å€çš„é€Ÿåº¦æ²¿ç€ä¸€æ¡ç›´çº¿å‚ç›´ä¸Šå‡ã€‚æœ€åï¼Œå¦‚æœUFOå’Œå¯¼å¼¹çš„å‚è€ƒç‚¹è¶³å¤Ÿæ¥è¿‘ï¼Œå®ƒä»¬å°±ä¼šç›¸æ’ï¼Œæ— è®ºä½ è®¤ä¸ºâ€œè¶³å¤Ÿæ¥è¿‘â€æ˜¯ä»€ä¹ˆæ„æ€ã€‚
- en: The following two subsections use this sample problem as a running example,
    so study it well and solve the following exercise before you continue. Doing so
    will help you understand the problem in enough depth.
  id: totrans-2669
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ä¸¤ä¸ªå°èŠ‚å°†ä½¿ç”¨è¿™ä¸ªç¤ºä¾‹é—®é¢˜ä½œä¸ºæŒç»­ç¤ºä¾‹ï¼Œå› æ­¤è¯·åœ¨ç»§ç»­ä¹‹å‰ä»”ç»†ç ”ç©¶å®ƒå¹¶è§£å†³ä»¥ä¸‹ç»ƒä¹ ã€‚è¿™æ ·åšå°†å¸®åŠ©ä½ è¶³å¤Ÿæ·±å…¥åœ°ç†è§£é—®é¢˜ã€‚
- en: ExerciseÂ 94\. Draw some sketches of what the game scenery looks like at various
    stages. Use the sketches to determine the constant and the variable pieces of
    the game. For the former, develop physical and graphical constants that describe
    the dimensions of the world (canvas) and its objects. Also develop some background
    scenery. Finally, create your initial scene from the constants for the tank, the
    UFO, and the background.
  id: totrans-2670
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 94ã€‚ç»˜åˆ¶æ¸¸æˆåœ¨ä¸åŒé˜¶æ®µçš„åœºæ™¯è‰å›¾ã€‚ä½¿ç”¨è¿™äº›è‰å›¾æ¥ç¡®å®šæ¸¸æˆçš„å¸¸é‡å’Œå˜é‡éƒ¨åˆ†ã€‚å¯¹äºå‰è€…ï¼Œå¼€å‘æè¿°ä¸–ç•Œï¼ˆç”»å¸ƒï¼‰åŠå…¶å¯¹è±¡å°ºå¯¸çš„ç‰©ç†å’Œå›¾å½¢å¸¸é‡ã€‚è¿˜è¦å¼€å‘ä¸€äº›èƒŒæ™¯åœºæ™¯ã€‚æœ€åï¼Œä»å¦å…‹ã€UFOå’ŒèƒŒæ™¯çš„å¸¸é‡åˆ›å»ºä½ çš„åˆå§‹åœºæ™¯ã€‚
- en: Defining Itemizations The first step in our design recipe calls for the development
    of data definitions. One purpose of a data definition is to describe the construction
    of data that represents the state of the world; another is to describe all possible
    pieces of data that the event-handling functions of the world program may consume.
    Since we havenâ€™t seen itemizations that include structures, this first subsection
    introduces this idea. While this probably wonâ€™t surprise you, pay close attention.
  id: totrans-2671
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰é¡¹ç›®åŒ–ã€‚æˆ‘ä»¬è®¾è®¡é…æ–¹ä¸­çš„ç¬¬ä¸€æ­¥æ˜¯å¼€å‘æ•°æ®å®šä¹‰ã€‚æ•°æ®å®šä¹‰çš„ä¸€ä¸ªç›®çš„æ˜¯æè¿°è¡¨ç¤ºä¸–ç•ŒçŠ¶æ€çš„æ•°æ®çš„æ„å»ºï¼›å¦ä¸€ä¸ªç›®çš„æ˜¯æè¿°ä¸–ç•Œç¨‹åºçš„äº‹ä»¶å¤„ç†å‡½æ•°å¯èƒ½æ¶ˆè€—çš„æ‰€æœ‰å¯èƒ½çš„æ•°æ®ã€‚ç”±äºæˆ‘ä»¬è¿˜æ²¡æœ‰çœ‹åˆ°åŒ…å«ç»“æ„çš„é¡¹åŒ–ï¼Œè¿™ä¸ªç¬¬ä¸€å°èŠ‚ä»‹ç»äº†è¿™ä¸ªæ¦‚å¿µã€‚è™½ç„¶è¿™å¯èƒ½ä¸ä¼šè®©ä½ æ„Ÿåˆ°æƒŠè®¶ï¼Œä½†è¯·ä»”ç»†æ³¨æ„ã€‚
- en: 'For this space invader game, we could get away with one structure type definition
    of three fields where the third field contains #false until the missile is fired,
    and a Posn for the missileâ€™s coordinates thereafter. See below.'
  id: totrans-2672
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸ªå¤ªç©ºä¾µç•¥è€…æ¸¸æˆï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå­—æ®µçš„ç»“æ„ç±»å‹å®šä¹‰æ¥åº”ä»˜ï¼Œå…¶ä¸­ç¬¬ä¸‰ä¸ªå­—æ®µåœ¨å‘å°„å¯¼å¼¹ä¹‹å‰åŒ…å«#falseï¼Œä¹‹ååŒ…å«å¯¼å¼¹çš„åæ ‡ã€‚ä¸‹é¢æ˜¯å…·ä½“å†…å®¹ã€‚
- en: 'As argued in the introduction to this chapter, the space invader game with
    a missile-firing tank requires a data representation for two different kinds of
    game states. We choose two structure type definitions:'
  id: totrans-2673
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ¬ç« å¼•è¨€ä¸­æ‰€è¿°ï¼Œå¸¦æœ‰å‘å°„å¦å…‹çš„å¤ªç©ºä¾µç•¥è€…æ¸¸æˆéœ€è¦ä¸ºä¸¤ç§ä¸åŒçš„æ¸¸æˆçŠ¶æ€æä¾›æ•°æ®è¡¨ç¤ºã€‚æˆ‘ä»¬é€‰æ‹©äº†ä¸¤ç§ç»“æ„ç±»å‹å®šä¹‰ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â aimÂ [ufoÂ tank])
    |'
  id: totrans-2674
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â aimÂ [ufoÂ tank])
    |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â firedÂ [ufoÂ tankÂ missile])
    |'
  id: totrans-2675
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â firedÂ [ufoÂ tankÂ missile])
    |'
- en: 'The first one is for the time period when the player is trying to get the tank
    in position for a shot, and the second one is for representing states after the
    missile is fired. Before we can formulate a data definition for the complete game
    state, however, we need data representations for the tank, the UFO, and the missile.Assuming
    constant definitions for such physical constants as WIDTH and HEIGHT, which are
    the subject of [exerciseÂ 94](#%28counter._mix._%28exercise._mix1%29%29), we formulate
    the data definitions like this:'
  id: totrans-2676
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªç”¨äºç©å®¶è¯•å›¾å°†å¦å…‹å®šä½ä»¥ä¾¿å°„å‡»çš„æ—¶é—´æ®µï¼Œç¬¬äºŒä¸ªç”¨äºè¡¨ç¤ºå‘å°„å¯¼å¼¹åçš„çŠ¶æ€ã€‚ç„¶è€Œï¼Œåœ¨æˆ‘ä»¬èƒ½å¤Ÿåˆ¶å®šå®Œæ•´æ¸¸æˆçŠ¶æ€çš„æ•°æ®å®šä¹‰ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¦å…‹ã€ä¸æ˜é£è¡Œç‰©å’Œå¯¼å¼¹çš„æ•°æ®è¡¨ç¤ºã€‚å‡è®¾å¯¹äºåƒ
    WIDTH å’Œ HEIGHT è¿™æ ·çš„ç‰©ç†å¸¸é‡æœ‰æ’å®šå®šä¹‰ï¼Œè¿™äº›æ˜¯ [ç»ƒä¹  94](#%28counter._mix._%28exercise._mix1%29%29)
    çš„ä¸»é¢˜ï¼Œæˆ‘ä»¬åˆ¶å®šæ•°æ®å®šä¹‰å¦‚ä¸‹ï¼š
- en: '| ;Â A UFO is a [Posn](#%28tech._posn%29). |'
  id: totrans-2677
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸æ˜é£è¡Œç‰©æ˜¯ä¸€ä¸ª [Posn](#%28tech._posn%29)ã€‚ |'
- en: '| ;Â interpretation  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x  y)
    is the UFO''s location |'
  id: totrans-2678
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x  y)
    æ˜¯ä¸æ˜é£è¡Œç‰©çš„ä½ç½® |'
- en: '| ;Â (using the top-down, left-to-right convention) |'
  id: totrans-2679
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â (ä½¿ç”¨è‡ªé¡¶å‘ä¸‹ï¼Œä»å·¦åˆ°å³çš„æƒ¯ä¾‹) |'
- en: '| Â  |'
  id: totrans-2680
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â tankÂ [locÂ vel])
    |'
  id: totrans-2681
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â tankÂ [locÂ vel])
    |'
- en: '| ;Â A Tank is a structure: |'
  id: totrans-2682
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦å…‹æ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-tank  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)).
    |'
  id: totrans-2683
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-tank  [Number](#%28tech._number%29)  [Number](#%28tech._number%29)).
    |'
- en: '| ;Â interpretation  (make-tank  x  dx) specifies the position: |'
  id: totrans-2684
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š  (make-tank  x  dx) æŒ‡å®šäº†ä½ç½®ï¼š |'
- en: '| ;Â (x, HEIGHT) and the tank''s speed: dx pixels/tick |'
  id: totrans-2685
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â (x, HEIGHT) å’Œå¦å…‹çš„é€Ÿåº¦ï¼šdx åƒç´ /åˆ» |'
- en: '| Â  |'
  id: totrans-2686
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ;Â A Missile is a [Posn](#%28tech._posn%29). |'
  id: totrans-2687
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¯¼å¼¹æ˜¯ä¸€ä¸ª [Posn](#%28tech._posn%29)ã€‚ |'
- en: '| ;Â interpretation  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x  y)
    is the missile''s place |'
  id: totrans-2688
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  x  y)
    æ˜¯å¯¼å¼¹çš„ä½ç½® |'
- en: 'Each of these data definitions describes nothing but a structure, either a
    newly defined one, tank, or a built-in data collection, [Posn](#%28tech._posn%29).
    Concerning the latter, it may surprise you a little bit that [Posn](#%28tech._posn%29)s
    are used to represent two distinct aspects of the world. Then again, we have used
    numbers (and strings and Boolean values) to represent many different kinds of
    information in the real world, so reusing a collection of structures such as Posn
    isnâ€™t a big deal.Now we are in a position to formulate the data definitions for
    the state of the space invader game:'
  id: totrans-2689
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªè¿™äº›æ•°æ®å®šä¹‰ä»…ä»…æè¿°äº†ä¸€ä¸ªç»“æ„ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªæ–°å®šä¹‰çš„ï¼Œæ¯”å¦‚å¦å…‹ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªå†…ç½®çš„æ•°æ®é›†åˆï¼Œ[Posn](#%28tech._posn%29)ã€‚å…³äºåè€…ï¼Œå¯èƒ½ä¼šè®©ä½ æœ‰ç‚¹æƒŠè®¶ï¼Œ[Posn](#%28tech._posn%29)s
    è¢«ç”¨æ¥è¡¨ç¤ºä¸–ç•Œçš„ä¸¤ä¸ªä¸åŒæ–¹é¢ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°å­—ï¼ˆä»¥åŠå­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼‰åœ¨ç°å®ä¸–ç•Œä¸­è¡¨ç¤ºäº†è®¸å¤šä¸åŒç±»å‹çš„ä¿¡æ¯ï¼Œæ‰€ä»¥é‡ç”¨åƒ Posn è¿™æ ·çš„ç»“æ„é›†åˆå¹¶ä¸æ˜¯ä»€ä¹ˆå¤§äº‹ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸ºå¤ªç©ºå…¥ä¾µè€…æ¸¸æˆçŠ¶æ€åˆ¶å®šæ•°æ®å®šä¹‰çš„æ¡ä»¶ï¼š
- en: '| ;Â A SIGS is one of: |'
  id: totrans-2690
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â SIGS æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  (make-aim  [UFO](#%28tech._mix._ufo%29)  [Tank](#%28tech._mix._tank%29))
    |'
  id: totrans-2691
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  (make-aim  [UFO](#%28tech._mix._ufo%29)  [Tank](#%28tech._mix._tank%29))
    |'
- en: '| ;Â â€“  (make-fired  [UFO](#%28tech._mix._ufo%29)  [Tank](#%28tech._mix._tank%29)  [Missile](#%28tech._mix._missile%29))
    |'
  id: totrans-2692
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  (make-fired  [UFO](#%28tech._mix._ufo%29)  [Tank](#%28tech._mix._tank%29)  [Missile](#%28tech._mix._missile%29))
    |'
- en: '| ;Â interpretation represents the complete state of a |'
  id: totrans-2693
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè¡¨ç¤ºä¸€ä¸ª |'
- en: '| ;Â space invader game |'
  id: totrans-2694
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¤ªç©ºå…¥ä¾µè€…æ¸¸æˆ |'
- en: 'The shape of the data definition is that of an itemization. Each clause, however,
    describes the content of a structure type, just like the data definition for structure
    types we have seen so far. Still, this data definition shows that not every data
    definition comes with exactly one structure type definition; here one data definition
    involves two distinct structure type definitions.The meaning of such a data definition
    is also straightforward. It introduces the name [SIGS](#%28tech._mix._sig%29)
    for the collection of all those structure instances that you can create according
    to the definition. So let us create some:'
  id: totrans-2695
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®å®šä¹‰çš„å½¢çŠ¶ç±»ä¼¼äºåˆ—ä¸¾ã€‚ç„¶è€Œï¼Œæ¯ä¸ªå­å¥éƒ½æè¿°äº†ç»“æ„ç±»å‹çš„å†…å®¹ï¼Œå°±åƒæˆ‘ä»¬è¿„ä»Šä¸ºæ­¢æ‰€çœ‹åˆ°çš„ç»“æ„ç±»å‹çš„æ•°æ®å®šä¹‰ä¸€æ ·ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè¿™ä¸ªæ•°æ®å®šä¹‰è¡¨æ˜å¹¶éæ¯ä¸ªæ•°æ®å®šä¹‰éƒ½æ°å¥½å¯¹åº”ä¸€ä¸ªç»“æ„ç±»å‹å®šä¹‰ï¼›è¿™é‡Œä¸€ä¸ªæ•°æ®å®šä¹‰æ¶‰åŠä¸¤ä¸ªä¸åŒçš„ç»“æ„ç±»å‹å®šä¹‰ã€‚è¿™ç§æ•°æ®å®šä¹‰çš„æ„ä¹‰ä¹Ÿæ˜¯ç›´æˆªäº†å½“çš„ã€‚å®ƒå¼•å…¥äº†åç§°
    [SIGS](#%28tech._mix._sig%29) æ¥è¡¨ç¤ºæ ¹æ®å®šä¹‰å¯ä»¥åˆ›å»ºçš„æ‰€æœ‰ç»“æ„å®ä¾‹çš„é›†åˆã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€äº›ï¼š
- en: 'Here is an instance that describes the tank maneuvering into position to fire
    the missile:'
  id: totrans-2696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªæè¿°å¦å…‹è¿›å…¥å‘å°„å¯¼å¼¹ä½ç½®çš„å®ä¾‹ï¼š
- en: (make-aimÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 20Â 10)Â (make-tankÂ 28Â -3))
  id: totrans-2697
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (make-aimÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 20Â 10)Â (make-tankÂ 28Â -3))
- en: 'This one is just like the previous one but the missile has been fired:'
  id: totrans-2698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™ä¸ªä¾‹å­ä¸ä¸Šä¸€ä¸ªä¾‹å­ç±»ä¼¼ï¼Œä½†å¯¼å¼¹å·²ç»è¢«å‘å°„ï¼š
- en: '| (make-firedÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 20Â 10)
    |'
  id: totrans-2699
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-firedÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 20Â 10)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (make-tankÂ 28Â -3) |'
  id: totrans-2700
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â (make-tankÂ 28Â -3) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 28Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ TANK-HEIGHT)))
    |'
  id: totrans-2701
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 28Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ TANK-HEIGHT)))
    |'
- en: Of course, the capitalized names refer to the physical constants that you defined.
  id: totrans-2702
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œå¤§å†™å‘½åçš„åç§°æŒ‡çš„æ˜¯ä½ å®šä¹‰çš„ç‰©ç†å¸¸æ•°ã€‚
- en: 'Finally, here is one where the missile is about to collide with the UFO:'
  id: totrans-2703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œè¿™æ˜¯ä¸€ä¸ªå¯¼å¼¹å³å°†ä¸UFOç›¸æ’çš„ä¾‹å­ï¼š
- en: '| (make-firedÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 20Â 100)
    |'
  id: totrans-2704
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| (make-firedÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 20Â 100)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (make-tankÂ 100Â 3) |'
  id: totrans-2705
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â (make-tankÂ 100Â 3) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 22Â 103))
    |'
  id: totrans-2706
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 22Â 103))
    |'
- en: This example assumes that the canvas is more than 100 pixels tall.
  id: totrans-2707
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™ä¸ªä¾‹å­å‡è®¾ç”»å¸ƒçš„é«˜åº¦è¶…è¿‡100åƒç´ ã€‚
- en: Notice that the first instance of [SIGS](#%28tech._mix._sig%29) is generated
    according to the first clause of the data definition, and the second and third
    follow the second clause. Naturally the numbers in each field depend on your choices
    for global game constants.
  id: totrans-2708
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œ[SIGS](#%28tech._mix._sig%29) çš„ç¬¬ä¸€ä¸ªå®ä¾‹æ˜¯æ ¹æ®æ•°æ®å®šä¹‰çš„ç¬¬ä¸€ä¸ªå­å¥ç”Ÿæˆçš„ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå®ä¾‹éµå¾ªç¬¬äºŒä¸ªå­å¥ã€‚å½“ç„¶ï¼Œæ¯ä¸ªå­—æ®µä¸­çš„æ•°å­—å–å†³äºä½ å¯¹å…¨å±€æ¸¸æˆå¸¸æ•°çš„é€‰æ‹©ã€‚
- en: ExerciseÂ 95\. Explain why the three instances are generated according to the
    first or second clause of the data definition.
  id: totrans-2709
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 95ã€‚è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¸‰ä¸ªå®ä¾‹æ˜¯æ ¹æ®æ•°æ®å®šä¹‰çš„ç¬¬ä¸€ä¸ªæˆ–ç¬¬äºŒä¸ªå­å¥ç”Ÿæˆçš„ã€‚
- en: ExerciseÂ 96\. Sketch how each of the three game states could be rendered assuming
    a ![image](../Images/97e2464895e55686e71240be7caa71b0.png) canvas.
  id: totrans-2710
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 96ã€‚å‡è®¾ä¸€ä¸ª ![image](../Images/97e2464895e55686e71240be7caa71b0.png) ç”»å¸ƒï¼Œç»˜åˆ¶ä¸‰ç§æ¸¸æˆçŠ¶æ€çš„å¯èƒ½æ¸²æŸ“æ–¹å¼ã€‚
- en: 'The Design Recipe With a new way of formulating data definitions comes an inspection
    of the design recipe. This chapter introduces a way to combine two or more means
    of describing data, and the revised design recipe reflects this, especially the
    first step:'
  id: totrans-2711
  prefs: []
  type: TYPE_NORMAL
  zh: å¸¦æœ‰æ–°æ•°æ®å®šä¹‰å…¬å¼çš„è®¾è®¡é£Ÿè°±éšç€æ–°æ–¹å¼çš„æ•°æ®å®šä¹‰å…¬å¼çš„æå‡ºï¼Œè®¾è®¡é£Ÿè°±ä¹Ÿå¾—åˆ°äº†æ£€æŸ¥ã€‚æœ¬ç« ä»‹ç»äº†ä¸€ç§ç»“åˆä¸¤ç§æˆ–æ›´å¤šæè¿°æ•°æ®çš„æ–¹æ³•ï¼Œä¿®è®¢åçš„è®¾è®¡é£Ÿè°±åæ˜ äº†è¿™ä¸€ç‚¹ï¼Œç‰¹åˆ«æ˜¯ç¬¬ä¸€æ­¥ï¼š
- en: When do you need this new way of defining data? You already know that the need
    for itemizations is due to distinctions among different classes of information
    in the problem statement. Similarly, the need for structure-based data definitions
    is due to the demand to group several different pieces of information.
  id: totrans-2712
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½ ä½•æ—¶éœ€è¦è¿™ç§æ–°çš„å®šä¹‰æ•°æ®çš„æ–¹å¼ï¼Ÿä½ å·²ç»çŸ¥é“ï¼Œå¯¹åˆ—ä¸¾çš„éœ€æ±‚æ˜¯ç”±äºé—®é¢˜é™ˆè¿°ä¸­ä¸åŒä¿¡æ¯ç±»åˆ«çš„åŒºåˆ†ã€‚åŒæ ·ï¼ŒåŸºäºç»“æ„çš„æ•°æ®å®šä¹‰çš„éœ€æ±‚æ˜¯ç”±äºéœ€è¦å°†å‡ å—ä¸åŒçš„ä¿¡æ¯åˆ†ç»„ã€‚
- en: An itemization of different forms of dataâ€”<wbr>including collections of structuresâ€”<wbr>is
    required when your problem statement distinguishes different kinds of information
    and when at least some of these pieces of information consist of several different
    pieces.
  id: totrans-2713
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å½“ä½ çš„é—®é¢˜é™ˆè¿°åŒºåˆ†ä¸åŒç±»å‹çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è‡³å°‘è¿™äº›ä¿¡æ¯ä¸­çš„æŸäº›ç”±å‡ ä¸ªä¸åŒçš„éƒ¨åˆ†ç»„æˆæ—¶ï¼Œéœ€è¦åˆ—ä¸¾ä¸åŒå½¢å¼çš„æ•°æ®â€”â€”åŒ…æ‹¬ç»“æ„é›†åˆã€‚
- en: One thing to keep in mind is that data definitions may refer to other data definitions.
    Hence, if a particular clause in a data definition looks overly complex, it is
    acceptable to write down a separate data definition for this clause and refer
    to this auxiliary definition.
  id: totrans-2714
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: éœ€è¦è®°ä½çš„ä¸€ç‚¹æ˜¯ï¼Œæ•°æ®å®šä¹‰å¯èƒ½å¼•ç”¨å…¶ä»–æ•°æ®å®šä¹‰ã€‚å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®å®šä¹‰ä¸­çš„ç‰¹å®šæ¡æ¬¾çœ‹èµ·æ¥è¿‡äºå¤æ‚ï¼Œä¸ºè¿™ä¸ªæ¡æ¬¾ç¼–å†™ä¸€ä¸ªå•ç‹¬çš„æ•°æ®å®šä¹‰å¹¶å¼•ç”¨è¿™ä¸ªè¾…åŠ©å®šä¹‰æ˜¯å¯æ¥å—çš„ã€‚
- en: And, as always, formulate data examples using the data definitions.
  id: totrans-2715
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¹¶ä¸”ï¼Œä¸€å¦‚æ—¢å¾€åœ°ï¼Œä½¿ç”¨æ•°æ®å®šä¹‰æ¥åˆ¶å®šæ•°æ®ç¤ºä¾‹ã€‚
- en: The second step remains the same. Formulate a function signature that mentions
    only the names of defined or built-in data collections, add a purpose statement,
    and create a function header.
  id: totrans-2716
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬äºŒæ­¥ä¿æŒä¸å˜ã€‚åˆ¶å®šä¸€ä¸ªåªæåŠå®šä¹‰æˆ–å†…ç½®æ•°æ®é›†åˆåç§°çš„åŠŸèƒ½ç­¾åï¼Œæ·»åŠ ä¸€ä¸ªç›®çš„é™ˆè¿°ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå‡½æ•°å¤´ã€‚
- en: Nothing changes for the third step. You still need to formulate functional examples
    that illustrate the purpose statement from the second step, and you still need
    one example per item in the itemization.
  id: totrans-2717
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬ä¸‰æ­¥æ²¡æœ‰å˜åŒ–ã€‚ä½ ä»ç„¶éœ€è¦åˆ¶å®šåŠŸèƒ½ç¤ºä¾‹ï¼Œä»¥è¯´æ˜ç¬¬äºŒæ­¥ä¸­çš„ç›®çš„é™ˆè¿°ï¼Œå¹¶ä¸”åˆ—ä¸¾ä¸­çš„æ¯ä¸ªæ¡ç›®ä»ç„¶éœ€è¦ä¸€ä¸ªç¤ºä¾‹ã€‚
- en: 'The development of the template now exploits two different dimensions: the
    itemization itself and the use of structures in its clauses.'
  id: totrans-2718
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç°åœ¨æ¨¡æ¿çš„å¼€å‘åˆ©ç”¨äº†ä¸¤ä¸ªä¸åŒçš„ç»´åº¦ï¼šåˆ—ä¸¾æœ¬èº«åŠå…¶æ¡æ¬¾ä¸­ä½¿ç”¨ç»“æ„ã€‚
- en: By the first, the body of the template consists of a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression that has as many [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses as the itemizations has items. Furthermore, you must add a condition to
    each [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause that identifies the sub-class of data in the corresponding item.
  id: totrans-2719
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ ¹æ®ç¬¬ä¸€æ­¥ï¼Œæ¨¡æ¿çš„ä¸»ä½“ç”±ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ç»„æˆï¼Œè¯¥è¡¨è¾¾å¼æœ‰ä¸åˆ—ä¸¾ä¸­çš„æ¡ç›®æ•°é‡ç›¸åŒçš„[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)æ¡æ¬¾ã€‚æ­¤å¤–ï¼Œä½ å¿…é¡»ä¸ºæ¯ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)æ¡æ¬¾æ·»åŠ ä¸€ä¸ªæ¡ä»¶ï¼Œä»¥è¯†åˆ«å¯¹åº”æ¡ç›®ä¸­çš„æ•°æ®å­ç±»ã€‚
- en: By the second, if an item deals with a structure, the template contains the
    selector expressionsâ€”<wbr>in the [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause that deals with the sub-class of data described in the item.
  id: totrans-2720
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åˆ°ç¬¬äºŒæ­¥æ—¶ï¼Œå¦‚æœä¸€ä¸ªæ¡ç›®å¤„ç†çš„æ˜¯ç»“æ„ï¼Œæ¨¡æ¿åŒ…å«é€‰æ‹©è¡¨è¾¾å¼â€”â€”åœ¨å¤„ç†æ¡ç›®ä¸­æè¿°çš„æ•°æ®å­ç±»çš„[cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)æ¡æ¬¾ä¸­ã€‚
- en: When you choose to describe the data with a separate data definition, however,
    you do not add selector expressions. Instead, you create a template for the separate
    data definition to the task at hand and refer to that template with a function
    call. The latter indicates that this sub-class of data is being processed separately.
  id: totrans-2721
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œå½“ä½ é€‰æ‹©ç”¨å•ç‹¬çš„æ•°æ®å®šä¹‰æ¥æè¿°æ•°æ®æ—¶ï¼Œä½ ä¸éœ€è¦æ·»åŠ é€‰æ‹©è¡¨è¾¾å¼ã€‚ç›¸åï¼Œä½ ä¸ºæ‰‹å¤´çš„ä»»åŠ¡åˆ›å»ºä¸€ä¸ªå•ç‹¬æ•°æ®å®šä¹‰çš„æ¨¡æ¿ï¼Œå¹¶é€šè¿‡å‡½æ•°è°ƒç”¨å¼•ç”¨è¯¥æ¨¡æ¿ã€‚è¿™è¡¨æ˜æ­£åœ¨å•ç‹¬å¤„ç†è¿™ä¸ªæ•°æ®å­ç±»ã€‚
- en: Before going through the work of developing a template, briefly reflect on the
    nature of the function. If the problem statement suggests that there are several
    tasks to be performed, it is likely that a composition of several, separately
    designed functions is needed instead of a template. In that case, skip the template
    step.
  id: totrans-2722
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨å¼€å§‹å¼€å‘æ¨¡æ¿ä¹‹å‰ï¼Œç®€è¦åæ€å‡½æ•°çš„æœ¬è´¨ã€‚å¦‚æœé—®é¢˜é™ˆè¿°è¡¨æ˜éœ€è¦æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦ä¸€ä¸ªç”±å¤šä¸ªå•ç‹¬è®¾è®¡çš„å‡½æ•°ç»„æˆçš„ç»„åˆï¼Œè€Œä¸æ˜¯æ¨¡æ¿ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè·³è¿‡æ¨¡æ¿æ­¥éª¤ã€‚
- en: Fill the gaps in the template. The more complex you make your data definitions,
    the more complex this step becomes. The good news is that this design recipe can
    help in many situations.
  id: totrans-2723
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¡«å†™æ¨¡æ¿ä¸­çš„ç©ºç™½ã€‚æ‚¨ä½¿æ•°æ®å®šä¹‰è¶Šå¤æ‚ï¼Œè¿™ä¸€æ­¥å°±è¶Šå¤æ‚ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œè¿™ä¸ªè®¾è®¡æ–¹æ¡ˆåœ¨è®¸å¤šæƒ…å†µä¸‹éƒ½èƒ½æä¾›å¸®åŠ©ã€‚
- en: If you are stuck, fill the easy cases first and use default values for the others.
    While this makes some of the test cases fail, you are making progress and you
    can visualize this progress.
  id: totrans-2724
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨é‡åˆ°äº†å›°éš¾ï¼Œå…ˆå¡«å†™ç®€å•çš„æ¡ˆä¾‹ï¼Œå¹¶ä¸ºå…¶ä»–æƒ…å†µä½¿ç”¨é»˜è®¤å€¼ã€‚è™½ç„¶è¿™ä¼šä½¿ä¸€äº›æµ‹è¯•æ¡ˆä¾‹å¤±è´¥ï¼Œä½†æ‚¨æ­£åœ¨å–å¾—è¿›å±•ï¼Œå¹¶ä¸”å¯ä»¥å¯è§†åŒ–è¿™ä¸€è¿›å±•ã€‚
- en: If you are stuck on some cases of the itemization, analyze the examples that
    correspond to those cases. Determine what the pieces of the template compute from
    the given inputs. Then consider how to combine these pieces (plus some constants)
    to compute the desired output. Keep in mind that you might need an auxiliary function.
  id: totrans-2725
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨åœ¨æŸäº›é¡¹ç›®åˆ—ä¸¾çš„æ¡ˆä¾‹ä¸Šé‡åˆ°äº†å›°éš¾ï¼Œåˆ†æå¯¹åº”é‚£äº›æ¡ˆä¾‹çš„ç¤ºä¾‹ã€‚ç¡®å®šæ¨¡æ¿çš„å„ä¸ªéƒ¨åˆ†ä»ç»™å®šçš„è¾“å…¥ä¸­è®¡ç®—ä»€ä¹ˆã€‚ç„¶åè€ƒè™‘å¦‚ä½•å°†è¿™äº›éƒ¨åˆ†ï¼ˆåŠ ä¸Šä¸€äº›å¸¸é‡ï¼‰ç»„åˆèµ·æ¥ä»¥è®¡ç®—æ‰€éœ€çš„è¾“å‡ºã€‚è®°ä½ï¼Œæ‚¨å¯èƒ½éœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°ã€‚
- en: Also, if your template â€œcallsâ€ another template because the data definitions
    refer to each other, assume that the other function delivers what its purpose
    statement and its examples promiseâ€”<wbr>even if this other functionâ€™s definition
    isnâ€™t finished yet.
  id: totrans-2726
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œå¦‚æœæ‚¨çš„æ¨¡æ¿â€œè°ƒç”¨â€å¦ä¸€ä¸ªæ¨¡æ¿ï¼Œå› ä¸ºæ•°æ®å®šä¹‰ç›¸äº’å¼•ç”¨ï¼Œå‡è®¾å¦ä¸€ä¸ªå‡½æ•°ä¼šæä¾›å…¶ç›®çš„å£°æ˜å’Œç¤ºä¾‹æ‰€æ‰¿è¯ºçš„å†…å®¹â€”â€”å³ä½¿è¿™ä¸ªå…¶ä»–å‡½æ•°çš„å®šä¹‰å°šæœªå®Œæˆã€‚
- en: 'Test. If tests fail, determine whatâ€™s wrong: the function, the tests, or both.
    Go back to the appropriate step.'
  id: totrans-2727
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æµ‹è¯•ã€‚å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œç¡®å®šé—®é¢˜æ‰€åœ¨ï¼šå‡½æ•°ã€æµ‹è¯•æˆ–ä¸¤è€…éƒ½æœ‰ã€‚è¿”å›åˆ°é€‚å½“çš„æ­¥éª¤ã€‚
- en: Go back to [Designing Functions](#%28part._sec~3adesign-func%29), reread the
    description of the simple design recipe, and compare it to this revision.
  id: totrans-2728
  prefs: []
  type: TYPE_NORMAL
  zh: è¿”å›åˆ°[è®¾è®¡å‡½æ•°](#%28part._sec~3adesign-func%29)ï¼Œé‡æ–°é˜…è¯»ç®€å•è®¾è®¡æ–¹æ¡ˆçš„æè¿°ï¼Œå¹¶å°†å…¶ä¸è¿™æ¬¡ä¿®è®¢è¿›è¡Œæ¯”è¾ƒã€‚
- en: Letâ€™s illustrate the design recipe with the design of a rendering function for
    the sample problem at the beginning of this section. Recall that a [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    expression needs such a rendering function to turn the state of the world into
    an image after every clock tick, mouse click, or keystroke.
  id: totrans-2729
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨æœ¬èŠ‚å¼€å¤´ç¤ºä¾‹é—®é¢˜çš„æ¸²æŸ“å‡½æ•°è®¾è®¡æ¥è¯´æ˜è®¾è®¡æ–¹æ¡ˆã€‚å›æƒ³ä¸€ä¸‹ï¼Œä¸€ä¸ª[å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)è¡¨è¾¾å¼éœ€è¦ä¸€ä¸ªè¿™æ ·çš„æ¸²æŸ“å‡½æ•°ï¼Œä»¥ä¾¿åœ¨æ¯ä¸ªæ—¶é’Ÿæ»´ç­”ã€é¼ æ ‡ç‚¹å‡»æˆ–æŒ‰é”®åéƒ½å°†ä¸–ç•ŒçŠ¶æ€è½¬æ¢ä¸ºå›¾åƒã€‚
- en: 'The signature of this rendering function says that it maps an element of the
    state-of-the-world class to the class of [Image](#%28tech._image%29)s:'
  id: totrans-2730
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ¸²æŸ“å‡½æ•°çš„ç­¾åè¡¨æ˜å®ƒå°†ä¸–ç•ŒçŠ¶æ€ç±»çš„ä¸€ä¸ªå…ƒç´ æ˜ å°„åˆ°[å›¾åƒ](#%28tech._image%29)ç±»ï¼š
- en: '| ;Â [SIGS](#%28tech._mix._sig%29) -> [Image](#%28tech._image%29) |'
  id: totrans-2731
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [SIGS](#%28tech._mix._sig%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â adds TANK, UFO, and possibly MISSILE to |'
  id: totrans-2732
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ·»åŠ TANKã€UFOå’Œå¯èƒ½çš„MISSILEåˆ° |'
- en: '| ;Â the BACKGROUND scene |'
  id: totrans-2733
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â èƒŒæ™¯åœºæ™¯ä¸­ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-renderÂ s)Â BACKGROUND)
    |'
  id: totrans-2734
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-renderÂ s)Â BACKGROUND)
    |'
- en: Here TANK, UFO, MISSILE, and BACKGROUND are the requested image constants from
    [exerciseÂ 94](#%28counter._mix._%28exercise._mix1%29%29). Recall that this signature
    is just an instance of the general signature for rendering functions, which always
    consume the collections of world states and produce some image.
  id: totrans-2735
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼ŒTANKã€UFOã€MISSILEå’ŒBACKGROUNDæ˜¯ä»[ç»ƒä¹ 94](#%28counter._mix._%28exercise._mix1%29%29)ä¸­è¯·æ±‚çš„å›¾åƒå¸¸é‡ã€‚å›æƒ³ä¸€ä¸‹ï¼Œè¿™ä¸ªç­¾ååªæ˜¯æ¸²æŸ“å‡½æ•°çš„ä¸€èˆ¬ç­¾åçš„å®ä¾‹ï¼Œå®ƒå§‹ç»ˆæ¶ˆè€—ä¸–ç•ŒçŠ¶æ€çš„é›†åˆå¹¶äº§ç”Ÿä¸€äº›å›¾åƒã€‚
- en: '| s |  | (si-render  s) |'
  id: totrans-2736
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| s |  | (si-render  s) |'
- en: '|  |  |  |'
  id: totrans-2737
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  |  |'
- en: '|'
  id: totrans-2738
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-2739
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; (make-aim &#124;'
  id: totrans-2740
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (make-aim &#124;'
- en: '&#124; Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20)
    &#124;'
  id: totrans-2741
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20)
    &#124;'
- en: '&#124; Â Â (make-tankÂ 28Â -3)) &#124;'
  id: totrans-2742
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â (make-tankÂ 28Â -3)) &#124;'
- en: ''
  id: totrans-2743
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  | ![image](../Images/205e04fee6ccd823f6f3086bfac04731.png) |'
  id: totrans-2744
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   | ![å›¾åƒ](../Images/205e04fee6ccd823f6f3086bfac04731.png) |'
- en: '|'
  id: totrans-2745
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-2746
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; (make-fired &#124;'
  id: totrans-2747
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (make-fired &#124;'
- en: '&#124; Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 20Â 100)
    &#124;'
  id: totrans-2748
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    20 100) &#124;'
- en: '&#124; Â Â (make-tankÂ 100Â 3) &#124;'
  id: totrans-2749
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (make-tank 100 3) &#124;'
- en: '&#124; Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 22Â 103))
    &#124;'
  id: totrans-2750
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    22 103) &#124;'
- en: ''
  id: totrans-2751
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  | ![image](../Images/cca2bb892c8b46f3c0d06d1ddf641e94.png) |'
  id: totrans-2752
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  | ![å›¾åƒ](../Images/cca2bb892c8b46f3c0d06d1ddf641e94.png) |'
- en: '|'
  id: totrans-2753
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-2754
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; (make-fired &#124;'
  id: totrans-2755
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (make-fired &#124;'
- en: '&#124; Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 10Â 20)
    &#124;'
  id: totrans-2756
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    10 20) &#124;'
- en: '&#124; Â Â (make-tankÂ 28Â -3) &#124;'
  id: totrans-2757
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (make-tank 28 -3) &#124;'
- en: '&#124; Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 32Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHTÂ TANK-HEIGHTÂ 10)))
    &#124;'
  id: totrans-2758
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    32 ([å‡](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)
    HEIGHT TANK-HEIGHT 10))) &#124;'
- en: ''
  id: totrans-2759
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  | ![image](../Images/1f090d9d8d2c5395cbd9707edb3c6b37.png) |'
  id: totrans-2760
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   | ![å›¾åƒ](../Images/1f090d9d8d2c5395cbd9707edb3c6b37.png) |'
- en: ''
  id: totrans-2761
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 32: Rendering space invader game states, by example'
  id: totrans-2762
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾32ï¼šé€šè¿‡ç¤ºä¾‹æ¸²æŸ“å¤ªç©ºä¾µç•¥è€…æ¸¸æˆçŠ¶æ€
- en: Since the itemization in the data definition consists of two items, letâ€™s make
    three examples, using the data examples from above. See [figureÂ 32](#%28counter._mix._%28figure._fig~3asigs-examples%29%29).
    Unlike the function tables found in mathematics books, this table is rendered
    vertically. The left column contains sample inputs for our desired function; the
    right column lists the corresponding desired results. As you can see, we used
    the data examples from the first step of the design recipe, and they cover both
    items of the itemization.
  id: totrans-2763
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæ•°æ®å®šä¹‰ä¸­çš„åˆ—ä¸¾åŒ…å«ä¸¤ä¸ªé¡¹ç›®ï¼Œè®©æˆ‘ä»¬åˆ¶ä½œä¸‰ä¸ªç¤ºä¾‹ï¼Œä½¿ç”¨ä¸Šé¢çš„æ•°æ®ç¤ºä¾‹ã€‚å‚è§[å›¾32](#%28counter._mix._%28figure._fig~3asigs-examples%29%29)ã€‚ä¸æ•°å­¦ä¹¦ä¸­æ‰¾åˆ°çš„å‡½æ•°è¡¨ä¸åŒï¼Œè¿™ä¸ªè¡¨æ˜¯å‚ç›´æ¸²æŸ“çš„ã€‚å·¦ä¾§åˆ—åŒ…å«æˆ‘ä»¬æ‰€éœ€å‡½æ•°çš„ç¤ºä¾‹è¾“å…¥ï¼›å³ä¾§åˆ—åˆ—å‡ºç›¸åº”çš„æœŸæœ›ç»“æœã€‚å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†è®¾è®¡æ­¥éª¤çš„ç¬¬ä¸€æ­¥ä¸­çš„æ•°æ®ç¤ºä¾‹ï¼Œå¹¶ä¸”å®ƒä»¬æ¶µç›–äº†åˆ—ä¸¾çš„ä¸¤ä¸ªé¡¹ç›®ã€‚
- en: 'Next we turn to the development of the template, the most important step of
    the design process. First, we know that the body of si-render must be a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression with two [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses. Following the design recipe, the two conditions are (aim?  s) and (fired?  s),
    and they distinguish the two possible kinds of data that si-render may consume:'
  id: totrans-2764
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è½¬å‘æ¨¡æ¿çš„å¼€å‘ï¼Œè¿™æ˜¯è®¾è®¡è¿‡ç¨‹ä¸­çš„æœ€é‡è¦æ­¥éª¤ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“si-renderçš„ä¸»ä½“å¿…é¡»æ˜¯ä¸€ä¸ª[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)è¡¨è¾¾å¼ï¼ŒåŒ…å«ä¸¤ä¸ª[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)å­å¥ã€‚éµå¾ªè®¾è®¡æ­¥éª¤ï¼Œä¸¤ä¸ªæ¡ä»¶æ˜¯(aim?
    s)å’Œ(fired? s)ï¼Œå®ƒä»¬åŒºåˆ†si-renderå¯èƒ½æ¶ˆè´¹çš„ä¸¤ç§å¯èƒ½çš„æ•°æ®ç±»å‹ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-renderÂ s)
    |'
  id: totrans-2765
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (si-render s) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2766
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [(aim?Â s)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-2767
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [(aim? s) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [(fired?Â s)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-2768
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [(fired? s) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: 'Second, we add selector expressions to every [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause that deals with structures. In this case, both clauses concern the processing
    of structures: aim and fired. The former comes with two fields and thus requires
    two selector expressions for the first [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause, and the latter kind of structures consists of three values and thus demands
    three selector expressions:'
  id: totrans-2769
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªå¤„ç†ç»“æ„çš„ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    å­å¥æ·»åŠ é€‰æ‹©è¡¨è¾¾å¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªå­å¥éƒ½æ¶‰åŠç»“æ„çš„å¤„ç†ï¼šç„å‡†å’Œå‘å°„ã€‚å‰è€…åŒ…å«ä¸¤ä¸ªå­—æ®µï¼Œå› æ­¤ç¬¬ä¸€ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    å­å¥éœ€è¦ä¸¤ä¸ªé€‰æ‹©è¡¨è¾¾å¼ï¼Œè€Œåè€…è¿™ç§ç»“æ„ç”±ä¸‰ä¸ªå€¼ç»„æˆï¼Œå› æ­¤éœ€è¦ä¸‰ä¸ªé€‰æ‹©è¡¨è¾¾å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-renderÂ s)
    |'
  id: totrans-2770
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    si-render s) ]] |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2771
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...] ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    ]] |'
- en: '| Â Â Â Â [(aim?Â s)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (aim-tankÂ s)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (aim-ufoÂ s)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]
    |'
  id: totrans-2772
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...] [(aim? s) [ï¼ˆç„å‡†å¦å…‹ sï¼‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    [ï¼ˆç„å‡†é£ç¢Ÿ sï¼‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    ]] |'
- en: '| Â Â Â Â [(fired?Â s)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (fired-tankÂ s)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (fired-ufoÂ s)
    |'
  id: totrans-2773
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...] [(fired? s) [ï¼ˆå‘å°„å¦å…‹ï¼‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    [ï¼ˆå‘å°„é£ç¢Ÿï¼‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    ]] |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (fired-missileÂ s)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]))
    |'
  id: totrans-2774
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...] [ï¼ˆå‘å°„å¯¼å¼¹ sï¼‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    ]] |'
- en: The template contains nearly everything we need to finish our task. To complete
    the definition, we figure out for each [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    line how to combine the values we have in order to compute the expected result.
    Beyond the pieces of the input, we may also use globally defined constants, for
    example, BACKGROUND, which is obviously of help here; primitive or built-in operations;
    and, if all else fails, wish-list functions, that is, we describe functions we
    wish we had.
  id: totrans-2775
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨¡æ¿ä¸­å‡ ä¹åŒ…å«äº†æˆ‘ä»¬å®Œæˆä»»åŠ¡æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ã€‚ä¸ºäº†å®Œæˆå®šä¹‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šå¯¹äºæ¯ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡Œï¼Œå¦‚ä½•ç»„åˆæˆ‘ä»¬å·²æœ‰çš„å€¼æ¥è®¡ç®—é¢„æœŸçš„ç»“æœã€‚é™¤äº†è¾“å…¥çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å…¨å±€å®šä¹‰çš„å¸¸é‡ï¼Œä¾‹å¦‚ï¼ŒBACKGROUNDï¼Œè¿™åœ¨è¿™é‡Œæ˜¾ç„¶å¾ˆæœ‰å¸®åŠ©ï¼›åŸå§‹æˆ–å†…ç½®æ“ä½œï¼›å¦‚æœæ‰€æœ‰å…¶ä»–æ–¹æ³•éƒ½å¤±è´¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ„¿æœ›åˆ—è¡¨å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æè¿°äº†æˆ‘ä»¬å¸Œæœ›æ‹¥æœ‰çš„å‡½æ•°ã€‚
- en: 'Consider the first [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause, where we have a data representation of a tank, that is, (aim-tank  s),
    and the data representation of a UFO, that is, (aim-ufo  s). From the first example
    in [figureÂ 32](#%28counter._mix._%28figure._fig~3asigs-examples%29%29), we know
    that we need to add the two objects to the background scenery. In addition, the
    design recipe suggests that if these pieces of data come with their own data definition,
    we are to consider defining helper (auxiliary) functions and to use those to compute
    the result:'
  id: totrans-2776
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç¬¬ä¸€ä¸ª[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)å­å¥ï¼Œå…¶ä¸­æˆ‘ä»¬æœ‰ä¸€ä¸ªå¦å…‹çš„æ•°æ®è¡¨ç¤ºï¼Œå³(aim-tank  s)ï¼Œä»¥åŠä¸€ä¸ªä¸æ˜é£è¡Œç‰©(UFO)çš„æ•°æ®è¡¨ç¤ºï¼Œå³(aim-ufo  s)ã€‚ä»[å›¾32](#%28counter._mix._%28figure._fig~3asigs-examples%29%29)çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬éœ€è¦å°†è¿™ä¸¤ä¸ªå¯¹è±¡æ·»åŠ åˆ°èƒŒæ™¯åœºæ™¯ä¸­ã€‚æ­¤å¤–ï¼Œè®¾è®¡é…æ–¹å»ºè®®ï¼Œå¦‚æœè¿™äº›æ•°æ®å¸¦æœ‰å®ƒä»¬è‡ªå·±çš„æ•°æ®å®šä¹‰ï¼Œæˆ‘ä»¬åº”è¯¥è€ƒè™‘å®šä¹‰è¾…åŠ©(è¾…åŠ©)å‡½æ•°ï¼Œå¹¶ä½¿ç”¨è¿™äº›å‡½æ•°æ¥è®¡ç®—ç»“æœï¼š
- en: '| [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (tank-renderÂ (aim-tankÂ s)
    |'
  id: totrans-2777
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â (tank-renderÂ (aim-tankÂ s)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (ufo-renderÂ (aim-ufoÂ s)Â BACKGROUND)) |'
  id: totrans-2778
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (ufo-renderÂ (aim-ufoÂ s)Â BACKGROUND)) |'
- en: 'Here tank-render and ufo-render are wish-list functions:'
  id: totrans-2779
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œï¼Œtank-render å’Œ ufo-render æ˜¯æ„¿æœ›åˆ—è¡¨å‡½æ•°ï¼š
- en: '| ;Â [Tank](#%28tech._mix._tank%29)  [Image](#%28tech._image%29) -> [Image](#%28tech._image%29)
    |'
  id: totrans-2780
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Tank](#%28tech._mix._tank%29)  [Image](#%28tech._image%29) -> [Image](#%28tech._image%29)
    |'
- en: '| ;Â adds t to the given image im |'
  id: totrans-2781
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â adds t to the given image im |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tank-renderÂ tÂ im)Â im)
    |'
  id: totrans-2782
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (tank-renderÂ tÂ im)Â im)
    |'
- en: '| Â  |'
  id: totrans-2783
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [UFO](#%28tech._mix._ufo%29)  [Image](#%28tech._image%29) -> [Image](#%28tech._image%29)
    |'
  id: totrans-2784
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [UFO](#%28tech._mix._ufo%29)  [Image](#%28tech._image%29) -> [Image](#%28tech._image%29)
    |'
- en: '| ;Â adds u to the given image im |'
  id: totrans-2785
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â adds u to the given image im |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-renderÂ uÂ im)Â im)
    |'
  id: totrans-2786
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (ufo-renderÂ uÂ im)Â im)
    |'
- en: '| ;Â [SIGS](#%28tech._mix._sig%29) -> [Image](#%28tech._image%29) |'
  id: totrans-2787
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [SIGS](#%28tech._mix._sig%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â renders the given game state on top of BACKGROUND |'
  id: totrans-2788
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â renders the given game state on top of BACKGROUND |'
- en: '| ;Â for examples see [figureÂ 32](#%28counter._mix._%28figure._fig~3asigs-examples%29%29)
    |'
  id: totrans-2789
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â for examples see [figureÂ 32](#%28counter._mix._%28figure._fig~3asigs-examples%29%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-renderÂ s)
    |'
  id: totrans-2790
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-renderÂ s)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2791
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [(aim?Â s) |'
  id: totrans-2792
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [(aim?Â s) |'
- en: '| Â Â Â Â Â (tank-renderÂ (aim-tankÂ s) |'
  id: totrans-2793
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â (tank-renderÂ (aim-tankÂ s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (ufo-renderÂ (aim-ufoÂ s)Â BACKGROUND))] |'
  id: totrans-2794
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (ufo-renderÂ (aim-ufoÂ s)Â BACKGROUND))] |'
- en: '| Â Â Â Â [(fired?Â s) |'
  id: totrans-2795
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [(fired?Â s) |'
- en: '| Â Â Â Â Â (tank-render |'
  id: totrans-2796
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â (tank-render |'
- en: '| Â Â Â Â Â Â Â (fired-tankÂ s) |'
  id: totrans-2797
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â (fired-tankÂ s) |'
- en: '| Â Â Â Â Â Â Â (ufo-renderÂ (fired-ufoÂ s) |'
  id: totrans-2798
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â (ufo-renderÂ (fired-ufoÂ s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (missile-renderÂ (fired-missileÂ s) |'
  id: totrans-2799
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (missile-renderÂ (fired-missileÂ s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKGROUND)))])) |'
  id: totrans-2800
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKGROUND)))])) |'
- en: ''
  id: totrans-2801
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 33: The complete rendering function'
  id: totrans-2802
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾33ï¼šå®Œæ•´çš„æ¸²æŸ“å‡½æ•°
- en: 'With a bit of analogy, we can deal with the second [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause in the same way. [FigureÂ 33](#%28counter._mix._%28figure._fig~3asi-render%29%29)
    shows the complete definition. Best of all, we can immediately reuse our wish-list
    functions, tank-render and ufo-render, and all we need to add is a function for
    including a missile in the scene. The appropriate wish-list entry is:'
  id: totrans-2803
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡ä¸€ç‚¹ç±»æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç†ç¬¬äºŒä¸ª[æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)å­å¥ã€‚[å›¾33](#%28counter._mix._%28figure._fig~3asi-render%29%29)æ˜¾ç¤ºäº†å®Œæ•´çš„å®šä¹‰ã€‚æœ€å¥½çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç«‹å³é‡ç”¨æˆ‘ä»¬çš„æ„¿æœ›åˆ—è¡¨å‡½æ•°ï¼Œtank-render
    å’Œ ufo-renderï¼Œæˆ‘ä»¬åªéœ€è¦æ·»åŠ ä¸€ä¸ªå°†å¯¼å¼¹åŒ…å«åœ¨åœºæ™¯ä¸­çš„å‡½æ•°ã€‚é€‚å½“çš„æ„¿æœ›åˆ—è¡¨æ¡ç›®æ˜¯ï¼š
- en: '| ;Â [Missile](#%28tech._mix._missile%29)  [Image](#%28tech._image%29) -> [Image](#%28tech._image%29)
    |'
  id: totrans-2804
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Missile](#%28tech._mix._missile%29)  [Image](#%28tech._image%29) -> [Image](#%28tech._image%29)
    |'
- en: '| ;Â adds m to the given image im |'
  id: totrans-2805
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â adds m to the given image im |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-renderÂ mÂ im)Â im)
    |'
  id: totrans-2806
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (å¯¼å¼¹æ¸²æŸ“Â mÂ im)Â im)
    |'
- en: 'As above, the comment describes in sufficient detail what we want.ExerciseÂ 97\.
    Design the functions tank-render, ufo-render, and missile-render. Compare this
    expression:'
  id: totrans-2807
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä¸Šæ‰€è¿°ï¼Œæ³¨é‡Šè¯¦ç»†æè¿°äº†æˆ‘ä»¬æƒ³è¦çš„å†…å®¹ã€‚ç»ƒä¹  97. è®¾è®¡å¦å…‹æ¸²æŸ“ã€å¤–æ˜Ÿäººæ¸²æŸ“å’Œå¯¼å¼¹æ¸²æŸ“å‡½æ•°ã€‚æ¯”è¾ƒè¿™ä¸ªè¡¨è¾¾å¼ï¼š
- en: '| (tank-render |'
  id: totrans-2808
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (å¦å…‹æ¸²æŸ“ |'
- en: '| Â Â (fired-tankÂ s) |'
  id: totrans-2809
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (å‘å°„å¦å…‹Â s) |'
- en: '| Â Â (ufo-renderÂ (fired-ufoÂ s) |'
  id: totrans-2810
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (å¤–æ˜Ÿäººæ¸²æŸ“Â (å‘å°„å¤–æ˜ŸäººÂ s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (missile-renderÂ (fired-missileÂ s) |'
  id: totrans-2811
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â (å¯¼å¼¹æ¸²æŸ“Â (å·²å‘å°„å¯¼å¼¹Â s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKGROUND))) |'
  id: totrans-2812
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â èƒŒæ™¯))) |'
- en: 'with this one:'
  id: totrans-2813
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™ä¸ªï¼š
- en: '| (ufo-render |'
  id: totrans-2814
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (ufo-render |'
- en: '| Â Â (fired-ufoÂ s) |'
  id: totrans-2815
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (å‘å°„å¤–æ˜ŸäººÂ s) |'
- en: '| Â Â (tank-renderÂ (fired-tankÂ s) |'
  id: totrans-2816
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (å¦å…‹æ¸²æŸ“Â (å‘å°„å¦å…‹Â s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (missile-renderÂ (fired-missileÂ s) |'
  id: totrans-2817
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â (å¯¼å¼¹æ¸²æŸ“Â (å·²å‘å°„å¯¼å¼¹Â s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKGROUND))) |'
  id: totrans-2818
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â èƒŒæ™¯))) |'
- en: When do the two expressions produce the same result?
  id: totrans-2819
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸¤ä¸ªè¡¨è¾¾å¼ä½•æ—¶ä¼šäº§ç”Ÿç›¸åŒçš„ç»“æœï¼Ÿ
- en: ExerciseÂ 98\. Design the function si-game-over? for use as the [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    handler. The game stops if the UFO lands or if the missile hits the UFO. For both
    conditions, we recommend that you check for proximity of one object to another.
  id: totrans-2820
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  98. è®¾è®¡ si-game-over? å‡½æ•°ï¼Œç”¨ä½œ [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    å¤„ç†å™¨ã€‚å¦‚æœå¤–æ˜Ÿäººç€é™†æˆ–å¯¼å¼¹å‡»ä¸­å¤–æ˜Ÿäººï¼Œæ¸¸æˆå°†åœæ­¢ã€‚å¯¹äºè¿™ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬å»ºè®®æ‚¨æ£€æŸ¥ä¸€ä¸ªç‰©ä½“ä¸å¦ä¸€ä¸ªç‰©ä½“çš„æ¥è¿‘ç¨‹åº¦ã€‚
- en: The [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    clause allows for an optional second sub-expression, namely a function that renders
    the final state of the game. Design si-render-final and use it as the second part
    for your [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    clause in the main function of [exerciseÂ 100](#%28counter._mix._%28exercise._mix-ufo-fire%29%29).
  id: totrans-2821
  prefs: []
  type: TYPE_NORMAL
  zh: '[stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    å­å¥å…è®¸æœ‰ä¸€ä¸ªå¯é€‰çš„ç¬¬äºŒä¸ªå­è¡¨è¾¾å¼ï¼Œå³ä¸€ä¸ªæ¸²æŸ“æ¸¸æˆæœ€ç»ˆçŠ¶æ€çš„å‡½æ•°ã€‚è®¾è®¡ si-render-final å¹¶å°†å…¶ç”¨ä½œ [ç»ƒä¹  100](#%28counter._mix._%28exercise._mix-ufo-fire%29%29)
    ä¸»å‡½æ•°ä¸­çš„ [stop-when](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29)
    å­å¥çš„ç¬¬äºŒéƒ¨åˆ†ã€‚'
- en: ExerciseÂ 99\. Design si-move. This function is called for every clock tick to
    determine to which position the objects move now. Accordingly, it consumes an
    element of [SIGS](#%28tech._mix._sig%29) and produces another one.
  id: totrans-2822
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  99. è®¾è®¡ si-moveã€‚è¿™ä¸ªå‡½æ•°åœ¨æ¯æ¬¡æ—¶é’Ÿæ»´ç­”æ—¶è¢«è°ƒç”¨ï¼Œä»¥ç¡®å®šç‰©ä½“ç°åœ¨ç§»åŠ¨åˆ°å“ªä¸ªä½ç½®ã€‚ç›¸åº”åœ°ï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ª [SIGS](#%28tech._mix._sig%29)
    çš„å…ƒç´ å¹¶äº§ç”Ÿå¦ä¸€ä¸ªã€‚
- en: Moving the tank and the missile (if any) is relatively straightforward. They
    move in straight lines at a constant speed. Moving the UFO calls for small random
    jumps to the left or the right. Since you have never dealt with functions that
    create random numbers, the rest of this exercise is a longish hint on how to deal
    with this issue.
  id: totrans-2823
  prefs: []
  type: TYPE_NORMAL
  zh: ç§»åŠ¨å¦å…‹å’Œå¯¼å¼¹ï¼ˆå¦‚æœæœ‰ï¼‰ç›¸å¯¹ç®€å•ã€‚å®ƒä»¬ä»¥æ’å®šé€Ÿåº¦æ²¿ç›´çº¿ç§»åŠ¨ã€‚ç§»åŠ¨å¤–æ˜Ÿäººéœ€è¦å‘å·¦æˆ–å‘å³è¿›è¡Œå°çš„éšæœºè·³è·ƒã€‚ç”±äºä½ ä»æœªå¤„ç†è¿‡åˆ›å»ºéšæœºæ•°çš„å‡½æ•°ï¼Œæ¥ä¸‹æ¥çš„ç»ƒä¹ å°†æ˜¯ä¸€ä¸ªå…³äºå¦‚ä½•å¤„ç†è¿™ä¸ªé—®é¢˜çš„é•¿ç¯‡æç¤ºã€‚
- en: 'BSL comes with a function that creates random numbers. Introducing this function
    illustrates why the signatures and purpose statements play such an important role
    during the design. Here is the relevant material for the function you need:'
  id: totrans-2824
  prefs: []
  type: TYPE_NORMAL
  zh: BSL åŒ…å«ä¸€ä¸ªåˆ›å»ºéšæœºæ•°çš„å‡½æ•°ã€‚ä»‹ç»è¿™ä¸ªå‡½æ•°å¯ä»¥è¯´æ˜ä¸ºä»€ä¹ˆç­¾åå’Œç›®çš„è¯´æ˜åœ¨è®¾è®¡è¿‡ç¨‹ä¸­æ‰®æ¼”å¦‚æ­¤é‡è¦çš„è§’è‰²ã€‚ä»¥ä¸‹æ˜¯æ‰€éœ€å‡½æ•°çš„ç›¸å…³ææ–™ï¼š
- en: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
  id: totrans-2825
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ•°å­—](#%28tech._æ•°å­—%29) -> [æ•°å­—](#%28tech._æ•°å­—%29) |'
- en: '| ;Â produces a number in the interval [0,n), |'
  id: totrans-2826
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â äº§ç”Ÿä¸€ä¸ªä½äºåŒºé—´ [0,n) å†…çš„æ•°å­—ï¼Œ |'
- en: '| ;Â possibly a different one each time it is called |'
  id: totrans-2827
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ¯æ¬¡è°ƒç”¨å¯èƒ½å¾—åˆ°ä¸åŒçš„ä¸€ä¸ª |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ([random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)Â n)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-2828
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ([random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)Â n)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: Since the signature and purpose statement precisely describe what a function
    computes, you can now experiment with [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)
    in DrRacketâ€™s interactions area. Stop! Do so!If [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)
    produces different numbers (almost) every time it is called, testing functions
    that use [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)
    is difficult. To start with, separate si-move and its proper functionality into
    two parts:The idea that you must use [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)
    is BSL knowledge, not a part of the design skills you must acquire, which is why
    we provide this hint. Also, [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)
    is the first and only BSL primitive that is not a mathematical function. Functions
    in programming are inspired by mathematical functions, but they are not identical
    concepts.
  id: totrans-2829
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºç­¾åå’Œç›®çš„è¯´æ˜ç²¾ç¡®åœ°æè¿°äº†ä¸€ä¸ªå‡½æ•°è®¡ç®—çš„å†…å®¹ï¼Œä½ ç°åœ¨å¯ä»¥åœ¨DrRacketçš„äº¤äº’åŒºåŸŸä¸­å°è¯•ä½¿ç”¨[éšæœº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)ã€‚åœæ­¢ï¼è¿™æ ·åšï¼å¦‚æœ[éšæœº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)æ¯æ¬¡è°ƒç”¨éƒ½äº§ç”Ÿä¸åŒçš„æ•°å­—ï¼ˆå‡ ä¹ï¼‰ï¼Œé‚£ä¹ˆæµ‹è¯•ä½¿ç”¨[éšæœº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)çš„å‡½æ•°æ˜¯å›°éš¾çš„ã€‚é¦–å…ˆï¼Œå°†si-moveåŠå…¶é€‚å½“çš„åŠŸèƒ½åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå¿…é¡»ä½¿ç”¨[éšæœº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)çš„æƒ³æ³•æ˜¯BSLçŸ¥è¯†ï¼Œè€Œä¸æ˜¯ä½ å¿…é¡»è·å¾—çš„è®¾è®¡æŠ€èƒ½çš„ä¸€éƒ¨åˆ†ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æä¾›è¿™ä¸ªæç¤ºçš„åŸå› ã€‚æ­¤å¤–ï¼Œ[éšæœº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)æ˜¯BSLä¸­ç¬¬ä¸€ä¸ªä¸”å”¯ä¸€ä¸€ä¸ªä¸æ˜¯æ•°å­¦å‡½æ•°çš„åŸç”Ÿå‡½æ•°ã€‚ç¼–ç¨‹ä¸­çš„å‡½æ•°æ˜¯å—æ•°å­¦å‡½æ•°å¯å‘çš„ï¼Œä½†å®ƒä»¬ä¸æ˜¯ç›¸åŒçš„æ¦‚å¿µã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-moveÂ w)
    |'
  id: totrans-2830
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-moveÂ w)
    |'
- en: '| Â Â (si-move-properÂ wÂ ([random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))))
    |'
  id: totrans-2831
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (si-move-properÂ wÂ ([random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))))
    |'
- en: '| Â  |'
  id: totrans-2832
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [SIGS](#%28tech._mix._sig%29) Number -> [SIGS](#%28tech._mix._sig%29) |'
  id: totrans-2833
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [SIGS](#%28tech._mix._sig%29) Number -> [SIGS](#%28tech._mix._sig%29) |'
- en: '| ;Â moves the space-invader objects predictably by delta |'
  id: totrans-2834
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â é€šè¿‡deltaé¢„æµ‹æ€§åœ°ç§»åŠ¨ç©ºé—´ä¾µç•¥è€…å¯¹è±¡ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-move-properÂ wÂ delta)
    |'
  id: totrans-2835
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-move-properÂ wÂ delta)
    |'
- en: '| Â Â w) |'
  id: totrans-2836
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â w) |'
- en: With this definition you separate the creation of a random number from the act
    of moving the game objects. While [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)
    may produce different results every time it is called, si-move-proper can be tested
    on specific numeric inputs and is thus guaranteed to return the same result when
    given the same inputs. In short, most of the code remains testable.
  id: totrans-2837
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡è¿™ä¸ªå®šä¹‰ï¼Œä½ å°†éšæœºæ•°çš„ç”Ÿæˆä¸ç§»åŠ¨æ¸¸æˆå¯¹è±¡çš„è¡Œä¸ºåˆ†å¼€ã€‚è™½ç„¶[éšæœº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)æ¯æ¬¡è°ƒç”¨å¯èƒ½äº§ç”Ÿä¸åŒçš„ç»“æœï¼Œä½†si-move-properå¯ä»¥åœ¨ç‰¹å®šçš„æ•°å€¼è¾“å…¥ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä¸”å½“ç»™å®šç›¸åŒçš„è¾“å…¥æ—¶ï¼Œå¯ä»¥ä¿è¯è¿”å›ç›¸åŒçš„ç»“æœã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¤§éƒ¨åˆ†ä»£ç ä»ç„¶æ˜¯å¯æµ‹è¯•çš„ã€‚
- en: Instead of calling [random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)
    directly, you may wish to design a function that creates a random x-coordinate
    for the UFO. Consider using [check-random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-random%29%29)
    from BSLâ€™s testing framework to test such a function.
  id: totrans-2838
  prefs: []
  type: TYPE_NORMAL
  zh: è€Œä¸æ˜¯ç›´æ¥è°ƒç”¨[random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._random%29%29)ï¼Œä½ å¯èƒ½å¸Œæœ›è®¾è®¡ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºUFOçš„éšæœºxåæ ‡ã€‚è€ƒè™‘ä½¿ç”¨BSLæµ‹è¯•æ¡†æ¶ä¸­çš„[check-random](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-random%29%29)æ¥æµ‹è¯•è¿™æ ·çš„å‡½æ•°ã€‚
- en: 'ExerciseÂ 100\. Design the function si-control, which plays the role of the
    key-event handler. As such, it consumes a game state and a [KeyEvent](#%28tech._keyevent%29)
    and produces a new game state. It reacts to three different keys:'
  id: totrans-2839
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 100ã€‚è®¾è®¡si-controlå‡½æ•°ï¼Œå®ƒå……å½“é”®äº‹ä»¶å¤„ç†å™¨çš„è§’è‰²ã€‚ä½œä¸ºè¿™æ ·çš„è§’è‰²ï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªæ¸¸æˆçŠ¶æ€å’Œä¸€ä¸ª[KeyEvent](#%28tech._keyevent%29)ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„æ¸¸æˆçŠ¶æ€ã€‚å®ƒå¯¹ä¸‰ä¸ªä¸åŒçš„é”®åšå‡ºååº”ï¼š
- en: pressing the left arrow ensures that the tank moves left;
  id: totrans-2840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æŒ‰ä¸‹å·¦ç®­å¤´ç¡®ä¿å¦å…‹å‘å·¦ç§»åŠ¨ï¼›
- en: pressing the right arrow ensures that the tank moves right; and
  id: totrans-2841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æŒ‰ä¸‹å³ç®­å¤´ç¡®ä¿å¦å…‹å‘å³ç§»åŠ¨ï¼›å¹¶ä¸”
- en: pressing the space bar fires the missile if it hasnâ€™t been launched yet.
  id: totrans-2842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æŒ‰ä¸‹ç©ºæ ¼é”®å¦‚æœå¯¼å¼¹å°šæœªå‘å°„åˆ™å‘å°„å¯¼å¼¹ã€‚
- en: Once you have this function, you can define the si-main function, which uses
    [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    to spawn the game-playing window. Enjoy!
  id: totrans-2843
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä½ æœ‰äº†è¿™ä¸ªå‡½æ•°ï¼Œä½ å¯ä»¥å®šä¹‰si-mainå‡½æ•°ï¼Œå®ƒä½¿ç”¨[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)æ¥ç”Ÿæˆæ¸¸æˆçª—å£ã€‚äº«å—å§ï¼
- en: '| ;Â [SIGS.v2](#%28tech._mix._sigs..v2%29) -> [Image](#%28tech._image%29) |'
  id: totrans-2844
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [SIGS.v2](#%28tech._mix._sigs..v2%29) -> [Image](#%28tech._image%29) |'
- en: '| ;Â renders the given game state on top of BACKGROUND |'
  id: totrans-2845
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨èƒŒæ™¯ä¹‹ä¸Šæ¸²æŸ“ç»™å®šçš„æ¸¸æˆçŠ¶æ€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-render.v2Â s)
    |'
  id: totrans-2846
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (si-render.v2Â s)
    |'
- en: '| Â Â (tank-render |'
  id: totrans-2847
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (tank-render |'
- en: '| Â Â Â Â (sigs-tankÂ s) |'
  id: totrans-2848
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (sigs-tankÂ s) |'
- en: '| Â Â Â Â (ufo-renderÂ (sigs-ufoÂ s) |'
  id: totrans-2849
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â (ufo-renderÂ (sigs-ufoÂ s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (missile-render.v2Â (sigs-missileÂ s) |'
  id: totrans-2850
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (missile-render.v2Â (sigs-missileÂ s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKGROUND)))) |'
  id: totrans-2851
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BACKGROUND)))) |'
- en: ''
  id: totrans-2852
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 34: Rendering game states again'
  id: totrans-2853
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾34ï¼šå†æ¬¡æ¸²æŸ“æ¸¸æˆçŠ¶æ€
- en: 'Data representations are rarely unique. For example, we could use a single
    structure type to represent the states of a space invader game:'
  id: totrans-2854
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®è¡¨ç¤ºå¾ˆå°‘æ˜¯å”¯ä¸€çš„ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¸ªç»“æ„ç±»å‹æ¥è¡¨ç¤ºå¤ªç©ºå…¥ä¾µè€…çš„æ¸¸æˆçŠ¶æ€ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â sigsÂ [ufoÂ tankÂ missile])
    |'
  id: totrans-2855
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â sigsÂ [ufoÂ tankÂ missile])
    |'
- en: '| ;Â A SIGS.v2 (short for SIGS version 2) is a structure: |'
  id: totrans-2856
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â SIGS.v2ï¼ˆç®€ç§°SIGSç‰ˆæœ¬2ï¼‰æ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-sigs  [UFO](#%28tech._mix._ufo%29)  [Tank](#%28tech._mix._tank%29)  [MissileOrNot](#%28tech._mix._missileornot%29))
    |'
  id: totrans-2857
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-sigs  [UFO](#%28tech._mix._ufo%29)  [Tank](#%28tech._mix._tank%29)  [MissileOrNot](#%28tech._mix._missileornot%29))
    |'
- en: '| ;Â interpretation represents the complete state of a |'
  id: totrans-2858
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè¡¨ç¤ºè§£é‡Šçš„å®Œæ•´çŠ¶æ€ï¼› |'
- en: '| ;Â space invader game |'
  id: totrans-2859
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¤ªç©ºå…¥ä¾µè€…æ¸¸æˆ |'
- en: '| Â  |'
  id: totrans-2860
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â  |'
- en: '| ;Â A MissileOrNot is one of: |'
  id: totrans-2861
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â MissileOrNotå¯ä»¥æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  #false |'
  id: totrans-2862
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  #false |'
- en: '| ;Â â€“  [Posn](#%28tech._posn%29) |'
  id: totrans-2863
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [Posn](#%28tech._posn%29) |'
- en: '| ;Â interpretation#false means the missile is in the tank; |'
  id: totrans-2864
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š#falseè¡¨ç¤ºå¯¼å¼¹åœ¨å¦å…‹ä¸­ï¼› |'
- en: '| ;Â [Posn](#%28tech._posn%29) says the missile is at that location |'
  id: totrans-2865
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Posn](#%28tech._posn%29)è¡¨ç¤ºå¯¼å¼¹åœ¨é‚£ä¸ªä½ç½® |'
- en: 'Unlike the first data representation for game states, this second version does
    not distinguish between before and after the missile launch. Instead, each state
    contains some data about the missile though this piece of data may just be #false,
    indicating that the missile hasnâ€™t been fired yet.'
  id: totrans-2866
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æ¸¸æˆçŠ¶æ€çš„ç¬¬ä¸€ç§æ•°æ®è¡¨ç¤ºä¸åŒï¼Œè¿™ä¸ªç¬¬äºŒä¸ªç‰ˆæœ¬ä¸åŒºåˆ†å¯¼å¼¹å‘å°„å‰åçš„çŠ¶æ€ã€‚ç›¸åï¼Œæ¯ä¸ªçŠ¶æ€éƒ½åŒ…å«ä¸€äº›å…³äºå¯¼å¼¹çš„æ•°æ®ï¼Œå°½ç®¡è¿™äº›æ•°æ®å¯èƒ½åªæ˜¯#falseï¼Œè¡¨ç¤ºå¯¼å¼¹å°šæœªå‘å°„ã€‚
- en: As a result, the functions for this second data representation of states differ
    from the functions for the first one. In particular, functions that consume an
    element of [SIGS.v2](#%28tech._mix._sigs..v2%29) do not use a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression because there is only one kind of element in the collection. In terms
    of design approach, the design recipe for structures from [Designing with Structures](#%28part._sec~3adesignstructs%29)
    suffices. [FigureÂ 34](#%28counter._mix._%28figure._fig~3amix-ufo2%29%29) shows
    the result of designing the rendering function for this data representation.
  id: totrans-2867
  prefs: []
  type: TYPE_NORMAL
  zh: As a result, the functions for this second data representation of states differ
    from the functions for the first one. In particular, functions that consume an
    element of [SIGS.v2](#%28tech._mix._sigs..v2%29) do not use a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression because there is only one kind of element in the collection. In terms
    of design approach, the design recipe for structures from [Designing with Structures](#%28part._sec~3adesignstructs%29)
    suffices. [å›¾Â 34](#%28counter._mix._%28figure._fig~3amix-ufo2%29%29) shows the
    result of designing the rendering function for this data representation.
- en: 'In contrast, the design of functions using [MissileOrNot](#%28tech._mix._missileornot%29)
    requires the recipe from this section. Letâ€™s look at the design of missile-render.v2,
    whose job it is to add a missile to an image. Here is the header material:'
  id: totrans-2868
  prefs: []
  type: TYPE_NORMAL
  zh: 'In contrast, the design of functions using [MissileOrNot](#%28tech._mix._missileornot%29)
    requires the recipe from this section. Letâ€™s look at the design of missile-render.v2,
    whose job it is to add a missile to an image. Here is the header material:'
- en: '| ;Â [MissileOrNot](#%28tech._mix._missileornot%29)  [Image](#%28tech._image%29)
    -> [Image](#%28tech._image%29) |'
  id: totrans-2869
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [å¯¼å¼¹ä¸å¦](#%28tech._mix._missileornot%29)  [å›¾åƒ](#%28tech._image%29) -> [å›¾åƒ](#%28tech._image%29)
    |'
- en: '| ;Â adds an image of missile m to scene s |'
  id: totrans-2870
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‘åœºæ™¯sæ·»åŠ å¯¼å¼¹å›¾åƒm |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-render.v2Â mÂ s)
    |'
  id: totrans-2871
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-render.v2Â mÂ s)
    |'
- en: '| Â Â s) |'
  id: totrans-2872
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â s) |'
- en: 'As for examples, we must consider at least two cases: one when m is #false
    and another one when m is a [Posn](#%28tech._posn%29). In the first case, the
    missile hasnâ€™t been fired, which means that no image of a missile is to be added
    to the given scene. In the second case, the missileâ€™s position is specified and
    that is where the image of the missile must show up. [FigureÂ 35](#%28counter._mix._%28figure._fig~3amissile-render%29%29)
    demonstrates the workings of the function with two distinct scenarios.'
  id: totrans-2873
  prefs: []
  type: TYPE_NORMAL
  zh: 'As for examples, we must consider at least two cases: one when m is #false
    and another one when m is a [Posn](#%28tech._posn%29). In the first case, the
    missile hasnâ€™t been fired, which means that no image of a missile is to be added
    to the given scene. In the second case, the missileâ€™s position is specified and
    that is where the image of the missile must show up. [å›¾Â 35](#%28counter._mix._%28figure._fig~3amissile-render%29%29)
    demonstrates the workings of the function with two distinct scenarios.'
- en: '| m |  | (missile-render.v2  m  s) |'
  id: totrans-2874
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| m |  | (missile-render.v2  m  s) |'
- en: '|  |  |  |'
  id: totrans-2875
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  |  |'
- en: '| #false |  | ![image](../Images/85debffb3b5732af15e7b31af68a7406.png) |'
  id: totrans-2876
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |  | ![å›¾åƒ](../Images/85debffb3b5732af15e7b31af68a7406.png) |'
- en: '|'
  id: totrans-2877
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-2878
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    &#124;'
  id: totrans-2879
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)
    &#124;'
- en: '&#124; Â Â 32 &#124;'
  id: totrans-2880
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â 32 &#124;'
- en: '&#124; Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)Â HEIGHT
    &#124;'
  id: totrans-2881
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([-](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29)
    HEIGHT &#124;'
- en: '&#124; Â Â Â Â Â TANK-HEIGHT &#124;'
  id: totrans-2882
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â TANK-HEIGHT &#124;'
- en: '&#124; Â Â Â Â Â 10)) &#124;'
  id: totrans-2883
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â 10)) &#124;'
- en: ''
  id: totrans-2884
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  | ![image](../Images/a5708b022a31c637db33c2fd73939cdf.png) |'
  id: totrans-2885
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  | ![å›¾åƒ](../Images/a5708b022a31c637db33c2fd73939cdf.png) |'
- en: ''
  id: totrans-2886
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 35: Rendering the space invader games, with tanks'
  id: totrans-2887
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 'å›¾Â 35: æ¸²æŸ“å¤ªç©ºä¾µç•¥è€…æ¸¸æˆï¼Œå¸¦æœ‰å¦å…‹'
- en: ExerciseÂ 101\. Turn the examples in [figureÂ 35](#%28counter._mix._%28figure._fig~3amissile-render%29%29)
    into test cases.
  id: totrans-2888
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ Â 101\. å°†[å›¾Â 35](#%28counter._mix._%28figure._fig~3amissile-render%29%29)ä¸­çš„ç¤ºä¾‹è½¬æ¢ä¸ºæµ‹è¯•ç”¨ä¾‹ã€‚
- en: 'Now we are ready to develop the template. Because the data definition for the
    major argument (m) is an itemization with two items, the function body is likely
    to consist of a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression with two clauses:'
  id: totrans-2889
  prefs: []
  type: TYPE_NORMAL
  zh: 'Now we are ready to develop the template. Because the data definition for the
    major argument (m) is an itemization with two items, the function body is likely
    to consist of a [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    expression with two clauses:'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-render.v2Â mÂ s)
    |'
  id: totrans-2890
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (missile-render.v2 m s) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2891
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-2892
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)
    m) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
  id: totrans-2893
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)
    m) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]))
    |'
- en: 'Following the data definition again, the first [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause checks whether m is a [Boolean](#%28tech._boolean%29) value and the second
    one checks whether it is an element of [Posn](#%28tech._posn%29). And, if someone
    were to accidentally apply missile-render.v2 to #true and to some image, the function
    would use the first [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clause to compute the result. We have more to say on such errors below.The second
    template step requests selector expressions in all those [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses that deal with structures. In our example, this is true for the second
    clause, and the selector expressions extract the x- and y-coordinates from the
    given [Posn](#%28tech._posn%29):'
  id: totrans-2894
  prefs: []
  type: TYPE_NORMAL
  zh: 'å†æ¬¡éµå¾ªæ•°æ®å®šä¹‰ï¼Œç¬¬ä¸€ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    æ¡ä»¶æ£€æŸ¥ m æ˜¯å¦ä¸º [å¸ƒå°”å€¼](#%28tech._boolean%29) å¹¶ä¸”ç¬¬äºŒä¸ªæ¡ä»¶æ£€æŸ¥å®ƒæ˜¯å¦æ˜¯ [ä½ç½®](#%28tech._posn%29) çš„å…ƒç´ ã€‚æ­¤å¤–ï¼Œå¦‚æœæœ‰äººä¸å°å¿ƒå°†
    missile-render.v2 åº”ç”¨åˆ° #true å’ŒæŸä¸ªå›¾åƒä¸Šï¼Œå‡½æ•°å°†ä½¿ç”¨ç¬¬ä¸€ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    æ¡ä»¶æ¥è®¡ç®—ç»“æœã€‚å…³äºæ­¤ç±»é”™è¯¯ï¼Œæˆ‘ä»¬ä¸‹é¢è¿˜æœ‰æ›´å¤šè¦è¯´çš„ã€‚ç¬¬äºŒä¸ªæ¨¡æ¿æ­¥éª¤è¦æ±‚åœ¨å¤„ç†ç»“æ„çš„æ‰€æœ‰ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    æ¡ä»¶ä¸­æä¾›é€‰æ‹©è¡¨è¾¾å¼ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™é€‚ç”¨äºç¬¬äºŒä¸ªæ¡ä»¶ï¼Œå¹¶ä¸”é€‰æ‹©è¡¨è¾¾å¼ä»ç»™å®šçš„ [ä½ç½®](#%28tech._posn%29) æå– x å’Œ y åæ ‡ï¼š'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-render.v2Â mÂ s)
    |'
  id: totrans-2895
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (missile-render.v2 m s) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2896
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-2897
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)
    m) [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â m)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]))
    |'
  id: totrans-2898
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â m)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]))
    |'
- en: 'Compare this template with the one for si-render above. The data definition
    for the latter deals with two distinct structure types, and therefore the function
    template for si-render contains selector expressions in both [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    clauses. The data definition for [MissileOrNot](#%28tech._mix._missileornot%29),
    however, mixes items that are plain values with items that describe structures.
    Both kinds of definitions are perfectly fine; the key for you is to follow the
    recipe and to find a code organization that matches the data definition.Here is
    the complete function definition:'
  id: totrans-2899
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ­¤æ¨¡æ¿ä¸ä¸Šé¢ si-render çš„æ¨¡æ¿è¿›è¡Œæ¯”è¾ƒã€‚åè€…çš„æ•°æ®å®šä¹‰å¤„ç†ä¸¤ç§ä¸åŒçš„ç»“æ„ç±»å‹ï¼Œå› æ­¤ si-render çš„å‡½æ•°æ¨¡æ¿åœ¨ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    æ¡ä»¶è¯­å¥ä¸­åŒ…å«é€‰æ‹©è¡¨è¾¾å¼ã€‚ç„¶è€Œï¼Œ[MissileOrNot](#%28tech._mix._missileornot%29) çš„æ•°æ®å®šä¹‰å°†æ™®é€šå€¼ä¸æè¿°ç»“æ„çš„é¡¹æ··åˆã€‚è¿™ä¸¤ç§å®šä¹‰éƒ½æ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„ï¼›å¯¹ä½ æ¥è¯´ï¼Œå…³é”®æ˜¯éµå¾ªé…æ–¹ï¼Œå¹¶æ‰¾åˆ°ä¸€ä¸ªä¸æ•°æ®å®šä¹‰ç›¸åŒ¹é…çš„ä»£ç ç»„ç»‡ç»“æ„ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å‡½æ•°å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-render.v2Â mÂ s)
    |'
  id: totrans-2900
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-render.v2Â mÂ s)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-2901
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â m)Â s]
    |'
  id: totrans-2902
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â m)Â s]
    |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â m)
    |'
  id: totrans-2903
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â m)
    |'
- en: '| Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â MISSILEÂ ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â m)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â m)Â s)]))
    |'
  id: totrans-2904
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â MISSILEÂ ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â m)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â m)Â s)]))
    |'
- en: Doing this step-by-step, you first work on the easy clauses; in this function
    thatâ€™s the first one. Since it says the missile hasnâ€™t been fired, the function
    returns the given s. For the second clause, you need to remember that ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  m)
    and ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  m)
    select the coordinates for the image of the missile. This function must add MISSILE
    to s, so you have to figure out the best combination of primitive operations and
    your own functions to combine the four values. The choice of this combining operation
    is precisely where your creative insight as a programmer comes into play.
  id: totrans-2905
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰æ­¥éª¤è¿›è¡Œï¼Œä½ é¦–å…ˆå¤„ç†ç®€å•çš„å­å¥ï¼›åœ¨è¿™ä¸ªå‡½æ•°ä¸­å°±æ˜¯ç¬¬ä¸€ä¸ªã€‚å› ä¸ºå®ƒè¯´å¯¼å¼¹å°šæœªå‘å°„ï¼Œæ‰€ä»¥å‡½æ•°è¿”å›ç»™å®šçš„sã€‚å¯¹äºç¬¬äºŒä¸ªå­å¥ï¼Œä½ éœ€è¦è®°ä½([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)  m)
    å’Œ ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)  m)
    é€‰æ‹©å¯¼å¼¹å›¾åƒçš„åæ ‡ã€‚è¿™ä¸ªå‡½æ•°å¿…é¡»å°†MISSILEæ·»åŠ åˆ°sä¸­ï¼Œæ‰€ä»¥ä½ å¿…é¡»æ‰¾å‡ºæœ€ä½³çš„åŸç”Ÿæ“ä½œå’Œè‡ªå®šä¹‰å‡½æ•°çš„ç»„åˆæ¥åˆå¹¶è¿™å››ä¸ªå€¼ã€‚è¿™ç§ç»„åˆæ“ä½œçš„é€‰æ‹©æ­£æ˜¯ä½ ä½œä¸ºç¨‹åºå‘˜åˆ›é€ æ€§æ´å¯ŸåŠ›çš„ä½“ç°ã€‚
- en: ExerciseÂ 102\. Design all other functions that are needed to complete the game
    for this second data definition.
  id: totrans-2906
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 102ã€‚è®¾è®¡å®Œæˆç¬¬äºŒä¸ªæ•°æ®å®šä¹‰æ‰€éœ€çš„æ‰€æœ‰å…¶ä»–åŠŸèƒ½ã€‚
- en: 'ExerciseÂ 103\. Develop a data representation for the following four kinds of
    zoo animals:'
  id: totrans-2907
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 103ã€‚ä¸ºä»¥ä¸‹å››ç§åŠ¨ç‰©å›­åŠ¨ç‰©å¼€å‘æ•°æ®è¡¨ç¤ºï¼š
- en: spiders, whose relevant attributes are the number of remaining legs (we assume
    that spiders can lose legs in accidents) and the space they need in case of transport;
  id: totrans-2908
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: èœ˜è››ï¼Œå…¶ç›¸å…³å±æ€§æ˜¯å‰©ä½™è…¿çš„æ•°é‡ï¼ˆæˆ‘ä»¬å‡è®¾èœ˜è››å¯èƒ½åœ¨äº‹æ•…ä¸­å¤±å»è…¿ï¼‰ä»¥åŠè¿è¾“æ—¶æ‰€éœ€çš„ç©ºé—´ï¼›
- en: elephants, whose only attributes are the space they need in case of transport;
  id: totrans-2909
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¤§è±¡ï¼Œå…¶å”¯ä¸€å±æ€§æ˜¯è¿è¾“æ—¶æ‰€éœ€çš„ç©ºé—´ï¼›
- en: boa constrictors, whose attributes include length and girth; and
  id: totrans-2910
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç‹è›‡ï¼Œå…¶å±æ€§åŒ…æ‹¬é•¿åº¦å’Œå‘¨é•¿ï¼›ä»¥åŠ
- en: armadillos, for which you must determine appropriate attributes, including one
    that determines the space needed for transport.
  id: totrans-2911
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¾Ÿç”²å…½ï¼Œä½ å¿…é¡»ç¡®å®šé€‚å½“çš„å±æ€§ï¼ŒåŒ…æ‹¬ä¸€ä¸ªç¡®å®šè¿è¾“æ‰€éœ€ç©ºé—´å±æ€§çš„å±æ€§ã€‚
- en: Develop a template for functions that consume zoo animals.
  id: totrans-2912
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºæ¶ˆè€—åŠ¨ç‰©å›­åŠ¨ç‰©çš„åŠŸèƒ½å¼€å‘ä¸€ä¸ªæ¨¡æ¿ã€‚
- en: Design the fits? function, which consumes a zoo animal and a description of
    a cage. It determines whether the cageâ€™s volume is large enough for the animal.
  id: totrans-2913
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡fits?å‡½æ•°ï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªåŠ¨ç‰©å›­åŠ¨ç‰©å’Œç¬¼å­çš„æè¿°ã€‚å®ƒç¡®å®šç¬¼å­çš„ä½“ç§¯æ˜¯å¦è¶³å¤Ÿå®¹çº³åŠ¨ç‰©ã€‚
- en: 'ExerciseÂ 104\. Your home town manages a fleet of vehicles: automobiles, vans,
    buses, and SUVs. Develop a data representation for vehicles. The representation
    of each vehicle must describe the number of passengers that it can carry, its
    license plate number, and its fuel consumption (miles per gallon). Develop a template
    for functions that consume vehicles.'
  id: totrans-2914
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 104ã€‚ä½ çš„å®¶ä¹¡ç®¡ç†ç€ä¸€æ”¯è½¦é˜Ÿï¼šæ±½è½¦ã€é¢åŒ…è½¦ã€å…¬äº¤è½¦å’ŒSUVã€‚ä¸ºè½¦è¾†å¼€å‘æ•°æ®è¡¨ç¤ºã€‚æ¯ç§è½¦è¾†çš„æ•°æ®è¡¨ç¤ºå¿…é¡»æè¿°å®ƒå¯ä»¥æ­è½½çš„ä¹˜å®¢æ•°é‡ã€è½¦ç‰Œå·ç å’Œç‡ƒæ²¹æ¶ˆè€—ï¼ˆæ¯åŠ ä»‘è‹±é‡Œæ•°ï¼‰ã€‚ä¸ºæ¶ˆè€—è½¦è¾†çš„åŠŸèƒ½å¼€å‘ä¸€ä¸ªæ¨¡æ¿ã€‚
- en: 'ExerciseÂ 105\. Some program contains the following data definition:'
  id: totrans-2915
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 105ã€‚æŸäº›ç¨‹åºåŒ…å«ä»¥ä¸‹æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A Coordinate is one of: |'
  id: totrans-2916
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åæ ‡å¯ä»¥æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“ a [NegativeNumber](#%28tech._negativenumber%29) |'
  id: totrans-2917
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ª [NegativeNumber](#%28tech._negativenumber%29) |'
- en: '| ;Â interpretation on the y axis, distance from top |'
  id: totrans-2918
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â yè½´ä¸Šçš„è§£é‡Šï¼Œè·ç¦»é¡¶éƒ¨ |'
- en: '| ;Â â€“ a [PositiveNumber](#%28tech._positivenumber%29) |'
  id: totrans-2919
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ª [PositiveNumber](#%28tech._positivenumber%29) |'
- en: '| ;Â interpretation on the x axis, distance from left |'
  id: totrans-2920
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â xè½´ä¸Šçš„è§£é‡Šï¼Œè·ç¦»å·¦ä¾§ |'
- en: '| ;Â â€“ a [Posn](#%28tech._posn%29) |'
  id: totrans-2921
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ª [Posn](#%28tech._posn%29) |'
- en: '| ;Â interpretation an ordinary Cartesian point |'
  id: totrans-2922
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šä¸ºæ™®é€šç¬›å¡å°”ç‚¹ |'
- en: Make up at least two data examples per clause in the data definition. For each
    of the examples, explain its meaning with a sketch of a canvas.
  id: totrans-2923
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®å®šä¹‰çš„æ¯ä¸ªå­å¥ä¸­è‡³å°‘åˆ¶ä½œä¸¤ä¸ªæ•°æ®ç¤ºä¾‹ã€‚å¯¹äºæ¯ä¸ªç¤ºä¾‹ï¼Œç”¨ç”»å¸ƒè‰å›¾è§£é‡Šå…¶å«ä¹‰ã€‚
- en: 6.2Mixing Up Worlds[ğŸ”—](#(part._sec~3aworlds-mix) "Link to here")
  id: totrans-2924
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 6.2 æ··åˆä¸–ç•Œ[ğŸ”—](#(part._sec~3aworlds-mix) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: This section suggests several design problems for world program, starting with
    simple extension exercises concerning our virtual pets.
  id: totrans-2925
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚å»ºè®®ä¸ºä¸–ç•Œç¨‹åºæå‡ºå‡ ä¸ªè®¾è®¡é—®é¢˜ï¼Œä»æ¶‰åŠæˆ‘ä»¬è™šæ‹Ÿå® ç‰©çš„ç®€å•æ‰©å±•ç»ƒä¹ å¼€å§‹ã€‚
- en: ExerciseÂ 106\. In [More Virtual Pets](#%28part._sec~3azoo2%29) we discussed
    the creation of virtual pets that come with happiness gauges. One of the virtual
    pets is a cat; the other one, a chameleon. Each program is dedicated to a single
    pet, however.
  id: totrans-2926
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 106ã€‚åœ¨[æ›´å¤šè™šæ‹Ÿå® ç‰©](#%28part._sec~3azoo2%29)ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¸¦æœ‰å¹¸ç¦è®¡æ•°çš„è™šæ‹Ÿå® ç‰©çš„åˆ›å»ºã€‚å…¶ä¸­ä¸€ä¸ªæ˜¯çŒ«ï¼›å¦ä¸€ä¸ªæ˜¯å˜è‰²é¾™ã€‚ç„¶è€Œï¼Œæ¯ä¸ªç¨‹åºéƒ½åªé’ˆå¯¹ä¸€ä¸ªå® ç‰©ã€‚
- en: 'Design the cat-cham world program. Given both a location and an animal, it
    walks the latter across the canvas, starting from the given location. Here is
    the chosen data representation for animals:'
  id: totrans-2927
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡çŒ«-å˜è‰²é¾™ä¸–ç•Œç¨‹åºã€‚ç»™å®šä¸€ä¸ªä½ç½®å’Œä¸€ä¸ªåŠ¨ç‰©ï¼Œå®ƒä»ç»™å®šä½ç½®å¼€å§‹å°†åè€…åœ¨ç”»å¸ƒä¸Šç§»åŠ¨ã€‚ä»¥ä¸‹æ˜¯åŠ¨ç‰©é€‰æ‹©çš„æ•°æ®è¡¨ç¤ºï¼š
- en: '| ;Â A VAnimal is either |'
  id: totrans-2928
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªVAnimalæ˜¯ |'
- en: '| ;Â â€“ a VCat |'
  id: totrans-2929
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ªVCat |'
- en: '| ;Â â€“ a VCham |'
  id: totrans-2930
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“ ä¸€ä¸ªVCham |'
- en: where VCat and VCham are your data definitions from [exercisesÂ 88](#%28counter._%28exercise._struct12%29%29)
    [andÂ 92](#%28counter._%28exercise._struct16%29%29).Given that [VAnimal](#%28tech._vanimal%29)
    is the collection of world states, you need to design
  id: totrans-2931
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­VCatå’ŒVChamæ˜¯æ¥è‡ª[ç»ƒä¹ 88](#%28counter._%28exercise._struct12%29%29)å’Œ[92](#%28counter._%28exercise._struct16%29%29)çš„æ•°æ®å®šä¹‰ã€‚é‰´äº[VAnimal](#%28tech._vanimal%29)æ˜¯çŠ¶æ€ä¸–ç•Œçš„é›†åˆï¼Œä½ éœ€è¦è®¾è®¡
- en: a rendering function from [VAnimal](#%28tech._vanimal%29) to [Image](#%28tech._image%29);
  id: totrans-2932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»[VAnimal](#%28tech._vanimal%29)åˆ°[Image](#%28tech._image%29)çš„æ¸²æŸ“å‡½æ•°ï¼›
- en: a function for handling clock ticks, from [VAnimal](#%28tech._vanimal%29) to
    [VAnimal](#%28tech._vanimal%29); and
  id: totrans-2933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªä»[VAnimal](#%28tech._vanimal%29)åˆ°[VAnimal](#%28tech._vanimal%29)å¤„ç†æ—¶é’Ÿæ»´ç­”å£°çš„å‡½æ•°ï¼›
- en: a function for dealing with key events so that you can feed and pet and colorize
    your animalâ€”<wbr>as applicable.
  id: totrans-2934
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå¤„ç†å…³é”®äº‹ä»¶çš„å‡½æ•°ï¼Œä»¥ä¾¿ä½ å¯ä»¥å–‚å…»ã€æŠšæ‘¸å’Œä¸Šè‰²ä½ çš„åŠ¨ç‰©â€”â€”<wbr>æ ¹æ®é€‚ç”¨æ€§ã€‚
- en: It remains impossible to change the color of a cat or to pet a chameleon.
  id: totrans-2935
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç„¶æ— æ³•æ”¹å˜çŒ«çš„é¢œè‰²æˆ–æŠšæ‘¸å˜è‰²é¾™ã€‚
- en: ExerciseÂ 107\. Design the cham-and-cat program, which deals with both a virtual
    cat and a virtual chameleon. You need a data definition for a â€œzooâ€ containing
    both animals and functions for dealing with it.
  id: totrans-2936
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 107ã€‚è®¾è®¡cham-and-catç¨‹åºï¼Œè¯¥ç¨‹åºå¤„ç†è™šæ‹ŸçŒ«å’Œè™šæ‹Ÿå˜è‰²é¾™ã€‚ä½ éœ€è¦ä¸€ä¸ªåŒ…å«è¿™ä¸¤ç§åŠ¨ç‰©åŠå…¶å¤„ç†å‡½æ•°çš„â€œåŠ¨ç‰©å›­â€æ•°æ®å®šä¹‰ã€‚
- en: 'The problem statement leaves open how keys manipulate the two animals. Here
    are two possible interpretations:'
  id: totrans-2937
  prefs: []
  type: TYPE_NORMAL
  zh: é—®é¢˜é™ˆè¿°æ²¡æœ‰æ˜ç¡®è¯´æ˜é”®å¦‚ä½•æ“ä½œä¸¤ä¸ªåŠ¨ç‰©ã€‚ä»¥ä¸‹æ˜¯ä¸¤ç§å¯èƒ½çš„è§£é‡Šï¼š
- en: Each key event goes to both animals.
  id: totrans-2938
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªå…³é”®äº‹ä»¶éƒ½é€‚ç”¨äºä¸¤ä¸ªåŠ¨ç‰©ã€‚
- en: Each key event applies to only one of the two animals.
  id: totrans-2939
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªå…³é”®äº‹ä»¶åªé€‚ç”¨äºä¸¤ä¸ªåŠ¨ç‰©ä¸­çš„ä¸€ä¸ªã€‚
- en: For this alternative, you need a data representation that specifies a focus
    animal, that is, the animal that can currently be manipulated. To switch focus,
    have the key-handling function interpret "k" for â€œkittyâ€ and "l" for lizard. Once
    a player hits "k", the following keystrokes apply to the cat onlyâ€”<wbr>until the
    player hits "l".
  id: totrans-2940
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸ªæ›¿ä»£æ–¹æ¡ˆï¼Œä½ éœ€è¦ä¸€ä¸ªæ•°æ®è¡¨ç¤ºï¼Œå®ƒæŒ‡å®šäº†ä¸€ä¸ªç„¦ç‚¹åŠ¨ç‰©ï¼Œå³å½“å‰å¯ä»¥æ“ä½œçš„åŠ¨ç‰©ã€‚ä¸ºäº†åˆ‡æ¢ç„¦ç‚¹ï¼Œè®©é”®å¤„ç†å‡½æ•°å°†â€œkâ€è§£é‡Šä¸ºâ€œkittyâ€ï¼ˆçŒ«ï¼‰ï¼Œå°†â€œlâ€è§£é‡Šä¸ºlizardï¼ˆèœ¥èœ´ï¼‰ã€‚ä¸€æ—¦ç©å®¶æŒ‰ä¸‹â€œkâ€ï¼Œæ¥ä¸‹æ¥çš„æŒ‰é”®åªé€‚ç”¨äºçŒ«â€”â€”<wbr>ç›´åˆ°ç©å®¶æŒ‰ä¸‹â€œlâ€ã€‚
- en: Choose one of the alternatives and design the appropriate program.
  id: totrans-2941
  prefs: []
  type: TYPE_NORMAL
  zh: é€‰æ‹©ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆå¹¶è®¾è®¡ç›¸åº”çš„ç¨‹åºã€‚
- en: ExerciseÂ 108\. In its default state, a pedestrian crossing light shows an orange
    person standing, on a black background. When it is time to allow the pedestrian
    to cross the street, the light receives a signal and switches to a green, walking
    person. This phase lasts for 10 seconds. After that the light displays the digits
    9, 8, ..., 0 with odd numbers colored orange and even numbers colored green. When
    the countdown reaches 0, the light switches back to its default state.
  id: totrans-2942
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 108ã€‚åœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œè¡Œäººæ¨ªé“ç¯æ˜¾ç¤ºä¸€ä¸ªç«™åœ¨é»‘è‰²èƒŒæ™¯ä¸Šçš„æ©™è‰²äººåƒã€‚å½“å…è®¸è¡Œäººè¿‡é©¬è·¯æ—¶ï¼Œç¯æ”¶åˆ°ä¿¡å·å¹¶åˆ‡æ¢åˆ°ç»¿è‰²ï¼Œè¡Œäººè¡Œèµ°çš„äººåƒã€‚è¿™ä¸ªé˜¶æ®µæŒç»­10ç§’ã€‚ä¹‹åï¼Œç¯æ˜¾ç¤ºæ•°å­—9ã€8ã€...ã€0ï¼Œå¥‡æ•°ç”¨æ©™è‰²æ ‡å‡ºï¼Œå¶æ•°ç”¨ç»¿è‰²æ ‡å‡ºã€‚å½“å€’è®¡æ—¶è¾¾åˆ°0æ—¶ï¼Œç¯åˆ‡æ¢å›é»˜è®¤çŠ¶æ€ã€‚
- en: Design a world program that implements such a pedestrian traffic light. The
    light switches from its default state when you press the space bar on your keyboard.
    All other transitions must be reactions to clock ticks. You may wish to use the
    following images
  id: totrans-2943
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªå®ç°æ­¤ç±»è¡Œäººäº¤é€šç¯çš„ä¸–ç•Œç¨‹åºã€‚å½“ä½ æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ç©ºæ ¼é”®æ—¶ï¼Œç¯ä»å…¶é»˜è®¤çŠ¶æ€åˆ‡æ¢ã€‚æ‰€æœ‰å…¶ä»–è½¬æ¢éƒ½å¿…é¡»æ˜¯å¯¹æ—¶é’Ÿæ»´ç­”å£°çš„ååº”ã€‚ä½ å¯èƒ½å¸Œæœ›ä½¿ç”¨ä»¥ä¸‹å›¾åƒ
- en: '![](../Images/be5d43d7338ff0d8b1b8ceaddcedd523.png) ![](../Images/a7e2e2a1765e2aa7b8b2ac5ea3a4f34e.png)'
  id: totrans-2944
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](../Images/be5d43d7338ff0d8b1b8ceaddcedd523.png) ![](../Images/a7e2e2a1765e2aa7b8b2ac5ea3a4f34e.png)'
- en: or you can make up your own stick figures with the the 2htdp/image teachpack
    teachpack.
  id: totrans-2945
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…ä½ å¯ä»¥ä½¿ç”¨2htdp/image teachpack teachpackåˆ¶ä½œè‡ªå·±çš„ç®€ç¬”ç”»ã€‚
- en: ExerciseÂ 109\. Design a world program that recognizes a pattern in a sequence
    of [KeyEvent](#%28tech._keyevent%29)s. Initially the program shows a 100 by 100
    white rectangle. Once your program has encountered the first desired letter, it
    displays a yellow rectangle of the same size. After encountering the final letter,
    the color of the rectangle turns green. If any â€œbadâ€ key event occurs, the program
    displays a red rectangle.
  id: totrans-2946
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  109ï¼šè®¾è®¡ä¸€ä¸ªä¸–ç•Œç¨‹åºï¼Œä»¥è¯†åˆ«ä¸€ç³»åˆ— [KeyEvent](#%28tech._keyevent%29) ä¸­çš„æ¨¡å¼ã€‚æœ€åˆï¼Œç¨‹åºæ˜¾ç¤ºä¸€ä¸ª 100x100
    çš„ç™½è‰²çŸ©å½¢ã€‚ä¸€æ—¦ä½ çš„ç¨‹åºé‡åˆ°ç¬¬ä¸€ä¸ªæœŸæœ›çš„å­—æ¯ï¼Œå®ƒå°†æ˜¾ç¤ºä¸€ä¸ªç›¸åŒå¤§å°çš„é»„è‰²çŸ©å½¢ã€‚é‡åˆ°æœ€åä¸€ä¸ªå­—æ¯åï¼ŒçŸ©å½¢çš„é¢œè‰²å˜ä¸ºç»¿è‰²ã€‚å¦‚æœå‘ç”Ÿä»»ä½•â€œä¸è‰¯â€çš„å…³é”®äº‹ä»¶ï¼Œç¨‹åºå°†æ˜¾ç¤ºä¸€ä¸ªçº¢è‰²çŸ©å½¢ã€‚
- en: '| conventional |  | defined abbreviations |'
  id: totrans-2947
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ä¼ ç»Ÿ |  | å®šä¹‰ç¼©å†™ |'
- en: '|'
  id: totrans-2948
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-2949
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â ExpectsToSee.v1 is one of: &#124;'
  id: totrans-2950
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â ExpectsToSee.v1 æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š &#124;'
- en: '&#124; ;Â â€“  "start, expect an ''a''" &#124;'
  id: totrans-2951
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  "å¼€å§‹ï¼ŒæœŸæœ› ''a''" &#124;'
- en: '&#124; ;Â â€“  "expect ''b'', ''c'', or ''d''" &#124;'
  id: totrans-2952
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  "æœŸæœ› ''b''ã€''c'' æˆ– ''d''" &#124;'
- en: '&#124; ;Â â€“  "finished" &#124;'
  id: totrans-2953
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  "å®Œæˆ" &#124;'
- en: '&#124; ;Â â€“  "error, illegal key" &#124;'
  id: totrans-2954
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  "é”™è¯¯ï¼Œéæ³•é”®" &#124;'
- en: ''
  id: totrans-2955
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-2956
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-2957
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â ExpectsToSee.v2 is one of: &#124;'
  id: totrans-2958
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â ExpectsToSee.v2 æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š &#124;'
- en: '&#124; ;Â â€“  AA &#124;'
  id: totrans-2959
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  AA &#124;'
- en: '&#124; ;Â â€“  BB &#124;'
  id: totrans-2960
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  BB &#124;'
- en: '&#124; ;Â â€“  DD &#124;'
  id: totrans-2961
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  DD &#124;'
- en: '&#124; ;Â â€“  ER &#124;'
  id: totrans-2962
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  ER &#124;'
- en: '&#124; Â  &#124;'
  id: totrans-2963
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â  &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â AAÂ "start,
    ...") &#124;'
  id: totrans-2964
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â AAÂ "å¼€å§‹ï¼Œ...")
    &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BBÂ "expect
    ...") &#124;'
  id: totrans-2965
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â BBÂ "æœŸæœ›
    ...") &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â DDÂ "finished")
    &#124;'
  id: totrans-2966
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â DDÂ "å®Œæˆ")
    &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ERÂ "error,
    ...") &#124;'
  id: totrans-2967
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â ERÂ "é”™è¯¯ï¼Œ...")
    &#124;'
- en: ''
  id: totrans-2968
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-2969
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-2970
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 36: Two ways of writing a data definition for FSMs'
  id: totrans-2971
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 36ï¼šä¸º FSM ç¼–å†™æ•°æ®å®šä¹‰çš„ä¸¤ç§æ–¹å¼
- en: The specific sequences that your program looks for start with "a", followed
    by an arbitrarily long mix of "b" and "c", and ended by a "d". Clearly, "acbd"
    is one example of an acceptable string; two others are "ad" and "abcbbbcd". Of
    course, "da", "aa", or "d" do not match.
  id: totrans-2972
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çš„ç¨‹åºè¦æŸ¥æ‰¾çš„ç‰¹å®šåºåˆ—ä»¥ "a" å¼€å¤´ï¼Œåé¢è·Ÿç€ä»»æ„é•¿åº¦çš„ "b" å’Œ "c" çš„æ··åˆï¼Œå¹¶ä»¥ "d" ç»“å°¾ã€‚æ˜¾ç„¶ï¼Œ"acbd" æ˜¯ä¸€ä¸ªå¯æ¥å—çš„å­—ç¬¦ä¸²ç¤ºä¾‹ï¼›å…¶ä»–ä¸¤ä¸ªç¤ºä¾‹æ˜¯
    "ad" å’Œ "abcbbbcd"ã€‚å½“ç„¶ï¼Œ"da"ã€"aa" æˆ– "d" ä¸åŒ¹é…ã€‚
- en: '![image](../Images/17bdc21205066a4618e41490baaa2ccf.png)'
  id: totrans-2973
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/17bdc21205066a4618e41490baaa2ccf.png)'
- en: ''
  id: totrans-2974
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 37: A finite state machine as a diagram'
  id: totrans-2975
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 37ï¼šæœ‰é™çŠ¶æ€æœºä½œä¸ºå›¾è¡¨
- en: Hint Your solution implements a finite state machine (FSM), an idea introduced
    in [Finite State Worlds](#%28part._sec~3aworlds-more%29) as one design principle
    behind world programs. As the name says, an FSM program may be in one of a finite
    number of states. The first state is called an initial state. Each key event causes
    the machine to reconsider its current state; it may transition to the same state
    or to another one. When your program recognizes a proper sequence of key events,
    it transitions to a final state.
  id: totrans-2976
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šä½ çš„è§£å†³æ–¹æ¡ˆå®ç°äº†ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºï¼ˆFSMï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨[æœ‰é™çŠ¶æ€ä¸–ç•Œ](#%28part._sec~3aworlds-more%29)ä¸­ä½œä¸ºä¸–ç•Œç¨‹åºè®¾è®¡åŸåˆ™ä¹‹ä¸€çš„æ¦‚å¿µã€‚æ­£å¦‚å…¶åæ‰€ç¤ºï¼ŒFSMç¨‹åºå¯èƒ½å¤„äºæœ‰é™æ•°é‡çš„çŠ¶æ€ä¹‹ä¸€ã€‚ç¬¬ä¸€ä¸ªçŠ¶æ€ç§°ä¸ºåˆå§‹çŠ¶æ€ã€‚æ¯ä¸ªå…³é”®äº‹ä»¶éƒ½ä¼šä½¿æœºå™¨é‡æ–°è€ƒè™‘å…¶å½“å‰çŠ¶æ€ï¼›å®ƒå¯èƒ½ä¿æŒåœ¨åŒä¸€çŠ¶æ€æˆ–è½¬ç§»åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚å½“ä½ çš„ç¨‹åºè¯†åˆ«åˆ°é€‚å½“çš„å…³é”®äº‹ä»¶åºåˆ—æ—¶ï¼Œå®ƒå°†è½¬ç§»åˆ°æœ€ç»ˆçŠ¶æ€ã€‚
- en: For a sequence-recognition problem, states typically represent the letters that
    the machine expects to see next; see [figureÂ 36](#%28counter._%28figure._fig~3afsm-dd%29%29)
    for a data definition.The data definition on the right uses the naming technique
    introduced in [exerciseÂ 61](#%28counter._%28exercise._ex~3aalternative-data-design2%29%29).
    Take a look at the last state, which says an illegal input has been encountered.
    [FigureÂ 37](#%28counter._%28figure._fig~3afsm-a-b-or-c%2A-d%29%29) shows how to
    think of these states and their relationships in a diagrammatic manner. Each node
    corresponds to one of the four finite states; each arrow specifies which [KeyEvent](#%28tech._keyevent%29)
    causes the program to transition from one state to another.
  id: totrans-2977
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä¸€ä¸ªåºåˆ—è¯†åˆ«é—®é¢˜ï¼ŒçŠ¶æ€é€šå¸¸è¡¨ç¤ºæœºå™¨æœŸæœ›çœ‹åˆ°çš„å­—æ¯ï¼›å‚è§[å›¾36](#%28counter._%28figure._fig~3afsm-dd%29%29)ä¸­çš„æ•°æ®å®šä¹‰ã€‚å³ä¾§çš„æ•°æ®å®šä¹‰ä½¿ç”¨äº†åœ¨[ç»ƒä¹ 61](#%28counter._%28exercise._ex~3aalternative-data-design2%29%29)ä¸­å¼•å…¥çš„å‘½åæŠ€æœ¯ã€‚çœ‹çœ‹æœ€åä¸€ä¸ªçŠ¶æ€ï¼Œå®ƒè¡¨ç¤ºé‡åˆ°äº†éæ³•è¾“å…¥ã€‚[å›¾37](#%28counter._%28figure._fig~3afsm-a-b-or-c%2A-d%29%29)å±•ç¤ºäº†å¦‚ä½•ä»¥å›¾ç¤ºæ–¹å¼æ€è€ƒè¿™äº›çŠ¶æ€åŠå…¶å…³ç³»ã€‚æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”äºå››ä¸ªæœ‰é™çŠ¶æ€ä¸­çš„ä¸€ä¸ªï¼›æ¯æ¡ç®­å¤´æŒ‡å®šäº†å“ªä¸ª[KeyEvent](#%28tech._keyevent%29)ä¼šå¯¼è‡´ç¨‹åºä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚
- en: History In the 1950s, Stephen C. Kleene, whom we would call a computer scientist,
    invented regular expressions as a notation for the problem of recognizing text
    patterns. For the above problem, Kleene would write
  id: totrans-2978
  prefs: []
  type: TYPE_NORMAL
  zh: å†å² åœ¨20ä¸–çºª50å¹´ä»£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè®¡ç®—æœºç§‘å­¦å®¶çš„æ–¯è’‚èŠ¬Â·CÂ·å…‹è±å› å‘æ˜äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½œä¸ºä¸€ç§è¯†åˆ«æ–‡æœ¬æ¨¡å¼çš„è®°æ³•ã€‚å¯¹äºä¸Šè¿°é—®é¢˜ï¼Œå…‹è±å› ä¼šå†™
- en: a (b|c)* d
  id: totrans-2979
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: a (b|c)* d
- en: which means a followed by b or c arbitrarily often until d is encountered.
  id: totrans-2980
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€aåé¢è·Ÿç€bæˆ–cä»»æ„æ¬¡æ•°ï¼Œç›´åˆ°é‡åˆ°dã€‚
- en: 6.3Input Errors[ğŸ”—](#(part._sec~3ainput-errors) "Link to here")
  id: totrans-2981
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 6.3è¾“å…¥é”™è¯¯[ğŸ”—](#(part._sec~3ainput-errors) "é“¾æ¥åˆ°æ­¤å¤„")
- en: One central point of this chapter concerns the role of predicates. They are
    critical when you must design functions that process mixes of data. Such mixes
    come up naturally when your problem statement mentions many different kinds of
    information, but they also come up when you hand your functions and programs to
    others. After all, you know and respect your data definitions and function signatures.
    You never know, however, what your friends and colleagues do, and youIt is a form
    of self-delusion to expect that we always respect our own function signatures.
    Calling a function on the wrong kind of data happens to the best of us. While
    many languages are like BSL and expect programmers to check signatures on their
    own, others do so automatically at the cost of some additional complexity. especially
    donâ€™t know how someone without knowledge of BSL and programming uses your programs.
    This section therefore presents one way of protecting programs from inappropriate
    inputs.
  id: totrans-2982
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« çš„ä¸€ä¸ªæ ¸å¿ƒç‚¹æ¶‰åŠè°“è¯çš„ä½œç”¨ã€‚å½“ä½ å¿…é¡»è®¾è®¡å¤„ç†æ•°æ®æ··åˆçš„å‡½æ•°æ—¶ï¼Œå®ƒä»¬æ˜¯è‡³å…³é‡è¦çš„ã€‚å½“ä½ çš„é—®é¢˜é™ˆè¿°æåˆ°è®¸å¤šä¸åŒç±»å‹çš„ä¿¡æ¯æ—¶ï¼Œè¿™äº›æ··åˆè‡ªç„¶å‡ºç°ï¼Œä½†å½“ä½ å°†ä½ çš„å‡½æ•°å’Œç¨‹åºäº¤ç»™ä»–äººæ—¶ï¼Œå®ƒä»¬ä¹Ÿä¼šå‡ºç°ã€‚æ¯•ç«Ÿï¼Œä½ äº†è§£å¹¶å°Šé‡ä½ çš„æ•°æ®å®šä¹‰å’Œå‡½æ•°ç­¾åã€‚ç„¶è€Œï¼Œä½ æ°¸è¿œä¸çŸ¥é“ä½ çš„æœ‹å‹å’ŒåŒäº‹ä¼šåšä»€ä¹ˆï¼Œè€Œä¸”ä½ ç‰¹åˆ«ä¸çŸ¥é“æ²¡æœ‰BSLå’Œç¼–ç¨‹çŸ¥è¯†çš„äººä¼šå¦‚ä½•ä½¿ç”¨ä½ çš„ç¨‹åºã€‚å› æ­¤ï¼Œæœ¬èŠ‚æå‡ºäº†ä¸€ç§ä¿æŠ¤ç¨‹åºå…å—ä¸é€‚å½“è¾“å…¥çš„æ–¹æ³•ã€‚
- en: 'Letâ€™s demonstrate this point with a simple program, a function for computing
    the area of a disk:'
  id: totrans-2983
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ç¨‹åºæ¥æ¼”ç¤ºè¿™ä¸ªè§‚ç‚¹ï¼Œä¸€ä¸ªç”¨äºè®¡ç®—åœ†ç›˜é¢ç§¯çš„å‡½æ•°ï¼š
- en: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
  id: totrans-2984
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](#%28tech._number%29) -> [Number](#%28tech._number%29) |'
- en: '| ;Â computes the area of a disk with radius r |'
  id: totrans-2985
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è®¡ç®—åŠå¾„ä¸ºrçš„åœ†ç›˜é¢ç§¯ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-diskÂ r)
    |'
  id: totrans-2986
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (area-of-diskÂ r)
    |'
- en: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 3.14Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â rÂ r)))
    |'
  id: totrans-2987
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â 3.14Â ([*](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._%2A%29%29)Â rÂ r)))
    |'
- en: 'Our friends may wish to use this function for their geometry homework. Unfortunately,
    when our friends use this function, they may accidentally apply it to a string
    rather than a number. When that happens, the function stops the program execution
    with a mysterious error message:'
  id: totrans-2988
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‹å‹ä»¬å¯èƒ½å¸Œæœ›å°†è¿™ä¸ªå‡½æ•°ç”¨äºä»–ä»¬çš„å‡ ä½•ä½œä¸šã€‚ä¸å¹¸çš„æ˜¯ï¼Œå½“æœ‹å‹ä»¬ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œä»–ä»¬å¯èƒ½ä¼šä¸å°å¿ƒå°†å…¶åº”ç”¨äºå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•°å­—ã€‚å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œå‡½æ•°ä¼šåœæ­¢ç¨‹åºæ‰§è¡Œï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªç¥ç§˜çš„é”™è¯¯ä¿¡æ¯ï¼š
- en: '| > (area-of-diskÂ "my-disk") |'
  id: totrans-2989
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (area-of-diskÂ "my-disk") |'
- en: '| *:expects a number, given "my-disk" |'
  id: totrans-2990
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| *:æœŸæœ›ä¸€ä¸ªæ•°å­—ï¼Œç»™å®š "my-disk" |'
- en: With predicates, you can prevent this kind of cryptic error message and signal
    an informative error of your own choice.
  id: totrans-2991
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è°“è¯ï¼Œä½ å¯ä»¥é˜²æ­¢è¿™ç§ç¥ç§˜çš„é”™è¯¯ä¿¡æ¯ï¼Œå¹¶å‘å‡ºä½ è‡ªå·±çš„é€‰æ‹©çš„ä¿¡æ¯æ€§é”™è¯¯ã€‚
- en: '| ;Â Any  BSL value is one of: |'
  id: totrans-2992
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»»ä½• BSL å€¼éƒ½æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š|'
- en: '| ;Â â€“  [Number](#%28tech._number%29) |'
  id: totrans-2993
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [æ•°å­—](#%28tech._number%29) |'
- en: '| ;Â â€“  [Boolean](#%28tech._boolean%29) |'
  id: totrans-2994
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [å¸ƒå°”](#%28tech._boolean%29) |'
- en: '| ;Â â€“  [String](#%28tech._string%29) |'
  id: totrans-2995
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [å­—ç¬¦ä¸²](#%28tech._string%29) |'
- en: '| ;Â â€“  [Image](#%28tech._image%29) |'
  id: totrans-2996
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  [å›¾åƒ](#%28tech._image%29) |'
- en: '| ;Â â€“  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  [Any](#%28tech._any%29)  [Any](#%28tech._any%29))
    |'
  id: totrans-2997
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)  [Any](#%28tech._any%29)  [Any](#%28tech._any%29))
    |'
- en: '| ;Â ... |'
  id: totrans-2998
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ... |'
- en: '| ;Â â€“  (make-tank  [Any](#%28tech._any%29)  [Any](#%28tech._any%29)) |'
  id: totrans-2999
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  (make-tank  [Any](#%28tech._any%29)  [Any](#%28tech._any%29)) |'
- en: '| ;Â ... |'
  id: totrans-3000
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ... |'
- en: ''
  id: totrans-3001
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 38: The universe of BSL data'
  id: totrans-3002
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 38ï¼šBSL æ•°æ®å®‡å®™
- en: 'Specifically, we can define checked versions of our functions, when we wish
    to hand them to our friends. Because our friends may not know much BSL, we must
    expect that they apply this checked function to arbitrary BSL values: numbers,
    strings, images, [Posn](#%28tech._posn%29)s, and so on. Although we cannot anticipate
    which structure types will be defined in BSL, we know the rough shape of the data
    definition for the collection of all BSL values. [FigureÂ 38](#%28counter._%28figure._fig~3absl-universe%29%29)
    displays this shape of this data definition. As discussed in [The Universe of
    Data](#%28part._data-uni._sec~3adata-uni%29), the data definition for [Any](#%28tech._any%29)
    is open-ended because every structure type definition adds new instances. These
    instances may contain [Any](#%28tech._any%29) values again, which implies that
    the data definition of [Any](#%28tech._any%29) must refer to itselfâ€”<wbr>a scary
    thought at first.'
  id: totrans-3003
  prefs: []
  type: TYPE_NORMAL
  zh: å…·ä½“æ¥è¯´ï¼Œå½“æˆ‘ä»¬å¸Œæœ›å°†å‡½æ•°äº¤ç»™æœ‹å‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è¿™äº›å‡½æ•°çš„æ£€æŸ¥ç‰ˆæœ¬ã€‚å› ä¸ºæˆ‘ä»¬çš„æœ‹å‹å¯èƒ½ä¸å¤ªäº†è§£ BSLï¼Œæˆ‘ä»¬å¿…é¡»é¢„æœŸä»–ä»¬ä¼šå°†è¿™ä¸ªæ£€æŸ¥å‡½æ•°åº”ç”¨äºä»»æ„çš„
    BSL å€¼ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€å›¾åƒã€[Posn](#%28tech._posn%29)s ä»¥åŠç­‰ç­‰ã€‚è™½ç„¶æˆ‘ä»¬æ— æ³•é¢„çŸ¥ BSL ä¸­å°†å®šä¹‰å“ªäº›ç»“æ„ç±»å‹ï¼Œä½†æˆ‘ä»¬çŸ¥é“æ‰€æœ‰
    BSL å€¼é›†åˆçš„æ•°æ®å®šä¹‰çš„å¤§è‡´å½¢çŠ¶ã€‚[å›¾ 38](#%28counter._%28figure._fig~3absl-universe%29%29) å±•ç¤ºäº†è¿™ç§æ•°æ®å®šä¹‰çš„å½¢çŠ¶ã€‚æ­£å¦‚åœ¨[æ•°æ®å®‡å®™](#%28part._data-uni._sec~3adata-uni%29)ä¸­è®¨è®ºçš„é‚£æ ·ï¼Œ[Any](#%28tech._any%29)
    çš„æ•°æ®å®šä¹‰æ˜¯å¼€æ”¾çš„ï¼Œå› ä¸ºæ¯ä¸ªç»“æ„ç±»å‹å®šä¹‰éƒ½ä¼šæ·»åŠ æ–°çš„å®ä¾‹ã€‚è¿™äº›å®ä¾‹å¯èƒ½å†æ¬¡åŒ…å« [Any](#%28tech._any%29) å€¼ï¼Œè¿™æ„å‘³ç€ [Any](#%28tech._any%29)
    çš„æ•°æ®å®šä¹‰å¿…é¡»å¼•ç”¨è‡ªèº«â€”â€”ä¸€å¼€å§‹è¿™æ˜¯ä¸€ä¸ªä»¤äººå®³æ€•çš„æƒ³æ³•ã€‚
- en: 'Based on this itemization, the template for a checked function has the following
    rough shape:'
  id: totrans-3004
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºè¿™ä¸ªåˆ—è¡¨ï¼Œæ£€æŸ¥å‡½æ•°çš„æ¨¡æ¿å…·æœ‰ä»¥ä¸‹å¤§è‡´å½¢çŠ¶ï¼š
- en: '| ;Â [Any](#%28tech._any%29) -> ??? |'
  id: totrans-3005
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Any](#%28tech._any%29) -> ??? |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (checked-fÂ v)
    |'
  id: totrans-3006
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (checked-fÂ v)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3007
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-3008
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([æ•°å­—?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-3009
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å¸ƒå°”?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-3010
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([image?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-3011
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([image?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]
    |'
  id: totrans-3012
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-3013
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â ;Â which selectors are needed in the next clause? |'
  id: totrans-3014
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ;Â which selectors are needed in the next clause? |'
- en: '| Â Â Â Â [(tank?Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-3015
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [(tank?Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-3016
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)])
    |'
- en: 'Of course, nobody can list all clauses of this definition; fortunately, thatâ€™s
    not necessary. What we do know is that for all those values in the class of values
    for which the original function is defined, the checked version must produce the
    same results; for all others, it must signal an error.Concretely, our sample function
    checked-area-of-disk consumes an arbitrary BSL value and uses area-of-disk to
    compute the area of a disk if the input is a number. It must stop with an error
    message otherwise; in BSL we use the function [error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    to accomplish this. The error function consumes a string and stops the program:'
  id: totrans-3017
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿåˆ—å‡ºè¿™ä¸ªå®šä¹‰çš„æ‰€æœ‰æ¡æ¬¾ï¼›å¹¸è¿çš„æ˜¯ï¼Œè¿™å¹¶ä¸å¿…è¦ã€‚æˆ‘ä»¬æ‰€çŸ¥é“çš„æ˜¯ï¼Œå¯¹äºåŸå§‹å‡½æ•°å®šä¹‰çš„å€¼ç±»ä¸­çš„æ‰€æœ‰å€¼ï¼Œæ£€æŸ¥åçš„ç‰ˆæœ¬å¿…é¡»äº§ç”Ÿç›¸åŒçš„ç»“æœï¼›å¯¹äºå…¶ä»–æ‰€æœ‰å€¼ï¼Œå®ƒå¿…é¡»å‘å‡ºé”™è¯¯ä¿¡å·ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çš„ç¤ºä¾‹å‡½æ•°`checked-area-of-disk`æ¥å—ä¸€ä¸ªä»»æ„çš„BSLå€¼ï¼Œå¦‚æœè¾“å…¥æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œåˆ™ä½¿ç”¨`area-of-disk`æ¥è®¡ç®—åœ†ç›˜çš„é¢ç§¯ã€‚å¦åˆ™ï¼Œå®ƒå¿…é¡»åœæ­¢å¹¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼›åœ¨BSLä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•°`[error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)`æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚é”™è¯¯å‡½æ•°æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶åœæ­¢ç¨‹åºï¼š
- en: '([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â "area-of-disk:
    number expected")'
  id: totrans-3018
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â "area-of-disk:
    number expected")'
- en: 'Hence the rough definition of checked-area-of-disk looks like this:'
  id: totrans-3019
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œ`checked-area-of-disk`çš„å¤§è‡´å®šä¹‰å¦‚ä¸‹ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MESSAGEÂ "area-of-disk:
    number expected") |'
  id: totrans-3020
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MESSAGEÂ "area-of-disk:
    number expected") |'
- en: '| Â  |'
  id: totrans-3021
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (checked-area-of-diskÂ v)
    |'
  id: totrans-3022
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (checked-area-of-disk v) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3023
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â v)Â (area-of-diskÂ v)]
    |'
  id: totrans-3024
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)
    v) (area-of-disk v) |'
- en: '| Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â v)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â MESSAGE)]
    |'
  id: totrans-3025
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)
    v) ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    MESSAGE) |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â v)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â MESSAGE)]
    |'
  id: totrans-3026
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)
    v) ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    MESSAGE)] |'
- en: '| Â Â Â Â [([image?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29)Â v)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â MESSAGE)]
    |'
  id: totrans-3027
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([image?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29)
    v) ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    MESSAGE) |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â MESSAGE)]
    |'
  id: totrans-3028
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)
    v) ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    MESSAGE)] |'
- en: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-3029
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â [(tank?Â v)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â MESSAGE)]
    |'
  id: totrans-3030
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [(tank? v) ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    MESSAGE)] |'
- en: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-3031
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: 'The use of [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    helps us finish this definition in the natural way:'
  id: totrans-3032
  prefs: []
  type: TYPE_NORMAL
  zh: 'The use of [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    helps us finish this definition in the natural way:'
- en: '| ;Â [Any](#%28tech._any%29) -> [Number](#%28tech._number%29) |'
  id: totrans-3033
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Any](#%28tech._any%29) -> [Number](#%28tech._number%29) |'
- en: '| ;Â computes the area of a disk with radius v, |'
  id: totrans-3034
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è®¡ç®—åŠå¾„ä¸º v çš„åœ†çš„é¢ç§¯ |'
- en: '| ;Â if v is a number |'
  id: totrans-3035
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â if v is a number |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (checked-area-of-diskÂ v)
    |'
  id: totrans-3036
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (checked-area-of-disk v) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3037
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â v)Â (area-of-diskÂ v)]
    |'
  id: totrans-3038
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)
    v) (area-of-disk v)] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â "area-of-disk:
    number expected")])) |'
  id: totrans-3039
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â "area-of-disk:
    number expected")])) |'
- en: 'And just to make sure we get what we want, letâ€™s experiment:'
  id: totrans-3040
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç¡®ä¿æˆ‘ä»¬å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œè®©æˆ‘ä»¬è¿›è¡Œå®éªŒï¼š
- en: '| > (checked-area-of-diskÂ "my-disk") |'
  id: totrans-3041
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (checked-area-of-diskÂ "my-disk") |'
- en: '| area-of-disk:number expected |'
  id: totrans-3042
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| area-of-disk:number expected |'
- en: Writing checked functions is important if we distribute our programs for others
    to use. Designing programs that work properly, however, is far more important.
    This book focuses on the design process for proper program design, and, to do
    this without distraction, we agree that we always adhere to data definitions and
    signatures. At least, we almost always do so, and on rare occasions we may ask
    you to design checked versions of a function or a program.
  id: totrans-3043
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬åˆ†å‘ç¨‹åºä¾›ä»–äººä½¿ç”¨æ—¶ï¼Œç¼–å†™ç»è¿‡æ£€æŸ¥çš„å‡½æ•°æ˜¯å¾ˆé‡è¦çš„ã€‚ç„¶è€Œï¼Œè®¾è®¡å‡ºèƒ½å¤Ÿæ­£å¸¸å·¥ä½œçš„ç¨‹åºåˆ™æ›´ä¸ºé‡è¦ã€‚æœ¬ä¹¦ä¸“æ³¨äºæ­£ç¡®ç¨‹åºè®¾è®¡çš„è®¾è®¡è¿‡ç¨‹ï¼Œä¸ºäº†ä¸åˆ†æ•£æ³¨æ„åŠ›ï¼Œæˆ‘ä»¬åŒæ„æˆ‘ä»¬å§‹ç»ˆéµå¾ªæ•°æ®å®šä¹‰å’Œç­¾åã€‚è‡³å°‘ï¼Œæˆ‘ä»¬å‡ ä¹æ€»æ˜¯è¿™æ ·åšï¼Œåœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½è¦æ±‚ä½ è®¾è®¡å‡½æ•°æˆ–ç¨‹åºçš„ç»è¿‡æ£€æŸ¥çš„ç‰ˆæœ¬ã€‚
- en: ExerciseÂ 110\. A checked version of area-of-disk can also enforce that the arguments
    to the function are positive numbers, not just arbitrary numbers. Modify checked-area-of-disk
    in this way.
  id: totrans-3044
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  110ã€‚area-of-disk çš„ç»è¿‡æ£€æŸ¥çš„ç‰ˆæœ¬ä¹Ÿå¯ä»¥å¼ºåˆ¶å‡½æ•°çš„å‚æ•°æ˜¯æ­£æ•°ï¼Œè€Œä¸ä»…ä»…æ˜¯ä»»æ„æ•°å­—ã€‚ä»¥è¿™ç§æ–¹å¼ä¿®æ”¹ checked-area-of-diskã€‚
- en: 'ExerciseÂ 111\. Take a look at these definitions:'
  id: totrans-3045
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  111ã€‚æŸ¥çœ‹ä»¥ä¸‹å®šä¹‰ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â vecÂ [xÂ y])
    |'
  id: totrans-3046
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29)Â vecÂ [xÂ y])
    |'
- en: '| ;Â A vec is |'
  id: totrans-3047
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A vec is |'
- en: '| ;Â Â Â (make-vec  PositiveNumber  PositiveNumber) |'
  id: totrans-3048
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-vec  PositiveNumber  PositiveNumber) |'
- en: '| ;Â interpretation represents a velocity vector |'
  id: totrans-3049
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation represents a velocity vector |'
- en: 'Develop the function checked-make-vec, which is to be understood as a checked
    version of the primitive operation make-vec. It ensures that the arguments to
    make-vec are positive numbers. In other words, checked-make-vec enforces our informal
    data definition.Predicates You might wonder how you can design your own predicates.
    After all, checked functions really seem to have this general shape:'
  id: totrans-3050
  prefs: []
  type: TYPE_NORMAL
  zh: å¼€å‘å‡½æ•° checked-make-vecï¼Œå®ƒåº”è¢«è§†ä¸ºåŸå§‹æ“ä½œ make-vec çš„ç»è¿‡æ£€æŸ¥çš„ç‰ˆæœ¬ã€‚å®ƒç¡®ä¿ make-vec çš„å‚æ•°æ˜¯æ­£æ•°ã€‚æ¢å¥è¯è¯´ï¼Œchecked-make-vec
    å¼ºåˆ¶æ‰§è¡Œæˆ‘ä»¬çš„éæ­£å¼æ•°æ®å®šä¹‰ã€‚
- en: '| ;Â [Any](#%28tech._any%29) -> ... |'
  id: totrans-3051
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Any](#%28tech._any%29) -> ... |'
- en: '| ;Â checks that a is a proper input for function g |'
  id: totrans-3052
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â checks that a is a proper input for function g |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (checked-gÂ a)
    |'
  id: totrans-3053
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (checked-gÂ a)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3054
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [(XYZ?Â a)Â (gÂ a)] |'
  id: totrans-3055
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [(XYZ?Â a)Â (gÂ a)] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â "g:
    bad input")])) |'
  id: totrans-3056
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â "g:
    bad input")])) |'
- en: 'where g itself is defined like this:'
  id: totrans-3057
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ g æœ¬èº«æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š
- en: '| ;Â [XYZ](#%28tech._xyz%29) -> ... |'
  id: totrans-3058
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [XYZ](#%28tech._xyz%29) -> ... |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (gÂ some-x)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
  id: totrans-3059
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (gÂ some-x)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))
    |'
- en: 'We assume that there is a data definition labeled XYZ, and that (XYZ?  a) produces
    #true when a is an element of [XYZ](#%28tech._xyz%29) and #false otherwise.'
  id: totrans-3060
  prefs: []
  type: TYPE_NORMAL
  zh: 'æˆ‘ä»¬å‡è®¾å­˜åœ¨ä¸€ä¸ªæ ‡è®°ä¸º XYZ çš„æ•°æ®å®šä¹‰ï¼Œå¹¶ä¸” (XYZ? a) å½“ a æ˜¯ [XYZ](#%28tech._xyz%29) çš„å…ƒç´ æ—¶äº§ç”Ÿ #trueï¼Œå¦åˆ™äº§ç”Ÿ
    #falseã€‚'
- en: For area-of-disk, which consumes [Number](#%28tech._number%29)s, [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)
    is clearly the appropriate predicate. In contrast, for some functions like missile-render
    from above, we clearly need to define our own predicate because [MissileOrNot](#%28tech._mix._missileornot%29)
    is a made-up, not a built-in, data collection. So let us design a predicate for
    [MissileOrNot](#%28tech._mix._missileornot%29).
  id: totrans-3061
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºarea-of-diskï¼Œå®ƒæ¶ˆè€—[æ•°å­—](#%28tech._number%29)ï¼Œ[number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)æ˜¾ç„¶æ˜¯åˆé€‚çš„è°“è¯ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¯¹äºä¸€äº›åƒä¸Šé¢çš„missile-renderè¿™æ ·çš„å‡½æ•°ï¼Œæˆ‘ä»¬æ˜¾ç„¶éœ€è¦å®šä¹‰è‡ªå·±çš„è°“è¯ï¼Œå› ä¸º[MissileOrNot](#%28tech._mix._missileornot%29)æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ï¼Œè€Œä¸æ˜¯å†…ç½®çš„æ•°æ®é›†åˆã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬ä¸º[MissileOrNot](#%28tech._mix._missileornot%29)è®¾è®¡ä¸€ä¸ªè°“è¯ã€‚
- en: 'We recall the signature for predicates:'
  id: totrans-3062
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å›é¡¾ä¸€ä¸‹è°“è¯çš„ç­¾åï¼š
- en: '| ;Â [Any](#%28tech._any%29) -> [Boolean](#%28tech._boolean%29) |'
  id: totrans-3063
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä»»æ„](#%28tech._any%29) -> [å¸ƒå°”](#%28tech._boolean%29) |'
- en: '| ;Â is a an element of the [MissileOrNot](#%28tech._mix._missileornot%29) collection
    |'
  id: totrans-3064
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â is a an element of the [MissileOrNot](#%28tech._mix._missileornot%29) collection
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â a)Â #false)
    |'
  id: totrans-3065
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â a)Â #false)
    |'
- en: 'It is a good practice to use questions as purpose statements for predicates,
    because applying a predicate is like asking a question about a value. The question
    mark â€œ?â€ at the end of the name also reinforces this idea; some people may tack
    on â€œhuhâ€ to pronounce the name of such functions.Making up examples is also straightforward:'
  id: totrans-3066
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨é—®é¢˜ä½œä¸ºè°“è¯çš„ç›®çš„é™ˆè¿°æ˜¯ä¸€ç§è‰¯å¥½çš„å®è·µï¼Œå› ä¸ºåº”ç”¨è°“è¯å°±åƒå¯¹ä¸€ä¸ªå€¼æå‡ºé—®é¢˜ã€‚åå­—æœ«å°¾çš„é—®å·â€œï¼Ÿâ€ä¹Ÿå¼ºåŒ–äº†è¿™ä¸€æ¦‚å¿µï¼›æœ‰äº›äººå¯èƒ½ä¼šåœ¨å‘éŸ³è¿™æ ·çš„å‡½æ•°åæ—¶åŠ ä¸Šâ€œhuhâ€ã€‚æ„é€ ä¾‹å­ä¹Ÿæ˜¯ç›´æˆªäº†å½“çš„ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â #false)Â #true)
    |'
  id: totrans-3067
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â #false)Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â ([make-posn](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 9Â 2))Â #true)
    |'
  id: totrans-3068
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._make-posn%29%29)Â 9Â 2))Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â "yellow")Â #false)
    |'
  id: totrans-3069
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â "yellow")Â #false)
    |'
- en: 'The first two examples recall that every element of [MissileOrNot](#%28tech._mix._missileornot%29)
    is either #false or some [Posn](#%28tech._posn%29). The third test says that strings
    arenâ€™t elements of the collection. Here are three more tests:'
  id: totrans-3070
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ä¸¤ä¸ªä¾‹å­å›é¡¾äº†[MissileOrNot](#%28tech._mix._missileornot%29)é›†åˆçš„æ¯ä¸ªå…ƒç´ è¦ä¹ˆæ˜¯#falseï¼Œè¦ä¹ˆæ˜¯æŸä¸ª[ä½ç½®](#%28tech._posn%29)ã€‚ç¬¬ä¸‰ä¸ªæµ‹è¯•è¯´æ˜å­—ç¬¦ä¸²ä¸æ˜¯è¯¥é›†åˆçš„å…ƒç´ ã€‚ä»¥ä¸‹æ˜¯å¦å¤–ä¸‰ä¸ªæµ‹è¯•ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â #true)Â #false)
    |'
  id: totrans-3071
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â #true)Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â 10)Â #false)
    |'
  id: totrans-3072
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â 10)Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â [empty-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29))Â #false)
    |'
  id: totrans-3073
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (missile-or-not?Â [ç©ºå›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29))Â #false)
    |'
- en: Explain the expected answers!
  id: totrans-3074
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šé¢„æœŸçš„ç­”æ¡ˆï¼
- en: Since predicates consume all possible BSL values, their templates are just like
    the templates for checked-f. Stop! Find the template and take a second look before
    you read on.
  id: totrans-3075
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè°“è¯æ¶ˆè€—æ‰€æœ‰å¯èƒ½çš„BSLå€¼ï¼Œå®ƒä»¬çš„æ¨¡æ¿ä¸checked-fçš„æ¨¡æ¿ç›¸åŒã€‚åœï¼åœ¨ä½ ç»§ç»­é˜…è¯»ä¹‹å‰ï¼Œæ‰¾åˆ°æ¨¡æ¿å¹¶å†æ¬¡ä»”ç»†çœ‹çœ‹ã€‚
- en: 'As with checked functions, a predicate doesnâ€™t need all possible [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    lines. Only those that might produce #true are required:'
  id: totrans-3076
  prefs: []
  type: TYPE_NORMAL
  zh: 'ä¸æ£€æŸ¥å‡½æ•°ä¸€æ ·ï¼Œè°“è¯ä¸éœ€è¦æ‰€æœ‰å¯èƒ½çš„ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    è¡Œã€‚åªéœ€è¦é‚£äº›å¯èƒ½äº§ç”Ÿ #true çš„è¡Œï¼š'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â v)
    |'
  id: totrans-3077
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â v)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3078
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
  id: totrans-3079
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]
    |'
  id: totrans-3080
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â ([...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-x%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn-y%29%29)Â v)Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â #false]))
    |'
  id: totrans-3081
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â #false]])
    |'
- en: 'All other cases are summarized via an [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    line that produces #false.Given the template, the definition of missile-or-not?
    is a simple matter of thinking through each case:'
  id: totrans-3082
  prefs: []
  type: TYPE_NORMAL
  zh: 'æ‰€æœ‰å…¶ä»–æƒ…å†µéƒ½é€šè¿‡ä¸€ä¸ªäº§ç”Ÿ #false çš„ [else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    è¡Œæ¥æ€»ç»“ã€‚æ ¹æ®æ¨¡æ¿ï¼Œmissile-or-not? çš„å®šä¹‰åªéœ€æ€è€ƒæ¯ä¸ªæƒ…å†µå³å¯ï¼š'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â v)
    |'
  id: totrans-3083
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â v)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3084
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â v)Â ([boolean=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3d~3f%29%29)Â #falseÂ v)]
    |'
  id: totrans-3085
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([boolean?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3f%29%29)Â v)Â ([boolean=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3d~3f%29%29)Â #falseÂ v)]
    |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â #true]
    |'
  id: totrans-3086
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â #true]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â #false]))
    |'
  id: totrans-3087
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â #false]])
    |'
- en: 'Only #false is a legitimate [MissileOrNot](#%28tech._mix._missileornot%29);
    #true isnâ€™t. We express this idea with ([boolean=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3d~3f%29%29)  #false  v),
    but ([false?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._false~3f%29%29)  v)
    would also do:'
  id: totrans-3088
  prefs: []
  type: TYPE_NORMAL
  zh: 'åªæœ‰ #false æ˜¯åˆæ³•çš„ [MissileOrNot](#%28tech._mix._missileornot%29)ï¼›#true åˆ™ä¸æ˜¯ã€‚æˆ‘ä»¬ç”¨
    ([boolean=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3d~3f%29%29)  #false  v)
    æ¥è¡¨è¾¾è¿™ä¸ªæƒ³æ³•ï¼Œä½† ([false?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._false~3f%29%29)  v)
    ä¹Ÿå¯ä»¥ï¼š'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â v)
    |'
  id: totrans-3089
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (missile-or-not?Â v)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3090
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([false?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._false~3f%29%29)Â v)Â #true]
    |'
  id: totrans-3091
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([false?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._false~3f%29%29)Â v)Â #true]
    |'
- en: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â #true]
    |'
  id: totrans-3092
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([posn?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._posn~3f%29%29)Â v)Â #true]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â #false]))
    |'
  id: totrans-3093
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â #false]))
    |'
- en: 'Naturally all elements of Posn are also members of [MissileOrNot](#%28tech._mix._missileornot%29),
    which explains the #true in the second line.'
  id: totrans-3094
  prefs: []
  type: TYPE_NORMAL
  zh: 'è‡ªç„¶åœ°ï¼ŒPosn çš„æ‰€æœ‰å…ƒç´ ä¹Ÿéƒ½æ˜¯ [MissileOrNot](#%28tech._mix._missileornot%29) çš„æˆå‘˜ï¼Œè¿™è§£é‡Šäº†ç¬¬äºŒè¡Œä¸­çš„
    #trueã€‚'
- en: ExerciseÂ 112\. Reformulate the predicate now using an [or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)
    expression.
  id: totrans-3095
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  112\. ç°åœ¨ä½¿ç”¨ [or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)
    è¡¨è¾¾å¼é‡æ–°è¡¨è¿°è°“è¯ã€‚
- en: 'ExerciseÂ 113\. Design predicates for the following data definitions from the
    preceding section: [SIGS](#%28tech._mix._sig%29), [Coordinate](#%28tech._mix._coordinate%29)
    ([exerciseÂ 105](#%28counter._mix._%28exercise._mix-coordinates%29%29)), and [VAnimal](#%28tech._vanimal%29).'
  id: totrans-3096
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  113\. ä¸ºå‰èŠ‚ä¸­çš„ä»¥ä¸‹æ•°æ®å®šä¹‰è®¾è®¡è°“è¯ï¼š[SIGS](#%28tech._mix._sig%29)ã€[Coordinate](#%28tech._mix._coordinate%29)
    ([ç»ƒä¹  105](#%28counter._mix._%28exercise._mix-coordinates%29%29)) å’Œ [VAnimal](#%28tech._vanimal%29)ã€‚
- en: To wrap up, let us mention [key-event?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key-event~3f%29%29)
    and [mouse-event?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse-event~3f%29%29)
    as two important predicates that you may wish to use in your world programs. They
    check the expected property, but you should check out their documentation to make
    sure you understand what they compute.
  id: totrans-3097
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ç»“ä¸€ä¸‹ï¼Œè®©æˆ‘ä»¬æåŠ [key-event?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key-event~3f%29%29)
    å’Œ [mouse-event?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse-event~3f%29%29)
    ä½œä¸ºä¸¤ä¸ªä½ å¯èƒ½å¸Œæœ›åœ¨ä½ çš„ä¸–ç•Œç¨‹åºä¸­ä½¿ç”¨çš„é‡è¦è°“è¯ã€‚å®ƒä»¬æ£€æŸ¥é¢„æœŸçš„å±æ€§ï¼Œä½†ä½ åº”è¯¥æŸ¥çœ‹å®ƒä»¬çš„æ–‡æ¡£ä»¥ç¡®ä¿ä½ ç†è§£å®ƒä»¬è®¡ç®—çš„å†…å®¹ã€‚
- en: 6.4Checking the World[ğŸ”—](#(part._sec~3aworld-checking) "Link to here")
  id: totrans-3098
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 6.4 æ£€æŸ¥ä¸–ç•Œ[ğŸ”—](#(part._sec~3aworld-checking) "é“¾æ¥åˆ°æ­¤å¤„")
- en: In a world program, many things can go wrong. Although we just agreed to trust
    that our functions are always applied to the proper kind of data, in a world program
    we may juggle too many things at once to place that much trust in ourselves. When
    we design a world program that takes care of clock ticks, mouse clicks, keystrokes,
    and rendering, it is just too easy to get one of those interplays wrong. Of course,
    going wrong doesnâ€™t mean that BSL recognizes the mistake immediately. For example,
    one of our functions may produce a result that isnâ€™t quite an element of your
    data representation for world states. At the same time, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    accepts this piece of data and holds on to it, until the next event takes place.
    It is only when the following event handler receives this inappropriate piece
    of data that the program may fail. But it may get worse because even the second
    and third and fourth event-handling step may actually cope with inappropriate
    state values, and it all blows up much later in the process.
  id: totrans-3099
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸€ä¸ªä¸–ç•Œç¨‹åºä¸­ï¼Œè®¸å¤šäº‹æƒ…å¯èƒ½ä¼šå‡ºé”™ã€‚å°½ç®¡æˆ‘ä»¬åˆšåˆšåŒæ„ç›¸ä¿¡æˆ‘ä»¬çš„å‡½æ•°æ€»æ˜¯åº”ç”¨äºé€‚å½“çš„æ•°æ®ç±»å‹ï¼Œä½†åœ¨ä¸€ä¸ªä¸–ç•Œç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯èƒ½åŒæ—¶å¤„ç†å¤ªå¤šäº‹æƒ…ï¼Œä»¥è‡³äºæ— æ³•å®Œå…¨ä¿¡ä»»è‡ªå·±ã€‚å½“æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªè´Ÿè´£å¤„ç†æ—¶é’Ÿæ»´ç­”ã€é¼ æ ‡ç‚¹å‡»ã€æŒ‰é”®å’Œæ¸²æŸ“çš„ä¸–ç•Œç¨‹åºæ—¶ï¼Œå¾ˆå®¹æ˜“å‡ºé”™ã€‚å½“ç„¶ï¼Œå‡ºé”™å¹¶ä¸æ„å‘³ç€BSLä¼šç«‹å³è¯†åˆ«å‡ºé”™è¯¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬çš„æŸä¸ªå‡½æ•°å¯èƒ½äº§ç”Ÿä¸€ä¸ªç»“æœï¼Œè¿™ä¸ªç»“æœå¹¶ä¸æ˜¯ä½ ä¸–ç•ŒçŠ¶æ€æ•°æ®è¡¨ç¤ºçš„ä¸€ä¸ªå…ƒç´ ã€‚åŒæ—¶ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    æ¥å—è¿™å—æ•°æ®å¹¶ä¿ç•™å®ƒï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿã€‚åªæœ‰åœ¨åç»­çš„äº‹ä»¶å¤„ç†ç¨‹åºæ¥æ”¶åˆ°è¿™å—ä¸åˆé€‚çš„æ•°æ®æ—¶ï¼Œç¨‹åºæ‰å¯èƒ½å¤±è´¥ã€‚ä½†æƒ…å†µå¯èƒ½å˜å¾—æ›´ç³Ÿï¼Œå› ä¸ºç¬¬äºŒã€ç¬¬ä¸‰å’Œç¬¬å››ä¸ªäº‹ä»¶å¤„ç†æ­¥éª¤å®é™…ä¸Šå¯èƒ½å¤„ç†ä¸åˆé€‚çš„çŠ¶æ€å€¼ï¼Œæ‰€æœ‰è¿™äº›éƒ½å¯èƒ½åœ¨å¤„ç†è¿‡ç¨‹çš„åæœŸæ‰çˆ†å‘å‡ºæ¥ã€‚
- en: 'To help with this kind of problem, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    comes with an optional [check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)
    clause that accepts a predicate for world states. If, for example, we chose to
    represent all world states with [Number](#%28tech._number%29), we could express
    this fact easily like this:'
  id: totrans-3100
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å¸®åŠ©è§£å†³è¿™ç±»é—®é¢˜ï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    æä¾›äº†ä¸€ä¸ªå¯é€‰çš„ [check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)
    å­å¥ï¼Œè¯¥å­å¥æ¥å—ä¸€ä¸ªç”¨äºä¸–ç•ŒçŠ¶æ€çš„è°“è¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬é€‰æ‹©ç”¨ [Number](#%28tech._number%29) æ¥è¡¨ç¤ºæ‰€æœ‰ä¸–ç•ŒçŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°è¡¨è¾¾è¿™ä¸ªäº‹å®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ s0)
    |'
  id: totrans-3101
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ s0)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â [[check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)Â [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)]Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-3102
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)Â [[check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)Â [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)]Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: 'As soon as any event-handling function produces something other than a number,
    the world stops with an appropriate error message.A [check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)
    clause is even more useful when the data definition is not just a class of data
    with a built-in predicate like [number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)
    but something subtle such as this interval definition:'
  id: totrans-3103
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä»»ä½•äº‹ä»¶å¤„ç†å‡½æ•°äº§ç”Ÿé™¤äº†æ•°å­—ä¹‹å¤–çš„å…¶ä»–å†…å®¹ï¼Œä¸–ç•Œç¨‹åºå°±ä¼šåœæ­¢ï¼Œå¹¶æ˜¾ç¤ºé€‚å½“çš„é”™è¯¯ä¿¡æ¯ã€‚å½“æ•°æ®å®šä¹‰ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå…·æœ‰å†…ç½®è°“è¯ï¼ˆå¦‚[number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)ï¼‰çš„æ•°æ®ç±»æ—¶ï¼Œ[check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)å­å¥å°±æ›´åŠ æœ‰ç”¨ï¼Œä¾‹å¦‚è¿™ä¸ªåŒºé—´å®šä¹‰ï¼š
- en: '| ;Â A UnitWorld is a number |'
  id: totrans-3104
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªUnitWorldæ˜¯ä¸€ä¸ªæ•°å­— |'
- en: '| ;Â Â Â between 0 (inclusive) and 1 (exclusive). |'
  id: totrans-3105
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â åœ¨0ï¼ˆåŒ…å«ï¼‰å’Œ1ï¼ˆä¸åŒ…å«ï¼‰ä¹‹é—´ã€‚ |'
- en: 'In that case you want to formulate a predicate for this interval:'
  id: totrans-3106
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ éœ€è¦ä¸ºè¿™ä¸ªåŒºé—´å®šä¹‰ä¸€ä¸ªè°“è¯ï¼š
- en: '| ;Â [Any](#%28tech._any%29) -> [Boolean](#%28tech._boolean%29) |'
  id: totrans-3107
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Any](#%28tech._any%29) -> [Boolean](#%28tech._boolean%29) |'
- en: '| ;Â is x between 0 (inclusive) and 1 (exclusive) |'
  id: totrans-3108
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â xæ˜¯å¦åœ¨0ï¼ˆåŒ…å«ï¼‰å’Œ1ï¼ˆä¸åŒ…å«ï¼‰ä¹‹é—´ |'
- en: '| Â  |'
  id: totrans-3109
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â "a")Â #false)
    |'
  id: totrans-3110
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â "a")Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 1.2)Â #false)
    |'
  id: totrans-3111
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 1.2)Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 0.2)Â #true)
    |'
  id: totrans-3112
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 0.2)Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 0.0)Â #true)
    |'
  id: totrans-3113
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 0.0)Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 1.0)Â #false)
    |'
  id: totrans-3114
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (between-0-and-1?Â 1.0)Â #false)
    |'
- en: '| Â  |'
  id: totrans-3115
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (between-0-and-1?Â x)
    |'
  id: totrans-3116
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (between-0-and-1?Â x)
    |'
- en: '| Â Â ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â x)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â x)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â xÂ 1)))
    |'
  id: totrans-3117
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â ([number?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number~3f%29%29)Â x)Â ([<=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c~3d%29%29)Â 0Â x)Â ([<](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29)Â xÂ 1)))
    |'
- en: 'With this predicate you can now monitor every single transition in your world
    program:'
  id: totrans-3118
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™ä¸ªè°“è¯ï¼Œä½ ç°åœ¨å¯ä»¥ç›‘æ§ä½ ä¸–ç•Œç¨‹åºä¸­çš„æ¯ä¸€ä¸ªå•ç‹¬çš„è½¬æ¢ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ s0)
    |'
  id: totrans-3119
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (mainÂ s0)
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0
    |'
  id: totrans-3120
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
  id: totrans-3121
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [[check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)Â between-0-and-1?]
    |'
  id: totrans-3122
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â [[check-with](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._check-with%29%29)Â between-0-and-1?]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
  id: totrans-3123
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._......%29%29)))
    |'
- en: If any of the world-producing handlers creates a number outside of the interval,
    or worse, a non-numeric-value, our program discovers this mistake immediately
    and gives us a chance to fix the mistake.
  id: totrans-3124
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä»»ä½•ç”Ÿæˆä¸–ç•Œçš„å¤„ç†ç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªè¶…å‡ºåŒºé—´ä¹‹å¤–çš„æ•°å­—ï¼Œæˆ–è€…æ›´ç³Ÿç³•çš„æ˜¯ï¼Œä¸€ä¸ªéæ•°å€¼ï¼Œæˆ‘ä»¬çš„ç¨‹åºä¼šç«‹å³å‘ç°è¿™ä¸ªé”™è¯¯ï¼Œå¹¶ç»™æˆ‘ä»¬æœºä¼šä¿®å¤é”™è¯¯ã€‚
- en: ExerciseÂ 114\. Use the predicates from [exerciseÂ 113](#%28counter._%28exercise._predicate1%29%29)
    to check the space invader world program, the virtual pet program ([exerciseÂ 106](#%28counter._%28exercise._zoo3%29%29)),
    and the editor program ([A Graphical Editor](#%28part._sec~3aedit1%29)).
  id: totrans-3125
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 114ã€‚ä½¿ç”¨[ç»ƒä¹ 113](#%28counter._%28exercise._predicate1%29%29)ä¸­çš„è°“è¯æ¥æ£€æŸ¥ç©ºé—´å…¥ä¾µè€…ä¸–ç•Œç¨‹åºã€è™šæ‹Ÿå® ç‰©ç¨‹åº([ç»ƒä¹ 106](#%28counter._%28exercise._zoo3%29%29))å’Œç¼–è¾‘å™¨ç¨‹åº([å›¾å½¢ç¼–è¾‘å™¨](#%28part._sec~3aedit1%29))ã€‚
- en: 6.5Equality Predicates[ğŸ”—](#(part._sec~3aequality1) "Link to here")
  id: totrans-3126
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 6.5ç­‰ä»·è°“è¯[ğŸ”—](#(part._sec~3aequality1) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'An equality predicate is a function that compares two elements of the same
    collection of data. Recall the definition of [TrafficLight](#%28tech._trafficlight%29),
    which is the collection of three strings: "red", "green", and "yellow". Here is
    one way to define the light=? function:'
  id: totrans-3127
  prefs: []
  type: TYPE_NORMAL
  zh: ç­‰ä»·è°“è¯æ˜¯ä¸€ä¸ªæ¯”è¾ƒåŒä¸€æ•°æ®é›†åˆä¸­ä¸¤ä¸ªå…ƒç´ çš„å‡½æ•°ã€‚å›å¿†ä¸€ä¸‹[äº¤é€šç¯](#%28tech._trafficlight%29)çš„å®šä¹‰ï¼Œå®ƒæ˜¯ç”±ä¸‰ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„é›†åˆï¼šâ€œçº¢è‰²â€ã€â€œç»¿è‰²â€å’Œâ€œé»„è‰²â€ã€‚ä¸‹é¢æ˜¯å®šä¹‰light=?å‡½æ•°çš„ä¸€ç§æ–¹æ³•ï¼š
- en: '| ;Â [TrafficLight](#%28tech._trafficlight%29)  [TrafficLight](#%28tech._trafficlight%29)
    -> [Boolean](#%28tech._boolean%29) |'
  id: totrans-3128
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [TrafficLight](#%28tech._trafficlight%29)  [TrafficLight](#%28tech._trafficlight%29)
    -> [Boolean](#%28tech._boolean%29) |'
- en: '| ;Â are the two (states of) traffic lights equal |'
  id: totrans-3129
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸¤ä¸ªï¼ˆäº¤é€šç¯çš„ï¼‰çŠ¶æ€æ˜¯å¦ç›¸ç­‰ |'
- en: '| Â  |'
  id: totrans-3130
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "red")Â #true)
    |'
  id: totrans-3131
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "red")Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "green")Â #false)
    |'
  id: totrans-3132
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "green")Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "green"Â "green")Â #true)
    |'
  id: totrans-3133
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "green"Â "green")Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "yellow"Â "yellow")Â #true)
    |'
  id: totrans-3134
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "yellow"Â "yellow")Â #true)
    |'
- en: '| Â  |'
  id: totrans-3135
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (light=?Â a-valueÂ another-value)
    |'
  id: totrans-3136
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (light=?Â a-valueÂ another-value)
    |'
- en: '| Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â a-valueÂ another-value))
    |'
  id: totrans-3137
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â a-valueÂ another-value))
    |'
- en: 'When we click RUN, all tests succeed, but unfortunately other interactions
    reveal conflicts with our intentions:'
  id: totrans-3138
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬ç‚¹å‡»è¿è¡Œæ—¶ï¼Œæ‰€æœ‰æµ‹è¯•éƒ½æˆåŠŸï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œå…¶ä»–äº¤äº’æ­ç¤ºäº†ä¸æˆ‘ä»¬çš„æ„å›¾å†²çªï¼š
- en: '| > (light=?Â "salad"Â "greens") |'
  id: totrans-3139
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (light=?Â "salad"Â "greens") |'
- en: '| #false |'
  id: totrans-3140
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > (light=?Â "beans"Â 10) |'
  id: totrans-3141
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (light=?Â "beans"Â 10) |'
- en: '| string=?:expects a string, given 10 |'
  id: totrans-3142
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| string=?:æœŸæœ›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç»™å®š10 |'
- en: 'Compare these interactions with other, built-in equality predicates:'
  id: totrans-3143
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è¿™äº›äº¤äº’ä¸å…¶ä»–å†…ç½®çš„ç­‰ä»·è°“è¯è¿›è¡Œæ¯”è¾ƒï¼š
- en: '| > ([boolean=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3d~3f%29%29)Â "#true"Â 10)
    |'
  id: totrans-3144
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([boolean=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._boolean~3d~3f%29%29)Â "#true"Â 10)
    |'
- en: '| boolean=?:expects a boolean as 1st argument, given "#true" |'
  id: totrans-3145
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| boolean=?:æœŸæœ›ä¸€ä¸ªå¸ƒå°”å€¼ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç»™å®š"#true" |'
- en: 'Try ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)  10  #true)
    and ([=](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)  20  "help")
    on your own. All of them signal an error about being applied to the wrong kind
    of argument.A checked version of light=? enforces that both arguments belong to
    [TrafficLight](#%28tech._trafficlight%29);The case of characters matters; "red"
    is different from "Red" or "RED". if not, it signals an error like those that
    built-in equality predicates issue. We call the predicate for TrafficLight light?
    for brevity:'
  id: totrans-3146
  prefs: []
  type: TYPE_NORMAL
  zh: 'å°è¯•åœ¨è‡ªå·±çš„ç¯å¢ƒä¸­ä½¿ç”¨ ([å­—ç¬¦ä¸²ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    10 #true) å’Œ ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29)
    20 "help")ã€‚æ‰€æœ‰è¿™äº›éƒ½ä¼šåœ¨åº”ç”¨é”™è¯¯ç±»å‹çš„å‚æ•°æ—¶å¼•å‘é”™è¯¯ã€‚light=? çš„æ£€æŸ¥ç‰ˆæœ¬å¼ºåˆ¶ä¸¤ä¸ªå‚æ•°éƒ½å±äº [TrafficLight](#%28tech._trafficlight%29)ï¼›å­—ç¬¦çš„å¤§å°å†™å¾ˆé‡è¦ï¼›"red"
    ä¸ "Red" æˆ– "RED" ä¸åŒã€‚å¦‚æœä¸è¿™æ ·ï¼Œå®ƒå°†å¼•å‘ç±»ä¼¼äºå†…ç½®ç­‰ä»·è°“è¯å¼•å‘çš„é”™è¯¯ã€‚æˆ‘ä»¬ä¸ºäº†ç®€æ´èµ·è§ï¼Œå°† TrafficLight çš„è°“è¯ç§°ä¸º light?ï¼š'
- en: '| ;Â [Any](#%28tech._any%29) -> [Boolean](#%28tech._boolean%29) |'
  id: totrans-3147
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Any](#%28tech._any%29) -> [å¸ƒå°”](#%28tech._boolean%29) |'
- en: '| ;Â is the given value an element of [TrafficLight](#%28tech._trafficlight%29)
    |'
  id: totrans-3148
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»™å®šçš„å€¼æ˜¯å¦æ˜¯ [TrafficLight](#%28tech._trafficlight%29) çš„å…ƒç´  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (light?Â x)
    |'
  id: totrans-3149
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    (light? x) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
  id: totrans-3150
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([string?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)Â x)Â ([or](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "red"Â x)
    |'
  id: totrans-3151
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å­—ç¬¦ä¸²?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3f%29%29)
    x) [æˆ–](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._or%29%29)
    ([å­—ç¬¦ä¸²ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    "red" x) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "green"Â x)
    |'
  id: totrans-3152
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([å­—ç¬¦ä¸²ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    "green" x) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â "yellow"Â x))]
    |'
  id: totrans-3153
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([å­—ç¬¦ä¸²ç­‰äº?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)
    "yellow" x))] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)Â #false]))
    |'
  id: totrans-3154
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._else%29%29)
    #false]]) |'
- en: 'Now we can wrap up the revision of light=? by just following our original analysis.
    First, the function determines that the two inputs are elements of [TrafficLight](#%28tech._trafficlight%29);
    if not it uses [error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    to signal the mistake:'
  id: totrans-3155
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡éµå¾ªæˆ‘ä»¬çš„åŸå§‹åˆ†ææ¥æ€»ç»“ light=? çš„ä¿®è®¢ã€‚é¦–å…ˆï¼Œå‡½æ•°ç¡®å®šä¸¤ä¸ªè¾“å…¥æ˜¯ [TrafficLight](#%28tech._trafficlight%29)
    çš„å…ƒç´ ï¼›å¦‚æœä¸æ˜¯ï¼Œå®ƒä½¿ç”¨ [é”™è¯¯](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)
    æ¥æŠ¥å‘Šé”™è¯¯ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â MESSAGE
    |'
  id: totrans-3156
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)
    MESSAGE) |'
- en: '| Â Â "traffic light expected, given some other value") |'
  id: totrans-3157
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â "é¢„æœŸäº¤é€šç¯ï¼Œç»™å®šå…¶ä»–å€¼") |'
- en: '| Â  |'
  id: totrans-3158
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Any](#%28tech._any%29)  [Any](#%28tech._any%29) -> [Boolean](#%28tech._boolean%29)
    |'
  id: totrans-3159
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Any](#%28tech._any%29) -> [å¸ƒå°”](#%28tech._boolean%29) |'
- en: '| ;Â are the two values elements of [TrafficLight](#%28tech._trafficlight%29)
    and, |'
  id: totrans-3160
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸¤ä¸ªå€¼æ˜¯å¦æ˜¯ [TrafficLight](#%28tech._trafficlight%29) çš„å…ƒç´ ï¼Œå¹¶ä¸”ï¼Œ |'
- en: '| ;Â if so, are they equal |'
  id: totrans-3161
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœæ˜¯è¿™æ ·ï¼Œå®ƒä»¬æ˜¯å¦ç›¸ç­‰ |'
- en: '| Â  |'
  id: totrans-3162
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "red")Â #true)
    |'
  id: totrans-3163
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "red")Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "green")Â #false)
    |'
  id: totrans-3164
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "red"Â "green")Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "green"Â "green")Â #true)
    |'
  id: totrans-3165
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "green"Â "green")Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "yellow"Â "yellow")Â #true)
    |'
  id: totrans-3166
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29)Â (light=?Â "yellow"Â "yellow")Â #true)
    |'
- en: '| Â  |'
  id: totrans-3167
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (light=?Â a-valueÂ another-value)
    |'
  id: totrans-3168
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29)Â (light=?Â a-valueÂ another-value)
    |'
- en: '| Â Â ([if](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([and](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â (light?Â a-value)Â (light?Â another-value))
    |'
  id: totrans-3169
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â ([å¦‚æœ](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29)Â ([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._and%29%29)Â (light?Â a-value)Â (light?Â another-value))
    |'
- en: '| Â Â Â Â Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â a-valueÂ another-value)
    |'
  id: totrans-3170
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â ([å­—ç¬¦ä¸²ç­‰äº](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29)Â a-valueÂ another-value)
    |'
- en: '| Â Â Â Â Â Â ([error](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â MESSAGE)))
    |'
  id: totrans-3171
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â ([é”™è¯¯](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29)Â MESSAGE)))
    |'
- en: ExerciseÂ 115\. Revise light=? so that the error message specifies which of the
    two arguments isnâ€™t an element of [TrafficLight](#%28tech._trafficlight%29).
  id: totrans-3172
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 115ã€‚ä¿®æ”¹light=?ï¼Œä»¥ä¾¿é”™è¯¯ä¿¡æ¯æŒ‡å®šä¸¤ä¸ªå‚æ•°ä¸­å“ªä¸€ä¸ªä¸æ˜¯[TrafficLight](#%28tech._trafficlight%29)çš„å…ƒç´ ã€‚
- en: While it is unlikely that your programs will use light=?, they ought to use
    [key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)
    and [mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29),
    two equality predicates that we briefly mentioned at the end of the last subsection.
    Naturally, [key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)
    is an operation for comparing two [KeyEvent](#%28tech._keyevent%29)s; similarly,
    [mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)
    compares two [MouseEvt](#%28tech._mouseevt%29)s. While both kinds of events are
    represented as strings, it is important to realize that not all strings represent
    key events or mouse events.
  id: totrans-3173
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶ä½ çš„ç¨‹åºä¸å¤ªå¯èƒ½ä½¿ç”¨light=ï¼Ÿï¼Œä½†å®ƒä»¬åº”è¯¥ä½¿ç”¨[key=ï¼Ÿ](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)å’Œ[mouse=ï¼Ÿ](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)ï¼Œè¿™ä¸¤ä¸ªæ˜¯æˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªå­èŠ‚æœ«å°¾ç®€è¦æåˆ°çš„ç­‰ä»·è°“è¯ã€‚è‡ªç„¶åœ°ï¼Œ[key=ï¼Ÿ](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)æ˜¯æ¯”è¾ƒä¸¤ä¸ª[KeyEvent](#%28tech._keyevent%29)çš„æ“ä½œï¼›åŒæ ·ï¼Œ[mouse=ï¼Ÿ](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)æ¯”è¾ƒä¸¤ä¸ª[MouseEvt](#%28tech._mouseevt%29)ã€‚è™½ç„¶è¿™ä¸¤ç§äº‹ä»¶éƒ½è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ï¼Œä½†é‡è¦çš„æ˜¯è¦è®¤è¯†åˆ°å¹¶éæ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä»£è¡¨é”®ç›˜äº‹ä»¶æˆ–é¼ æ ‡äº‹ä»¶ã€‚
- en: We recommend using [key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)
    in key-event handlers and [mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)
    in mouse-event handlers from now on. The use of [key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)
    in a key-event handler ensures that the function really compares strings that
    represent key events and not arbitrary strings. As soon as, say, the function
    is accidentally applied to "hello\n world", [key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)
    signals an error and thus informs us that something is wrong.
  id: totrans-3174
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å»ºè®®ä»æ­¤ä»¥ååœ¨é”®äº‹ä»¶å¤„ç†ç¨‹åºä¸­ä½¿ç”¨[key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)ï¼Œåœ¨é¼ æ ‡äº‹ä»¶å¤„ç†ç¨‹åºä¸­ä½¿ç”¨[mouse=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse~3d~3f%29%29)ã€‚åœ¨é”®äº‹ä»¶å¤„ç†ç¨‹åºä¸­ä½¿ç”¨[key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)ç¡®ä¿å‡½æ•°çœŸæ­£æ¯”è¾ƒè¡¨ç¤ºé”®äº‹ä»¶çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä»»æ„å­—ç¬¦ä¸²ã€‚ä¸€æ—¦ï¼Œæ¯”å¦‚è¯´ï¼Œå‡½æ•°æ„å¤–åœ°åº”ç”¨äº"hello\n
    world"ï¼Œ[key=?](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._key~3d~3f%29%29)ä¼šå‘å‡ºé”™è¯¯ä¿¡å·ï¼Œä»è€Œé€šçŸ¥æˆ‘ä»¬æœ‰é—®é¢˜ã€‚
- en: 7Summary[ğŸ”—](#(part._ch~3asummary1) "Link to here")
  id: totrans-3175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7æ€»ç»“[ğŸ”—](#(part._ch~3asummary1) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'In this first part of the book, you learned a bunch of simple but important
    lessons. Here is a summary:'
  id: totrans-3176
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬ä¹¦çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œä½ å­¦åˆ°äº†è®¸å¤šç®€å•ä½†é‡è¦çš„è¯¾ç¨‹ã€‚ä»¥ä¸‹æ˜¯æ€»ç»“ï¼š
- en: A good programmer designs programs. A bad programmer tinkers until the program
    seems to work.
  id: totrans-3177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜è®¾è®¡ç¨‹åºã€‚ä¸€ä¸ªå·®çš„ç¨‹åºå‘˜åˆ™ä¸æ–­å°è¯•ç›´åˆ°ç¨‹åºçœ‹èµ·æ¥ä¼¼ä¹å¯ä»¥å·¥ä½œã€‚
- en: The design recipe has two dimensions. One concerns the process of design, that
    is, the sequence of steps to be taken. The other explains how the chosen data
    representation influences the design process.
  id: totrans-3178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¾è®¡é£Ÿè°±æœ‰ä¸¤ä¸ªç»´åº¦ã€‚ä¸€ä¸ªæ¶‰åŠè®¾è®¡è¿‡ç¨‹ï¼Œå³è¦é‡‡å–çš„æ­¥éª¤åºåˆ—ã€‚å¦ä¸€ä¸ªè§£é‡Šäº†é€‰æ‹©çš„æ•°æ®è¡¨ç¤ºå¦‚ä½•å½±å“è®¾è®¡è¿‡ç¨‹ã€‚
- en: 'Every well-designed program consists of many constant definitions, structure
    type definitions, data definitions, and function definitions. For batch programs,
    one function is the â€œmainâ€ function, and it typically composes several other functions
    to perform its computation. For interactive programs, the [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    function plays the role of the main function; it specifies the initial state of
    the program, an image-producing output function, and at most three event handlers:
    one for clock ticks, one for mouse clicks, and one for key events. In both kinds
    of programs, function definitions are presented â€œtop down,â€ starting with the
    main function, followed by those functions mentioned in the main function, and
    so on.'
  id: totrans-3179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªè®¾è®¡è‰¯å¥½çš„ç¨‹åºéƒ½ç”±è®¸å¤šå¸¸é‡å®šä¹‰ã€ç»“æ„ç±»å‹å®šä¹‰ã€æ•°æ®å®šä¹‰å’Œå‡½æ•°å®šä¹‰ç»„æˆã€‚å¯¹äºæ‰¹å¤„ç†ç¨‹åºï¼Œä¸€ä¸ªå‡½æ•°æ˜¯â€œä¸»â€å‡½æ•°ï¼Œå®ƒé€šå¸¸ç»„åˆå‡ ä¸ªå…¶ä»–å‡½æ•°æ¥å®Œæˆå…¶è®¡ç®—ã€‚å¯¹äºäº¤äº’å¼ç¨‹åºï¼Œ[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)å‡½æ•°æ‰®æ¼”ä¸»å‡½æ•°çš„è§’è‰²ï¼›å®ƒæŒ‡å®šç¨‹åºçš„åˆå§‹çŠ¶æ€ã€ä¸€ä¸ªç”Ÿæˆå›¾åƒçš„è¾“å‡ºå‡½æ•°ï¼Œä»¥åŠæœ€å¤šä¸‰ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼šä¸€ä¸ªç”¨äºæ—¶é’Ÿæ»´ç­”ï¼Œä¸€ä¸ªç”¨äºé¼ æ ‡ç‚¹å‡»ï¼Œä¸€ä¸ªç”¨äºé”®äº‹ä»¶ã€‚åœ¨è¿™ä¸¤ç§ç¨‹åºä¸­ï¼Œå‡½æ•°å®šä¹‰éƒ½æ˜¯â€œè‡ªé¡¶å‘ä¸‹â€å‘ˆç°çš„ï¼Œä»ä¸»å‡½æ•°å¼€å§‹ï¼Œç„¶åæ˜¯ä¸»å‡½æ•°ä¸­æåˆ°çš„é‚£äº›å‡½æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚
- en: Like all programming languages, Beginning Student Language comes with a vocabulary
    and a grammar. Programmers must be able to determine the meaning of each sentence
    in a language so that they can anticipate how the program performs its computation
    when given an input. The following intermezzo explains this idea in detail.
  id: totrans-3180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œå…¥é—¨å­¦ç”Ÿè¯­è¨€ä¹Ÿæœ‰ä¸€å¥—è¯æ±‡å’Œè¯­æ³•ã€‚ç¨‹åºå‘˜å¿…é¡»èƒ½å¤Ÿç¡®å®šè¯­è¨€ä¸­æ¯ä¸ªå¥å­çš„å«ä¹‰ï¼Œè¿™æ ·ä»–ä»¬æ‰èƒ½é¢„æµ‹ç¨‹åºåœ¨ç»™å®šè¾“å…¥æ—¶çš„è®¡ç®—æ–¹å¼ã€‚ä»¥ä¸‹çš„å°æ’æ›²å°†è¯¦ç»†è§£é‡Šè¿™ä¸ªæƒ³æ³•ã€‚
- en: Programming languages, including BSL, come with a rich set of teachpacks so
    that programmers donâ€™t have to reinvent the wheel all the time. A programmer should
    become comfortable with the functions that a teachpack provides, especially their
    signatures and purpose statements. Doing so simplifies life.
  id: totrans-3181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬BSLï¼Œéƒ½é™„å¸¦äº†ä¸€å¥—ä¸°å¯Œçš„æ•™å­¦åŒ…ï¼Œè¿™æ ·ç¨‹åºå‘˜å°±ä¸å¿…æ¯æ¬¡éƒ½é‡æ–°å‘æ˜è½®å­ã€‚ç¨‹åºå‘˜åº”è¯¥ç†Ÿæ‚‰æ•™å­¦åŒ…æä¾›çš„å‡½æ•°ï¼Œç‰¹åˆ«æ˜¯å®ƒä»¬çš„ç­¾åå’Œç›®çš„è¯´æ˜ã€‚è¿™æ ·åšå¯ä»¥ç®€åŒ–ç”Ÿæ´»ã€‚
- en: 'A programmer must get to know the â€œtoolsâ€ that a chosen programming language
    offers. These tools are either part of the languageâ€”<wbr>such as [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    or [max](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._max%29%29)â€”<wbr>or
    they are â€œimportedâ€ from a teachpack. In this spirit, make sure you understand
    the following terms: structure type definition, function definition, constant
    definition, structure instance, data definition, [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29),
    and event-handling function.'
  id: totrans-3182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¨‹åºå‘˜å¿…é¡»äº†è§£æ‰€é€‰ç¼–ç¨‹è¯­è¨€æä¾›çš„â€œå·¥å…·â€ã€‚è¿™äº›å·¥å…·è¦ä¹ˆæ˜¯è¯­è¨€çš„ä¸€éƒ¨åˆ†â€”â€”ä¾‹å¦‚ [cond](http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._cond%29%29)
    æˆ– [max](http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._max%29%29)â€”è¦ä¹ˆæ˜¯ä»æ•™å­¦åŒ…ä¸­â€œå¯¼å…¥â€çš„ã€‚æœ¬ç€è¿™ç§ç²¾ç¥ï¼Œç¡®ä¿ä½ ç†è§£ä»¥ä¸‹æœ¯è¯­ï¼šç»“æ„ç±»å‹å®šä¹‰ã€å‡½æ•°å®šä¹‰ã€å¸¸é‡å®šä¹‰ã€ç»“æ„å®ä¾‹ã€æ•°æ®å®šä¹‰ã€[big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    å’Œäº‹ä»¶å¤„ç†å‡½æ•°ã€‚
