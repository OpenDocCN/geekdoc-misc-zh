- en: Variants can hold data
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 变体可以持有数据
- en: 原文：[https://rust-exercises.com/100-exercises/05_ticket_v2/03_variants_with_data.html](https://rust-exercises.com/100-exercises/05_ticket_v2/03_variants_with_data.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://rust-exercises.com/100-exercises/05_ticket_v2/03_variants_with_data.html](https://rust-exercises.com/100-exercises/05_ticket_v2/03_variants_with_data.html)
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Our `Status` enum is what's usually called a **C-style enum**.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的 `Status` 枚举通常被称为 **C 风格枚举**。
- en: Each variant is a simple label, a bit like a named constant. You can find this
    kind of enum in many programming languages, like C, C++, Java, C#, Python, etc.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 每个变体都是一个简单的标签，有点像命名常量。你可以在许多编程语言中找到这种类型的枚举，如 C、C++、Java、C#、Python 等。
- en: Rust enums can go further though. We can **attach data to each variant**.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Rust 枚举可以更进一步。我们可以 **将数据附加到每个变体**。
- en: '[Variants](#variants)'
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[变体](#variants)'
- en: Let's say that we want to store the name of the person who's currently working
    on a ticket.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们想要存储目前正在处理票据的人的名字。
- en: 'We would only have this information if the ticket is in progress. It wouldn''t
    be there for a to-do ticket or a done ticket. We can model this by attaching a
    `String` field to the `InProgress` variant:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们只有当票据处于进行中时才会有这些信息。对于待办票据或已完成票据，它不会在那里。我们可以通过将一个 `String` 字段附加到 `InProgress`
    变体上来模拟这一点：
- en: '[PRE1]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '`InProgress` is now a **struct-like variant**.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '`InProgress` 现在是一个 **类似结构的变体**。'
- en: The syntax mirrors, in fact, the one we used to define a struct—it's just "inlined"
    inside the enum, as a variant.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，语法与我们在定义结构体时使用的语法相同——它只是作为变体“内联”在枚举中。
- en: '[Accessing variant data](#accessing-variant-data)'
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[访问变体数据](#accessing-variant-data)'
- en: If we try to access `assigned_to` on a `Status` instance,
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们尝试在一个 `Status` 实例上访问 `assigned_to`，
- en: '[PRE2]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'the compiler will stop us:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 编译器会阻止我们：
- en: '[PRE3]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '`assigned_to` is **variant-specific**, it''s not available on all `Status`
    instances.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '`assigned_to` 是 **变体特定的**，它不是所有 `Status` 实例都可用。'
- en: 'To access `assigned_to`, we need to use **pattern matching**:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问 `assigned_to`，我们需要使用 **模式匹配**：
- en: '[PRE4]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[Bindings](#bindings)'
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[绑定](#bindings)'
- en: In the match pattern `Status::InProgress { assigned_to }`, `assigned_to` is
    a **binding**.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在匹配模式 `Status::InProgress { assigned_to }` 中，`assigned_to` 是一个 **绑定**。
- en: We're **destructuring** the `Status::InProgress` variant and binding the `assigned_to`
    field to a new variable, also named `assigned_to`.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在 **解构** `Status::InProgress` 变体并将 `assigned_to` 字段绑定到一个新变量，也命名为 `assigned_to`。
- en: 'If we wanted, we could bind the field to a different variable name:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们愿意，我们可以将字段绑定到不同的变量名：
- en: '[PRE5]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[Exercise](#exercise)'
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[练习](#exercise)'
- en: The exercise for this section is located in [`05_ticket_v2/03_variants_with_data`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/03_variants_with_data)
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本节练习位于 `[05_ticket_v2/03_variants_with_data](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/03_variants_with_data)`
