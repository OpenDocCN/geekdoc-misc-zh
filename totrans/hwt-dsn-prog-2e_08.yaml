- en: IIIÂ AbstractionğŸ”—
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IIIÂ æŠ½è±¡ğŸ”—
- en: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/part_three.html](https://htdp.org/2024-11-6/Book/part_three.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/part_three.html](https://htdp.org/2024-11-6/Book/part_three.html)
- en: '| Â Â Â Â [14Â Similarities Everywhere](#%28part._ch~3add-similarities%29) |'
  id: totrans-2
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â [14Â æ— å¤„ä¸åœ¨çš„ç›¸ä¼¼æ€§](#%28part._ch~3add-similarities%29) |'
- en: '| Â Â Â Â Â Â [14.1Â Similarities in Functions](#%28part._sec~3aprog-similarities%29)
    |'
  id: totrans-3
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [14.1Â å‡½æ•°ä¸­çš„ç›¸ä¼¼æ€§](#%28part._sec~3aprog-similarities%29) |'
- en: '| Â Â Â Â Â Â [14.2Â Different Similarities](#%28part._sec~3afunc-similarities%29)
    |'
  id: totrans-4
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [14.2Â ä¸åŒçš„ç›¸ä¼¼æ€§](#%28part._sec~3afunc-similarities%29) |'
- en: '| Â Â Â Â Â Â [14.3Â Similarities in Data Definitions](#%28part._sim-dd._sec~3add-similarities%29)
    |'
  id: totrans-5
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [14.3Â æ•°æ®å®šä¹‰ä¸­çš„ç›¸ä¼¼æ€§](#%28part._sim-dd._sec~3add-similarities%29) |'
- en: '| Â Â Â Â Â Â [14.4Â Functions Are Values](#%28part._sec~3afunctions-as-values%29)
    |'
  id: totrans-6
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [14.4Â å‡½æ•°æ˜¯å€¼](#%28part._sec~3afunctions-as-values%29) |'
- en: '| Â Â Â Â Â Â [14.5Â Computing with Functions](#%28part._sec~3aeval-ho%29) |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [14.5Â ä½¿ç”¨å‡½æ•°è¿›è¡Œè®¡ç®—](#%28part._sec~3aeval-ho%29) |'
- en: '| Â Â Â Â [15Â Designing Abstractions](#%28part._ch~3aabstract%29) |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â [15Â è®¾è®¡æŠ½è±¡](#%28part._ch~3aabstract%29) |'
- en: '| Â Â Â Â Â Â [15.1Â Abstractions from Examples](#%28part._sec~3adesign-abstract%29)
    |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [15.1Â ä»ç¤ºä¾‹ä¸­æå–æŠ½è±¡](#%28part._sec~3adesign-abstract%29) |'
- en: '| Â Â Â Â Â Â [15.2Â Similarities in Signatures](#%28part._sec~3aabs-signatures%29)
    |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [15.2Â ç­¾åä¸­çš„ç›¸ä¼¼æ€§](#%28part._sec~3aabs-signatures%29) |'
- en: '| Â Â Â Â Â Â [15.3Â Single Point of Control](#%28part._sec~3aspoc%29) |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [15.3Â å•ä¸€æ§åˆ¶ç‚¹](#%28part._sec~3aspoc%29) |'
- en: '| Â Â Â Â Â Â [15.4Â Abstractions from Templates](#%28part._sec~3aapriori-abs%29)
    |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [15.4Â ä»æ¨¡æ¿ä¸­æå–æŠ½è±¡](#%28part._sec~3aapriori-abs%29) |'
- en: '| Â Â Â Â [16Â Using Abstractions](#%28part._ch~3a3use%29) |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â [16Â ä½¿ç”¨æŠ½è±¡](#%28part._ch~3a3use%29) |'
- en: '| Â Â Â Â Â Â [16.1Â Existing Abstractions](#%28part._sec~3aisl-abstractions%29) |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.1Â ç°æœ‰çš„æŠ½è±¡](#%28part._sec~3aisl-abstractions%29) |'
- en: '| Â Â Â Â Â Â [16.2Â Local Definitions](#%28part._sec~3alocal-definitions%29) |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.2Â å±€éƒ¨å®šä¹‰](#%28part._sec~3alocal-definitions%29) |'
- en: '| Â Â Â Â Â Â [16.3Â Local Definitions Add Expressive Power](#%28part._sec~3alocal-is-power%29)
    |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.3Â å±€éƒ¨å®šä¹‰å¢åŠ è¡¨è¾¾èƒ½åŠ›](#%28part._sec~3alocal-is-power%29) |'
- en: '| Â Â Â Â Â Â [16.4Â Computing with local](#%28part._sec~3aeval-local%29) |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.4Â ä½¿ç”¨å±€éƒ¨å˜é‡è¿›è¡Œè®¡ç®—](#%28part._sec~3aeval-local%29) |'
- en: '| Â Â Â Â Â Â [16.5Â Using Abstractions, by Example](#%28part._sec~3ausage-examples%29)
    |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.5Â é€šè¿‡ç¤ºä¾‹ä½¿ç”¨æŠ½è±¡](#%28part._sec~3ausage-examples%29) |'
- en: '| Â Â Â Â Â Â [16.6Â Designing with Abstractions](#%28part._sec~3adesigning-with-abstraction%29)
    |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.6Â ä½¿ç”¨æŠ½è±¡è¿›è¡Œè®¾è®¡](#%28part._sec~3adesigning-with-abstraction%29) |'
- en: '| Â Â Â Â Â Â [16.7Â Finger Exercises: Abstraction](#%28part._sec~3aabstraction-exercises%29)
    |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.7Â æ‰‹æŒ‡ç»ƒä¹ ï¼šæŠ½è±¡](#%28part._sec~3aabstraction-exercises%29) |'
- en: '| Â Â Â Â Â Â [16.8Â Projects: Abstraction](#%28part._sec~3aproj-abstraction%29) |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [16.8Â é¡¹ç›®ï¼šæŠ½è±¡](#%28part._sec~3aproj-abstraction%29)'
- en: '| Â Â Â Â [17Â Nameless Functions](#%28part._ch~3a3lambda%29) |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â [17Â æ— åç§°å‡½æ•°](#%28part._ch~3a3lambda%29) |'
- en: '| Â Â Â Â Â Â [17.1Â Functions from lambda](#%28part._sec~3aint-lambda%29) |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [17.1Â ä»lambdaç”Ÿæˆå‡½æ•°](#%28part._sec~3aint-lambda%29) |'
- en: '| Â Â Â Â Â Â [17.2Â Computing with lambda](#%28part._sec~3alambda-technical%29) |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [17.2Â ä½¿ç”¨lambdaè¿›è¡Œè®¡ç®—](#%28part._sec~3alambda-technical%29) |'
- en: '| Â Â Â Â Â Â [17.3Â Abstracting with lambda](#%28part._sec~3alambda%29) |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [17.3Â ä½¿ç”¨lambdaè¿›è¡ŒæŠ½è±¡](#%28part._sec~3alambda%29) |'
- en: '| Â Â Â Â Â Â [17.4Â Specifying with lambda](#%28part._sec~3aspecification%29) |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [17.4Â ä½¿ç”¨lambdaè¿›è¡ŒæŒ‡å®š](#%28part._sec~3aspecification%29) |'
- en: '| Â Â Â Â Â Â [17.5Â Representing with lambda](#%28part._sec~3alambda.I.I%29) |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [17.5Â ä½¿ç”¨lambdaè¿›è¡Œè¡¨ç¤º](#%28part._sec~3alambda.I.I%29) |'
- en: '| Â Â Â Â [18Â Summary](#%28part._ch~3asummary3%29) |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| Â Â Â Â [18Â æ€»ç»“](#%28part._ch~3asummary3%29) |'
- en: 'Many of our data definitions and function definitions look alike. For example,
    the definition for a list of [String](part_one.html#%28tech._string%29)s differs
    from that of a list of [Number](part_one.html#%28tech._number%29)s in only two
    places: the names of the classes of data and the words â€œStringâ€ and â€œNumber.â€
    Similarly, a function that looks for a specific string in a list of [String](part_one.html#%28tech._string%29)s
    is nearly indistinguishable from one that looks for a specific number in a list
    of [Number](part_one.html#%28tech._number%29)s.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: è®¸å¤šæˆ‘ä»¬çš„æ•°æ®å®šä¹‰å’Œå‡½æ•°å®šä¹‰çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²åˆ—è¡¨çš„å®šä¹‰ä¸æ•°å­—åˆ—è¡¨çš„å®šä¹‰åªåœ¨ä¸¤ä¸ªåœ°æ–¹ä¸åŒï¼šæ•°æ®ç±»çš„åç§°ä»¥åŠâ€œå­—ç¬¦ä¸²â€å’Œâ€œæ•°å­—â€è¿™ä¸¤ä¸ªè¯ã€‚åŒæ ·ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ä¸­æŸ¥æ‰¾ç‰¹å®šå­—ç¬¦ä¸²çš„å‡½æ•°å‡ ä¹ä¸åœ¨ä¸€ä¸ªæ•°å­—åˆ—è¡¨ä¸­æŸ¥æ‰¾ç‰¹å®šæ•°å­—çš„å‡½æ•°æ— æ³•åŒºåˆ†ã€‚
- en: Experience shows that these kinds of similarities are problematic. The similarities
    come about because programmersâ€”<wbr>physically or mentallyâ€”<wbr>copy code. When
    programmers are confronted with a problem that is roughly like another one, they
    copy the solution and modify the new copy to solve the new problem. You will find
    this behavior both in â€œrealâ€ programming contexts as well as in the world of spreadsheets
    and mathematical modeling. Copying code, however, means that programmers copy
    mistakes, and the same fix may have to be applied to many copies. It also means
    that when the underlying data definition is revised or extended, all copies of
    code must be found and modified in a corresponding way. This process is both expensive
    and error-prone, imposing unnecessary costs on programming teams.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ç»éªŒè¡¨æ˜ï¼Œè¿™ç±»ç›¸ä¼¼æ€§æ˜¯æœ‰é—®é¢˜çš„ã€‚è¿™äº›ç›¸ä¼¼æ€§äº§ç”Ÿçš„åŸå› æ˜¯ç¨‹åºå‘˜â€”â€”æ— è®ºæ˜¯ä»èº«ä½“ä¸Šè¿˜æ˜¯å¿ƒç†ä¸Šâ€”â€”éƒ½ä¼šå¤åˆ¶ä»£ç ã€‚å½“ç¨‹åºå‘˜é¢å¯¹ä¸€ä¸ªä¸å¦ä¸€ä¸ªé—®é¢˜å¤§è‡´ç›¸ä¼¼çš„é—®é¢˜æ—¶ï¼Œä»–ä»¬ä¼šå¤åˆ¶è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¿®æ”¹æ–°å‰¯æœ¬ä»¥è§£å†³æ–°é—®é¢˜ã€‚ä½ ä¼šåœ¨â€œçœŸå®â€çš„ç¼–ç¨‹ç¯å¢ƒä¸­ä»¥åŠç”µå­è¡¨æ ¼å’Œæ•°å­¦å»ºæ¨¡çš„ä¸–ç•Œä¸­å‘ç°è¿™ç§è¡Œä¸ºã€‚ç„¶è€Œï¼Œå¤åˆ¶ä»£ç æ„å‘³ç€ç¨‹åºå‘˜ä¼šå¤åˆ¶é”™è¯¯ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦å¯¹è®¸å¤šå‰¯æœ¬åº”ç”¨ç›¸åŒçš„ä¿®å¤ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå½“åº•å±‚çš„æ•°æ®å®šä¹‰è¢«ä¿®è®¢æˆ–æ‰©å±•æ—¶ï¼Œå¿…é¡»æ‰¾åˆ°å¹¶ç›¸åº”åœ°ä¿®æ”¹æ‰€æœ‰ä»£ç å‰¯æœ¬ã€‚è¿™ä¸ªè¿‡ç¨‹æ—¢æ˜‚è´µåˆå®¹æ˜“å‡ºé”™ï¼Œç»™ç¼–ç¨‹å›¢é˜Ÿå¸¦æ¥äº†ä¸å¿…è¦çš„æˆæœ¬ã€‚
- en: Good programmers try to eliminate similarities as much as the programming language
    allows.A program is like an essay. The first version is a draft, and drafts demand
    editing. â€œEliminateâ€ implies that programmers write down their first drafts of
    programs, spot similarities (and other problems), and get rid of them. For the
    last step, they either abstract or use existing (abstract) functions. It often
    takes several iterations of this process to get the program into satisfactory
    shape.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: è‰¯å¥½çš„ç¨‹åºå‘˜ä¼šå°½å¯èƒ½åœ°æ¶ˆé™¤ç›¸ä¼¼æ€§ï¼Œåªè¦ç¼–ç¨‹è¯­è¨€å…è®¸ã€‚ç¨‹åºå°±åƒä¸€ç¯‡æ–‡ç« ã€‚ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ˜¯è‰ç¨¿ï¼Œè‰ç¨¿éœ€è¦ç¼–è¾‘ã€‚â€œæ¶ˆé™¤â€æ„å‘³ç€ç¨‹åºå‘˜å†™ä¸‹ä»–ä»¬ç¨‹åºçš„ç¬¬ä¸€ä¸ªè‰ç¨¿ï¼Œæ‰¾å‡ºç›¸ä¼¼æ€§ï¼ˆå’Œå…¶ä»–é—®é¢˜ï¼‰ï¼Œå¹¶æ¶ˆé™¤å®ƒä»¬ã€‚å¯¹äºæœ€åä¸€æ­¥ï¼Œä»–ä»¬è¦ä¹ˆè¿›è¡ŒæŠ½è±¡ï¼Œè¦ä¹ˆä½¿ç”¨ç°æœ‰çš„ï¼ˆæŠ½è±¡ï¼‰å‡½æ•°ã€‚é€šå¸¸éœ€è¦ç»è¿‡å‡ ä¸ªè¿­ä»£çš„è¿‡ç¨‹ï¼Œæ‰èƒ½ä½¿ç¨‹åºè¾¾åˆ°ä»¤äººæ»¡æ„çš„çŠ¶æ€ã€‚
- en: The first half of this part shows how to abstract over similarities in functions
    and data definitions. Programmers also refer to the result of this process as
    an abstraction, conflating the name of the process and its result. The second
    half is about the use of existing abstractions and new language elements to facilitate
    this process. While the examples in this part are taken from the realm of lists,
    the ideas are universally applicable.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬éƒ¨åˆ†çš„å‰åŠéƒ¨åˆ†å±•ç¤ºäº†å¦‚ä½•å¯¹å‡½æ•°å’Œæ•°æ®å®šä¹‰ä¸­çš„ç›¸ä¼¼æ€§è¿›è¡ŒæŠ½è±¡ã€‚ç¨‹åºå‘˜ä¹Ÿå°†è¿™ä¸ªè¿‡ç¨‹çš„ç»“æœç§°ä¸ºæŠ½è±¡ï¼Œæ··æ·†äº†è¿‡ç¨‹åç§°å’Œç»“æœåç§°ã€‚ååŠéƒ¨åˆ†æ˜¯å…³äºä½¿ç”¨ç°æœ‰çš„æŠ½è±¡å’Œæ–°è¯­è¨€å…ƒç´ æ¥ä¿ƒè¿›è¿™ä¸ªè¿‡ç¨‹ã€‚è™½ç„¶æœ¬éƒ¨åˆ†çš„ä¾‹å­æ¥è‡ªåˆ—è¡¨é¢†åŸŸï¼Œä½†æ€æƒ³æ˜¯æ™®éé€‚ç”¨çš„ã€‚
- en: 14Similarities Everywhere[ğŸ”—](#(part._ch~3add-similarities) "Link to here")
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[14å¤„å¤„ç›¸ä¼¼æ€§](#(part._ch~3add-similarities) "é“¾æ¥åˆ°æ­¤å¤„")'
- en: If you solved (some of) the exercises in [Arbitrarily Large Data](part_two.html),
    you know that many solutions look alike. As a matter of fact, the similarities
    may tempt you to copy the solution of one problem to create the solution for the
    next. But thou shall not steal code, not even your own. Instead, you must abstract
    over similar pieces of code and this chapter teaches you how to abstract.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è§£å†³äº†[ä»»æ„å¤§é‡æ•°æ®](part_two.html)ä¸­çš„ï¼ˆä¸€äº›ï¼‰ç»ƒä¹ é¢˜ï¼Œä½ å°±ä¼šçŸ¥é“è®¸å¤šè§£å†³æ–¹æ¡ˆçœ‹èµ·æ¥å¾ˆç›¸ä¼¼ã€‚äº‹å®ä¸Šï¼Œè¿™äº›ç›¸ä¼¼æ€§å¯èƒ½ä¼šè¯±ä½¿ä½ å°†ä¸€ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆå¤åˆ¶åˆ°ä¸‹ä¸€ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆä¸­ã€‚ä½†ä½ ä¸åº”è¯¥å·ä»£ç ï¼Œå³ä½¿æ˜¯è‡ªå·±çš„ä»£ç ä¹Ÿä¸è¡Œã€‚ç›¸åï¼Œä½ å¿…é¡»å¯¹ç›¸ä¼¼çš„ä»£ç ç‰‡æ®µè¿›è¡ŒæŠ½è±¡ï¼Œè€Œæœ¬ç« å°†æ•™ä½ å¦‚ä½•è¿›è¡ŒæŠ½è±¡ã€‚
- en: Our means of avoiding similarities are specific to â€œIntermediate Student Languageâ€
    or ISL for short.In DrRacket, choose â€œIntermediate Studentâ€ from the â€œHow to Design
    Programsâ€ submenu in the â€œLanguageâ€ menu. Almost all other programming languages
    provide similar means; in object-oriented languages you may find additional abstraction
    mechanisms. Regardless, these mechanisms share the basic characteristics spelled
    out in this chapter, and thus the design ideas explained here apply in other contexts,
    too.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¿å…ç›¸ä¼¼æ€§çš„æ–¹æ³•ç‰¹å®šäºâ€œä¸­çº§å­¦ç”Ÿè¯­è¨€â€æˆ–ç®€ç§°ISLã€‚åœ¨DrRacketä¸­ï¼Œä»â€œè¯­è¨€â€èœå•çš„â€œå¦‚ä½•è®¾è®¡ç¨‹åºâ€å­èœå•ä¸­é€‰æ‹©â€œä¸­çº§å­¦ç”Ÿâ€ã€‚å‡ ä¹æ‰€æœ‰çš„å…¶ä»–ç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†ç±»ä¼¼çš„æ–¹æ³•ï¼›åœ¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä½ å¯èƒ½è¿˜ä¼šæ‰¾åˆ°é¢å¤–çš„æŠ½è±¡æœºåˆ¶ã€‚æ— è®ºå¦‚ä½•ï¼Œè¿™äº›æœºåˆ¶éƒ½å…±äº«æœ¬ç« ä¸­æ¦‚è¿°çš„åŸºæœ¬ç‰¹å¾ï¼Œå› æ­¤è¿™é‡Œè§£é‡Šçš„è®¾è®¡æ€æƒ³ä¹Ÿé€‚ç”¨äºå…¶ä»–ç¯å¢ƒã€‚
- en: 14.1Similarities in Functions[ğŸ”—](#(part._sec~3aprog-similarities) "Link to here")
  id: totrans-36
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 14.1å‡½æ•°ä¸­çš„ç›¸ä¼¼æ€§[ğŸ”—](#(part._sec~3aprog-similarities) "é“¾æ¥åˆ°æ­¤å¤„")
- en: The design recipe determines a functionâ€™s basic organization because the template
    is created from the data definition without regard to the purpose of the function.
    Not surprisingly, then, functions that consume the same kind of data look alike.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡é…æ–¹å†³å®šäº†å‡½æ•°çš„åŸºæœ¬ç»„ç»‡ç»“æ„ï¼Œå› ä¸ºæ¨¡æ¿æ˜¯ä»æ•°æ®å®šä¹‰ä¸­åˆ›å»ºçš„ï¼Œè€Œä¸è€ƒè™‘å‡½æ•°çš„ç›®çš„ã€‚ä¸å‡ºæ‰€æ–™ï¼Œå› æ­¤ï¼Œæ¶ˆè´¹ç›¸åŒç±»å‹æ•°æ®çš„å‡½æ•°çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ã€‚
- en: '|'
  id: totrans-38
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-39
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
  id: totrans-40
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
- en: '&#124; ;Â does l contain "dog" &#124;'
  id: totrans-41
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â does l contain "dog" &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-dog?Â l)
    &#124;'
  id: totrans-42
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-dog?Â l)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-43
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    &#124;'
  id: totrans-44
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-45
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    &#124;'
  id: totrans-46
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-47
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "dog") &#124;'
  id: totrans-48
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; "dog") &#124;'
- en: '&#124; Â Â Â Â Â Â Â (contains-dog? &#124;'
  id: totrans-49
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â (contains-dog?'
- en: '&#124; Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-50
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
- en: ''
  id: totrans-51
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-52
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|'
- en: ''
  id: totrans-53
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
  id: totrans-54
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
- en: '&#124; ;Â does l contain "cat" &#124;'
  id: totrans-55
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â does l contain "cat" &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-cat?Â l)
    &#124;'
  id: totrans-56
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-cat?Â l)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-57
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    &#124;'
  id: totrans-58
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-59
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    &#124;'
  id: totrans-60
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-61
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "cat") &#124;'
  id: totrans-62
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â Â "cat") &#124;'
- en: '&#124; Â Â Â Â Â Â Â (contains-cat? &#124;'
  id: totrans-63
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â Â (contains-cat? &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-64
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
- en: ''
  id: totrans-65
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-66
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-67
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 86: Two similar functions'
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾86ï¼šä¸¤ä¸ªç›¸ä¼¼å‡½æ•°
- en: 'Consider the two functions in [figureÂ 86](#%28counter._%28figure._fig~3acmp-dog-cat%29%29),
    which consume lists of strings and look for specific strings. The function on
    the left looks for "dog", the one on the right for "cat". The two functions are
    nearly indistinguishable. Each consumes lists of strings; each function body consists
    of a [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    expression with two clauses. Each produces #false if the input is ''(); each uses
    an [or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    expression to determine whether the first item is the desired item and, if not,
    uses recursion to look in the rest of the list. The only difference is the string
    that is used in the comparison of the nested [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    expressions: contains-dog? uses "dog" and contains-cat? uses "cat". To highlight
    the differences, the two strings are shaded.Good programmers are too lazy to define
    several closely related functions. Instead they define a single function that
    can look for both a "dog" and a "cat" in a list of strings. This general function
    consumes an additional piece of dataâ€”<wbr>the string to look forâ€”<wbr>and is otherwise
    just like the two original functions:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 'è€ƒè™‘å›¾86ä¸­çš„ä¸¤ä¸ªå‡½æ•°ï¼Œå®ƒä»¬æ¶ˆè€—å­—ç¬¦ä¸²åˆ—è¡¨å¹¶æŸ¥æ‰¾ç‰¹å®šå­—ç¬¦ä¸²ã€‚å·¦ä¾§çš„å‡½æ•°æŸ¥æ‰¾ "dog"ï¼Œå³ä¾§çš„å‡½æ•°æŸ¥æ‰¾ "cat"ã€‚è¿™ä¸¤ä¸ªå‡½æ•°å‡ ä¹æ— æ³•åŒºåˆ†ã€‚æ¯ä¸ªå‡½æ•°éƒ½æ¶ˆè€—å­—ç¬¦ä¸²åˆ—è¡¨ï¼›æ¯ä¸ªå‡½æ•°ä½“éƒ½ç”±ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­å¥çš„
    [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    è¡¨è¾¾å¼ç»„æˆã€‚å¦‚æœè¾“å…¥æ˜¯ ''()ï¼Œåˆ™æ¯ä¸ªå‡½æ•°éƒ½äº§ç”Ÿ #falseï¼›æ¯ä¸ªå‡½æ•°éƒ½ä½¿ç”¨ä¸€ä¸ª [or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    è¡¨è¾¾å¼æ¥ç¡®å®šç¬¬ä¸€ä¸ªé¡¹ç›®æ˜¯å¦æ˜¯æ‰€éœ€çš„é¡¹ç›®ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä½¿ç”¨é€’å½’åœ¨åˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†ä¸­æŸ¥æ‰¾ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ç”¨äºåµŒå¥— [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    è¡¨è¾¾å¼æ¯”è¾ƒçš„å­—ç¬¦ä¸²ï¼šcontains-dog? ä½¿ç”¨ "dog"ï¼Œè€Œ contains-cat? ä½¿ç”¨ "cat"ã€‚ä¸ºäº†çªå‡ºå·®å¼‚ï¼Œè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²è¢«é˜´å½±è¦†ç›–ã€‚å¥½çš„ç¨‹åºå‘˜å¤ªæ‡’äº†ï¼Œä¸æ„¿æ„å®šä¹‰å‡ ä¸ªå¯†åˆ‡ç›¸å…³å‡½æ•°ã€‚ç›¸åï¼Œä»–ä»¬å®šä¹‰ä¸€ä¸ªå¯ä»¥æŸ¥æ‰¾å­—ç¬¦ä¸²åˆ—è¡¨ä¸­çš„
    "dog" å’Œ "cat" çš„å•ä¸ªå‡½æ•°ã€‚è¿™ä¸ªé€šç”¨å‡½æ•°æ¶ˆè€—é¢å¤–çš„æ•°æ®â€”â€”<wbr>è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²â€”â€”<wbr>åœ¨å…¶ä»–æ–¹é¢ä¸ä¸¤ä¸ªåŸå§‹å‡½æ•°ç›¸åŒï¼š'
- en: '| ;Â [String](part_one.html#%28tech._string%29)  [Los](#%28tech._sim-dd._lo%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-70
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [String](part_one.html#%28tech._string%29)  [Los](#%28tech._sim-dd._lo%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â determines whether l contains the string s |'
  id: totrans-71
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ¤æ–­ l æ˜¯å¦åŒ…å«å­—ç¬¦ä¸² s |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains?Â sÂ l)
    |'
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains?Â sÂ l)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    |'
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â s)
    |'
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â s)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (contains?Â sÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    |'
  id: totrans-76
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (contains?Â sÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    |'
- en: If you really needed a function such as contains-dog? now, you could define
    it as a one-line function, and the same is true for the contains-cat? function.
    [FigureÂ 87](#%28counter._%28figure._fig~3acmp-dog-cat2%29%29) does just that,
    and you should briefly compare it with [figureÂ 86](#%28counter._%28figure._fig~3acmp-dog-cat%29%29)
    to make sure you understand how we get from there to here. Best of all, though,
    with contains? it is now trivial to look for any string in a list of strings and
    there is no need to ever define a specialized function such as contains-dog? again.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ç°åœ¨çœŸçš„éœ€è¦ä¸€ä¸ªåƒ contains-dog? è¿™æ ·çš„å‡½æ•°ï¼Œä½ å¯ä»¥å°†å…¶å®šä¹‰ä¸ºä¸€ä¸ªå•è¡Œå‡½æ•°ï¼Œcontains-cat? å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å›¾ 87 æ­£æ˜¯è¿™æ ·åšï¼Œä½ åº”è¯¥ç®€è¦åœ°å°†å…¶ä¸å›¾
    86 è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®ä¿ä½ ç†è§£æˆ‘ä»¬æ˜¯å¦‚ä½•ä»é‚£é‡Œåˆ°è¾¾è¿™é‡Œçš„ã€‚æœ€å¥½çš„æ˜¯ï¼Œæœ‰äº† contains?ï¼Œç°åœ¨æŸ¥æ‰¾å­—ç¬¦ä¸²åˆ—è¡¨ä¸­çš„ä»»ä½•å­—ç¬¦ä¸²å˜å¾—éå¸¸ç®€å•ï¼Œè€Œä¸”å†ä¹Ÿä¸éœ€è¦å®šä¹‰åƒ
    contains-dog? è¿™æ ·çš„ä¸“ç”¨å‡½æ•°äº†ã€‚
- en: '|'
  id: totrans-78
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-79
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
  id: totrans-80
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
- en: '&#124; ;Â does l contain "dog" &#124;'
  id: totrans-81
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   ;Â does l contain "dog" &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-dog?Â l)
    &#124;'
  id: totrans-82
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-dog?Â l)
    &#124;'
- en: '&#124; Â Â (contains?Â "dog"Â l)) &#124;'
  id: totrans-83
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   (contains?Â "dog"Â l)) &#124;'
- en: ''
  id: totrans-84
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-85
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-86
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
  id: totrans-87
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   ;Â [Los](#%28tech._sim-dd._lo%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    &#124;'
- en: '&#124; ;Â does l contain "cat" &#124;'
  id: totrans-88
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   ;Â does l contain "cat" &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-cat?Â l)
    &#124;'
  id: totrans-89
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-cat?Â l)
    &#124;'
- en: '&#124; Â Â (contains?Â "cat"Â l)) &#124;'
  id: totrans-90
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   (contains?Â "cat"Â l)) &#124;'
- en: ''
  id: totrans-91
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-92
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-93
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 87: Two similar functions, revisited'
  id: totrans-94
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 87ï¼šå›é¡¾ä¸¤ä¸ªç›¸ä¼¼å‡½æ•°
- en: What you haveComputer scientists borrow the term â€œabstractâ€ from mathematics.
    There, â€œ6â€ is an abstract concept because it represents all ways of enumerating
    six things. In contrast, â€œ6 inchesâ€ or â€œ6 eggsâ€ are concrete uses. just witnessed
    is called abstraction or, more precisely, functional abstraction. Abstracting
    different versions of functions is one way to eliminate similarities from programs,
    and as you will see, removing similarities simplifies keeping a program intact
    over a long period.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ æ‰€è§è¯çš„è¢«ç§°ä¸ºæŠ½è±¡ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œæ˜¯å‡½æ•°æŠ½è±¡ã€‚ä»å‡½æ•°çš„ä¸åŒç‰ˆæœ¬ä¸­æŠ½è±¡å‡ºæ¥æ˜¯æ¶ˆé™¤ç¨‹åºä¸­ç›¸ä¼¼æ€§çš„æ–¹æ³•ä¹‹ä¸€ï¼Œæ­£å¦‚ä½ å°†çœ‹åˆ°çš„ï¼Œå»é™¤ç›¸ä¼¼æ€§ç®€åŒ–äº†åœ¨é•¿æ—¶é—´å†…ä¿æŒç¨‹åºå®Œæ•´æ€§çš„å·¥ä½œã€‚
- en: ExerciseÂ 235\. Use the contains? function to define functions that search for
    "atom", "basic", and "zoo", respectively.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  235. ä½¿ç”¨ contains? å‡½æ•°å®šä¹‰åˆ†åˆ«æœç´¢ "atom"ã€"basic" å’Œ "zoo" çš„å‡½æ•°ã€‚
- en: 'ExerciseÂ 236\. Create test suites for the following two functions:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  236. ä¸ºä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼š
- en: '|'
  id: totrans-98
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-99
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29) -> [Lon](#%28tech._sim-dd._lon%29)
    &#124;'
  id: totrans-100
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   ;Â [Lon](#%28tech._sim-dd._lon%29) -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
- en: '&#124; ;Â adds 1 to each item on l &#124;'
  id: totrans-101
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|   ;Â adds 1 to each item on l &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add1*Â l)
    &#124;'
  id: totrans-102
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add1*Â l)Â |`'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)`'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
  id: totrans-104
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]Â |`'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-105
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â |`'
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-106
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â |`'
- en: '&#124; Â Â Â Â Â Â Â ([add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l))
    &#124;'
  id: totrans-107
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â Â ([add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l))Â |`'
- en: '&#124; Â Â Â Â Â Â Â (add1*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-108
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â (add1*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))`'
- en: ''
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-110
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '`|  |`'
- en: ''
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29) -> [Lon](#%28tech._sim-dd._lon%29)
    &#124;'
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`| ;Â [Lon](#%28tech._sim-dd._lon%29) -> [Lon](#%28tech._sim-dd._lon%29)`'
- en: '&#124; ;Â adds 5 to each item on l &#124;'
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`| ;Â ä¸ºæ¯ä¸ªlä¸­çš„é¡¹ç›®æ·»åŠ 5`'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (plus5Â l)
    &#124;'
  id: totrans-114
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (plus5Â l)`'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-115
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)`'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
  id: totrans-116
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]`'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)]'
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-118
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â |`'
- en: '&#124; Â Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â 5)
    &#124;'
  id: totrans-119
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`|Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â 5)`'
- en: '&#124; Â Â Â Â Â Â Â (plus5Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-120
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   (plus5Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
- en: ''
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-122
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: Then abstract over them. Define the above two functions in terms of the abstraction
    as one-liners and use the existing test suites to confirm that the revised definitions
    work properly. Finally, design a function that subtracts 2 from each number on
    a given list.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åå¯¹å®ƒä»¬è¿›è¡ŒæŠ½è±¡ã€‚ä»¥ä¸Šä¸¤ä¸ªå‡½æ•°ç”¨æŠ½è±¡å®šä¹‰ä¸ºä¸€è¡Œï¼Œå¹¶ä½¿ç”¨ç°æœ‰çš„æµ‹è¯•å¥—ä»¶æ¥ç¡®è®¤ä¿®æ”¹åçš„å®šä¹‰æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚æœ€åï¼Œè®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œä»ç»™å®šåˆ—è¡¨ä¸­çš„æ¯ä¸ªæ•°å­—ä¸­å‡å»2ã€‚
- en: 14.2Different Similarities[ğŸ”—](#(part._sec~3afunc-similarities) "Link to here")
  id: totrans-124
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 14.2ä¸åŒçš„ç›¸ä¼¼æ€§[ğŸ”—](#(part._sec~3afunc-similarities) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Abstraction looks easy in the case of the contains-dog? and contains-cat? functions.
    It takes only a comparison of two function definitions, a replacement of a literal
    string with a function parameter, and a quick check that it is easy to define
    the old functions with the abstract function. This kind of abstraction is so natural
    that it showed up in the preceding two parts of the book without much ado.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: æŠ½è±¡åœ¨contains-dog?å’Œcontains-cat?å‡½æ•°çš„æƒ…å†µä¸‹çœ‹èµ·æ¥å¾ˆç®€å•ã€‚å®ƒåªéœ€è¦æ¯”è¾ƒä¸¤ä¸ªå‡½æ•°å®šä¹‰ï¼Œç”¨ä¸€ä¸ªå‡½æ•°å‚æ•°æ›¿æ¢ä¸€ä¸ªå­—é¢å­—ç¬¦ä¸²ï¼Œå¹¶å¿«é€Ÿæ£€æŸ¥æ˜¯å¦å®¹æ˜“ç”¨æŠ½è±¡å‡½æ•°å®šä¹‰æ—§å‡½æ•°ã€‚è¿™ç§æŠ½è±¡å¦‚æ­¤è‡ªç„¶ï¼Œä»¥è‡³äºåœ¨æœ¬ä¹¦çš„å‰ä¸¤éƒ¨åˆ†ä¸­å‡ ä¹æœªåŠ è¯´æ˜å°±å‡ºç°äº†ã€‚
- en: This section illustrates how the very same principle yields a powerful form
    of abstraction. Take a look at [figureÂ 88](#%28counter._%28figure._fig~3acmp-above-below%29%29).
    Both functions consume a list of numbers and a threshold. The left one produces
    a list of all those numbers that are below the threshold, while the one on the
    right produces all those that are above the threshold.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚è¯´æ˜äº†ç›¸åŒçš„åŸç†å¦‚ä½•äº§ç”Ÿä¸€ç§å¼ºå¤§çš„æŠ½è±¡å½¢å¼ã€‚è¯·çœ‹[å›¾88](#%28counter._%28figure._fig~3acmp-above-below%29%29)ã€‚è¿™ä¸¤ä¸ªå‡½æ•°éƒ½æ¶ˆè€—ä¸€ä¸ªæ•°å­—åˆ—è¡¨å’Œä¸€ä¸ªé˜ˆå€¼ã€‚å·¦è¾¹çš„ä¸€ä¸ªç”Ÿæˆæ‰€æœ‰ä½äºé˜ˆå€¼çš„æ•°å­—åˆ—è¡¨ï¼Œè€Œå³è¾¹çš„ä¸€ä¸ªç”Ÿæˆæ‰€æœ‰é«˜äºé˜ˆå€¼çš„æ•°å­—åˆ—è¡¨ã€‚
- en: '|'
  id: totrans-127
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-128
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29)  [Number](part_one.html#%28tech._number%29)
    -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
  id: totrans-129
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;   [Lon](#%28tech._sim-dd._lon%29)  [Number](part_one.html#%28tech._number%29)
    -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
- en: '&#124; ;Â select those numbers on l &#124;'
  id: totrans-130
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;   é€‰æ‹©lä¸Šçš„æ•°å­—'
- en: '&#124; ;Â that are below t &#124;'
  id: totrans-131
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;   ä½äºtçš„æ•°å­—'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (smallÂ lÂ t)
    &#124;'
  id: totrans-132
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (smallÂ lÂ t)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-133
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
  id: totrans-134
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-135
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-136
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â t)
    &#124;'
  id: totrans-137
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;   [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â t)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-138
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â [[first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l]
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â (small &#124;'
  id: totrans-139
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[small](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._small%29%29)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t))]
    &#124;'
  id: totrans-140
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t]]
    | '
- en: '&#124; Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-141
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â (small &#124;'
  id: totrans-142
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[small](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._small%29%29)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t)])]))
    &#124;'
  id: totrans-143
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t]])
    | '
- en: ''
  id: totrans-144
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-145
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  | '
- en: ''
  id: totrans-146
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29)  [Number](part_one.html#%28tech._number%29)
    -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
  id: totrans-147
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[Lon](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28tech._sim-dd._lon%29)Â [Number](part_one.html#%28tech._number%29)Â ->Â [Lon](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28tech._sim-dd._lon%29)]
    | '
- en: '&#124; ;Â select those numbers on l &#124;'
  id: totrans-148
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[select](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._select%29%29)Â thoseÂ numbersÂ onÂ l]]
    | '
- en: '&#124; ;Â that are above t &#124;'
  id: totrans-149
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[that](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._that%29%29)Â areÂ aboveÂ t]
    | '
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (largeÂ lÂ t)
    &#124;'
  id: totrans-150
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (largeÂ lÂ t)
    | '
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-151
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
  id: totrans-152
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    | '
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-153
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: '&#124; Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-154
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: '&#124; Â Â Â Â Â Â Â [([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â t)
    &#124;'
  id: totrans-155
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â [[first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â t]
    | '
- en: '&#124; Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-156
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â [[first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l]
    |'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â (large &#124;'
  id: totrans-157
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[large](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._large%29%29)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t))]
    &#124;'
  id: totrans-158
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t]]
    | '
- en: '&#124; Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-159
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â (large &#124;'
  id: totrans-160
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â (large &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t)])]))
    &#124;'
  id: totrans-161
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t)])]))
    &#124;'
- en: ''
  id: totrans-162
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-163
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-164
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 88: Two more similar functions'
  id: totrans-165
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 88ï¼šä¸¤ä¸ªæ›´ç›¸ä¼¼çš„åŠŸèƒ½
- en: 'The two functions differ in only one place: the comparison operator that determines
    whether a number from the given list should be a part of the result or not. The
    function on the left uses [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29),
    and the right one [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29).
    Other than that, the two functions look identical, not counting the function name.'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸¤ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªåœ°æ–¹ä¸åŒï¼šç¡®å®šç»™å®šåˆ—è¡¨ä¸­çš„æ•°å­—æ˜¯å¦åº”è¯¥æ˜¯ç»“æœçš„ä¸€éƒ¨åˆ†çš„æ¯”è¾ƒè¿ç®—ç¬¦ã€‚å·¦è¾¹çš„å‡½æ•°ä½¿ç”¨ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)ï¼Œè€Œå³è¾¹çš„å‡½æ•°ä½¿ç”¨
    [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°çœ‹èµ·æ¥å®Œå…¨ç›¸åŒï¼Œé™¤äº†å‡½æ•°åä¹‹å¤–ã€‚
- en: 'Letâ€™s follow the first example and abstract over the two functions with an
    additional parameter. This time the additional parameter represents a comparison
    operator rather than a string:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬éµå¾ªç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªé¢å¤–çš„å‚æ•°æ¥æŠ½è±¡è¿™ä¸¤ä¸ªå‡½æ•°ã€‚è¿™æ¬¡ï¼Œé¢å¤–çš„å‚æ•°ä»£è¡¨ä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (extractÂ RÂ lÂ t)
    |'
  id: totrans-168
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (extractÂ RÂ lÂ t)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-169
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    |'
  id: totrans-170
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-171
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [(RÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â t)
    |'
  id: totrans-172
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [(RÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â t)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |'
  id: totrans-173
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ RÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t))]
    |'
  id: totrans-174
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (extractÂ RÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t))]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-175
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ RÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t)])]))
    |'
  id: totrans-176
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  (extractÂ RÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â t)])]))
    |'
- en: 'To apply this new function, we must supply three arguments: a function R that
    compares two numbers, a list l of numbers, and a threshold t. The function then
    extracts all those items i from l for which (R  i  t) evaluates to #true.'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åº”ç”¨è¿™ä¸ªæ–°å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›ä¸‰ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ¯”è¾ƒä¸¤ä¸ªæ•°å­—çš„å‡½æ•°Rï¼Œä¸€ä¸ªæ•°å­—åˆ—è¡¨lï¼Œä»¥åŠä¸€ä¸ªé˜ˆå€¼tã€‚ç„¶åè¯¥å‡½æ•°ä»lä¸­æå–æ‰€æœ‰é‚£äº›ä½¿(R  i  t)è¯„ä¼°ä¸º#trueçš„é¡¹ç›®iã€‚
- en: Stop! At this point you should ask whether this definition makes any sense.
    Without further fuss, we have created a function that consumes a functionâ€”<wbr>something
    that you probably have not seen before.If you have taken a calculus course, you
    have encountered the differential operator and the indefinite integral. Both of
    those are functions that consume and produce functions. But we do not assume that
    you have taken a calculus course. It turns out, however, that your simple little
    teaching language ISL supports these kinds of functions, and that defining such
    functions is one of the most powerful tools of good programmersâ€”<wbr>even in languages
    in which function-consuming functions do not seem to be available.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼åœ¨è¿™ä¸ªæ—¶å€™ï¼Œä½ åº”è¯¥é—®è‡ªå·±è¿™ä¸ªå®šä¹‰æ˜¯å¦æœ‰æ„ä¹‰ã€‚åœ¨æ²¡æœ‰è¿›ä¸€æ­¥éº»çƒ¦çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ¶ˆè€—å‡½æ•°çš„å‡½æ•°â€”â€”<wbr>è¿™å¯èƒ½æ˜¯ä½ ä»¥å‰ä»æœªè§è¿‡çš„ã€‚å¦‚æœä½ å·²ç»ä¸Šè¿‡å¾®ç§¯åˆ†è¯¾ç¨‹ï¼Œä½ é‡åˆ°è¿‡å¾®åˆ†ç®—å­å’Œä¸å®šç§¯åˆ†ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯æ¶ˆè€—å¹¶äº§ç”Ÿå‡½æ•°çš„å‡½æ•°ã€‚ä½†æˆ‘ä»¬å¹¶ä¸å‡è®¾ä½ å·²ç»ä¸Šè¿‡å¾®ç§¯åˆ†è¯¾ç¨‹ã€‚ç„¶è€Œï¼Œç»“æœæ˜¯ï¼Œä½ ç®€å•çš„å°å‹æ•™å­¦è¯­è¨€ISLæ”¯æŒè¿™ç±»å‡½æ•°ï¼Œå®šä¹‰è¿™ç±»å‡½æ•°æ˜¯ä¼˜ç§€ç¨‹åºå‘˜æœ€å¼ºå¤§çš„å·¥å…·ä¹‹ä¸€â€”â€”<wbr>å³ä½¿åœ¨é‚£äº›ä¼¼ä¹æ²¡æœ‰æä¾›å‡½æ•°æ¶ˆè€—å‡½æ•°çš„è¯­è¨€ä¸­ã€‚
- en: 'Testing shows that (extract  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  l  t)
    computes the same result as (small  l  t):'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: æµ‹è¯•æ˜¾ç¤ºï¼Œ(extract  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  l  t)
    è®¡ç®—çš„ç»“æœä¸ (small  l  t) ç›¸åŒï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''()Â 5)Â (smallÂ ''()Â 5))
    |'
  id: totrans-180
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''()Â 5)Â (smallÂ ''()Â 5))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(3)Â 5)Â (smallÂ ''(3)Â 5))
    |'
  id: totrans-181
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(3)Â 5)Â (smallÂ ''(3)Â 5))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(1Â 6Â 4)Â 5)
    |'
  id: totrans-182
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(1Â 6Â 4)Â 5))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (smallÂ ''(1Â 6Â 4)Â 5)) |'
  id: totrans-183
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  (smallÂ ''(1Â 6Â 4)Â 5)) |'
- en: 'Similarly, (extract  [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)  l  t)
    produces the same result as (large  l  t), which means that you can define the
    two original functions like this:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·åœ°ï¼Œ(extract  [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)  l  t)
    äº§ç”Ÿçš„ç»“æœä¸ (large  l  t) ç›¸åŒï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åƒè¿™æ ·å®šä¹‰è¿™ä¸¤ä¸ªåŸå§‹å‡½æ•°ï¼š
- en: '|'
  id: totrans-185
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-186
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29)  [Number](part_one.html#%28tech._number%29)
    -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
  id: totrans-187
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29) [æ•°å­—](part_one.html#%28tech._number%29)
    -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (small-1Â lÂ t)
    &#124;'
  id: totrans-188
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (small-1Â lÂ t)
    &#124;'
- en: '&#124; Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â lÂ t))
    &#124;'
  id: totrans-189
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â lÂ t))
    &#124;'
- en: ''
  id: totrans-190
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-191
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-192
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29)  [Number](part_one.html#%28tech._number%29)
    -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
  id: totrans-193
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [Lon](#%28tech._sim-dd._lon%29)  [Number](part_one.html#%28tech._number%29)
    -> [Lon](#%28tech._sim-dd._lon%29) &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (large-1Â lÂ t)
    &#124;'
  id: totrans-194
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (large-1Â lÂ t)
    &#124;'
- en: '&#124; Â Â (extractÂ [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â lÂ t))
    &#124;'
  id: totrans-195
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â (extractÂ [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â lÂ t))
    &#124;'
- en: ''
  id: totrans-196
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-197
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: 'The important insight is not that small-1 and large-1 are one-line definitions.
    Once you have an abstract function such as extract, you can put it to good uses
    elsewhere:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: é‡è¦çš„æ´å¯ŸåŠ›ä¸åœ¨äº small-1 å’Œ large-1 æ˜¯ä¸€è¡Œå®šä¹‰ã€‚ä¸€æ—¦ä½ æœ‰ä¸€ä¸ªåƒ extract è¿™æ ·çš„æŠ½è±¡å‡½æ•°ï¼Œä½ å°±å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹å¾ˆå¥½åœ°ä½¿ç”¨å®ƒï¼š
- en: '(extract  [=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)  l  t):
    This expression extracts all those numbers in l that are equal to t.'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '(extract  [=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)  l  t):
    è¿™ä¸ªè¡¨è¾¾å¼æå–å‡ºåˆ—è¡¨ l ä¸­æ‰€æœ‰ç­‰äº t çš„æ•°å­—ã€‚'
- en: '(extract  [<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  l  t):
    This one produces the list of numbers in l that are less than or equal to t.'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '(extract  [<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  l  t):
    è¿™ä¸ªè¡¨è¾¾å¼ç”Ÿæˆåˆ—è¡¨ l ä¸­å°äºæˆ–ç­‰äº t çš„æ•°å­—ã€‚'
- en: '(extract  [>=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e~3d%29%29)  l  t):
    This last expression computes the list of numbers that are greater than or equal
    to the threshold.'
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '(extract  [>=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e~3d%29%29)  l  t):
    è¿™ä¸ªè¡¨è¾¾å¼è®¡ç®—å¤§äºæˆ–ç­‰äºé˜ˆå€¼çš„æ•°å­—åˆ—è¡¨ã€‚'
- en: 'As a matter of fact, the first argument for extract need not be one of ISLâ€™s
    pre-defined operations. Instead, you can use any function that consumes two arguments
    and produces a [Boolean](part_one.html#%28tech._boolean%29). Consider this example:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼Œextract çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸éœ€è¦æ˜¯ ISL é¢„å®šä¹‰çš„æ“ä½œä¹‹ä¸€ã€‚ç›¸åï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•æ¶ˆè€—ä¸¤ä¸ªå‚æ•°å¹¶äº§ç”Ÿ [å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29)
    çš„å‡½æ•°ã€‚è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š
- en: '| ;Â [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-203
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â is the area of a square with side x larger than c |'
  id: totrans-204
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ˜¯è¾¹é•¿ä¸º x çš„æ­£æ–¹å½¢é¢ç§¯å¤§äº c |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (squared>?Â xÂ c)
    |'
  id: totrans-205
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (squared>?Â xÂ c)
    |'
- en: '| Â Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ x)Â c))
    |'
  id: totrans-206
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ x)Â c))
    |'
- en: 'That is, squared>? checks whether the claim x2 > c holds, and it is usable
    with extract:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: ä¹Ÿå°±æ˜¯è¯´ï¼Œsquared>? æ£€æŸ¥ x^2 > c çš„æ–­è¨€æ˜¯å¦æˆç«‹ï¼Œå¹¶ä¸”å®ƒå¯ä»¥ä¸ extract ä¸€èµ·ä½¿ç”¨ï¼š
- en: (extractÂ squared>?Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5)Â 10)
  id: totrans-208
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (extractÂ squared>?Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5)Â 10)
- en: This application extracts those numbers in ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  4  5)
    whose square is larger than 10.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥åº”ç”¨ç¨‹åºæå–é‚£äº›åœ¨ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  4  5)
    ä¸­å¹³æ–¹å¤§äº 10 çš„æ•°å­—ã€‚
- en: ExerciseÂ 237\. Evaluate (squared>?  3  10) and (squared>?  4  10) in DrRacket.
    How about (squared>?  5  10)?
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  237ã€‚åœ¨ DrRacket ä¸­è¯„ä¼° (squared>?  3  10) å’Œ (squared>?  4  10)ã€‚é‚£ä¹ˆ (squared>?  5  10)
    å‘¢ï¼Ÿ
- en: 'So far you have seen that abstracted function definitions can be more useful
    than the original functions. For example, contains? is more useful than contains-dog?
    and contains-cat?, and extract is more useful than small and large.These benefits
    of abstraction are available at all levels of programming: word documents, spreadsheets,
    small apps, and large industrial projects. Creating abstractions for the latter
    drives research on programming languages and software engineering. Another important
    aspect of abstraction is that you now have a single point of control over all
    these functions. If it turns out that the abstract function contains a mistake,
    fixing its definition suffices to fix all other definitions. Similarly, if you
    figure out how to accelerate the computations of the abstract function or how
    to reduce its energy consumption, then all functions defined in terms of this
    function are improved without any extra effort. The following exercises indicate
    how these single-point-of-control improvements work.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»çœ‹åˆ°æŠ½è±¡å‡½æ•°å®šä¹‰å¯èƒ½æ¯”åŸå§‹å‡½æ•°æ›´æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œcontains? æ¯”contains-dog? å’Œ contains-cat? æ›´æœ‰ç”¨ï¼Œè€Œ
    extract æ¯” small å’Œ large æ›´æœ‰ç”¨ã€‚è¿™äº›æŠ½è±¡çš„å¥½å¤„å­˜åœ¨äºç¼–ç¨‹çš„æ‰€æœ‰çº§åˆ«ï¼šæ–‡æ¡£ã€ç”µå­è¡¨æ ¼ã€å°å‹åº”ç”¨ç¨‹åºå’Œå¤§å‹å·¥ä¸šé¡¹ç›®ã€‚ä¸ºåè€…åˆ›å»ºæŠ½è±¡æ¨åŠ¨äº†ç¼–ç¨‹è¯­è¨€å’Œè½¯ä»¶å·¥ç¨‹çš„ç ”ç©¶ã€‚æŠ½è±¡çš„å¦ä¸€ä¸ªé‡è¦æ–¹é¢æ˜¯ï¼Œä½ ç°åœ¨å¯ä»¥å¯¹è¿™äº›æ‰€æœ‰å‡½æ•°æœ‰ä¸€ä¸ªå•ä¸€çš„æ§åˆ¶å™¨ã€‚å¦‚æœæŠ½è±¡å‡½æ•°ä¸­å­˜åœ¨é”™è¯¯ï¼Œåªéœ€ä¿®å¤å…¶å®šä¹‰å³å¯ä¿®å¤æ‰€æœ‰å…¶ä»–å®šä¹‰ã€‚åŒæ ·ï¼Œå¦‚æœä½ å‘ç°å¦‚ä½•åŠ é€ŸæŠ½è±¡å‡½æ•°çš„è®¡ç®—æˆ–å¦‚ä½•å‡å°‘å…¶èƒ½è€—ï¼Œé‚£ä¹ˆæ‰€æœ‰åŸºäºæ­¤å‡½æ•°å®šä¹‰çš„å‡½æ•°éƒ½ä¼šå¾—åˆ°æ”¹è¿›ï¼Œè€Œæ— éœ€é¢å¤–åŠªåŠ›ã€‚ä»¥ä¸‹ç»ƒä¹ è¯´æ˜äº†è¿™äº›å•ä¸€æ§åˆ¶å™¨æ”¹è¿›æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚
- en: '|'
  id: totrans-212
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-213
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Nelon](#%28tech._nelon%29) -> [Number](part_one.html#%28tech._number%29)
    &#124;'
  id: totrans-214
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [Nelon](#%28tech._nelon%29) -> [Number](part_one.html#%28tech._number%29)
    &#124;'
- en: '&#124; ;Â determines the smallest &#124;'
  id: totrans-215
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â ç¡®å®šæœ€å°å€¼ &#124;'
- en: '&#124; ;Â number on l &#124;'
  id: totrans-216
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â l ä¸Šçš„æ•°å­— &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (infÂ l)
    &#124;'
  id: totrans-217
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (infÂ l)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-218
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))
    &#124;'
  id: totrans-219
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))
    &#124;'
- en: '&#124; Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    &#124;'
  id: totrans-220
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-221
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-222
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))
    &#124;'
  id: totrans-223
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-224
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-225
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
- en: ''
  id: totrans-226
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-227
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-228
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Nelon](#%28tech._nelon%29) -> [Number](part_one.html#%28tech._number%29)
    &#124;'
  id: totrans-229
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â [Nelon](#%28tech._nelon%29) -> [Number](part_one.html#%28tech._number%29)
    &#124;'
- en: '&#124; ;Â determines the largest &#124;'
  id: totrans-230
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ç¡®å®šæœ€å¤§çš„ | '
- en: '&#124; ;Â number on l &#124;'
  id: totrans-231
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â number on l &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (supÂ l)
    &#124;'
  id: totrans-232
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (supÂ l)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-233
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))
    &#124;'
  id: totrans-234
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))
    &#124;'
- en: '&#124; Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    &#124;'
  id: totrans-235
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-236
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-237
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â (supÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))
    &#124;'
  id: totrans-238
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â (supÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-239
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â (supÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-240
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â Â Â (supÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
- en: ''
  id: totrans-241
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-242
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-243
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 89: Finding the inf and sup in a list of numbers'
  id: totrans-244
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾89ï¼šåœ¨æ•°å­—åˆ—è¡¨ä¸­æŸ¥æ‰¾ inf å’Œ sup
- en: ExerciseÂ 238\. Abstract the two functions in [figureÂ 89](#%28counter._%28figure._fig~3aex-abs-min-max%29%29)
    into a single function. Both consume non-empty lists of numbers (Nelon) and produce
    a single number. The left one produces the smallest number in the list, and the
    right one the largest.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 238ã€‚å°†[å›¾89](#%28counter._%28figure._fig~3aex-abs-min-max%29%29)ä¸­çš„ä¸¤ä¸ªå‡½æ•°æŠ½è±¡æˆä¸€ä¸ªå•ä¸€å‡½æ•°ã€‚è¿™ä¸¤ä¸ªå‡½æ•°éƒ½æ¶ˆè€—éç©ºæ•°å­—åˆ—è¡¨ï¼ˆNelonï¼‰å¹¶äº§ç”Ÿä¸€ä¸ªå•ä¸€æ•°å­—ã€‚å·¦è¾¹çš„ä¸€ä¸ªäº§ç”Ÿåˆ—è¡¨ä¸­çš„æœ€å°æ•°å­—ï¼Œè€Œå³è¾¹çš„ä¸€ä¸ªäº§ç”Ÿæœ€å¤§æ•°å­—ã€‚
- en: 'Define inf-1 and sup-1 in terms of the abstract function. Test them with these
    two lists:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: ç”¨æŠ½è±¡å‡½æ•°å®šä¹‰ inf-1 å’Œ sup-1ã€‚ç”¨è¿™ä¸¤ä¸ªåˆ—è¡¨æµ‹è¯•å®ƒä»¬ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 25Â 24Â 23Â 22Â 21Â 20Â 19Â 18Â 17Â 16Â 15Â 14Â 13
    |'
  id: totrans-247
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 25Â 24Â 23Â 22Â 21Â 20Â 19Â 18Â 17Â 16Â 15Â 14Â 13
    |'
- en: '| Â Â Â Â Â Â 12Â 11Â 10Â 9Â 8Â 7Â 6Â 5Â 4Â 3Â 2Â 1) |'
  id: totrans-248
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â 12Â 11Â 10Â 9Â 8Â 7Â 6Â 5Â 4Â 3Â 2Â 1) |'
- en: '| Â  |'
  id: totrans-249
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8Â 9Â 10Â 11Â 12Â 13Â 14Â 15Â 16
    |'
  id: totrans-250
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8Â 9Â 10Â 11Â 12Â 13Â 14Â 15Â 16
    |'
- en: '| Â Â Â Â Â Â 17Â 18Â 19Â 20Â 21Â 22Â 23Â 24Â 25) |'
  id: totrans-251
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â 17Â 18Â 19Â 20Â 21Â 22Â 23Â 24Â 25) |'
- en: Why are these functions slow on some of the long lists?
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºä»€ä¹ˆè¿™äº›å‡½æ•°åœ¨ä¸€äº›é•¿åˆ—è¡¨ä¸Šè¿è¡Œç¼“æ…¢ï¼Ÿ
- en: Modify the original functions with the use of [max](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._max%29%29),
    which picks the larger of two numbers, and [min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29),
    which picks the smaller one. Then abstract again, define inf-2 and sup-2, and
    test them with the same inputs again. Why are these versions so much faster?
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [max](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._max%29%29)ï¼Œå®ƒé€‰æ‹©ä¸¤ä¸ªæ•°å­—ä¸­è¾ƒå¤§çš„ä¸€ä¸ªï¼Œå’Œ
    [min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29)ï¼Œå®ƒé€‰æ‹©è¾ƒå°çš„é‚£ä¸ªï¼Œä¿®æ”¹åŸå§‹å‡½æ•°ã€‚ç„¶åå†æ¬¡æŠ½è±¡ï¼Œå®šä¹‰
    inf-2 å’Œ sup-2ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„è¾“å…¥å†æ¬¡æµ‹è¯•å®ƒä»¬ã€‚ä¸ºä»€ä¹ˆè¿™äº›ç‰ˆæœ¬çš„é€Ÿåº¦å¦‚æ­¤ä¹‹å¿«ï¼Ÿ
- en: For another answer to these questions, see [Local Definitions](#%28part._sec~3alocal-definitions%29).
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™äº›é—®é¢˜çš„å¦ä¸€ä¸ªç­”æ¡ˆï¼Œè¯·å‚é˜…[å±€éƒ¨å®šä¹‰](#%28part._sec~3alocal-definitions%29)ã€‚
- en: 14.3Similarities in Data Definitions[ğŸ”—](#(part._sim-dd._sec~3add-similarities)
    "Link to here")
  id: totrans-255
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 14.3æ•°æ®å®šä¹‰ä¸­çš„ç›¸ä¼¼æ€§[ğŸ”—](#(part._sim-dd._sec~3add-similarities) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Now take a close look at the following two data definitions:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä»”ç»†çœ‹çœ‹ä»¥ä¸‹ä¸¤ä¸ªæ•°æ®å®šä¹‰ï¼š
- en: '|'
  id: totrans-257
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-258
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â An Lon (List-of-numbers) &#124;'
  id: totrans-259
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â ä¸€ä¸ª Lon (æ•°å­—åˆ—è¡¨) &#124;'
- en: '&#124; ;Â is one of: &#124;'
  id: totrans-260
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š&#124;'
- en: '&#124; ;Â â€“  ''() &#124;'
  id: totrans-261
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  ''() &#124;'
- en: '&#124; ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [Number](part_one.html#%28tech._number%29)  [Lon](#%28tech._sim-dd._lon%29))
    &#124;'
  id: totrans-262
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [Number](part_one.html#%28tech._number%29)  [Lon](#%28tech._sim-dd._lon%29))
    &#124;'
- en: ''
  id: totrans-263
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-264
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-265
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â An Los (List-of-String) &#124;'
  id: totrans-266
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â ä¸€ä¸ª Los (å­—ç¬¦ä¸²åˆ—è¡¨) &#124;'
- en: '&#124; ;Â is one of: &#124;'
  id: totrans-267
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š&#124;'
- en: '&#124; ;Â â€“  ''() &#124;'
  id: totrans-268
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  ''() &#124;'
- en: '&#124; ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [String](part_one.html#%28tech._string%29)  [Los](#%28tech._sim-dd._lo%29))Â Â 
    &#124;'
  id: totrans-269
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [String](part_one.html#%28tech._string%29)  [Los](#%28tech._sim-dd._lo%29))Â Â 
    &#124;'
- en: ''
  id: totrans-270
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-271
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: 'The one on the left introduces lists of numbers; the one on the right describes
    lists of strings. And the two data definitions are similar. Like similar functions,
    the two data definitions use two different names, but this is irrelevant because
    any name would do. The only real difference concerns the first position inside
    of [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    in the second clause, which specifies what kind of items the list contains.In
    order to abstract over this one difference, we proceed as if a data definition
    were a function. We introduce a parameter, which makes the data definition look
    like a function, and where there used to be different references, we use this
    parameter:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: å·¦è¾¹çš„ä¸€ä¸ªå¼•å…¥äº†æ•°å­—åˆ—è¡¨ï¼›å³è¾¹çš„ä¸€ä¸ªæè¿°äº†å­—ç¬¦ä¸²åˆ—è¡¨ã€‚è¿™ä¸¤ä¸ªæ•°æ®å®šä¹‰æ˜¯ç›¸ä¼¼çš„ã€‚å°±åƒç›¸ä¼¼çš„åŠŸèƒ½ä¸€æ ·ï¼Œè¿™ä¸¤ä¸ªæ•°æ®å®šä¹‰ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„åç§°ï¼Œä½†è¿™æ— å…³ç´§è¦ï¼Œå› ä¸ºä»»ä½•åç§°éƒ½å¯ä»¥ã€‚å”¯ä¸€çš„çœŸæ­£åŒºåˆ«åœ¨äºç¬¬äºŒä¸ªå­å¥ä¸­[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œå®ƒæŒ‡å®šäº†åˆ—è¡¨åŒ…å«ä»€ä¹ˆç±»å‹çš„é¡¹ã€‚ä¸ºäº†æŠ½è±¡å‡ºè¿™ä¸ªå·®å¼‚ï¼Œæˆ‘ä»¬åƒå¤„ç†æ•°æ®å®šä¹‰æ˜¯ä¸€ä¸ªå‡½æ•°ä¸€æ ·è¿›è¡Œã€‚æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä½¿å¾—æ•°æ®å®šä¹‰çœ‹èµ·æ¥åƒä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”åœ¨å“ªé‡Œæ›¾ç»æœ‰ä¸åŒçš„å¼•ç”¨ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå‚æ•°ï¼š
- en: '| ;Â A [List-of ITEM] is one of: |'
  id: totrans-273
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ª[List-of ITEM]æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š |'
- en: '| ;Â â€“  ''() |'
  id: totrans-274
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ''() |'
- en: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  ITEM  [[List-of](#%28tech._sim-dd._list._of%29)  ITEM])
    |'
  id: totrans-275
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  ITEM  [[List-of](#%28tech._sim-dd._list._of%29)  ITEM])
    |'
- en: 'We call such abstract data definitions parametric data definitions because
    of the parameter. Roughly speaking, a parametric data definition abstracts from
    a reference to a particular collection of data in the same manner as a function
    abstracts from a particular value.The question is, of course, what these parameters
    range over. For a function, they stand for an unknown value; when the function
    is applied, the value becomes known. For a parametric data definition, a parameter
    stands for an entire class of values. The process of supplying the name of a data
    collection to a parametric data definition is called instantiation; here are some
    sample instantiations of the [List-of](#%28tech._sim-dd._list._of%29) abstraction:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç§°è¿™æ ·çš„æŠ½è±¡æ•°æ®å®šä¹‰ä¸ºå‚æ•°åŒ–æ•°æ®å®šä¹‰ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªå‚æ•°ã€‚ç²—ç•¥åœ°è¯´ï¼Œå‚æ•°åŒ–æ•°æ®å®šä¹‰ä»¥ä¸å‡½æ•°ä»¥ç›¸åŒçš„æ–¹å¼ä»ç‰¹å®šçš„æ•°æ®é›†åˆä¸­æŠ½è±¡å‡ºæ¥çš„æ–¹å¼æŠ½è±¡ã€‚å½“ç„¶ï¼Œé—®é¢˜æ˜¯è¿™äº›å‚æ•°çš„èŒƒå›´æ˜¯ä»€ä¹ˆã€‚å¯¹äºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä»¬ä»£è¡¨ä¸€ä¸ªæœªçŸ¥å€¼ï¼›å½“å‡½æ•°è¢«åº”ç”¨æ—¶ï¼Œè¿™ä¸ªå€¼å°±å˜å¾—å·²çŸ¥äº†ã€‚å¯¹äºå‚æ•°åŒ–æ•°æ®å®šä¹‰ï¼Œä¸€ä¸ªå‚æ•°ä»£è¡¨ä¸€ä¸ªæ•´ä¸ªå€¼çš„ç±»åˆ«ã€‚å‘å‚æ•°åŒ–æ•°æ®å®šä¹‰æä¾›æ•°æ®é›†åˆåç§°çš„è¿‡ç¨‹ç§°ä¸ºå®ä¾‹åŒ–ï¼›ä»¥ä¸‹æ˜¯[List-of](#%28tech._sim-dd._list._of%29)æŠ½è±¡çš„ä¸€äº›ç¤ºä¾‹å®ä¾‹åŒ–ï¼š
- en: When we write [[List-of](#%28tech._sim-dd._list._of%29) [Number](part_one.html#%28tech._number%29)],
    we are saying that ITEM represents all numbers so it is just another name for
    [List-of-numbers](#%28tech._sim-dd._list._of._number%29);
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å†™[[åˆ—è¡¨](#%28tech._sim-dd._list._of%29) [æ•°å­—](part_one.html#%28tech._number%29)]æ—¶ï¼Œæˆ‘ä»¬æ˜¯åœ¨è¯´ITEMä»£è¡¨æ‰€æœ‰æ•°å­—ï¼Œå› æ­¤å®ƒåªæ˜¯[List-of-numbers](#%28tech._sim-dd._list._of._number%29)çš„å¦ä¸€ä¸ªåç§°ï¼›
- en: Similarly, [[List-of](#%28tech._sim-dd._list._of%29) [String](part_one.html#%28tech._string%29)]
    defines the same class of data as [List-of-String](#%28tech._sim-dd._list._of._string%29);
    and
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œ[[åˆ—è¡¨](#%28tech._sim-dd._list._of%29) [å­—ç¬¦ä¸²](part_one.html#%28tech._string%29)]å®šä¹‰äº†ä¸[List-of-String](#%28tech._sim-dd._list._of._string%29)ç›¸åŒçš„æ•°æ®ç±»åˆ«ï¼›å¹¶ä¸”
- en: 'If we had identified a class of inventory records, like this:'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬è¯†åˆ«äº†ä¸€ä¸ªåº“å­˜è®°å½•çš„ç±»åˆ«ï¼Œå°±åƒè¿™æ ·ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â IRÂ [nameÂ price])
    |'
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰ç»“æ„](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)
    IR åç§° ä»·æ ¼) |'
- en: '| ;Â An IR is a structure: |'
  id: totrans-281
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªIRæ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-IR  [String](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._.String%29%29)  [Number](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._.Number%29%29))
    |'
  id: totrans-282
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-IR [å­—ç¬¦ä¸²](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._.String%29%29)
    [æ•°å­—](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._.Number%29%29))
    |'
- en: then [[List-of](#%28tech._sim-dd._list._of%29) [IR](#%28tech._sim-dd._ir%29)]
    would be a name for the lists of inventory records.
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç„¶å[[List-of](#%28tech._sim-dd._list._of%29) [IR](#%28tech._sim-dd._ir%29)]å°†æ˜¯åº“å­˜è®°å½•åˆ—è¡¨çš„åç§°ã€‚
- en: 'By convention, we use names with all capital letters for parameters of data
    definitions, while the arguments are spelled as needed.Our way to validate that
    these short-hands really mean what we say they mean is to substitute the actual
    name of a data definition, for example, [Number](part_one.html#%28tech._number%29),
    for the parameter ITEM of the data definition and to use a plain name for the
    data definition:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å…¨éƒ¨å¤§å†™çš„åç§°ä½œä¸ºæ•°æ®å®šä¹‰çš„å‚æ•°ï¼Œè€Œå‚æ•°åˆ™æŒ‰éœ€è¦æ‹¼å†™ã€‚æˆ‘ä»¬éªŒè¯è¿™äº›ç¼©å†™ç¡®å®æ„å‘³ç€æˆ‘ä»¬æ‰€è¯´çš„é‚£æ ·ï¼Œæ˜¯é€šè¿‡ç”¨å®é™…çš„æ•°æ®å®šä¹‰åç§°ï¼Œä¾‹å¦‚[Number](part_one.html#%28tech._number%29)ï¼Œæ›¿æ¢æ•°æ®å®šä¹‰çš„å‚æ•°ITEMï¼Œå¹¶ä¸ºæ•°æ®å®šä¹‰ä½¿ç”¨æ™®é€šåç§°ï¼š
- en: '| ;Â A List-of-numbers-again is one of: |'
  id: totrans-285
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A List-of-numbers-again is one of: |'
- en: '| ;Â â€“  ''() |'
  id: totrans-286
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ''() |'
- en: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [Number](part_one.html#%28tech._number%29)  List-of-numbers-again)
    |'
  id: totrans-287
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [Number](part_one.html#%28tech._number%29)  List-of-numbers-again)
    |'
- en: 'Since the data definition is self-referential, we copied the entire data definition.
    The resulting definition looks exactly like the conventional one for lists of
    numbers and truly identifies the same class of data.Letâ€™s take a brief look at
    a second example, starting with a structure type definition:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæ•°æ®å®šä¹‰æ˜¯è‡ªå¼•ç”¨çš„ï¼Œæˆ‘ä»¬å¤åˆ¶äº†æ•´ä¸ªæ•°æ®å®šä¹‰ã€‚ç»“æœå®šä¹‰çœ‹èµ·æ¥ä¸ä¼ ç»Ÿçš„æ•°å­—åˆ—è¡¨å®šä¹‰å®Œå…¨ä¸€æ ·ï¼Œå¹¶ä¸”çœŸæ­£åœ°è¯†åˆ«äº†ç›¸åŒçš„æ•°æ®ç±»åˆ«ã€‚è®©æˆ‘ä»¬ç®€è¦åœ°çœ‹ä¸€ä¸‹ç¬¬äºŒä¸ªä¾‹å­ï¼Œä»ä¸€ä¸ªç»“æ„ç±»å‹å®šä¹‰å¼€å§‹ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â pointÂ [horiÂ veri])
  id: totrans-289
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â pointÂ [horiÂ veri])
- en: 'Here are two different data definitions that use this structure type:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä½¿ç”¨è¿™ç§ç»“æ„ç±»å‹çš„ä¸¤ä¸ªä¸åŒçš„æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A Pair-boolean-string is a structure: |'
  id: totrans-291
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A Pair-boolean-string is a structure: |'
- en: '| ;Â Â Â (make-point  [Boolean](part_one.html#%28tech._boolean%29)  [String](part_one.html#%28tech._string%29))
    |'
  id: totrans-292
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-point  [Boolean](part_one.html#%28tech._boolean%29)  [String](part_one.html#%28tech._string%29))
    |'
- en: '| Â  |'
  id: totrans-293
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â A Pair-number-image is a structure: |'
  id: totrans-294
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A Pair-number-image is a structure: |'
- en: '| ;Â Â Â (make-point  [Number](part_one.html#%28tech._number%29)  [Image](part_one.html#%28tech._image%29))
    |'
  id: totrans-295
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-point  [Number](part_one.html#%28tech._number%29)  [Image](part_one.html#%28tech._image%29))
    |'
- en: 'In this case, the data definitions differ in two placesâ€”<wbr>both marked by
    highlighting. The differences in the hori fields correspond to each other, and
    so do the differences in the veri fields. It is thus necessary to introduce two
    parameters to create an abstract data definition:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®å®šä¹‰åœ¨ä¸¤ä¸ªåœ°æ–¹æœ‰æ‰€ä¸åŒâ€”â€”éƒ½ç”±é«˜äº®æ ‡è®°ã€‚æ°´å¹³å­—æ®µä¸­çš„å·®å¼‚ç›¸äº’å¯¹åº”ï¼Œå‚ç›´å­—æ®µä¸­çš„å·®å¼‚ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å› æ­¤ï¼Œæœ‰å¿…è¦å¼•å…¥ä¸¤ä¸ªå‚æ•°æ¥åˆ›å»ºä¸€ä¸ªæŠ½è±¡æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A [CP H V] is a structure: |'
  id: totrans-297
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A [CP H V] is a structure: |'
- en: '| ;Â Â Â (make-point  H  V) |'
  id: totrans-298
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-point  H  V) |'
- en: Here H is the parameter for data collections for the hori field, and V stands
    for data collections that can show up in the veri field.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡ŒHæ˜¯æ°´å¹³å­—æ®µçš„å‚æ•°ï¼ŒVä»£è¡¨å¯ä»¥å‡ºç°åœ¨å‚ç›´å­—æ®µä¸­çš„æ•°æ®é›†åˆã€‚
- en: To instantiate a data definition with two parameters, you need two names of
    data collections. Using [Number](part_one.html#%28tech._number%29) and [Image](part_one.html#%28tech._image%29)
    for the parameters of [CP](#%28tech._sim-dd._cp%29), you get [[CP](#%28tech._sim-dd._cp%29)
    [Number](part_one.html#%28tech._number%29) [Image](part_one.html#%28tech._image%29)],
    which describes the collections of points that combine a number with an image.
    In contrast [[CP](#%28tech._sim-dd._cp%29) [Boolean](part_one.html#%28tech._boolean%29)
    [String](part_one.html#%28tech._string%29)] combines Boolean values with strings
    in a point structure.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: è¦å®ä¾‹åŒ–ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªå‚æ•°çš„æ•°æ®å®šä¹‰ï¼Œä½ éœ€è¦ä¸¤ä¸ªæ•°æ®é›†åˆçš„åç§°ã€‚ä½¿ç”¨[Number](part_one.html#%28tech._number%29)å’Œ[Image](part_one.html#%28tech._image%29)ä½œä¸º[CP](#%28tech._sim-dd._cp%29)çš„å‚æ•°ï¼Œä½ å¾—åˆ°[[CP](#%28tech._sim-dd._cp%29)
    [Number](part_one.html#%28tech._number%29) [Image](part_one.html#%28tech._image%29)]ï¼Œè¿™æè¿°äº†å°†æ•°å­—ä¸å›¾åƒç»“åˆçš„ç‚¹é›†åˆã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ[[CP](#%28tech._sim-dd._cp%29)
    [Boolean](part_one.html#%28tech._boolean%29) [String](part_one.html#%28tech._string%29)]åœ¨ç‚¹ç»“æ„ä¸­å°†å¸ƒå°”å€¼ä¸å­—ç¬¦ä¸²ç»“åˆã€‚
- en: 'ExerciseÂ 239\. A list of two items is another frequently used form of data
    in ISL programming. Here is a data definition with two parameters:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 239ã€‚åœ¨ISLç¼–ç¨‹ä¸­ï¼Œä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé¡¹ç›®çš„åˆ—è¡¨æ˜¯å¦ä¸€ç§å¸¸ç”¨çš„æ•°æ®å½¢å¼ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªå‚æ•°çš„æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A [List X Y] is a list: |'
  id: totrans-302
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A [List X Y] is a list: |'
- en: '| ;Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  X  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  Y  ''()))
    |'
  id: totrans-303
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  X  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  Y  ''()))
    |'
- en: 'Instantiate this definition to describe the following classes of data:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: å®ä¾‹åŒ–è¿™ä¸ªå®šä¹‰æ¥æè¿°ä»¥ä¸‹æ•°æ®ç±»åˆ«ï¼š
- en: pairs of [Number](part_one.html#%28tech._number%29)s,
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pairs of [Number](part_one.html#%28tech._number%29)s,
- en: pairs of [Number](part_one.html#%28tech._number%29)s and [1String](part_one.html#%28tech._1string%29)s,
    and
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pairs of [Number](part_one.html#%28tech._number%29)s and [1String](part_one.html#%28tech._1string%29)s,
    and
- en: pairs of [String](part_one.html#%28tech._string%29)s and [Boolean](part_one.html#%28tech._boolean%29)s.
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pairs of [String](part_one.html#%28tech._string%29)s and [Boolean](part_one.html#%28tech._boolean%29)s.
- en: 'Also make one concrete example for each of these three data definitions.Once
    you have parametric data definitions, you can mix and match them to great effect.
    Consider this one:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: ä¹Ÿä¸ºè¿™ä¸‰ä¸ªæ•°æ®å®šä¹‰ä¸­çš„æ¯ä¸€ä¸ªæä¾›ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚ä¸€æ—¦ä½ æœ‰äº†å‚æ•°åŒ–æ•°æ®å®šä¹‰ï¼Œä½ å¯ä»¥æ··åˆåŒ¹é…å®ƒä»¬ä»¥è¾¾åˆ°å¾ˆå¥½çš„æ•ˆæœã€‚è€ƒè™‘ä»¥ä¸‹ä¾‹å­ï¼š
- en: ;Â [[List-of](#%28tech._sim-dd._list._of%29) [[CP](#%28tech._sim-dd._cp%29)  [Boolean](part_one.html#%28tech._boolean%29)  [Image](part_one.html#%28tech._image%29)]]
  id: totrans-309
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[List-of](#%28tech._sim-dd._list._of%29) [[CP](#%28tech._sim-dd._cp%29)  [Boolean](part_one.html#%28tech._boolean%29)  [Image](part_one.html#%28tech._image%29)]]
- en: 'The outermost notation is [[List-of](#%28tech._sim-dd._list._of%29) ...], which
    means that you are dealing with a list. The question is what kind of data the
    list contains, and to answer that question, you need to study the inside of the
    [List-of](#%28tech._sim-dd._list._of%29) expression:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¤–å±‚çš„è¡¨ç¤ºæ˜¯ [[List-of](#%28tech._sim-dd._list._of%29) ...]ï¼Œè¿™æ„å‘³ç€ä½ æ­£åœ¨å¤„ç†ä¸€ä¸ªåˆ—è¡¨ã€‚é—®é¢˜æ˜¯åˆ—è¡¨åŒ…å«ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œè¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦ç ”ç©¶[List-of](#%28tech._sim-dd._list._of%29)è¡¨è¾¾å¼çš„å†…éƒ¨ï¼š
- en: ;Â [[CP](#%28tech._sim-dd._cp%29)  [Boolean](part_one.html#%28tech._boolean%29)  [Image](part_one.html#%28tech._image%29)]
  id: totrans-311
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[CP](#%28tech._sim-dd._cp%29)  [Boolean](part_one.html#%28tech._boolean%29)  [Image](part_one.html#%28tech._image%29)]
- en: This inner part combines [Boolean](part_one.html#%28tech._boolean%29) and [Image](part_one.html#%28tech._image%29)
    in a point. By implication,
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå†…éƒ¨éƒ¨åˆ†å°†[Boolean](part_one.html#%28tech._boolean%29)å’Œ[Image](part_one.html#%28tech._image%29)ç»“åˆåœ¨ä¸€ä¸ªç‚¹ä¸Šã€‚ç”±æ­¤æ¨æ–­ï¼Œ
- en: ;Â [[List-of](#%28tech._sim-dd._list._of%29) [[CP](#%28tech._sim-dd._cp%29)  [Boolean](part_one.html#%28tech._boolean%29)  [Image](part_one.html#%28tech._image%29)]]
  id: totrans-313
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[List-of](#%28tech._sim-dd._list._of%29) [[CP](#%28tech._sim-dd._cp%29)  [Boolean](part_one.html#%28tech._boolean%29)  [Image](part_one.html#%28tech._image%29)]]
- en: is a list of points that combine [Boolean](part_one.html#%28tech._boolean%29)s
    and [Image](part_one.html#%28tech._image%29)s. Similarly,
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯ä¸€ä¸ªåŒ…å«[Boolean](part_one.html#%28tech._boolean%29)å’Œ[Image](part_one.html#%28tech._image%29)çš„ç‚¹çš„åˆ—è¡¨ã€‚åŒæ ·ï¼Œ
- en: ;Â [[CP](#%28tech._sim-dd._cp%29)  [Number](part_one.html#%28tech._number%29)
    [[List-of](#%28tech._sim-dd._list._of%29)  [Image](part_one.html#%28tech._image%29)]]
  id: totrans-315
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[CP](#%28tech._sim-dd._cp%29)  [Number](part_one.html#%28tech._number%29)
    [[List-of](#%28tech._sim-dd._list._of%29)  [Image](part_one.html#%28tech._image%29)]]
- en: 'is an instantiation of [CP](#%28tech._sim-dd._cp%29) that combines one [Number](part_one.html#%28tech._number%29)
    with a list of [Image](part_one.html#%28tech._image%29)s.ExerciseÂ 240\. Here are
    two strange but similar data definitions:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯ä¸€ä¸ªå°†ä¸€ä¸ª[Number](part_one.html#%28tech._number%29)ä¸ä¸€ä¸ª[Image](part_one.html#%28tech._image%29)åˆ—è¡¨ç»“åˆçš„[CP](#%28tech._sim-dd._cp%29)å®ä¾‹ã€‚ç»ƒä¹ 240ã€‚è¿™é‡Œæœ‰ä¸¤ç»„å¥‡æ€ªä½†ç›¸ä¼¼çš„æ•°æ®å®šä¹‰ï¼š
- en: '|'
  id: totrans-317
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-318
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â An LStr is one of: &#124;'
  id: totrans-319
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â An LStr is one of: &#124;'
- en: '&#124; ;Â â€“  [String](part_one.html#%28tech._string%29) &#124;'
  id: totrans-320
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  [String](part_one.html#%28tech._string%29) &#124;'
- en: '&#124; ;Â â€“  (make-layer  [LStr](#%28tech._sim-dd._lstr%29)) &#124;'
  id: totrans-321
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  (make-layer  [LStr](#%28tech._sim-dd._lstr%29)) &#124;'
- en: ''
  id: totrans-322
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-323
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-324
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â An LNum is one of: &#124;'
  id: totrans-325
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â An LNum is one of: &#124;'
- en: '&#124; ;Â â€“  [Number](part_one.html#%28tech._number%29) &#124;'
  id: totrans-326
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  [Number](part_one.html#%28tech._number%29) &#124;'
- en: '&#124; ;Â â€“  (make-layer  [LNum](#%28tech._sim-dd._lnum%29)) &#124;'
  id: totrans-327
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  (make-layer  [LNum](#%28tech._sim-dd._lnum%29)) &#124;'
- en: ''
  id: totrans-328
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-329
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: 'Both data definitions rely on this structure-type definition:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤ç§æ•°æ®å®šä¹‰éƒ½ä¾èµ–äºè¿™ä¸ªç»“æ„ç±»å‹å®šä¹‰ï¼š
- en: ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â layerÂ [stuff])
  id: totrans-331
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â layerÂ [stuff])
- en: 'Both define nested forms of data: one is about numbers and the other about
    strings. Make examples for both. Abstract over the two. Then instantiate the abstract
    definition to get back the originals.'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤è€…éƒ½å®šä¹‰äº†åµŒå¥—çš„æ•°æ®å½¢å¼ï¼šä¸€ä¸ªæ˜¯å…³äºæ•°å­—çš„ï¼Œå¦ä¸€ä¸ªæ˜¯å…³äºå­—ç¬¦ä¸²çš„ã€‚ä¸ºä¸¤è€…éƒ½ä¸¾ä¸€äº›ä¾‹å­ã€‚å¯¹ä¸¤è€…è¿›è¡ŒæŠ½è±¡ã€‚ç„¶åå®ä¾‹åŒ–æŠ½è±¡å®šä¹‰ä»¥è·å–åŸå§‹æ•°æ®ã€‚
- en: ExerciseÂ 241\. Compare the definitions for [NEList-of-temperatures](part_two.html#%28tech._nelist._of._temperature%29)
    and [NEList-of-Booleans](part_two.html#%28tech._nelist._of._boolean%29). Then
    formulate an abstract data definition NEList-of.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 241ã€‚æ¯”è¾ƒ [NEList-of-temperatures](part_two.html#%28tech._nelist._of._temperature%29)
    å’Œ [NEList-of-Booleans](part_two.html#%28tech._nelist._of._boolean%29) çš„å®šä¹‰ã€‚ç„¶ååˆ¶å®šä¸€ä¸ªæŠ½è±¡æ•°æ®å®šä¹‰
    NEList-ofã€‚
- en: 'ExerciseÂ 242\. Here is one more parametric data definition:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 242ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªæ›´å¤šçš„å‚æ•°åŒ–æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A [Maybe X] is one of: |'
  id: totrans-335
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ª [Maybe X] æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š|'
- en: '| ;Â â€“  #false |'
  id: totrans-336
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  #false |'
- en: '| ;Â â€“  X |'
  id: totrans-337
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  X |'
- en: 'Interpret these data definitions: [[Maybe](#%28tech._sim-dd._maybe%29) [String](part_one.html#%28tech._string%29)],
    [[Maybe](#%28tech._sim-dd._maybe%29) [[List-of](#%28tech._sim-dd._list._of%29)
    [String](part_one.html#%28tech._string%29)]], and [[List-of](#%28tech._sim-dd._list._of%29)
    [[Maybe](#%28tech._sim-dd._maybe%29) [String](part_one.html#%28tech._string%29)]].What
    does the following function signature mean:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šä»¥ä¸‹æ•°æ®å®šä¹‰ï¼š[[Maybe](#%28tech._sim-dd._maybe%29) [String](part_one.html#%28tech._string%29)]ï¼Œ[[Maybe](#%28tech._sim-dd._maybe%29)
    [[List-of](#%28tech._sim-dd._list._of%29) [String](part_one.html#%28tech._string%29)]]ï¼Œå’Œ
    [[List-of](#%28tech._sim-dd._list._of%29) [[Maybe](#%28tech._sim-dd._maybe%29)
    [String](part_one.html#%28tech._string%29)]]ã€‚ä»¥ä¸‹å‡½æ•°ç­¾åæ„å‘³ç€ä»€ä¹ˆï¼š
- en: '| ;Â [String](part_one.html#%28tech._string%29) [[List-of](#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
    -> [[Maybe](#%28tech._sim-dd._maybe%29) [[List-of](#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]]
    |'
  id: totrans-339
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [String](part_one.html#%28tech._string%29) [[List-of](#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
    -> [[Maybe](#%28tech._sim-dd._maybe%29) [[List-of](#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]]
    |'
- en: '| ;Â returns the remainder of los starting with s |'
  id: totrans-340
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è¿”å›ä» s å¼€å§‹çš„ los çš„ä½™æ•° |'
- en: '| ;Â #false otherwise |'
  id: totrans-341
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦åˆ™è¿”å› #false |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (occursÂ "a"Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "b"Â "a"Â "d"Â "e"))
    |'
  id: totrans-342
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (occursÂ "a"Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "b"Â "a"Â "d"Â "e"))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e"))
    |'
  id: totrans-343
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e"))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (occursÂ "a"Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "b"Â "c"Â "d"))Â #false)
    |'
  id: totrans-344
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (occursÂ "a"Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "b"Â "c"Â "d"))Â #false)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (occursÂ sÂ los)
    |'
  id: totrans-345
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (occursÂ sÂ los)
    |'
- en: '| Â Â los) |'
  id: totrans-346
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â los) |'
- en: Work through the remaining steps of the design recipe.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæˆè®¾è®¡é£Ÿè°±çš„å‰©ä½™æ­¥éª¤ã€‚
- en: 14.4Functions Are Values[ğŸ”—](#(part._sec~3afunctions-as-values) "Link to here")
  id: totrans-348
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 14.4 å‡½æ•°æ˜¯å€¼[ğŸ”—](#(part._sec~3afunctions-as-values) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'The functions in this part stretch our understanding of program evaluation.
    It is easy to understand how functions consume more than numbers, say strings
    or images. Structures and lists are a bit of a stretch, but they are finite â€œthingsâ€
    in the end. Function-consuming functions, however, are strange. Indeed, the very
    idea violates the first intermezzo in two ways: (1) the names of primitives and
    functions are used as arguments in applications, and (2) parameters are used in
    the function position of applications.'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸€éƒ¨åˆ†çš„å‡½æ•°æ‰©å±•äº†æˆ‘ä»¬å¯¹ç¨‹åºè¯„ä¼°çš„ç†è§£ã€‚ç†è§£å‡½æ•°æ¶ˆè€—ä¸ä»…ä»…æ˜¯æ•°å­—ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²æˆ–å›¾åƒæ˜¯å¾ˆå®¹æ˜“çš„ã€‚ç»“æ„å’Œåˆ—è¡¨åœ¨æœ€ç»ˆæ„ä¹‰ä¸Šæ˜¯æœ‰é™çš„â€œäº‹ç‰©â€ã€‚ç„¶è€Œï¼Œå‡½æ•°æ¶ˆè€—å‡½æ•°å´å¾ˆå¥‡æ€ªã€‚äº‹å®ä¸Šï¼Œè¿™ä¸ªæƒ³æ³•ä»¥ä¸¤ç§æ–¹å¼è¿åäº†ç¬¬ä¸€ç¯‡åºè¨€ï¼šï¼ˆ1ï¼‰åŸå§‹å’Œå‡½æ•°çš„åç§°åœ¨åº”ç”¨ä¸­ç”¨ä½œå‚æ•°ï¼Œä»¥åŠï¼ˆ2ï¼‰å‚æ•°åœ¨åº”ç”¨çš„å‡½æ•°ä½ç½®ä¸­ä½¿ç”¨ã€‚
- en: Spelling out the problem tells you how the ISL grammar differs from BSLâ€™s. First,
    our expression language should include the names of functions and primitive operations
    in the definition. Second, the first position in an application should allow things
    other than function names and primitive operations; at a minimum, it must allow
    variables and function parameters.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: é˜è¿°é—®é¢˜å‘Šè¯‰ä½  ISL è¯­æ³•ä¸ BSL çš„ä¸åŒä¹‹å¤„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬çš„è¡¨è¾¾å¼è¯­è¨€åº”è¯¥åŒ…æ‹¬å‡½æ•°å’ŒåŸå§‹æ“ä½œçš„å®šä¹‰ä¸­çš„åç§°ã€‚å…¶æ¬¡ï¼Œåº”ç”¨ä¸­çš„ç¬¬ä¸€ä¸ªä½ç½®åº”å…è®¸é™¤äº†å‡½æ•°åç§°å’ŒåŸå§‹æ“ä½œä¹‹å¤–çš„å†…å®¹ï¼›è‡³å°‘ï¼Œå®ƒå¿…é¡»å…è®¸å˜é‡å’Œå‡½æ•°å‚æ•°ã€‚
- en: The changes to the grammar seem to demand changes to the evaluation rules, but
    all that changes is the set of values. Specifically, to accommodate functions
    as arguments of functions, the simplest change is to say that functions and primitive
    operations are values.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: è¯­æ³•çš„å˜åŒ–ä¼¼ä¹è¦æ±‚å¯¹è¯„ä¼°è§„åˆ™è¿›è¡Œæ›´æ”¹ï¼Œä½†å®é™…ä¸Šåªæ”¹å˜äº†å€¼çš„é›†åˆã€‚å…·ä½“æ¥è¯´ï¼Œä¸ºäº†é€‚åº”å‡½æ•°ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œæœ€ç®€å•çš„æ›´æ”¹æ˜¯è¯´å‡½æ•°å’ŒåŸå§‹æ“ä½œæ˜¯å€¼ã€‚
- en: ExerciseÂ 243\. Assume the definitions area in DrRacket contains
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ DrRacket çš„å®šä¹‰åŒºåŸŸåŒ…å«
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â x)
  id: totrans-353
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â x)
- en: 'Identify the values among the following expressions:'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: è¯†åˆ«ä»¥ä¸‹è¡¨è¾¾å¼ä¸­çš„å€¼ï¼š
- en: ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  f  '())
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  f  '())
- en: (f  f)
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: (f  f)
- en: ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  f  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  10  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  (f  10)  '())))
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  f  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  10  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  (f  10)  '())))
- en: 'Explain why they are (not) values.ExerciseÂ 244\. Argue why the following sentences
    are now legal:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šä¸ºä»€ä¹ˆå®ƒä»¬æ˜¯ï¼ˆæˆ–ä¸æ˜¯ï¼‰å€¼ã€‚ç»ƒä¹  244ã€‚è®ºè¯ä»¥ä¸‹å¥å­ç°åœ¨ä¸ºä»€ä¹ˆæ˜¯åˆæ³•çš„ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  (f  x)  (x  10))
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  (f  x)  (x  10))
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  (f  x)  (x  f))
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  (f  x)  (x  f))
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  (f  x  y)  (x  'a  y  'b))
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  (f  x  y)  (x  'a  y  'b))
- en: Explain your reasoning.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šä½ çš„æ¨ç†ã€‚
- en: ExerciseÂ 245\. Develop the function=at-1.2-3-and-5.775? function. Given two
    functions from numbers to numbers, the function determines whether the two produce
    the same results for 1.2, 3, and -5.775.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  245ã€‚å¼€å‘å‡½æ•°=at-1.2-3-and-5.775?ã€‚ç»™å®šä¸¤ä¸ªä»æ•°å­—åˆ°æ•°å­—çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°ç¡®å®šè¿™ä¸¤ä¸ªå‡½æ•°å¯¹äº 1.2ã€3 å’Œ -5.775 æ˜¯å¦äº§ç”Ÿç›¸åŒçš„ç»“æœã€‚
- en: Mathematicians say that two functions are equal if they compute the same result
    when given the same inputâ€”<wbr>for all possible inputs.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°å­¦å®¶è¯´ï¼Œå¦‚æœä¸¤ä¸ªå‡½æ•°åœ¨ç»™å®šç›¸åŒè¾“å…¥æ—¶è®¡ç®—ç›¸åŒçš„ç»“æœâ€”â€”å¯¹äºæ‰€æœ‰å¯èƒ½çš„è¾“å…¥â€”â€”åˆ™è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯ç›¸ç­‰çš„ã€‚
- en: Can we hope to define function=?, which determines whether two functions from
    numbers to numbers are equal? If so, define the function. If not, explain why
    and consider the implication that you have encountered the first easily definable
    idea for which you cannot define a function.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬èƒ½å¦å¸Œæœ›å®šä¹‰ä¸€ä¸ªå‡½æ•°=ï¼Ÿï¼Œè¯¥å‡½æ•°ç¡®å®šä¸¤ä¸ªä»æ•°å­—åˆ°æ•°å­—çš„å‡½æ•°æ˜¯å¦ç›¸ç­‰ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œè¯·å®šä¹‰è¯¥å‡½æ•°ã€‚å¦‚æœä¸æ˜¯ï¼Œè¯·è§£é‡ŠåŸå› ï¼Œå¹¶è€ƒè™‘ä½ é‡åˆ°çš„ç¬¬ä¸€ä¸ªå®¹æ˜“å®šä¹‰ä½†æ— æ³•å®šä¹‰å‡½æ•°çš„æƒ³æ³•çš„å«ä¹‰ã€‚
- en: 14.5Computing with Functions[ğŸ”—](#(part._sec~3aeval-ho) "Link to here")
  id: totrans-366
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 14.5ä½¿ç”¨å‡½æ•°è¿›è¡Œè®¡ç®—[ğŸ”—](#(part._sec~3aeval-ho) "é“¾æ¥è‡³æ­¤")
- en: The switch from BSL+ to ISL allows the use of functions as arguments and the
    use of names in the first position of an application. DrRacket deals with names
    in these positions like anywhere else, but naturally, it expects a function as
    a result. Surprisingly, a simple adaptation of the laws of algebra suffices to
    evaluate programs in ISL.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: ä»BSL+åˆ°ISLçš„è½¬æ¢å…è®¸ä½¿ç”¨å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶åœ¨åº”ç”¨çš„ç¬¬ä¸€ä½ç½®ä½¿ç”¨åç§°ã€‚DrRacketå°†è¿™äº›ä½ç½®ä¸Šçš„åç§°å¤„ç†å¾—åƒå…¶ä»–ä»»ä½•åœ°æ–¹ä¸€æ ·ï¼Œä½†è‡ªç„¶åœ°ï¼Œå®ƒæœŸæœ›å¾—åˆ°ä¸€ä¸ªå‡½æ•°ä½œä¸ºç»“æœã€‚ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œç®€å•çš„ä»£æ•°æ³•åˆ™çš„é€‚åº”å°±è¶³ä»¥è¯„ä¼°ISLä¸­çš„ç¨‹åºã€‚
- en: Letâ€™s see how this works for extract from [Different Similarities](#%28part._sec~3afunc-similarities%29).
    Obviously,
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ˜¯å¦‚ä½•åº”ç”¨äº[ä¸åŒç›¸ä¼¼æ€§](#%28part._sec~3afunc-similarities%29)çš„æ‘˜å½•ã€‚æ˜¾ç„¶ï¼Œ
- en: (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â '()Â 5)Â ==Â '()
  id: totrans-369
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â '()Â 5)Â ==Â '()
- en: 'holds. We can use the law of substitution from [Intermezzo 1: Beginning Student
    Language](i1-2.html) and continue computing with the body of the function. Like
    so many times, the parameters, R, l, and t, are replaced by their arguments, [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29),
    ''(), and 5, respectively. From here, it is plain arithmetic, starting with the
    conditionals:'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯æˆç«‹çš„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¥è‡ª[é—´å¥æ›²1ï¼šåˆå­¦è€…è¯­è¨€](i1-2.html)çš„æ›¿æ¢æ³•åˆ™ï¼Œå¹¶ç»§ç»­ä½¿ç”¨å‡½æ•°ä½“è¿›è¡Œè®¡ç®—ã€‚å°±åƒè®¸å¤šæ¬¡ä¸€æ ·ï¼Œå‚æ•°Rã€lå’Œtåˆ†åˆ«è¢«å®ƒä»¬çš„å‚æ•°<[],
    '(), å’Œ5æ‰€æ›¿ä»£ã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œå°±æ˜¯ç®€å•çš„ç®—æœ¯ï¼Œä»æ¡ä»¶å¼€å§‹ï¼š
- en: '| == |'
  id: totrans-371
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-372
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)  ''())Â ''()]
    |'
  id: totrans-373
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)  ''())Â ''()]
    |'
- en: '| Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-374
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â t)
    |'
  id: totrans-375
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â t)
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5))]
    |'
  id: totrans-376
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â (æå–Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5))]
    |'
- en: '| Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5)])])
    |'
  id: totrans-377
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (æå–Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5)])]]
    |'
- en: '| == |'
  id: totrans-378
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-379
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â [#true  ''()] |'
  id: totrans-380
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â [#true  ''()] |'
- en: '| Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-381
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â t)
    |'
  id: totrans-382
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â t)
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5))]
    |'
  id: totrans-383
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ''())Â (æå–Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5))]
    |'
- en: '| Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5)])])
    |'
  id: totrans-384
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|        [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ''())Â 5)])])
    |'
- en: '| ==Â ''() |'
  id: totrans-385
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ''() |'
- en: 'Next we look at a one-item list:'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼š
- en: (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â '())Â 5)
  id: totrans-387
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â '())Â 5)
- en: 'The result should be ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  4  ''())
    because the only item of this list is 4 and ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  4  5)
    is true. Here is the first step of the evaluation:'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœåº”è¯¥æ˜¯([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  4  '())ï¼Œå› ä¸ºåˆ—è¡¨ä¸­å”¯ä¸€çš„å…ƒç´ æ˜¯4ï¼Œå¹¶ä¸”([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  4  5))æ˜¯æ­£ç¡®çš„ã€‚è¿™æ˜¯è¯„ä¼°çš„ç¬¬ä¸€æ­¥ï¼š
- en: '| (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''())Â 5)
    |'
  id: totrans-389
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''())Â 5)
    |'
- en: '| == |'
  id: totrans-390
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-391
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â ''()]
    |'
  id: totrans-392
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â ''()]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-393
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)
    |'
  id: totrans-394
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
  id: totrans-395
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5))]
    |'
  id: totrans-396
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])])
    |'
  id: totrans-397
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])]
    |'
- en: 'Again, all occurrences of R are replaced by [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29),
    l by ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  4  ''()),
    and t by 5. The rest is straightforward:'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ï¼Œæ‰€æœ‰å‡ºç°çš„ R éƒ½è¢« [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    æ›¿æ¢ï¼Œl è¢«æ›¿æ¢ä¸º ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 '())ï¼Œt è¢«æ›¿æ¢ä¸º 5ã€‚å…¶ä½™éƒ¨åˆ†æ˜¯ç›´æ¥çš„ï¼š
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-399
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  4  ''()))Â ''()]
    |'
  id: totrans-400
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â  [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) ''()] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-401
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â  [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)
    |'
  id: totrans-402
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
  id: totrans-403
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5))]
    |'
  id: totrans-404
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5)] |'
- en: '| Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])])
    |'
  id: totrans-405
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â  [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5)])]) |'
- en: '| == |'
  id: totrans-406
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-407
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [#falseÂ ''()] |'
  id: totrans-408
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [#falseÂ ''()] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-409
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)
    |'
  id: totrans-410
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
  id: totrans-411
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''())))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5))]
    |'
  id: totrans-412
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    [([extract](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._extract%29%29)Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])])
    |'
  id: totrans-413
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([extract](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._extract%29%29)Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])]])
    |'
- en: '| == |'
  id: totrans-414
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-415
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  4  ''()))Â 5)
    |'
  id: totrans-416
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5) |'
- en: '| Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
  id: totrans-417
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  [([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''()))] |'
- en: '| Â Â Â Â Â Â Â Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5))]
    |'
  id: totrans-418
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  [([extract](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._extract%29%29)
    ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5))] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])
    |'
  id: totrans-419
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5)]) |'
- en: '| Â  |'
  id: totrans-420
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| Â  |'
  id: totrans-421
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| Â  |'
  id: totrans-422
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| Â  |'
  id: totrans-423
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| == |'
  id: totrans-424
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-425
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  4  5)
    |'
  id: totrans-426
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    4  5) |'
- en: '| Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
  id: totrans-427
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
- en: '| Â Â Â Â Â Â Â Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5))]
    |'
  id: totrans-428
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (æå–Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5))]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])
    |'
  id: totrans-429
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (æå–Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])
    |'
- en: 'This is the key step, with [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    used after being substituted into this position. And it continues with arithmetic:'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å…³é”®æ­¥éª¤ï¼Œåœ¨æ›¿æ¢åˆ°è¿™ä¸ªä½ç½®åä½¿ç”¨äº† [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)ã€‚ç„¶åç»§ç»­è¿›è¡Œç®—æœ¯è¿ç®—ï¼š
- en: '| == |'
  id: totrans-431
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-432
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [#true |'
  id: totrans-433
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [#true |'
- en: '| Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
  id: totrans-434
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))
    |'
- en: '| Â Â Â Â Â Â Â Â Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5))]
    |'
  id: totrans-435
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5))] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)])
    |'
  id: totrans-436
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5)]) |'
- en: '| == |'
  id: totrans-437
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  4  ''()))Â 5))
    |'
  id: totrans-438
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5)) |'
- en: '| == |'
  id: totrans-439
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â (extract  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  ''()  5))
    |'
  id: totrans-440
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ''() 5)) |'
- en: '| == |'
  id: totrans-441
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''())
    |'
  id: totrans-442
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''()) |'
- en: 'The last step is the equation from above, meaning we can apply the law of substituting
    equals for equals.Our final example is an application of extract to a list of
    two items:'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åä¸€æ­¥æ˜¯ä¸Šé¢çš„ç­‰å¼ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åº”ç”¨ç­‰é‡ä»£æ¢å®šå¾‹ã€‚æˆ‘ä»¬çš„æœ€ç»ˆç¤ºä¾‹æ˜¯å°†æå–åº”ç”¨äºåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼š
- en: '| (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 6Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)
    |'
  id: totrans-444
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    6 ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5) |'
- en: '| ==Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''())Â 5)
    |'
  id: totrans-445
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''()) 5) |'
- en: '| ==Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''()Â 5))
    |'
  id: totrans-446
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ''() 5)) |'
- en: '| ==Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''())
    |'
  id: totrans-447
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''()) |'
- en: Step 1 is new. It deals with the case that extract eliminates the first item
    on the list if it is not below the threshold.ExerciseÂ 246\. Check step 1 of the
    last calculation
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥æ˜¯æ–°çš„ã€‚å®ƒå¤„ç†äº†extractåœ¨åˆ—è¡¨ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚æœå®ƒä¸åœ¨é˜ˆå€¼ä»¥ä¸‹ï¼‰çš„æƒ…å†µã€‚ç»ƒä¹ 246ï¼šæ£€æŸ¥æœ€åè®¡ç®—çš„ç¬¬1æ­¥
- en: '| (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 6Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''()))Â 5)
    |'
  id: totrans-449
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    6 ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''())) 5) |'
- en: '| == |'
  id: totrans-450
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| (extractÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 4Â ''())Â 5)
    |'
  id: totrans-451
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (æå– [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 ''()) 5) |'
- en: using DrRacketâ€™s stepper.
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨DrRacketçš„æ­¥è¿›å™¨ã€‚
- en: ExerciseÂ 247\. Evaluate (extract  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  8  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  4  '()))  5)
    with DrRacketâ€™s stepper.
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 247ã€‚ä½¿ç”¨DrRacketçš„æ­¥è¿›å™¨è¯„ä¼°(extract [å°äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    8 ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    4 '())) 5)ã€‚
- en: ExerciseÂ 248\. Evaluate (squared>?  3  10) and (squared>?  4  10) in DrRacketâ€™s
    stepper.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 248ã€‚åœ¨DrRacketçš„æ­¥è¿›å™¨ä¸­è¯„ä¼°(squared>? 3 10)å’Œ(squared>? 4 10)ã€‚
- en: 'Consider this interaction:'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘ä»¥ä¸‹äº¤äº’ï¼š
- en: '| > (extractÂ squared>?Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5)Â 10)
    |'
  id: totrans-456
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (æå–å¹³æ–¹å€¼å—ï¼Ÿ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 4 5) 10) |'
- en: '| (list 4 5) |'
  id: totrans-457
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (åˆ—è¡¨ 4 5) |'
- en: 'Here are some steps as the stepper would show them:'
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸€äº›æ­¥è¿›å™¨ä¼šæ˜¾ç¤ºçš„æ­¥éª¤ï¼š
- en: '| (extract  squared>?  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  4  5)  10)
    |  | (1) |'
  id: totrans-459
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (æå–å¹³æ–¹å€¼å—ï¼Ÿ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 4 5) 10) |  | (1) |'
- en: '|'
  id: totrans-460
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-461
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; == &#124;'
  id: totrans-462
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; == &#124;'
- en: '&#124; ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-463
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))Â ''()]
    &#124;'
  id: totrans-464
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 4 5)) ''()] &#124;'
- en: '&#124; Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-465
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-466
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â [(squared>?Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))Â 10)
    &#124;'
  id: totrans-467
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [(å¹³æ–¹å€¼ï¼Ÿ([åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 4 5)) 10) &#124;'
- en: '&#124; Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    &#124;'
  id: totrans-468
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    ([åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 4 5)) &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ squared>? &#124;'
  id: totrans-469
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    (æå–å¹³æ–¹å€¼ï¼Ÿ &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    &#124;'
  id: totrans-470
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â |  | (2) | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10))] &#124;'
  id: totrans-471
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10))] | '
- en: '&#124; Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ squared>?
    &#124;'
  id: totrans-472
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ squared>?
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    &#124;'
  id: totrans-473
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10)])]) &#124;'
  id: totrans-474
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    | '
- en: ''
  id: totrans-475
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  | (2) |'
  id: totrans-476
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    | '
- en: '|'
  id: totrans-477
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10)]) | '
- en: ''
  id: totrans-478
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ==Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ==
    &#124;'
  id: totrans-479
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â == [ ...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    == | '
- en: '&#124; ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-480
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '&#124; Â Â [(squared>?  3  10) &#124;'
  id: totrans-481
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| [(squared>?  3  10) | '
- en: '&#124; Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    &#124;'
  id: totrans-482
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â (extractÂ squared>? &#124;'
  id: totrans-483
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (extractÂ squared>? | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    &#124;'
  id: totrans-484
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10))] &#124;'
  id: totrans-485
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10))] | '
- en: '&#124; Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ squared>?
    &#124;'
  id: totrans-486
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10)]) | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    &#124;'
  id: totrans-487
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4Â 5))
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 10)]) &#124;'
  id: totrans-488
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extractÂ squared>?
    | '
- en: ''
  id: totrans-489
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  | (3) |'
  id: totrans-490
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â | (3) | '
- en: 'Use the stepper to confirm the step from lines (1) to (2). Continue the stepping
    to fill in the gaps between steps (2) and (3). Explain each step as the use of
    a law.ExerciseÂ 249\. Functions are values: arguments, results, items in lists.
    Place the following definitions and expressions into DrRacketâ€™s definitions window
    and use the stepper to find out how running this program works:'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ­¥è¿›å™¨ç¡®è®¤ä»è¡Œï¼ˆ1ï¼‰åˆ°ï¼ˆ2ï¼‰çš„æ­¥éª¤ã€‚ç»§ç»­æ­¥è¿›ä»¥å¡«è¡¥æ­¥éª¤ï¼ˆ2ï¼‰å’Œï¼ˆ3ï¼‰ä¹‹é—´çš„ç©ºç™½ã€‚è§£é‡Šæ¯ä¸ªæ­¥éª¤ä½œä¸ºä½¿ç”¨å®šå¾‹çš„åº”ç”¨ã€‚ç»ƒä¹ 249ã€‚å‡½æ•°æ˜¯å€¼ï¼šå‚æ•°ã€ç»“æœã€åˆ—è¡¨ä¸­çš„é¡¹ã€‚å°†ä»¥ä¸‹å®šä¹‰å’Œè¡¨è¾¾å¼æ”¾å…¥DrRacketçš„å®šä¹‰çª—å£ï¼Œå¹¶ä½¿ç”¨æ­¥è¿›å™¨æ‰¾å‡ºè¿è¡Œæ­¤ç¨‹åºçš„å·¥ä½œåŸç†ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â x)
    |'
  id: totrans-492
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â x)
    |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â fÂ ''())
    |'
  id: totrans-493
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â fÂ ''())
    |'
- en: '| (fÂ f) |'
  id: totrans-494
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (fÂ f) |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â fÂ ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 10Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â (fÂ 10)Â ''())))
    |'
  id: totrans-495
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â fÂ ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 10Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â (fÂ 10)Â ''())))
    |'
- en: The stepper displays functions as [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expressions; see [Nameless Functions](#%28part._ch~3a3lambda%29).
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¥è¿›å™¨æ˜¾ç¤ºå‡½æ•°ä¸º[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)è¡¨è¾¾å¼ï¼›å‚è§[æ— åç§°å‡½æ•°](#%28part._ch~3a3lambda%29)ã€‚
- en: 15Designing Abstractions[ğŸ”—](#(part._ch~3aabstract) "Link to here")
  id: totrans-497
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 15è®¾è®¡æŠ½è±¡[ğŸ”—](#(part._ch~3aabstract) "é“¾æ¥è‡³æ­¤")
- en: In essence, to abstract is to turn something concrete into a parameter. We have
    this several times in the preceding section. To abstract similar function definitions,
    you add parameters that replace concrete values in the definition. To abstract
    similar data definitions, you create parametric data definitions. When you encounter
    other programming languages, you will see that their abstraction mechanisms also
    require the introduction of parameters, though they may not be function parameters.
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æœ¬è´¨ä¸Šè®²ï¼ŒæŠ½è±¡æ˜¯å°†å…·ä½“äº‹ç‰©è½¬åŒ–ä¸ºå‚æ•°ã€‚åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å¤šæ¬¡è¿™æ ·åšã€‚ä¸ºäº†æŠ½è±¡ç±»ä¼¼çš„åŠŸèƒ½å®šä¹‰ï¼Œä½ æ·»åŠ å‚æ•°æ¥æ›¿æ¢å®šä¹‰ä¸­çš„å…·ä½“å€¼ã€‚ä¸ºäº†æŠ½è±¡ç±»ä¼¼çš„æ•°æ®å®šä¹‰ï¼Œä½ åˆ›å»ºå‚æ•°åŒ–æ•°æ®å®šä¹‰ã€‚å½“ä½ é‡åˆ°å…¶ä»–ç¼–ç¨‹è¯­è¨€æ—¶ï¼Œä½ ä¼šå‘ç°å®ƒä»¬çš„æŠ½è±¡æœºåˆ¶ä¹Ÿéœ€è¦å¼•å…¥å‚æ•°ï¼Œå°½ç®¡å®ƒä»¬å¯èƒ½ä¸æ˜¯å‡½æ•°å‚æ•°ã€‚
- en: 15.1Abstractions from Examples[ğŸ”—](#(part._sec~3adesign-abstract) "Link to here")
  id: totrans-499
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 15.1ä»ç¤ºä¾‹ä¸­æŠ½è±¡[ğŸ”—](#(part._sec~3adesign-abstract) "é“¾æ¥è‡³æ­¤")
- en: When you first learned to add, you worked with concrete examples. Your parents
    probably taught you to use your fingers to add two small numbers. Later on, you
    studied how to add two arbitrary numbers; you were introduced to your first kind
    of abstraction. Much later still, you learned to formulate expressions that convert
    temperatures from Celsius to Fahrenheit or calculate the distance that a car travels
    at a given speed and amount of time. In short, you went from very concrete examples
    to abstract relations.
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ æœ€åˆå­¦ä¹ åŠ æ³•æ—¶ï¼Œä½ ä½¿ç”¨å…·ä½“çš„ä¾‹å­è¿›è¡Œæ“ä½œã€‚ä½ çš„çˆ¶æ¯å¯èƒ½æ•™ä½ ç”¨æ‰‹æŒ‡æ¥åŠ ä¸¤ä¸ªå°çš„æ•°å­—ã€‚åæ¥ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•åŠ ä»»æ„ä¸¤ä¸ªæ•°ï¼›ä½ æ¥è§¦åˆ°äº†ä½ çš„ç¬¬ä¸€ç§æŠ½è±¡ã€‚æ›´æ™šäº›æ—¶å€™ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•å°†æ‘„æ°åº¦è½¬æ¢ä¸ºåæ°åº¦æˆ–è®¡ç®—æ±½è½¦ä»¥ç»™å®šé€Ÿåº¦å’Œæ—¶é—´çš„è¡Œé©¶è·ç¦»ã€‚ç®€è€Œè¨€ä¹‹ï¼Œä½ ä»éå¸¸å…·ä½“çš„äº‹ä¾‹è¿‡æ¸¡åˆ°äº†æŠ½è±¡çš„å…³ç³»ã€‚
- en: '|'
  id: totrans-501
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-502
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
    &#124;'
  id: totrans-503
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
    &#124;'
- en: '&#124; ;Â converts a list of Celsius &#124;'
  id: totrans-504
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â å°†æ‘„æ°åº¦åˆ—è¡¨è½¬æ¢ä¸º&#124;'
- en: '&#124; ;Â temperatures to Fahrenheit &#124;'
  id: totrans-505
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â æ¸©åº¦è½¬æ¢ä¸ºåæ°åº¦&#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (cf*Â l)
    &#124;'
  id: totrans-506
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (cf*Â l)Â |'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-507
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)Â |'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
  id: totrans-508
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]Â |'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-509
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â |'
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-510
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â |'
- en: '&#124; Â Â Â Â Â Â Â (C2FÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l))
    &#124;'
  id: totrans-511
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â æå–åç§°Â |'
- en: '&#124; Â Â Â Â Â Â Â (cf*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-512
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â æå–åç§°Â |'
- en: ''
  id: totrans-513
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-514
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)Â |'
- en: ''
  id: totrans-515
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Inventory](#%28tech._inventory%29) -> [List-of-strings](part_two.html#%28tech._list._of._string%29)
    &#124;'
  id: totrans-516
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â |'
- en: '&#124; ;Â extracts the names of &#124;'
  id: totrans-517
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â [Inventory](#%28tech._inventory%29) -> [List-of-strings](part_two.html#%28tech._list._of._string%29)Â |'
- en: '&#124; ;Â toys from an inventory &#124;'
  id: totrans-518
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â ;Â ä»åº“å­˜ä¸­è·å–ç©å…·Â |'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (namesÂ i)
    &#124;'
  id: totrans-519
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (namesÂ i)Â |'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-520
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â |'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â i)Â ''()]
    &#124;'
  id: totrans-521
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â i)Â ''()]Â |'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-522
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â |'
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-523
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â |'
- en: '&#124; Â Â Â Â Â Â Â (IR-nameÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â i))
    &#124;'
  id: totrans-524
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â (IR-nameÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â i))Â |'
- en: '&#124; Â Â Â Â Â Â Â (namesÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â i)))]))
    &#124;'
  id: totrans-525
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â (namesÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â i)))]))Â |'
- en: ''
  id: totrans-526
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-527
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â (C2FÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l))Â |'
- en: '|  |  |  |'
  id: totrans-528
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (cf*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))Â |'
- en: '|'
  id: totrans-529
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-530
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)
    &#124;'
  id: totrans-531
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â [Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)Â |'
- en: '&#124; ;Â converts one Celsius &#124;'
  id: totrans-532
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â å°†æ‘„æ°åº¦è½¬æ¢ä¸ºÂ |'
- en: '&#124; ;Â temperature to Fahrenheit &#124;'
  id: totrans-533
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â æ¸©åº¦è½¬æ¢ä¸ºåæ°åº¦Â |'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (C2FÂ c)
    &#124;'
  id: totrans-534
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (C2FÂ c)
    &#124;'
- en: '&#124; Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 9/5Â c)Â 32))
    &#124;'
  id: totrans-535
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 9/5Â c)Â 32))
    &#124;'
- en: ''
  id: totrans-536
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-537
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-538
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â IR
    &#124;'
  id: totrans-539
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰ç»“æ„](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â IR
    &#124;'
- en: '&#124; Â Â [nameÂ price]) &#124;'
  id: totrans-540
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â [nameÂ price]) &#124;'
- en: '&#124; ;Â An IR is a structure: &#124;'
  id: totrans-541
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â IRæ˜¯ä¸€ä¸ªç»“æ„ï¼š &#124;'
- en: '&#124; ;Â Â Â (make-IR  [String](part_one.html#%28tech._string%29)  [Number](part_one.html#%28tech._number%29))
    &#124;'
  id: totrans-542
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â Â Â (åˆ›å»ºIR  [å­—ç¬¦ä¸²](part_one.html#%28tech._string%29)  [æ•°å­—](part_one.html#%28tech._number%29))
    &#124;'
- en: '&#124; ;Â An Inventory is one of: &#124;'
  id: totrans-543
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â åº“å­˜æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š &#124;'
- en: '&#124; ;Â â€“  ''() &#124;'
  id: totrans-544
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  ''() &#124;'
- en: '&#124; ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [IR](#%28tech._ir%29)  [Inventory](#%28tech._inventory%29))
    &#124;'
  id: totrans-545
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [IR](#%28tech._ir%29)  [Inventory](#%28tech._inventory%29))
    &#124;'
- en: ''
  id: totrans-546
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-547
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-548
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 90: A pair of similar functions'
  id: totrans-549
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 'å›¾Â 90: ä¸€å¯¹ç›¸ä¼¼å‡½æ•°'
- en: '|'
  id: totrans-550
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-551
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (cf*Â lÂ g)
    &#124;'
  id: totrans-552
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (cf*Â lÂ g)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-553
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
  id: totrans-554
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-555
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-556
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â (gÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l))
    &#124;'
  id: totrans-557
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â (gÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l))
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â (cf*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â g))]))
    &#124;'
  id: totrans-558
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â (cf*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â g))]))
    &#124;'
- en: ''
  id: totrans-559
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-560
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-561
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (namesÂ iÂ g)
    &#124;'
  id: totrans-562
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (namesÂ iÂ g)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-563
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â i)Â ''()]
    &#124;'
  id: totrans-564
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    i] ''()] | '
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-565
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-566
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    | '
- en: '&#124; Â Â Â Â Â Â Â (gÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â i))
    &#124;'
  id: totrans-567
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[g](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._g%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    i))] | '
- en: '&#124; Â Â Â Â Â Â Â (namesÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â i)Â g))]))
    &#124;'
  id: totrans-568
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[names](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._names%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    i) g]])]] | '
- en: ''
  id: totrans-569
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-570
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '|  |  |  |'
  id: totrans-571
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |  | '
- en: '|'
  id: totrans-572
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-573
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (map1Â kÂ g)
    &#124;'
  id: totrans-574
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ([map1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map1%29%29)
    k g)] | '
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-575
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â k)Â ''()]
    &#124;'
  id: totrans-576
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    k] ''()] | '
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-577
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-578
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    | '
- en: '&#124; Â Â Â Â Â Â Â (gÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â k))
    &#124;'
  id: totrans-579
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[g](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._g%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    k))] | '
- en: '&#124; Â Â Â Â Â Â Â (map1Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â k)Â g))]))
    &#124;'
  id: totrans-580
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[map1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map1%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    k) g]]) | '
- en: ''
  id: totrans-581
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-582
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  | '
- en: ''
  id: totrans-583
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (map1Â kÂ g)
    &#124;'
  id: totrans-584
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ([map1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map1%29%29)
    k g)] | '
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-585
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â k)Â ''()]
    &#124;'
  id: totrans-586
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    k] ''()]'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-587
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-588
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â (gÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â k))
    &#124;'
  id: totrans-589
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â Â Â Â (gÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â k))
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â (map1Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â k)Â g))]))
    &#124;'
  id: totrans-590
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â Â Â Â (map1Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â k)Â g))]))
    &#124;'
- en: ''
  id: totrans-591
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-592
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-593
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 91: The same two similar functions, abstracted'
  id: totrans-594
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾91ï¼šç›¸åŒçš„ä¸¤ä¸ªç›¸ä¼¼å‡½æ•°ï¼Œç»è¿‡æŠ½è±¡
- en: This section introduces a design recipe for creating abstractions from examples.
    As the preceding section shows, creating abstractions is easy. We leave the difficult
    part to the next section where we show you how to find and use existing abstractions.
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚ä»‹ç»äº†ä»ç¤ºä¾‹åˆ›å»ºæŠ½è±¡çš„è®¾è®¡æ–¹æ³•ã€‚æ­£å¦‚å‰èŠ‚æ‰€ç¤ºï¼Œåˆ›å»ºæŠ½è±¡æ˜¯å¾ˆå®¹æ˜“çš„ã€‚æˆ‘ä»¬å°†å›°éš¾çš„éƒ¨åˆ†ç•™åˆ°ä¸‹ä¸€èŠ‚ï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•æ‰¾åˆ°å’Œä½¿ç”¨ç°æœ‰çš„æŠ½è±¡ã€‚
- en: 'Recall the essence of [Similarities Everywhere](#%28part._ch~3add-similarities%29).
    We start from two concrete definitions; we compare them; we mark the differences;
    and then we abstract. And that is mostly all there is to creating abstractions:'
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: å›å¿†ä¸€ä¸‹[æ— å¤„ä¸åœ¨çš„ç›¸ä¼¼æ€§](#%28part._ch~3add-similarities%29)çš„æœ¬è´¨ã€‚æˆ‘ä»¬ä»ä¸¤ä¸ªå…·ä½“çš„å®šä¹‰å¼€å§‹ï¼›æˆ‘ä»¬æ¯”è¾ƒå®ƒä»¬ï¼›æˆ‘ä»¬æ ‡è®°å·®å¼‚ï¼›ç„¶åæˆ‘ä»¬è¿›è¡ŒæŠ½è±¡ã€‚è¿™å°±æ˜¯åˆ›å»ºæŠ½è±¡çš„ä¸»è¦å†…å®¹ï¼š
- en: Step 1 is to compare two items for similarities.
  id: totrans-597
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥æ˜¯æ¯”è¾ƒä¸¤ä¸ªé¡¹ç›®ä»¥å¯»æ‰¾ç›¸ä¼¼ä¹‹å¤„ã€‚
- en: When you find two function definitions that are almost the same except for their
    names and some valuesThe recipe requires a substantial modification for abstracting
    over non-values. at analogous places, compare them and mark the differences. If
    the two definitions differ in more than one place, connect the corresponding differences
    with a line.
  id: totrans-598
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å½“æ‚¨æ‰¾åˆ°ä¸¤ä¸ªå‡ ä¹ç›¸åŒçš„å‡½æ•°å®šä¹‰ï¼Œé™¤äº†å®ƒä»¬çš„åç§°å’Œä¸€äº›ç±»ä¼¼ä½ç½®ä¸Šçš„å€¼æ—¶ï¼ŒæŠ½è±¡çš„é…æ–¹éœ€è¦å¯¹éå€¼è¿›è¡Œé‡å¤§ä¿®æ”¹ã€‚æ¯”è¾ƒå®ƒä»¬å¹¶æ ‡è®°å·®å¼‚ã€‚å¦‚æœä¸¤ä¸ªå®šä¹‰åœ¨å¤šä¸ªåœ°æ–¹ä¸åŒï¼Œç”¨çº¿è¿æ¥ç›¸åº”çš„å·®å¼‚ã€‚
- en: '[FigureÂ 90](#%28counter._%28figure._fig~3aabstract1%29%29) shows a pair of
    similar function definitions. The two functions apply a function to each item
    in a list. They differ only as to which function they apply to each item. The
    two highlights emphasize this essential difference. They also differ in two inessential
    ways: the names of the functions and the names of the parameters.'
  id: totrans-599
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[å›¾90](#%28counter._%28figure._fig~3aabstract1%29%29)æ˜¾ç¤ºäº†ä¸€å¯¹ç›¸ä¼¼çš„åŠŸèƒ½å®šä¹‰ã€‚è¿™ä¸¤ä¸ªå‡½æ•°å°†ä¸€ä¸ªå‡½æ•°åº”ç”¨äºåˆ—è¡¨ä¸­çš„æ¯ä¸ªé¡¹ç›®ã€‚å®ƒä»¬çš„ä¸åŒä¹‹å¤„ä»…åœ¨äºå®ƒä»¬åº”ç”¨äºæ¯ä¸ªé¡¹ç›®çš„å‡½æ•°ã€‚ä¸¤ä¸ªçªå‡ºæ˜¾ç¤ºå¼ºè°ƒäº†è¿™ç§åŸºæœ¬å·®å¼‚ã€‚å®ƒä»¬åœ¨ä¸¤ä¸ªéåŸºæœ¬æ–¹é¢ä¹Ÿæœ‰ä¸åŒï¼šå‡½æ•°å’Œå‚æ•°çš„åç§°ã€‚'
- en: Next we abstract. To abstract means to replace the contents of corresponding
    code highlights with new names and add these names to the parameter list. For
    our running example, we obtain the following pair of functions after replacing
    the differences with g; see [figureÂ 91](#%28counter._%28figure._fig~3acf%2A-vs-names%29%29).
    This first change eliminates the essential difference. Now each function traverses
    a list and applies some given function to each item.
  id: totrans-600
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥æˆ‘ä»¬è¿›è¡ŒæŠ½è±¡ã€‚æŠ½è±¡æ„å‘³ç€ç”¨æ–°åç§°æ›¿æ¢ç›¸åº”ä»£ç é«˜äº®çš„å†…å®¹ï¼Œå¹¶å°†è¿™äº›åç§°æ·»åŠ åˆ°å‚æ•°åˆ—è¡¨ä¸­ã€‚å¯¹äºæˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ï¼Œæˆ‘ä»¬åœ¨ç”¨gæ›¿æ¢å·®å¼‚åè·å¾—äº†ä»¥ä¸‹ä¸€å¯¹å‡½æ•°ï¼›è¯·å‚é˜…[å›¾91](#%28counter._%28figure._fig~3acf%2A-vs-names%29%29)ã€‚è¿™ä¸ªç¬¬ä¸€æ¬¡å˜åŒ–æ¶ˆé™¤äº†åŸºæœ¬å·®å¼‚ã€‚ç°åœ¨æ¯ä¸ªå‡½æ•°éå†ä¸€ä¸ªåˆ—è¡¨ï¼Œå¹¶å°†æŸä¸ªç»™å®šçš„å‡½æ•°åº”ç”¨äºæ¯ä¸ªé¡¹ç›®ã€‚
- en: The inessential differencesâ€”<wbr>the names of the functions and occasionally
    the names of some parametersâ€”<wbr>are easy to eliminate. Indeed, if you have explored
    DrRacket, you know that check syntax allows you to do this systematically and
    easily; see bottom of [figureÂ 91](#%28counter._%28figure._fig~3acf%2A-vs-names%29%29).
    We choose to use map1 for the name of the function and k for the name of the list
    parameter. No matter which names you choose, the result is two identical function
    definitions.
  id: totrans-601
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¸å¿…è¦çš„å·®å¼‚â€”â€”å‡½æ•°å’Œå¶å°”ä¸€äº›å‚æ•°çš„åç§°â€”â€”å¾ˆå®¹æ˜“æ¶ˆé™¤ã€‚å®é™…ä¸Šï¼Œå¦‚æœæ‚¨å·²ç»æ¢ç´¢è¿‡DrRacketï¼Œæ‚¨çŸ¥é“æ£€æŸ¥è¯­æ³•å…è®¸æ‚¨ç³»ç»Ÿåœ°ã€è½»æ¾åœ°å®Œæˆè¿™é¡¹å·¥ä½œï¼›è¯·å‚é˜…[å›¾91](#%28counter._%28figure._fig~3acf%2A-vs-names%29%29)çš„åº•éƒ¨ã€‚æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨map1ä½œä¸ºå‡½æ•°çš„åç§°ï¼Œkä½œä¸ºåˆ—è¡¨å‚æ•°çš„åç§°ã€‚æ— è®ºæ‚¨é€‰æ‹©ä»€ä¹ˆåç§°ï¼Œç»“æœéƒ½æ˜¯ä¸¤ä¸ªç›¸åŒçš„åŠŸèƒ½å®šä¹‰ã€‚
- en: Our example is simple. In many cases, you will find that there is more than
    just one pair of differences. The key is to find pairs of differences. When you
    mark up the differences with paper and pencil, connect related boxes with a line.
    Then introduce one additional parameter per line. And donâ€™t forget to change all
    recursive uses of the function so that the additional parameters go along for
    the ride.
  id: totrans-602
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„ç¤ºä¾‹å¾ˆç®€å•ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œä½ ä¼šå‘ç°ä¸æ­¢ä¸€å¯¹å·®å¼‚ã€‚å…³é”®æ˜¯æ‰¾åˆ°å·®å¼‚å¯¹ã€‚å½“ä½ ç”¨çº¸å’Œç¬”æ ‡è®°å·®å¼‚æ—¶ï¼Œç”¨çº¿è¿æ¥ç›¸å…³çš„æ¡†ã€‚ç„¶åä¸ºæ¯ä¸€è¡Œå¼•å…¥ä¸€ä¸ªé¢å¤–çš„å‚æ•°ã€‚åˆ«å¿˜äº†æ›´æ”¹æ‰€æœ‰å‡½æ•°çš„é€’å½’ä½¿ç”¨ï¼Œä»¥ä¾¿é¢å¤–çš„å‚æ•°å¯ä»¥ä¸€èµ·æ—…è¡Œã€‚
- en: Now we must validate that the new function is a correct abstraction of the original
    pair of functions. To validate means to test, which here means to define the two
    original functions in terms of the abstraction.
  id: totrans-603
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¿…é¡»éªŒè¯æ–°å‡½æ•°æ˜¯å¦æ˜¯åŸå§‹å‡½æ•°å¯¹çš„æ­£ç¡®æŠ½è±¡ã€‚éªŒè¯æ„å‘³ç€æµ‹è¯•ï¼Œåœ¨è¿™é‡Œæ„å‘³ç€ç”¨æŠ½è±¡æ¥å®šä¹‰ä¸¤ä¸ªåŸå§‹å‡½æ•°ã€‚
- en: Thus suppose that one original function is called f-original and consumes one
    argument and that the abstract function is called abstract. If f-original differs
    from the other concrete function in the use of one value, say, val, the following
    function definition
  id: totrans-604
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å› æ­¤å‡è®¾æœ‰ä¸€ä¸ªåŸå§‹å‡½æ•°ç§°ä¸º f-originalï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªå‚æ•°ï¼Œè€ŒæŠ½è±¡å‡½æ•°ç§°ä¸º abstractã€‚å¦‚æœ f-original åœ¨ä½¿ç”¨ä¸€ä¸ªå€¼ï¼ˆä¾‹å¦‚ï¼Œvalï¼‰æ–¹é¢ä¸å…¶ä»–å…·ä½“å‡½æ•°ä¸åŒï¼Œåˆ™ä»¥ä¸‹å‡½æ•°å®šä¹‰
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (f-from-abstractÂ x)
    |'
  id: totrans-605
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ï¼ˆf-from-abstract xï¼‰|'
- en: '| Â Â (abstractÂ xÂ val)) |'
  id: totrans-606
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆæŠ½è±¡ x valï¼‰|'
- en: 'introduces the function f-from-abstract, which should be equivalent to f-original.
    That is, (f-from-abstract  V) should produce the same answer as (f-original  V)
    for every proper value V. In particular, it must hold for all values that your
    tests for f-original use. So reformulate and rerun those tests for f-from-abstract
    and make sure they succeed.Letâ€™s return to our running example:'
  id: totrans-607
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä»‹ç»äº†å‡½æ•° f-from-abstractï¼Œå®ƒåº”è¯¥ä¸ f-original ç­‰æ•ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ(f-from-abstract V) åº”è¯¥å¯¹æ¯ä¸ªåˆé€‚çš„å€¼
    V äº§ç”Ÿä¸ (f-original V) ç›¸åŒçš„ç­”æ¡ˆã€‚ç‰¹åˆ«æ˜¯ï¼Œå®ƒå¿…é¡»é€‚ç”¨äº f-original æµ‹è¯•ä¸­ä½¿ç”¨çš„æ‰€æœ‰å€¼ã€‚å› æ­¤ï¼Œé‡æ–°åˆ¶å®šå¹¶é‡æ–°è¿è¡Œ f-from-abstract
    çš„æµ‹è¯•ï¼Œå¹¶ç¡®ä¿å®ƒä»¬æˆåŠŸã€‚è®©æˆ‘ä»¬å›åˆ°æˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ï¼š
- en: '| ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
    |'
  id: totrans-608
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [æ•°å­—åˆ—è¡¨](part_two.html#%28tech._list._of._number%29) -> [æ•°å­—åˆ—è¡¨](part_two.html#%28tech._list._of._number%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (cf*-from-map1Â l)Â (map1Â lÂ C2F))
    |'
  id: totrans-609
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ï¼ˆcf*-from-map1 lï¼‰ ï¼ˆmap1 l C2Fï¼‰|'
- en: '| Â  |'
  id: totrans-610
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| |'
- en: '| ;Â [Inventory](#%28tech._inventory%29) -> [List-of-strings](part_two.html#%28tech._list._of._string%29)
    |'
  id: totrans-611
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [åº“å­˜](#%28tech._inventory%29) -> [å­—ç¬¦ä¸²åˆ—è¡¨](part_two.html#%28tech._list._of._string%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (names-from-map1Â i)Â (map1Â iÂ IR-name))
    |'
  id: totrans-612
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ï¼ˆnames-from-map1 iï¼‰ ï¼ˆmap1 i IR-nameï¼‰|'
- en: 'A complete example would include some tests, and thus we can assume that both
    cf* and names come with some tests:'
  id: totrans-613
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹å°†åŒ…æ‹¬ä¸€äº›æµ‹è¯•ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å‡è®¾ cf* å’Œ names éƒ½æœ‰ä¸€äº›æµ‹è¯•ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (cf*Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 100Â 0Â -40))
    |'
  id: totrans-614
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    ï¼ˆcf* ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    100 0 -40)ï¼‰|'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 212Â 32Â -40))
    |'
  id: totrans-615
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    212 32 -40)ï¼‰|'
- en: '| Â  |'
  id: totrans-616
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (names
    |'
  id: totrans-617
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    ï¼ˆnamesï¼‰|'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
  id: totrans-618
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-IRÂ "doll"Â 21.0) |'
  id: totrans-619
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-IRÂ "doll"Â 21.0) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-IRÂ "bear"Â 13.0))) |'
  id: totrans-620
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-IRÂ "bear"Â 13.0))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "doll"Â "bear"))
    |'
  id: totrans-621
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "doll"Â "bear"))
    |'
- en: 'To ensure that the functions defined in terms of map1 work properly, you can
    copy the tests and change the function names appropriately:'
  id: totrans-622
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç¡®ä¿ç”¨map1å®šä¹‰çš„å‡½æ•°èƒ½æ­£å¸¸å·¥ä½œï¼Œä½ å¯ä»¥å¤åˆ¶æµ‹è¯•å¹¶é€‚å½“åœ°æ›´æ”¹å‡½æ•°åç§°ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-623
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (cf*-from-map1Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 100Â 0Â -40))
    |'
  id: totrans-624
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (cf*-from-map1Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 100Â 0Â -40))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 212Â 32Â -40))
    |'
  id: totrans-625
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 212Â 32Â -40))
    |'
- en: '| Â  |'
  id: totrans-626
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-627
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (names-from-map1 |'
  id: totrans-628
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (names-from-map1 |'
- en: '| Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
  id: totrans-629
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
- en: '| Â Â Â Â Â Â (make-IRÂ "doll"Â 21.0) |'
  id: totrans-630
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â (make-IRÂ "doll"Â 21.0) |'
- en: '| Â Â Â Â Â Â (make-IRÂ "bear"Â 13.0))) |'
  id: totrans-631
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â (make-IRÂ "bear"Â 13.0))) |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "doll"Â "bear"))
    |'
  id: totrans-632
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "doll"Â "bear"))
    |'
- en: A new abstraction needs a signature, because, as [Using Abstractions](#%28part._ch~3a3use%29)
    explains, the reuse of abstractions starts with their signatures. Finding useful
    signatures is a serious problem. For now we use the running example to illustrate
    the difficulty; [Similarities in Signatures](#%28part._sec~3aabs-signatures%29)
    resolves the issue.
  id: totrans-633
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ–°çš„æŠ½è±¡éœ€è¦ä¸€ä¸ªç­¾åï¼Œå› ä¸ºï¼Œæ­£å¦‚[ä½¿ç”¨æŠ½è±¡](#%28part._ch~3a3use%29)æ‰€è§£é‡Šçš„ï¼ŒæŠ½è±¡çš„é‡ç”¨å§‹äºå®ƒä»¬çš„ç­¾åã€‚æ‰¾åˆ°æœ‰ç”¨çš„ç­¾åæ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ã€‚ç›®å‰æˆ‘ä»¬ä½¿ç”¨è¿è¡Œç¤ºä¾‹æ¥è¯´æ˜å›°éš¾ï¼›[ç­¾åä¸­çš„ç›¸ä¼¼æ€§](#%28part._sec~3aabs-signatures%29)è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚
- en: Consider the problem of map1â€™s signature. On the one hand, if you view map1
    as an abstraction of cf*, you might think it is
  id: totrans-634
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è€ƒè™‘map1çš„ç­¾åé—®é¢˜ã€‚ä¸€æ–¹é¢ï¼Œå¦‚æœä½ å°†map1è§†ä¸ºcf*çš„æŠ½è±¡ï¼Œä½ å¯èƒ½ä¼šè®¤ä¸ºå®ƒæ˜¯
- en: ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) [[Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29)] -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
  id: totrans-635
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) [[Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29)] -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
- en: 'that is, the original signature extended with one part for functions:'
  id: totrans-636
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: é‚£å°±æ˜¯ï¼ŒåŸå§‹ç­¾åæ‰©å±•äº†ä¸€ä¸ªç”¨äºå‡½æ•°çš„éƒ¨åˆ†ï¼š
- en: ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
  id: totrans-637
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
- en: 'Since the additional parameter for map1 is a function, the use of a function
    signature to describe it should not surprise you. This function signature is also
    quite simple; it is a â€œnameâ€ for all the functions from numbers to numbers. Here
    C2F is such a function, and so are [add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29),
    [sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sin%29%29),
    and [imag-part](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._imag-part%29%29).On
    the other hand, if you view map1 as an abstraction of names, the signature is
    quite different:'
  id: totrans-638
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç”±äºmap1çš„é™„åŠ å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨å‡½æ•°ç­¾åæ¥æè¿°å®ƒä¸ä¼šè®©ä½ æ„Ÿåˆ°æƒŠè®¶ã€‚è¿™ä¸ªå‡½æ•°ç­¾åä¹Ÿå¾ˆç®€å•ï¼›å®ƒæ˜¯å¯¹æ‰€æœ‰ä»æ•°å­—åˆ°æ•°å­—çš„å‡½æ•°çš„â€œåç§°â€ã€‚ä¾‹å¦‚ï¼ŒC2Fæ˜¯è¿™æ ·çš„ä¸€ä¸ªå‡½æ•°ï¼Œ[add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#(def._htdp-intermediate-lambda._(lib._lang/htdp-intermediate-lambda..rkt)._add1))ï¼Œ[sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#(def._htdp-intermediate-lambda._(lib._lang/htdp-intermediate-lambda..rkt)._sin))å’Œ[imag-part](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#(def._htdp-intermediate-lambda._(lib._lang/htdp-intermediate-lambda..rkt)._imag-part))ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ å°†map1è§†ä¸ºåç§°çš„æŠ½è±¡ï¼Œç­¾åå°±å®Œå…¨ä¸åŒäº†ï¼š
- en: ;Â [Inventory](#%28tech._inventory%29) [[IR](#%28tech._ir%29) -> [String](part_one.html#%28tech._string%29)]
    -> [List-of-strings](part_two.html#%28tech._list._of._string%29)
  id: totrans-639
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ; [Inventory](#(tech._inventory)) [[IR](#(tech._ir)) -> [String](part_one.html#(tech._string))]
    -> [List-of-strings](part_two.html#(tech._list._of._string))
- en: This time the additional parameter is IR-name, which is a selector function
    that consumes [IR](#%28tech._ir%29)s and produces [String](part_one.html#%28tech._string%29)s.
    But clearly this second signature would be useless in the first case, and vice
    versa. To accommodate both cases, the signature for map1 must express that [Number](part_one.html#%28tech._number%29),
    [IR](#%28tech._ir%29), and [String](part_one.html#%28tech._string%29) are coincidental.
  id: totrans-640
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™æ¬¡é™„åŠ å‚æ•°æ˜¯IR-nameï¼Œå®ƒæ˜¯ä¸€ä¸ªé€‰æ‹©å‡½æ•°ï¼Œæ¶ˆè€—[IR](#(tech._ir))å¹¶äº§ç”Ÿ[String](part_one.html#(tech._string))ã€‚ä½†æ˜¾ç„¶ï¼Œè¿™ä¸ªç¬¬äºŒä¸ªç­¾ååœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹å°†æ¯«æ— ç”¨å¤„ï¼Œåä¹‹äº¦ç„¶ã€‚ä¸ºäº†é€‚åº”è¿™ä¸¤ç§æƒ…å†µï¼Œmap1çš„ç­¾åå¿…é¡»è¡¨è¾¾[Number](part_one.html#(tech._number))ï¼Œ[IR](#(tech._ir))å’Œ[String](part_one.html#(tech._string))æ˜¯å¶ç„¶çš„ã€‚
- en: Also concerning signatures, you are probably eager to use [List-of](#%28tech._sim-dd._list._of%29)
    by now. It is clearly easier to write [[List-of](#%28tech._sim-dd._list._of%29)
    [IR](#%28tech._ir%29)] than spelling out a data definition for [Inventory](#%28tech._inventory%29).
    So yes, as of now, we use [List-of](#%28tech._sim-dd._list._of%29) when it is
    all about lists, and you should too.
  id: totrans-641
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å…³äºç­¾åï¼Œä½ å¯èƒ½ç°åœ¨æ€¥äºä½¿ç”¨[List-of](#(tech._sim-dd._list._of))ã€‚æ˜¾ç„¶ï¼Œç¼–å†™[List-of](#(tech._sim-dd._list._of))
    [IR](#(tech._ir))æ¯”æ‹¼å†™[Inventory](#(tech._inventory))çš„æ•°æ®å®šä¹‰è¦å®¹æ˜“å¾—å¤šã€‚æ‰€ä»¥ï¼Œæ˜¯çš„ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œå½“æ‰€æœ‰å†…å®¹éƒ½æ˜¯åˆ—è¡¨æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨[List-of](#(tech._sim-dd._list._of))ï¼Œä½ ä¹Ÿåº”è¯¥è¿™æ ·åšã€‚
- en: 'Once you have abstracted two functions, you should check whether there are
    other uses for the abstract function. If so, the abstraction is truly useful.
    Consider map1, for example. It is easy to see how to use it to add 1 to each number
    on a list of numbers:'
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦æŠ½è±¡å‡ºä¸¤ä¸ªå‡½æ•°ï¼Œä½ åº”è¯¥æ£€æŸ¥æŠ½è±¡å‡½æ•°æ˜¯å¦æœ‰å…¶ä»–ç”¨é€”ã€‚å¦‚æœæœ‰ï¼Œé‚£ä¹ˆæŠ½è±¡å°±çœŸæ­£æœ‰ç”¨ã€‚ä»¥map1ä¸ºä¾‹ã€‚å¾ˆå®¹æ˜“çœ‹å‡ºå¦‚ä½•ä½¿ç”¨å®ƒæ¥ç»™æ•°å­—åˆ—è¡¨ä¸­çš„æ¯ä¸ªæ•°å­—åŠ 1ï¼š
- en: '| ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
    |'
  id: totrans-643
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [List-of-numbers](part_two.html#(tech._list._of._number)) -> [List-of-numbers](part_two.html#(tech._list._of._number))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add1-to-eachÂ l)
    |'
  id: totrans-644
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#(form._(lib._lang/htdp-intermediate-lambda..rkt)._define))
    (add1-to-each l) |'
- en: '| Â Â (map1Â lÂ [add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29)))
    |'
  id: totrans-645
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆmap1 l ï¼ˆadd1 [http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#(def._htdp-intermediate-lambda._(lib._lang/htdp-intermediate-lambda..rkt)._add1)ï¼‰ï¼‰ï¼‰
    |'
- en: Similarly, map1 can also be used to extract the price of each item in an inventory.
    When you can imagine many such uses for a new abstraction, add it to a library
    of useful functions to have around. Of course, it is quite likely that someone
    else has thought of it and the function is already a part of the language. For
    a function like map1, see [Using Abstractions](#%28part._ch~3a3use%29).
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»ä¼¼åœ°ï¼Œmap1ä¹Ÿå¯ä»¥ç”¨æ¥æå–åº“å­˜ä¸­æ¯ä¸ªé¡¹ç›®çš„ä»·æ ¼ã€‚å½“ä½ èƒ½æƒ³è±¡å‡ºè®¸å¤šè¿™æ ·çš„æ–°æŠ½è±¡ç”¨æ³•æ—¶ï¼Œå°†å…¶æ·»åŠ åˆ°æœ‰ç”¨çš„å‡½æ•°åº“ä¸­ã€‚å½“ç„¶ï¼Œå¾ˆå¯èƒ½å…¶ä»–äººå·²ç»æƒ³åˆ°äº†è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”è¯¥å‡½æ•°å·²ç»æ˜¯è¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚å¯¹äºåƒmap1è¿™æ ·çš„å‡½æ•°ï¼Œè¯·å‚é˜…[ä½¿ç”¨æŠ½è±¡](#%28part._ch~3a3use%29)ã€‚
- en: '|'
  id: totrans-647
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â |'
- en: ''
  id: totrans-648
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Number](part_one.html#%28tech._number%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    &#124;'
  id: totrans-649
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â [Number](part_one.html#%28tech._number%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |Â Â Â )'
- en: '&#124; ;Â tabulates [sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sin%29%29)
    between n &#124;'
  id: totrans-650
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â tabulates [sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sin%29%29)
    between n |Â Â Â )'
- en: '&#124; ;Â and 0 (incl.) in a list &#124;'
  id: totrans-651
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â and 0 (incl.) in a list |Â Â Â )'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (tab-sinÂ n)
    &#124;'
  id: totrans-652
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (tab-sinÂ n)
    |Â Â Â )'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-653
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |Â Â Â )'
- en: '&#124; Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â nÂ 0)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sin%29%29)Â 0))]
    &#124;'
  id: totrans-654
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â nÂ 0)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sin%29%29)Â 0))]
    |Â Â Â )'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-655
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |Â Â Â )'
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-656
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    |Â Â Â )'
- en: '&#124; Â Â Â Â Â Â ([sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sin%29%29)Â n)
    &#124;'
  id: totrans-657
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([sin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sin%29%29)Â n)
    |Â Â Â )'
- en: '&#124; Â Â Â Â Â Â (tab-sinÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    &#124;'
  id: totrans-658
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â (tab-sinÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    |Â Â Â )'
- en: ''
  id: totrans-659
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-660
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â |Â  |'
- en: ''
  id: totrans-661
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [Number](part_one.html#%28tech._number%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    &#124;'
  id: totrans-662
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â [Number](part_one.html#%28tech._number%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |Â Â Â )'
- en: '&#124; ;Â tabulates [sqrt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqrt%29%29)
    between n &#124;'
  id: totrans-663
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â tabulates [sqrt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqrt%29%29)
    between n |Â Â Â )'
- en: '&#124; ;Â and 0 (incl.) in a list &#124;'
  id: totrans-664
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ;Â and 0 (incl.) in a list |Â Â Â )'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (tab-sqrtÂ n)
    &#124;'
  id: totrans-665
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (tab-sqrtÂ n)
    |Â Â Â )'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-666
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;        [[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â nÂ 0)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([sqrt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqrt%29%29)Â 0))]
    &#124;'
  id: totrans-667
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â nÂ 0)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([sqrt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqrt%29%29)Â 0))]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-668
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
  id: totrans-669
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;        [[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â ([sqrt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqrt%29%29)Â n)
    &#124;'
  id: totrans-670
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;        [[sqrt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqrt%29%29)Â n]
    &#124;'
- en: '&#124; Â Â Â Â Â Â (tab-sqrtÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    &#124;'
  id: totrans-671
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;            (tab-sqrtÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    &#124;'
- en: ''
  id: totrans-672
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-673
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-674
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 92: The similar functions for [exerciseÂ 250](#%28counter._%28exercise._ex~3aabs-tabulate%29%29)'
  id: totrans-675
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾92ï¼š[ç»ƒä¹ 250](#%28counter._%28exercise._ex~3aabs-tabulate%29%29)çš„ç±»ä¼¼å‡½æ•°
- en: '|'
  id: totrans-676
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-677
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
  id: totrans-678
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
- en: '&#124; ;Â computes the sum of &#124;'
  id: totrans-679
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â è®¡ç®—lä¸Šçš„æ•°å­—ä¹‹å’Œ'
- en: '&#124; ;Â the numbers on l &#124;'
  id: totrans-680
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â the numbers on l'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sumÂ l)
    &#124;'
  id: totrans-681
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sumÂ l)
    &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-682
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â 0]
    &#124;'
  id: totrans-683
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;        [[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â 0]
    &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-684
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-685
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    [[+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â (sumÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-686
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;        ([sum](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sum%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
- en: ''
  id: totrans-687
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-688
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-689
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
  id: totrans-690
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â è®¡ç®—ä¹˜ç§¯ | ;Â è®¡ç®—ä¹˜ç§¯ | '
- en: '&#124; ;Â computes the product of &#124;'
  id: totrans-691
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: '&#124; ;Â the numbers on l &#124;'
  id: totrans-692
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    l) | ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    l) | '
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (productÂ l)
    &#124;'
  id: totrans-693
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (productÂ l)
    | ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    product l) | '
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-694
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â 1]
    &#124;'
  id: totrans-695
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) | ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) | '
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-696
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â ([([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â 1]
    |Â Â Â ([([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â 1]
    | '
- en: '&#124; Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-697
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â (productÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-698
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â Â Â Â Â (productÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    |Â Â Â Â Â Â Â (productÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    | '
- en: ''
  id: totrans-699
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-700
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â l ä¸Šçš„æ•°å­— | ; l ä¸Šçš„æ•°å­— | '
- en: ''
  id: totrans-701
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 93: The similar functions for [exerciseÂ 251](#%28counter._%28exercise._ex~3aabs-sum-prod%29%29)'
  id: totrans-702
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: ExerciseÂ 250\. Design tabulate, which is the abstraction of the two functions
    in [figureÂ 92](#%28counter._%28figure._fig~3aex~3aabs-tabulate%29%29). When tabulate
    is properly designed, use it to define a tabulation function for [sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)
    and [tan](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._tan%29%29).
  id: totrans-703
  prefs: []
  type: TYPE_NORMAL
  zh: Exercise 250. è®¾è®¡ tabulateï¼Œå®ƒæ˜¯ [å›¾ 92](#%28counter._%28figure._fig~3aex~3aabs-tabulate%29%29)
    ä¸­ä¸¤ä¸ªå‡½æ•°çš„æŠ½è±¡ã€‚å½“ tabulate æ­£ç¡®è®¾è®¡æ—¶ï¼Œä½¿ç”¨å®ƒæ¥å®šä¹‰ [sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)
    å’Œ [tan](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._tan%29%29)
    çš„è¡¨æ ¼å‡½æ•°ã€‚
- en: ExerciseÂ 251\. Design fold1, which is the abstraction of the two functions in
    [figureÂ 93](#%28counter._%28figure._fig~3aex~3aabs-sum-prod%29%29).
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: Exercise 251. è®¾è®¡ fold1ï¼Œå®ƒæ˜¯ [å›¾ 93](#%28counter._%28figure._fig~3aex~3aabs-sum-prod%29%29)
    ä¸­ä¸¤ä¸ªå‡½æ•°çš„æŠ½è±¡ã€‚
- en: ExerciseÂ 252\. Design fold2, which is the abstraction of the two functions in
    [figureÂ 94](#%28counter._%28figure._fig~3aex~3afold2%29%29). Compare this exercise
    with [exerciseÂ 251](#%28counter._%28exercise._ex~3aabs-sum-prod%29%29). Even though
    both involve the product function, this exercise poses an additional challenge
    because the second function, image*, consumes a list of [Posn](part_one.html#%28tech._posn%29)s
    and produces an [Image](part_one.html#%28tech._image%29). Still, the solution
    is within reach of the material in this section, and it is especially worth comparing
    the solution with the one to the preceding exercise. The comparison yields interesting
    insights into abstract signatures.
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: Exercise 252. è®¾è®¡ fold2ï¼Œå®ƒæ˜¯ [å›¾ 94](#%28counter._%28figure._fig~3aex~3afold2%29%29)
    ä¸­ä¸¤ä¸ªå‡½æ•°çš„æŠ½è±¡ã€‚å°†è¿™ä¸ªç»ƒä¹ ä¸ [ç»ƒä¹  251](#%28counter._%28exercise._ex~3aabs-sum-prod%29%29) è¿›è¡Œæ¯”è¾ƒã€‚å°½ç®¡è¿™ä¸¤ä¸ªç»ƒä¹ éƒ½æ¶‰åŠåˆ°ä¹˜æ³•å‡½æ•°ï¼Œä½†è¿™ä¸ªç»ƒä¹ æå‡ºäº†é¢å¤–çš„æŒ‘æˆ˜ï¼Œå› ä¸ºç¬¬äºŒä¸ªå‡½æ•°
    image* æ¶ˆè€—ä¸€ä¸ª [Posn](part_one.html#%28tech._posn%29) åˆ—è¡¨å¹¶äº§ç”Ÿä¸€ä¸ª [Image](part_one.html#%28tech._image%29)ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè§£å†³æ–¹æ¡ˆä»åœ¨æœ¬èŠ‚ææ–™çš„èŒƒå›´å†…ï¼Œå¹¶ä¸”ç‰¹åˆ«å€¼å¾—å°†è§£å†³æ–¹æ¡ˆä¸å‰é¢çš„ç»ƒä¹ è¿›è¡Œæ¯”è¾ƒã€‚æ¯”è¾ƒå¯ä»¥å¾—å‡ºå…³äºæŠ½è±¡ç­¾åçš„æœ‰è¶£è§è§£ã€‚
- en: '|'
  id: totrans-706
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-707
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
  id: totrans-708
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29) [æ•°å­—](part_one.html#%28tech._number%29)]
    -> [æ•°å­—](part_one.html#%28tech._number%29) |'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (productÂ l)
    &#124;'
  id: totrans-709
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (product l) |'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-710
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â 1]
    &#124;'
  id: totrans-711
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    l) 1] |'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-712
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '&#124; Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-713
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    l)) |'
- en: '&#124; Â Â Â Â Â Â Â Â (product &#124;'
  id: totrans-714
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â Â Â Â Â ([product](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._product%29%29)
    |'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-715
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â Â Â Â Â Â Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    l)))])) |'
- en: ''
  id: totrans-716
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-717
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| |  |'
- en: ''
  id: totrans-718
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [Image](part_one.html#%28tech._image%29) &#124;'
  id: totrans-719
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29) [ä½ç½®](part_one.html#%28tech._posn%29)]
    -> [å›¾åƒ](part_one.html#%28tech._image%29) |'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (image*Â l)
    &#124;'
  id: totrans-720
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (image* l) |'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-721
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â emt]
    &#124;'
  id: totrans-722
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    l) emt] |'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-723
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '&#124; Â Â Â Â Â (place-dot &#124;'
  id: totrans-724
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â Â (place-dot |'
- en: '&#124; Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-725
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    l) |'
- en: '&#124; Â Â Â Â Â Â (image*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-726
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ; Â Â Â Â Â Â (image* ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    l)))])) |'
- en: '&#124; Â  &#124;'
  id: totrans-727
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ; Â  |'
- en: '&#124; ;Â [Posn](part_one.html#%28tech._posn%29)  [Image](part_one.html#%28tech._image%29)
    -> [Image](part_one.html#%28tech._image%29) &#124;'
  id: totrans-728
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ;Â [ä½ç½®](part_one.html#%28tech._posn%29) [å›¾åƒ](part_one.html#%28tech._image%29)
    -> [å›¾åƒ](part_one.html#%28tech._image%29) |'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (place-dotÂ pÂ img)
    &#124;'
  id: totrans-729
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (place-dotÂ pÂ img)
    &#124;'
- en: '&#124; Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    &#124;'
  id: totrans-730
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â dot &#124;'
  id: totrans-731
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â ç‚¹ &#124;'
- en: '&#124; Â Â Â Â Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)
    &#124;'
  id: totrans-732
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â ([ä½ç½®-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â ([ä½ç½®-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)
    &#124;'
- en: '&#124; Â Â Â Â Â img)) &#124;'
  id: totrans-733
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â img)) &#124;'
- en: '&#124; Â  &#124;'
  id: totrans-734
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â  &#124;'
- en: '&#124; ;Â graphical constants:Â Â Â Â  &#124;'
  id: totrans-735
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â å›¾å½¢å¸¸æ•°ï¼šÂ Â Â Â  &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â emt
    &#124;'
  id: totrans-736
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â emt
    &#124;'
- en: '&#124; Â Â ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    &#124;'
  id: totrans-737
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([ç©ºåœºæ™¯](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 100Â 100))
    &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â dot
    &#124;'
  id: totrans-738
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ç‚¹
    &#124;'
- en: '&#124; Â Â ([circle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 3Â "solid"Â "red"))
    &#124;'
  id: totrans-739
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ([åœ†](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._circle%29%29)Â 3Â "solid"Â "red"))
    &#124;'
- en: ''
  id: totrans-740
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-741
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-742
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 94: The similar functions for [exerciseÂ 252](#%28counter._%28exercise._ex~3afold2%29%29)'
  id: totrans-743
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾94ï¼š[ç»ƒä¹ 252](#%28counter._%28exercise._ex~3afold2%29%29)çš„ç›¸ä¼¼å‡½æ•°
- en: Lastly, when you are dealing with data definitions, the abstraction process
    proceeds in an analogous manner. The extra parameters to data definitions stand
    for collections of values, and testing means spelling out a data definition for
    some concrete examples. All in all, abstracting over data definitions tends to
    be easier than abstracting over functions, and so we leave it to you to adapt
    the design recipe appropriately.
  id: totrans-744
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå½“ä½ å¤„ç†æ•°æ®å®šä¹‰æ—¶ï¼ŒæŠ½è±¡è¿‡ç¨‹ä»¥ç±»ä¼¼çš„æ–¹å¼è¿›è¡Œã€‚æ•°æ®å®šä¹‰çš„é¢å¤–å‚æ•°ä»£è¡¨å€¼é›†åˆï¼Œæµ‹è¯•æ„å‘³ç€ä¸ºä¸€äº›å…·ä½“ç¤ºä¾‹æ˜ç¡®åœ°ç¼–å†™æ•°æ®å®šä¹‰ã€‚æ€»çš„æ¥è¯´ï¼Œå¯¹æ•°æ®å®šä¹‰è¿›è¡ŒæŠ½è±¡é€šå¸¸æ¯”å¯¹å‡½æ•°è¿›è¡ŒæŠ½è±¡æ›´å®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶ç•™ç»™ä½ ï¼Œæ ¹æ®éœ€è¦é€‚å½“è°ƒæ•´è®¾è®¡é…æ–¹ã€‚
- en: 15.2Similarities in Signatures[ğŸ”—](#(part._sec~3aabs-signatures) "Link to here")
  id: totrans-745
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 15.2 ç­¾åç›¸ä¼¼æ€§[ğŸ”—](#(part._sec~3aabs-signatures) "é“¾æ¥è‡³æ­¤")
- en: As it turns out, a functionâ€™s signature is key to its reuse. Hence, you must
    learn to formulate signatures that describe abstracts in their most general terms
    possible. To understand how this works, we start with a second look at signatures
    and from the simpleâ€”<wbr>though possibly startlingâ€”<wbr>insight that signatures
    are basically data definitions.
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœè¡¨æ˜ï¼Œå‡½æ•°çš„ç­¾åæ˜¯å…¶é‡ç”¨çš„å…³é”®ã€‚å› æ­¤ï¼Œä½ å¿…é¡»å­¦ä¼šç”¨å°½å¯èƒ½é€šç”¨çš„æœ¯è¯­æ¥åˆ¶å®šæè¿°æŠ½è±¡çš„ç­¾åã€‚ä¸ºäº†ç†è§£è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬é¦–å…ˆå†æ¬¡å®¡è§†ç­¾åï¼Œå¹¶ä»ç®€å•â€”â€”è™½ç„¶å¯èƒ½ä»¤äººæƒŠè®¶â€”â€”çš„æ´å¯ŸåŠ›å¼€å§‹ï¼Œå³ç­¾ååŸºæœ¬ä¸Šæ˜¯æ•°æ®å®šä¹‰ã€‚
- en: Both signatures and data definitions specify a class of data; the difference
    is that data definitions also name the class of data while signatures donâ€™t. Nevertheless,
    when you write down
  id: totrans-747
  prefs: []
  type: TYPE_NORMAL
  zh: ç­¾åå’Œæ•°æ®å®šä¹‰éƒ½æŒ‡å®šäº†ä¸€ç±»æ•°æ®ï¼›åŒºåˆ«åœ¨äºæ•°æ®å®šä¹‰è¿˜å‘½åäº†æ•°æ®ç±»åˆ«ï¼Œè€Œç­¾åæ²¡æœ‰ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå½“ä½ å†™ä¸‹
- en: '| ;Â [Number](part_one.html#%28tech._number%29)  [Boolean](part_one.html#%28tech._boolean%29)
    -> [String](part_one.html#%28tech._string%29) |'
  id: totrans-748
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ•°å­—](part_one.html#%28tech._number%29) [å¸ƒå°”](part_one.html#%28tech._boolean%29)
    -> [å­—ç¬¦ä¸²](part_one.html#%28tech._string%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ nÂ b)Â "hello
    world") |'
  id: totrans-749
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ nÂ b)Â "hello
    world") |'
- en: your first line describes an entire class of data, and your second one states
    that f belongs to that class. To be precise, the signature describes the class
    of all functions that consume a [Number](part_one.html#%28tech._number%29) and
    a [Boolean](part_one.html#%28tech._boolean%29) and yield a [String](part_one.html#%28tech._string%29).
  id: totrans-750
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨çš„ç¬¬ä¸€è¡Œæè¿°äº†ä¸€ä¸ªæ•´ä¸ªæ•°æ®ç±»ï¼Œè€Œæ‚¨çš„ç¬¬äºŒè¡Œå£°æ˜få±äºè¯¥ç±»ã€‚ä¸ºäº†æ›´ç²¾ç¡®ï¼Œç­¾åæè¿°äº†æ‰€æœ‰æ¶ˆè€—ä¸€ä¸ª[Number](part_one.html#(tech.number))å’Œä¸€ä¸ª[Boolean](part_one.html#(tech.boolean))å¹¶äº§ç”Ÿä¸€ä¸ª[String](part_one.html#(tech.string))çš„å‡½æ•°ç±»ã€‚
- en: In general, the arrow notation of signatures is like the [List-of](#%28tech._sim-dd._list._of%29)
    notation from [Similarities in Data Definitions](#%28part._sim-dd._sec~3add-similarities%29).
    The latter consumes (the name of) one class of data, say X, and describes all
    lists of X itemsâ€”<wbr>without assigning it a name. The arrow notation consumes
    an arbitrary number of classes of data and describes collections of functions.
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œç­¾åçš„ç®­å¤´ç¬¦å·ç±»ä¼¼äº[æ•°æ®å®šä¹‰ä¸­çš„ç›¸ä¼¼æ€§](#(part.sim-dd.sec~3add-similarities))ä¸­çš„[List-of](#(tech.sim-dd.list.of))ç¬¦å·ã€‚åè€…æ¶ˆè€—ï¼ˆç±»åï¼‰ä¸€ä¸ªæ•°æ®ç±»ï¼Œæ¯”å¦‚Xï¼Œå¹¶æè¿°æ‰€æœ‰Xé¡¹çš„åˆ—è¡¨â€”â€”<wbr>è€Œä¸ç»™å®ƒåˆ†é…ä¸€ä¸ªåç§°ã€‚ç®­å¤´ç¬¦å·æ¶ˆè€—ä»»æ„æ•°é‡çš„æ•°æ®ç±»ï¼Œå¹¶æè¿°å‡½æ•°é›†åˆã€‚
- en: What this means is that the abstraction design recipe applies to signatures,
    too. You compare similar signatures; you highlight the differences; and then you
    replace those with parameters. But the process of abstracting signatures feels
    more complicated than the one for functions, partly because signatures are already
    abstract pieces of the design recipe and partly because the arrow-based notation
    is much more complex than anything else we have encountered.
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€æŠ½è±¡è®¾è®¡é…æ–¹ä¹Ÿé€‚ç”¨äºç­¾åã€‚æ‚¨æ¯”è¾ƒç›¸ä¼¼çš„ç­¾åï¼›çªå‡ºæ˜¾ç¤ºå·®å¼‚ï¼›ç„¶åä½¿ç”¨å‚æ•°æ›¿æ¢å®ƒä»¬ã€‚ä½†æŠ½è±¡ç­¾åçš„è¿‡ç¨‹æ„Ÿè§‰æ¯”å‡½æ•°çš„è¿‡ç¨‹æ›´å¤æ‚ï¼Œéƒ¨åˆ†åŸå› æ˜¯å› ä¸ºç­¾åå·²ç»æ˜¯è®¾è®¡é…æ–¹ä¸­çš„æŠ½è±¡éƒ¨åˆ†ï¼Œéƒ¨åˆ†åŸå› æ˜¯å› ä¸ºåŸºäºç®­å¤´çš„ç¬¦å·æ¯”æˆ‘ä»¬é‡åˆ°çš„å…¶ä»–ä»»ä½•ä¸œè¥¿éƒ½è¦å¤æ‚å¾—å¤šã€‚
- en: 'Letâ€™s start with the signatures of cf* and names:'
  id: totrans-753
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»cf*å’Œåç§°çš„ç­¾åå¼€å§‹ï¼š
- en: '![image](../Images/57fef075304fafa6890e36903d4a8b30.png)'
  id: totrans-754
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/57fef075304fafa6890e36903d4a8b30.png)'
- en: 'The diagram is the result of the compare-and-contrast step. Comparing the two
    signatures shows that they differ in two places: to the left of the arrow, we
    see [Number](part_one.html#%28tech._number%29) versus [IR](#%28tech._ir%29), and
    to its right, it is [Number](part_one.html#%28tech._number%29) versus [String](part_one.html#%28tech._string%29).If
    we replace the two differences with some kind of parameters, say X and Y, we get
    the same signature:'
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾è¡¨æ˜¯å¯¹æ¯”å’Œå¯¹æ¯”æ­¥éª¤çš„ç»“æœã€‚æ¯”è¾ƒè¿™ä¸¤ä¸ªç­¾åæ˜¾ç¤ºå®ƒä»¬åœ¨ä¸¤ä¸ªåœ°æ–¹ä¸åŒï¼šç®­å¤´å·¦ä¾§æˆ‘ä»¬çœ‹åˆ°[Number](part_one.html#(tech.number))ä¸[IR](#(tech.ir))ï¼Œè€Œå…¶å³ä¾§æ˜¯[Number](part_one.html#(tech.number))ä¸[String](part_one.html#(tech.string))ã€‚å¦‚æœæˆ‘ä»¬ç”¨æŸç§å‚æ•°æ›¿æ¢è¿™ä¸¤ä¸ªå·®å¼‚ï¼Œæ¯”å¦‚Xå’ŒYï¼Œæˆ‘ä»¬å°±ä¼šå¾—åˆ°ç›¸åŒçš„ç­¾åï¼š
- en: ;Â [X Y] [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[List-of](#%28tech._sim-dd._list._of%29)
    Y]
  id: totrans-756
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [X Y] [[List-of](#(tech.sim-dd.list.of)) X] -> [[List-of](#(tech.sim-dd.list.of))
    Y]
- en: 'The new signature starts with a sequence of variables, drawing an analogy to
    function definitions and the data definitions above. Roughly speaking, these variables
    are the parameters of the signature, like those of functions and data definitions.
    To make the latter concrete, the variable sequence is like ITEM in the definition
    of [List-of](#%28tech._sim-dd._list._of%29) or the X and Y in the definition of
    [CP](#%28tech._sim-dd._cp%29) from [Similarities in Data Definitions](#%28part._sim-dd._sec~3add-similarities%29).
    And just like those, X and Y range over classes of values.An instantiation of
    this parameter list is the rest of the signature with the parameters replaced
    by the data collections: either their names or other parameters or abbreviations
    such as [List-of](#%28tech._sim-dd._list._of%29) from above. Thus, if you replace
    both X and Y with [Number](part_one.html#%28tech._number%29), you get back the
    signature for cf*:'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: æ–°çš„ç­¾åä»¥ä¸€ç³»åˆ—å˜é‡å¼€å§‹ï¼Œç±»ä¼¼äºå‡½æ•°å®šä¹‰å’Œä¸Šé¢çš„æ•°æ®å®šä¹‰ã€‚ç²—ç•¥åœ°è¯´ï¼Œè¿™äº›å˜é‡æ˜¯ç­¾åçš„å‚æ•°ï¼Œå°±åƒå‡½æ•°å’Œæ•°æ®å®šä¹‰ä¸­çš„å‚æ•°ä¸€æ ·ã€‚ä¸ºäº†ä½¿åè€…å…·ä½“åŒ–ï¼Œå˜é‡åºåˆ—ç±»ä¼¼äº[List-of](#(tech.sim-dd.list.of))å®šä¹‰ä¸­çš„ITEMæˆ–[ç›¸ä¼¼æ€§æ•°æ®å®šä¹‰](#(part.sim-dd.sec~3add-similarities))ä¸­[CP](#(tech.sim-dd.cp))å®šä¹‰ä¸­çš„Xå’ŒYã€‚è€Œä¸”å°±åƒå®ƒä»¬ä¸€æ ·ï¼ŒXå’ŒYéå†å€¼ç±»ã€‚è¿™ä¸ªå‚æ•°åˆ—è¡¨çš„ä¸€ä¸ªå®ä¾‹æ˜¯ç­¾åçš„å…¶ä½™éƒ¨åˆ†ï¼Œå…¶ä¸­å‚æ•°è¢«æ•°æ®é›†åˆæ›¿æ¢ï¼šè¦ä¹ˆæ˜¯å®ƒä»¬çš„åç§°ï¼Œè¦ä¹ˆæ˜¯å…¶ä»–å‚æ•°ï¼Œæˆ–è€…åƒä¸Šé¢çš„[List-of](#(tech.sim-dd.list.of))è¿™æ ·çš„ç¼©å†™ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å°†Xå’ŒYéƒ½æ›¿æ¢ä¸º[Number](part_one.html#(tech.number))ï¼Œæ‚¨å°±ä¼šå¾—åˆ°cf*çš„ç­¾åï¼š
- en: ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
  id: totrans-758
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
- en: 'If you choose [IR](#%28tech._ir%29) and [String](part_one.html#%28tech._string%29),
    you get back the signature for names:'
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ é€‰æ‹©[IR](#%28tech._ir%29)å’Œ[String](part_one.html#%28tech._string%29)ï¼Œä½ ä¼šå¾—åˆ°åç§°çš„ç­¾åï¼š
- en: ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [IR](#%28tech._ir%29)] -> [[List-of](#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
  id: totrans-760
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [IR](#%28tech._ir%29)] -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
- en: 'And that explains why we may consider this parametrized signature as an abstraction
    of the original signatures for cf* and names.Once we add the extra function parameter
    to these two functions, we get map1, and the signatures are as follows:'
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå‚æ•°åŒ–çš„ç­¾åè§†ä¸ºcf*å’ŒnamesåŸå§‹ç­¾åçš„æŠ½è±¡ã€‚ä¸€æ—¦æˆ‘ä»¬å‘è¿™ä¸¤ä¸ªå‡½æ•°æ·»åŠ é¢å¤–çš„å‡½æ•°å‚æ•°ï¼Œæˆ‘ä»¬å°±å¾—åˆ°map1ï¼Œç­¾åå¦‚ä¸‹ï¼š
- en: '![image](../Images/fec377b2808c7c291318a616d4af181a.png)'
  id: totrans-762
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/fec377b2808c7c291318a616d4af181a.png)'
- en: Again, the signatures are in pictorial form and with arrows connecting the corresponding
    differences. These markups suggest that the differences in the second argumentâ€”<wbr>a
    functionâ€”<wbr>are related to the differences in the original signatures. Specifically,
    [Number](part_one.html#%28tech._number%29) and [IR](#%28tech._ir%29) on the left
    of the new arrow refer to items on the first argumentâ€”<wbr>a listâ€”<wbr>and the
    [Number](part_one.html#%28tech._number%29) and [String](part_one.html#%28tech._string%29)
    on the right refer to the items on the resultâ€”<wbr>also a list.
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œç­¾åä»¥å›¾ç¤ºå½¢å¼å‘ˆç°ï¼Œå¹¶ä¸”ç”¨ç®­å¤´è¿æ¥ç›¸åº”çš„å·®å¼‚ã€‚è¿™äº›æ ‡è®°è¡¨æ˜ç¬¬äºŒä¸ªå‚æ•°â€”â€”<wbr>ä¸€ä¸ªå‡½æ•°â€”â€”<wbr>çš„å·®å¼‚ä¸åŸå§‹ç­¾åçš„å·®å¼‚æœ‰å…³ã€‚å…·ä½“æ¥è¯´ï¼Œæ–°ç®­å¤´çš„å·¦ä¾§çš„[Number](part_one.html#%28tech._number%29)å’Œ[IR](#%28tech._ir%29)æŒ‡çš„æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°â€”â€”<wbr>ä¸€ä¸ªåˆ—è¡¨â€”â€”<wbr>çš„é¡¹ï¼Œè€Œå³ä¾§çš„[Number](part_one.html#%28tech._number%29)å’Œ[String](part_one.html#%28tech._string%29)æŒ‡çš„æ˜¯ç»“æœâ€”â€”<wbr>ä¹Ÿæ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚
- en: Since listing the parameters of a signature is extra work, for our purposes,
    we simply say that from now on all variables in signatures are parameters. Other
    programming languages, however, insist on explicitly listing the parameters of
    signatures, but in return you can articulate additional constraints in such signatures
    and the signatures are checked before you run the program.
  id: totrans-764
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºåˆ—å‡ºç­¾åçš„å‚æ•°æ˜¯é¢å¤–çš„å·¥ä½œï¼Œä¸ºäº†æˆ‘ä»¬çš„ç›®çš„ï¼Œæˆ‘ä»¬ç®€å•åœ°è¯´æ˜¯ä»ç°åœ¨å¼€å§‹ï¼Œç­¾åä¸­çš„æ‰€æœ‰å˜é‡éƒ½æ˜¯å‚æ•°ã€‚ç„¶è€Œï¼Œå…¶ä»–ç¼–ç¨‹è¯­è¨€åšæŒåœ¨ç­¾åä¸­æ˜¾å¼åˆ—å‡ºå‚æ•°ï¼Œä½†ä½œä¸ºå›æŠ¥ï¼Œä½ å¯ä»¥åœ¨è¿™æ ·çš„ç­¾åä¸­è¡¨è¾¾é¢å¤–çš„çº¦æŸï¼Œå¹¶ä¸”ç­¾ååœ¨è¿è¡Œç¨‹åºä¹‹å‰ä¼šè¿›è¡Œæ£€æŸ¥ã€‚
- en: 'Now letâ€™s apply the same trick to get a signature for map1:'
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬åº”ç”¨åŒæ ·çš„æŠ€å·§æ¥è·å–map1çš„ç­¾åï¼š
- en: ;Â [X Y] [[List-of](#%28tech._sim-dd._list._of%29) X] [X -> Y] -> [[List-of](#%28tech._sim-dd._list._of%29)
    Y]
  id: totrans-766
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [X Y] [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29) X] [X -> Y] -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)
    Y]
- en: 'Concretely, map1 consumes a list of items, all of which belong to some (yet
    to be determined) collection of data called X. It also consumes a function that
    consumes elements of X and produces elements of a second unknown collection, called
    Y. The result of map1 is lists that contain items from Y.Abstracting over signatures
    takes practice. Here is a second pair:'
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: å…·ä½“æ¥è¯´ï¼Œmap1æ¶ˆè€—ä¸€ä¸ªé¡¹ç›®åˆ—è¡¨ï¼Œè¿™äº›é¡¹ç›®éƒ½å±äºä¸€äº›ï¼ˆå°šæœªç¡®å®šçš„ï¼‰æ•°æ®é›†åˆï¼Œç§°ä¸ºXã€‚å®ƒè¿˜æ¶ˆè€—ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¶ˆè€—Xçš„å…ƒç´ å¹¶äº§ç”Ÿç¬¬äºŒä¸ªæœªçŸ¥é›†åˆçš„å…ƒç´ ï¼Œç§°ä¸ºYã€‚map1çš„ç»“æœæ˜¯åŒ…å«Yä¸­é¡¹ç›®çš„åˆ—è¡¨ã€‚æŠ½è±¡ç­¾åéœ€è¦ç»ƒä¹ ã€‚è¿™é‡Œæœ‰ä¸€å¯¹ç¬¬äºŒä¸ªï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) |'
  id: totrans-768
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    -> [æ•°å­—](part_one.html#%28tech._number%29) |'
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]Â Â Â Â ->
    [Image](part_one.html#%28tech._image%29) |'
  id: totrans-769
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ä½ç½®](part_one.html#%28tech._posn%29)]Â Â Â Â ->
    [å›¾åƒ](part_one.html#%28tech._image%29) |'
- en: 'They are the signatures for product and image* in [exerciseÂ 252](#%28counter._%28exercise._ex~3afold2%29%29).
    While the two signatures have some common organization, the differences are distinct.
    Let us first spell out the common organization in detail:'
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä»¬æ˜¯[ç»ƒä¹ 252](#%28counter._%28exercise._ex~3afold2%29%29)ä¸­äº§å“å’Œå›¾åƒçš„ç­¾åã€‚è™½ç„¶è¿™ä¸¤ä¸ªç­¾åæœ‰ä¸€äº›å…±åŒçš„ç»„ç»‡ç»“æ„ï¼Œä½†å·®å¼‚æ˜¯æ˜æ˜¾çš„ã€‚è®©æˆ‘ä»¬é¦–å…ˆè¯¦ç»†è¯´æ˜ä¸€ä¸‹å…±åŒçš„ç»„ç»‡ç»“æ„ï¼š
- en: both signatures describe one-argument functions; and
  id: totrans-771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™ä¸¤ä¸ªç­¾åéƒ½æè¿°äº†ä¸€å…ƒå‡½æ•°ï¼›å¹¶ä¸”
- en: both argument descriptions employ the [List-of](#%28tech._sim-dd._list._of%29)
    construction.
  id: totrans-772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªå‚æ•°æè¿°éƒ½ä½¿ç”¨äº†[List-of](#%28tech._sim-dd._list._of%29)æ„é€ ã€‚
- en: 'In contrast to the first example, here one signature refers to [Number](part_one.html#%28tech._number%29)
    twice while the second one refers to [Posn](part_one.html#%28tech._posn%29)s and
    [Image](part_one.html#%28tech._image%29)s in analogous positions. A structural
    comparison shows that the first occurrence of [Number](part_one.html#%28tech._number%29)
    corresponds to [Posn](part_one.html#%28tech._posn%29) and the second one to [Image](part_one.html#%28tech._image%29):'
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ç¬¬ä¸€ä¸ªä¾‹å­ç›¸æ¯”ï¼Œè¿™é‡Œä¸€ä¸ªç­¾åä¸¤æ¬¡å¼•ç”¨[Number](part_one.html#%28tech._number%29)ï¼Œè€Œç¬¬äºŒä¸ªç­¾ååœ¨ç±»ä¼¼çš„ä½ç½®å¼•ç”¨[Posn](part_one.html#%28tech._posn%29)så’Œ[Image](part_one.html#%28tech._image%29)sã€‚ç»“æ„æ¯”è¾ƒæ˜¾ç¤ºï¼Œ[Number](part_one.html#%28tech._number%29)çš„ç¬¬ä¸€ä¸ªå‡ºç°å¯¹åº”äº[Posn](part_one.html#%28tech._posn%29)ï¼Œç¬¬äºŒä¸ªå‡ºç°å¯¹åº”äº[Image](part_one.html#%28tech._image%29)ï¼š
- en: '![image](../Images/54be5672ae18d936286d38316b73fe75.png)'
  id: totrans-774
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/54be5672ae18d936286d38316b73fe75.png)'
- en: 'To make progress on a signature for the abstraction of the two functions in
    [exerciseÂ 252](#%28counter._%28exercise._ex~3afold2%29%29), letâ€™s take the first
    two steps of the design recipe:'
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†åœ¨[ç»ƒä¹ 252](#%28counter._%28exercise._ex~3afold2%29%29)ä¸­æŠ½è±¡ä¸¤ä¸ªå‡½æ•°çš„ç­¾åä¸Šå–å¾—è¿›å±•ï¼Œè®©æˆ‘ä»¬å…ˆæŒ‰ç…§è®¾è®¡é£Ÿè°±çš„å‰ä¸¤æ­¥è¿›è¡Œï¼š
- en: '|'
  id: totrans-776
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-777
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (pr*Â lÂ bsÂ jn)
    &#124;'
  id: totrans-778
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (pr*Â lÂ bsÂ jn)
    | '
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-779
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â bs]
    &#124;'
  id: totrans-780
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â bs]
    | '
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-781
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: '&#124; Â Â Â Â Â (jnÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-782
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[jnÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â (pr*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)
    &#124;'
  id: totrans-783
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[pr*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)
    |'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â bs &#124;'
  id: totrans-784
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[bs | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â jn))])) &#124;'
  id: totrans-785
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: ''
  id: totrans-786
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-787
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-788
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (im*Â lÂ bsÂ jn)
    &#124;'
  id: totrans-789
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (im*Â lÂ bsÂ jn)
    | '
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-790
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    | '
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â bs]
    &#124;'
  id: totrans-791
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â bs]
    | '
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-792
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    | '
- en: '&#124; Â Â Â Â Â (jnÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    &#124;'
  id: totrans-793
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[jnÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â (im*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)
    &#124;'
  id: totrans-794
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[im*Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â bs &#124;'
  id: totrans-795
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[bs | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â jn))])) &#124;'
  id: totrans-796
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â jn))])) &#124;'
- en: ''
  id: totrans-797
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-798
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: 'Since the two functions differ in two pairs of values, the revised versions
    consume two additional values: one is an atomic value, to be used in the base
    case, and the other one is a function that joins together the result of the natural
    recursion with the first item on the given list.The key is to translate this insight
    into two signatures for the two new functions. When you do so for pr*, you get'
  id: totrans-799
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè¿™ä¸¤ä¸ªå‡½æ•°åœ¨ä¸¤å¯¹å€¼ä¸Šæœ‰æ‰€ä¸åŒï¼Œä¿®è®¢ç‰ˆæœ¬æ¶ˆè€—äº†ä¸¤ä¸ªé¢å¤–çš„å€¼ï¼šä¸€ä¸ªæ˜¯åŸå­å€¼ï¼Œç”¨äºåŸºæœ¬æ¡ˆä¾‹ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå°†è‡ªç„¶é€’å½’çš„ç»“æœä¸ç»™å®šåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¿æ¥èµ·æ¥ã€‚å…³é”®æ˜¯æŠŠè¿™ä¸ªæ´è§è½¬åŒ–ä¸ºä¸¤ä¸ªæ–°å‡½æ•°çš„ä¸¤ä¸ªç­¾åã€‚å½“ä½ è¿™æ ·åšå¯¹äº
    pr* æ—¶ï¼Œä½ ä¼šå¾—åˆ°
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) [[Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29)] |'
  id: totrans-800
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29) [[æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> [æ•°å­—](part_one.html#%28tech._number%29)] |'
- en: '| ;Â -> [Number](part_one.html#%28tech._number%29) |'
  id: totrans-801
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â -> [æ•°å­—](part_one.html#%28tech._number%29) |'
- en: because the result in the base case is a number and because the function for
    the second [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    line is [*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29).
    Similarly, the signature for im* is
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸ºåŸºæœ¬æ¡ˆä¾‹çš„ç»“æœæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå› ä¸ºç¬¬äºŒä¸ª [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    è¡Œçš„å‡½æ•°æ˜¯ [*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)ã€‚ç±»ä¼¼åœ°ï¼Œim*
    çš„ç­¾åæ˜¯
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    [Image](part_one.html#%28tech._image%29) [[Posn](part_one.html#%28tech._posn%29)  [Image](part_one.html#%28tech._image%29)
    -> [Image](part_one.html#%28tech._image%29)] |'
  id: totrans-803
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ä½ç½®](part_one.html#%28tech._posn%29)]
    [å›¾åƒ](part_one.html#%28tech._image%29) [[ä½ç½®](part_one.html#%28tech._posn%29)  [å›¾åƒ](part_one.html#%28tech._image%29)
    -> [å›¾åƒ](part_one.html#%28tech._image%29)] |'
- en: '| ;Â -> [Image](part_one.html#%28tech._image%29) |'
  id: totrans-804
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â -> [å›¾åƒ](part_one.html#%28tech._image%29) |'
- en: 'As you can see from the function definition for im*, the base case returns
    an image, and the combination function is place-dot, which combines a [Posn](part_one.html#%28tech._posn%29)
    and an [Image](part_one.html#%28tech._image%29) into an [Image](part_one.html#%28tech._image%29).Now
    we take the diagram from above and extend it to the signatures with the additional
    inputs:'
  id: totrans-805
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æ‚¨ä» im* çš„å‡½æ•°å®šä¹‰ä¸­çœ‹åˆ°çš„ï¼ŒåŸºæœ¬æ¡ˆä¾‹è¿”å›ä¸€ä¸ªå›¾åƒï¼Œç»„åˆå‡½æ•°æ˜¯ place-dotï¼Œå®ƒå°†ä¸€ä¸ª [ä½ç½®](part_one.html#%28tech._posn%29)
    å’Œä¸€ä¸ª [å›¾åƒ](part_one.html#%28tech._image%29) ç»“åˆæˆä¸€ä¸ª [å›¾åƒ](part_one.html#%28tech._image%29)ã€‚ç°åœ¨æˆ‘ä»¬å°†ä¸Šé¢çš„å›¾æ‰©å±•åˆ°å…·æœ‰é¢å¤–è¾“å…¥çš„ç­¾åä¸­ï¼š
- en: '![image](../Images/5509ee9e768534fc11b27808f0b43e63.png)'
  id: totrans-806
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾åƒ](../Images/5509ee9e768534fc11b27808f0b43e63.png)'
- en: 'From this diagram, you can easily see that the two revised signatures share
    even more organization than the original two. Furthermore, the pieces that describe
    the base cases correspond to each other and so do the pieces of the sub-signature
    that describe the combination function. All in all there are six pairs of differences,
    but they boil down to just two:'
  id: totrans-807
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™ä¸ªå›¾ä¸­ï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°çœ‹å‡ºï¼Œè¿™ä¸¤ä¸ªä¿®è®¢ç­¾åæ¯”åŸå§‹çš„ä¸¤ä¸ªå…±äº«æ›´å¤šçš„ç»„ç»‡ç»“æ„ã€‚æ­¤å¤–ï¼Œæè¿°åŸºæœ¬æƒ…å†µçš„ç‰‡æ®µå½¼æ­¤å¯¹åº”ï¼Œç»„åˆå‡½æ•°çš„å­ç­¾åç‰‡æ®µä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ€»çš„æ¥è¯´ï¼Œæœ‰å…­å¯¹å·®å¼‚ï¼Œä½†å®ƒä»¬å½’ç»“ä¸ºä¸¤ç‚¹ï¼š
- en: some occurrences of [Number](part_one.html#%28tech._number%29) correspond to
    [Posn](part_one.html#%28tech._posn%29), and
  id: totrans-808
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€äº› [æ•°å­—](part_one.html#%28tech._number%29) çš„å‡ºç°å¯¹åº”äº [ä½ç½®](part_one.html#%28tech._posn%29)ï¼Œå¹¶ä¸”
- en: other occurrences of [Number](part_one.html#%28tech._number%29) correspond to
    [Image](part_one.html#%28tech._image%29).
  id: totrans-809
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å…¶ä»– [æ•°å­—](part_one.html#%28tech._number%29) çš„å‡ºç°å¯¹åº”äº [å›¾åƒ](part_one.html#%28tech._image%29)ã€‚
- en: 'So to abstract we need two variables, one per kind of correspondence.Here then
    is the signature for fold2, the abstraction from [exerciseÂ 252](#%28counter._%28exercise._ex~3afold2%29%29):'
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œä¸ºäº†æŠ½è±¡ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªå˜é‡ï¼Œæ¯ä¸ªå¯¹åº”ä¸€ç§å¯¹åº”å…³ç³»ã€‚é‚£ä¹ˆï¼Œfold2 çš„ç­¾åå°±æ˜¯ä» [ç»ƒä¹  252](#%28counter._%28exercise._ex~3afold2%29%29)
    ä¸­æŠ½è±¡å‡ºæ¥çš„ï¼š
- en: ;Â [X Y] [[List-of](#%28tech._sim-dd._list._of%29) X] Y [X Y -> Y] -> Y
  id: totrans-811
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [X Y] [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29) X] Y [X Y -> Y] -> Y
- en: 'Stop! Make sure that replacing both parameters of the signature, X and Y, with
    [Number](part_one.html#%28tech._number%29) yields the signature for pr* and that
    replacing the same variables with [Posn](part_one.html#%28tech._posn%29) and [Image](part_one.html#%28tech._image%29),
    respectively, yields the signature for im*.The two examples illustrate how to
    find general signatures. In principle the process is just like the one for abstracting
    functions. Due to the informal nature of signatures, however, it cannot be checked
    with running examples the way code is checked. Here is a step-by-step formulation:'
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ç¡®ä¿ç”¨ [Number](part_one.html#%28tech._number%29) æ›¿æ¢ç­¾åä¸­çš„ä¸¤ä¸ªå‚æ•° X å’Œ Yï¼Œå¯ä»¥å¾—åˆ° pr*
    çš„ç­¾åï¼Œå¹¶ä¸”ç”¨ [Posn](part_one.html#%28tech._posn%29) å’Œ [Image](part_one.html#%28tech._image%29)
    åˆ†åˆ«æ›¿æ¢ç›¸åŒçš„å˜é‡ï¼Œå¯ä»¥å¾—åˆ° im* çš„ç­¾åã€‚è¿™ä¸¤ä¸ªç¤ºä¾‹è¯´æ˜äº†å¦‚ä½•æ‰¾åˆ°æ³›åŒ–ç­¾åã€‚åŸåˆ™ä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸æŠ½è±¡å‡½æ•°çš„è¿‡ç¨‹ç±»ä¼¼ã€‚ç„¶è€Œï¼Œç”±äºç­¾åçš„éæ­£å¼æ€§è´¨ï¼Œå®ƒä¸èƒ½åƒä»£ç é‚£æ ·é€šè¿‡è¿è¡Œç¤ºä¾‹æ¥æ£€æŸ¥ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªé€æ­¥çš„å…¬å¼ï¼š
- en: Given two similar function definitions, f and g, compare their signatures for
    similarities and differences. The goal is to discover the organization of the
    signature and to mark the places where one signature differs from the other. Connect
    the differences as pairs just like you do when you analyze function bodies.
  id: totrans-813
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç»™å®šä¸¤ä¸ªç›¸ä¼¼çš„åŠŸèƒ½å®šä¹‰ï¼Œf å’Œ gï¼Œæ¯”è¾ƒå®ƒä»¬çš„ç­¾åä»¥å¯»æ‰¾ç›¸ä¼¼ä¹‹å¤„å’Œå·®å¼‚ã€‚ç›®æ ‡æ˜¯å‘ç°ç­¾åçš„ç»„ç»‡ç»“æ„ï¼Œå¹¶æ ‡è®°å‡ºç­¾åä¹‹é—´ä¸åŒçš„åœ°æ–¹ã€‚å°±åƒåˆ†æå‡½æ•°ä½“æ—¶ä¸€æ ·ï¼Œå°†å·®å¼‚é…å¯¹è¿æ¥èµ·æ¥ã€‚
- en: Abstract f and g into f-abs and g-abs. That is, add parameters that eliminate
    the differences between f and g. Create signatures for f-abs and g-abs. Keep in
    mind what the new parameters originally stood for; this helps you figure out the
    new pieces of the signatures.
  id: totrans-814
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°† f å’Œ g æŠ½è±¡ä¸º f-abs å’Œ g-absã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ·»åŠ å‚æ•°ä»¥æ¶ˆé™¤ f å’Œ g ä¹‹é—´çš„å·®å¼‚ã€‚ä¸º f-abs å’Œ g-abs åˆ›å»ºç­¾åã€‚è®°ä½æ–°å‚æ•°æœ€åˆä»£è¡¨ä»€ä¹ˆï¼›è¿™æœ‰åŠ©äºä½ å¼„æ¸…æ¥šç­¾åçš„æ–°éƒ¨åˆ†ã€‚
- en: Check whether the analysis of step 1 extends to the signatures of f-abs and
    g-abs. If so, replace the differences with variables that range over classes of
    data. Once the two signatures are the same, you have a signature for the abstracted
    function.
  id: totrans-815
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥æ­¥éª¤ 1 çš„åˆ†ææ˜¯å¦æ‰©å±•åˆ° f-abs å’Œ g-abs çš„ç­¾åã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œç”¨éå†æ•°æ®ç±»åˆ«çš„å˜é‡æ›¿æ¢å·®å¼‚ã€‚ä¸€æ—¦ä¸¤ä¸ªç­¾åç›¸åŒï¼Œä½ å°±å¾—åˆ°äº†æŠ½è±¡å‡½æ•°çš„ç­¾åã€‚
- en: Test the abstract signature. First, ensure that suitable substitutions of the
    variables in the abstract signature yield the signatures of f-abs and g-abs. Second,
    check that the generalized signature is in sync with the code. For example, if
    p is a new parameter and its signature is
  id: totrans-816
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æµ‹è¯•æŠ½è±¡ç­¾åã€‚é¦–å…ˆï¼Œç¡®ä¿åœ¨æŠ½è±¡ç­¾åä¸­ç”¨åˆé€‚çš„å˜é‡æ›¿æ¢ï¼Œå¯ä»¥å¾—åˆ° f-abs å’Œ g-abs çš„ç­¾åã€‚å…¶æ¬¡ï¼Œæ£€æŸ¥æ³›åŒ–ç­¾åæ˜¯å¦ä¸ä»£ç åŒæ­¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ p æ˜¯ä¸€ä¸ªæ–°å‚æ•°ï¼Œå…¶ç­¾åæ˜¯
- en: ;Â ... [A B -> C] ...
  id: totrans-817
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â ... [A B -> C] ...
- en: then p must always be applied to two arguments, the first one from A and the
    second one from B. And the result of an application of p is going to be a C and
    should be used where elements of C are expected.
  id: totrans-818
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆ p å¿…é¡»å§‹ç»ˆåº”ç”¨äºä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ¥è‡ª Aï¼Œç¬¬äºŒä¸ªæ¥è‡ª Bã€‚p çš„åº”ç”¨ç»“æœå°†æ˜¯ä¸€ä¸ª Cï¼Œå¹¶ä¸”åº”è¯¥ç”¨äºæœŸæœ› C çš„å…ƒç´ çš„åœ°æ–¹ã€‚
- en: 'As with abstracting functions, the key is to compare the concrete signatures
    of the examples and to determine the similarities and differences. With enough
    practice and intuition, you will soon be able to abstract signatures without much
    guidance.ExerciseÂ 253\. Each of these signatures describes a class of functions:'
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æŠ½è±¡å‡½æ•°ä¸€æ ·ï¼Œå…³é”®åœ¨äºæ¯”è¾ƒç¤ºä¾‹çš„å…·ä½“ç­¾åï¼Œå¹¶ç¡®å®šå®ƒä»¬çš„ç›¸ä¼¼ä¹‹å¤„å’Œå·®å¼‚ã€‚ç»è¿‡è¶³å¤Ÿçš„ç»ƒä¹ å’Œç›´è§‰ï¼Œä½ å¾ˆå¿«å°±èƒ½åœ¨æ²¡æœ‰å¤ªå¤šæŒ‡å¯¼çš„æƒ…å†µä¸‹æŠ½è±¡ç­¾åã€‚ç»ƒä¹  253ã€‚è¿™äº›ç­¾åä¸­çš„æ¯ä¸€ä¸ªéƒ½æè¿°äº†ä¸€ç±»å‡½æ•°ï¼š
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Boolean](part_one.html#%28tech._boolean%29)]
    |'
  id: totrans-820
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Boolean](part_one.html#%28tech._boolean%29)]
    |'
- en: '| ;Â [[Boolean](part_one.html#%28tech._boolean%29)  [String](part_one.html#%28tech._string%29)
    -> [Boolean](part_one.html#%28tech._boolean%29)] |'
  id: totrans-821
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[Boolean](part_one.html#%28tech._boolean%29)  [String](part_one.html#%28tech._string%29)
    -> [Boolean](part_one.html#%28tech._boolean%29)] |'
- en: '| ;Â [[Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29)] |'
  id: totrans-822
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29)] |'
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]]
    |'
  id: totrans-823
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]]
    |'
- en: '| ;Â [[[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Boolean](part_one.html#%28tech._boolean%29)] |'
  id: totrans-824
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Boolean](part_one.html#%28tech._boolean%29)] |'
- en: 'Describe these collections with at least one example from ISL.ExerciseÂ 254\.
    Formulate signatures for the following functions:'
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ ISL ä¸­çš„è‡³å°‘ä¸€ä¸ªä¾‹å­æ¥æè¿°è¿™äº›é›†åˆã€‚ç»ƒä¹  254ï¼šä¸ºä»¥ä¸‹å‡½æ•°åˆ¶å®šç­¾åï¼š
- en: sort-n, which consumes a list of numbers and a function that consumes two numbers
    (from the list) and produces a [Boolean](part_one.html#%28tech._boolean%29); sort-n
    produces a sorted list of numbers.
  id: totrans-826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sort-nï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªæ•°å­—åˆ—è¡¨å’Œä¸€ä¸ªæ¶ˆè€—ä¸¤ä¸ªæ•°å­—ï¼ˆæ¥è‡ªåˆ—è¡¨ï¼‰å¹¶äº§ç”Ÿä¸€ä¸ª[å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29)çš„å‡½æ•°ï¼›sort-n
    äº§ç”Ÿä¸€ä¸ªæ’åºåçš„æ•°å­—åˆ—è¡¨ã€‚
- en: sort-s, which consumes a list of strings and a function that consumes two strings
    (from the list) and produces a [Boolean](part_one.html#%28tech._boolean%29); sort-s
    produces a sorted list of strings.
  id: totrans-827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sort-sï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨å’Œä¸€ä¸ªæ¶ˆè€—ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæ¥è‡ªåˆ—è¡¨ï¼‰å¹¶äº§ç”Ÿä¸€ä¸ª[å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29)çš„å‡½æ•°ï¼›sort-s
    äº§ç”Ÿä¸€ä¸ªæ’åºåçš„å­—ç¬¦ä¸²åˆ—è¡¨ã€‚
- en: 'Then abstract over the two signatures, following the above steps. Also show
    that the generalized signature can be instantiated to describe the signature of
    a sort function for lists of [IR](#%28tech._ir%29)s.ExerciseÂ 255\. Formulate signatures
    for the following functions:'
  id: totrans-828
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæ ¹æ®ä¸Šè¿°æ­¥éª¤å¯¹è¿™ä¸¤ä¸ªç­¾åè¿›è¡ŒæŠ½è±¡ã€‚è¿˜è¦è¯æ˜é€šç”¨ç­¾åå¯ä»¥è¢«å®ä¾‹åŒ–æ¥æè¿°[IR](#%28tech._ir%29)åˆ—è¡¨çš„æ’åºå‡½æ•°çš„ç­¾åã€‚ç»ƒä¹  255ï¼šä¸ºä»¥ä¸‹å‡½æ•°åˆ¶å®šç­¾åï¼š
- en: map-n, which consumes a list of numbers and a function from numbers to numbers
    to produce a list of numbers.
  id: totrans-829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: map-nï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªæ•°å­—åˆ—è¡¨å’Œä¸€ä¸ªä»æ•°å­—åˆ°æ•°å­—çš„å‡½æ•°ï¼Œä»¥äº§ç”Ÿä¸€ä¸ªæ•°å­—åˆ—è¡¨ã€‚
- en: map-s, which consumes a list of strings and a function from strings to strings
    and produces a list of strings.
  id: totrans-830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: map-sï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨å’Œä¸€ä¸ªä»å­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ã€‚
- en: Then abstract over the two signatures, following the above steps. Also show
    that the generalized signature can be instantiated to describe the signature of
    the map1 function above.
  id: totrans-831
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæ ¹æ®ä¸Šè¿°æ­¥éª¤å¯¹è¿™ä¸¤ä¸ªç­¾åè¿›è¡ŒæŠ½è±¡ã€‚è¿˜è¦è¯æ˜é€šç”¨ç­¾åå¯ä»¥è¢«å®ä¾‹åŒ–æ¥æè¿°ä¸Šé¢ map1 å‡½æ•°çš„ç­¾åã€‚
- en: 15.3Single Point of Control[ğŸ”—](#(part._sec~3aspoc) "Link to here")
  id: totrans-832
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 15.3 å•ç‚¹æ§åˆ¶[ğŸ”—](#(part._sec~3aspoc) "é“¾æ¥è‡³æ­¤")
- en: In general, programs are like drafts of papers. Editing drafts is important
    to correct typos, to fix grammatical mistakes, to make the document consistent,
    and to eliminate repetitions. Nobody wants to read papers that repeat themselves
    a lot, and nobody wants to read such programs either.
  id: totrans-833
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œç¨‹åºå°±åƒè®ºæ–‡çš„è‰ç¨¿ã€‚ç¼–è¾‘è‰ç¨¿å¾ˆé‡è¦ï¼Œå¯ä»¥çº æ­£é”™åˆ«å­—ã€ä¿®æ­£è¯­æ³•é”™è¯¯ã€ä½¿æ–‡æ¡£ä¿æŒä¸€è‡´ï¼Œå¹¶æ¶ˆé™¤é‡å¤ã€‚æ²¡æœ‰äººæ„¿æ„é˜…è¯»å¤§é‡é‡å¤çš„è®ºæ–‡ï¼Œä¹Ÿæ²¡æœ‰äººæ„¿æ„é˜…è¯»è¿™æ ·çš„ç¨‹åºã€‚
- en: The elimination of similarities in favor of abstractions has many advantages.
    Creating an abstraction simplifies definitions. It may also uncover problems with
    existing functions, especially when similarities arenâ€™t quite right. But, the
    single most important advantage is the creation of single points of control for
    some common functionality.
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æŠ½è±¡ç›¸æ¯”æ¶ˆé™¤ç›¸ä¼¼æ€§æœ‰è®¸å¤šä¼˜ç‚¹ã€‚åˆ›å»ºæŠ½è±¡ç®€åŒ–äº†å®šä¹‰ã€‚å®ƒè¿˜å¯èƒ½æ­ç¤ºç°æœ‰å‡½æ•°çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨ç›¸ä¼¼æ€§ä¸å¤ªæ­£ç¡®æ—¶ã€‚ä½†ï¼Œæœ€é‡è¦çš„ä¼˜ç‚¹æ˜¯åˆ›å»ºæŸäº›å¸¸è§åŠŸèƒ½æ€§çš„å•ç‚¹æ§åˆ¶ã€‚
- en: Putting the definition for some functionality in one place makes it easy to
    maintain a program. When you discover a mistake, you have to go to just one place
    to fix it. When you discover that the code should deal with another form of data,
    you can add the code to just one place. When you figure out an improvement, one
    change improves all uses of the functionality. If you had made copies of the functions
    or code in general, you would have to find all copies and fix them; otherwise
    the mistake might live on or only one of the functions would run faster.
  id: totrans-835
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æŸäº›åŠŸèƒ½æ€§çš„å®šä¹‰æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œä½¿å¾—ç»´æŠ¤ç¨‹åºå˜å¾—å®¹æ˜“ã€‚å½“ä½ å‘ç°é”™è¯¯æ—¶ï¼Œä½ åªéœ€è¦å»ä¸€ä¸ªåœ°æ–¹è¿›è¡Œä¿®å¤ã€‚å½“ä½ å‘ç°ä»£ç åº”è¯¥å¤„ç†å¦ä¸€ç§å½¢å¼çš„æ•°æ®æ—¶ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹æ·»åŠ ä»£ç ã€‚å½“ä½ æƒ³å‡ºæ”¹è¿›çš„æ–¹æ³•æ—¶ï¼Œä¸€ä¸ªæ›´æ”¹å°±èƒ½æ”¹å–„åŠŸèƒ½çš„æ‰€æœ‰ä½¿ç”¨ã€‚å¦‚æœä½ å¤åˆ¶äº†å‡½æ•°æˆ–ä»£ç ï¼Œä½ å°†ä¸å¾—ä¸æ‰¾åˆ°æ‰€æœ‰çš„å‰¯æœ¬å¹¶ä¿®å¤å®ƒä»¬ï¼›å¦åˆ™é”™è¯¯å¯èƒ½ä¼šæŒç»­å­˜åœ¨ï¼Œæˆ–è€…åªæœ‰ä¸€ä¸ªå‡½æ•°è¿è¡Œå¾—æ›´å¿«ã€‚
- en: 'We therefore formulate this guideline:'
  id: totrans-836
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤æˆ‘ä»¬åˆ¶å®šä»¥ä¸‹æŒ‡å—ï¼š
- en: Form an abstraction instead of copying and modifying any code.
  id: totrans-837
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å½¢æˆæŠ½è±¡è€Œä¸æ˜¯å¤åˆ¶å’Œä¿®æ”¹ä»»ä½•ä»£ç ã€‚
- en: Our design recipe for abstracting functions is the most basic tool to create
    abstractions. To use it requires practice. As you practice, you expand your capabilities
    to read, organize, and maintain programs. The best programmers are those who actively
    edit their programs to build new abstractions so that they collect things related
    to a task at a single point. Here we use functional abstraction to study this
    practice; in other courses on programming, you will encounter other forms of abstraction,
    most importantly inheritance in class-based object-oriented languages.
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: 'æˆ‘ä»¬æŠ½è±¡å‡½æ•°çš„è®¾è®¡é…æ–¹æ˜¯åˆ›å»ºæŠ½è±¡çš„æœ€åŸºæœ¬å·¥å…·ã€‚ä½¿ç”¨å®ƒéœ€è¦ç»ƒä¹ ã€‚éšç€ä½ çš„ç»ƒä¹ ï¼Œä½ æ‰©å±•äº†é˜…è¯»ã€ç»„ç»‡å’Œç»´æŠ¤ç¨‹åºçš„èƒ½åŠ›ã€‚æœ€å¥½çš„ç¨‹åºå‘˜æ˜¯é‚£äº›ç§¯æç¼–è¾‘ä»–ä»¬çš„ç¨‹åºä»¥æ„å»ºæ–°çš„æŠ½è±¡ï¼Œä»¥ä¾¿å°†ä¸ä»»åŠ¡ç›¸å…³çš„æ‰€æœ‰å†…å®¹é›†ä¸­åœ¨ä¸€ä¸ªç‚¹çš„ç¨‹åºå‘˜ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•°æŠ½è±¡æ¥ç ”ç©¶è¿™ç§å®è·µï¼›åœ¨å…¶ä»–ç¼–ç¨‹è¯¾ç¨‹ä¸­ï¼Œä½ å°†é‡åˆ°å…¶ä»–å½¢å¼çš„æŠ½è±¡ï¼Œæœ€é‡è¦çš„æ˜¯åŸºäºç±»çš„é¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ç»§æ‰¿ã€‚ '
- en: 15.4Abstractions from Templates[ğŸ”—](#(part._sec~3aapriori-abs) "Link to here")
  id: totrans-839
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 15.4 ä»æ¨¡æ¿ä¸­æŠ½è±¡[ğŸ”—](#(part._sec~3aapriori-abs) "é“¾æ¥åˆ°æ­¤å¤„")
- en: The first two chapters of this part present many functions based on the same
    template. After all, the design recipe says to organize functions around the organization
    of the (major) input data definition. It is therefore not surprising that many
    function definitions look similar to each other.
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬éƒ¨åˆ†çš„å‰ä¸¤ç« ä»‹ç»äº†åŸºäºç›¸åŒæ¨¡æ¿çš„è®¸å¤šå‡½æ•°ã€‚æ¯•ç«Ÿï¼Œè®¾è®¡é…æ–¹å»ºè®®å›´ç»•ï¼ˆä¸»è¦ï¼‰è¾“å…¥æ•°æ®å®šä¹‰æ¥ç»„ç»‡å‡½æ•°ã€‚å› æ­¤ï¼Œè®¸å¤šå‡½æ•°å®šä¹‰çœ‹èµ·æ¥å½¼æ­¤ç›¸ä¼¼å¹¶ä¸å¥‡æ€ªã€‚
- en: 'Indeed, you should abstract from the templates directly, and you should do
    so automatically; some experimental programming languages do so. Even though this
    topic is still a subject of research, you are now in a position to understand
    the basic idea. Consider the template for lists:'
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®å®ï¼Œä½ åº”è¯¥ç›´æ¥ä»æ¨¡æ¿ä¸­æŠ½è±¡å‡ºæ¥ï¼Œå¹¶ä¸”åº”è¯¥è‡ªåŠ¨è¿™æ ·åšï¼›ä¸€äº›å®éªŒæ€§ç¼–ç¨‹è¯­è¨€å°±æ˜¯è¿™æ ·åšçš„ã€‚å°½ç®¡è¿™ä¸ªä¸»é¢˜ä»ç„¶æ˜¯ç ”ç©¶è¯¾é¢˜ï¼Œä½ ç°åœ¨å·²ç»èƒ½å¤Ÿç†è§£åŸºæœ¬æ€æƒ³ã€‚è€ƒè™‘åˆ—è¡¨çš„æ¨¡æ¿ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fun-for-lÂ l)
    |'
  id: totrans-842
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fun-for-lÂ l)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-843
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
  id: totrans-844
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-845
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (fun-for-lÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]))
    |'
  id: totrans-846
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (fun-for-lÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]))
    |'
- en: 'It contains two gaps, one in each clause. When you use this template to define
    a list-processing function, you usually fill these gaps with a value in the first
    [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    clause and with a function combine in the second clause. The combine function
    consumes the first item of the list and the result of the natural recursion and
    creates the result from these two pieces of data.Now that you know how to create
    abstractions, you can complete the definition of the abstraction from this informal
    description:'
  id: totrans-847
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒåŒ…å«ä¸¤ä¸ªç©ºä½ï¼Œæ¯ä¸ªå­å¥ä¸­ä¸€ä¸ªã€‚å½“ä½ ä½¿ç”¨è¿™ä¸ªæ¨¡æ¿æ¥å®šä¹‰åˆ—è¡¨å¤„ç†å‡½æ•°æ—¶ï¼Œä½ é€šå¸¸åœ¨ç¬¬ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)å­å¥ä¸­å¡«å…¥ä¸€ä¸ªå€¼ï¼Œå¹¶åœ¨ç¬¬äºŒä¸ªå­å¥ä¸­å¡«å…¥ä¸€ä¸ªå‡½æ•°combineã€‚combineå‡½æ•°æ¶ˆè€—åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œè‡ªç„¶é€’å½’çš„ç»“æœï¼Œå¹¶ä»è¿™ä¸¤éƒ¨åˆ†æ•°æ®ä¸­åˆ›å»ºç»“æœã€‚ç°åœ¨ä½ äº†è§£äº†å¦‚ä½•åˆ›å»ºæŠ½è±¡ï¼Œä½ å¯ä»¥æ ¹æ®è¿™ä¸ªéæ­£å¼æè¿°æ¥å®ŒæˆæŠ½è±¡çš„å®šä¹‰ï¼š
- en: '| ;Â [X Y] [[List-of](#%28tech._sim-dd._list._of%29) X] Y [X Y -> Y] -> Y |'
  id: totrans-848
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X Y] [[List-of](#%28tech._sim-dd._list._of%29) X] Y [X Y -> Y] -> Y |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (reduceÂ lÂ baseÂ combine)
    |'
  id: totrans-849
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (reduceÂ lÂ baseÂ combine)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-850
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â base]
    |'
  id: totrans-851
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â base]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (combineÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |'
  id: totrans-852
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (combineÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (reduceÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â baseÂ combine))]))
    |'
  id: totrans-853
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (reduceÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â baseÂ combine))]))
    |'
- en: 'It consumes two extra arguments: base, which is the value for the base case,
    and combine, which is the function that performs the value combination for the
    second clause.Using reduce you can define many plain list-processing functions
    as â€œone liners.â€ Here are definitions for sum and product, two functions used
    several times in the first few sections of this chapter:'
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒæ¶ˆè€—ä¸¤ä¸ªé¢å¤–çš„å‚æ•°ï¼šbaseï¼Œå®ƒæ˜¯åŸºæœ¬æƒ…å†µä¸‹çš„å€¼ï¼Œä»¥åŠcombineï¼Œå®ƒæ˜¯æ‰§è¡Œç¬¬äºŒä¸ªå­å¥ä¸­å€¼ç»„åˆçš„å‡½æ•°ã€‚ä½¿ç”¨reduceï¼Œä½ å¯ä»¥å°†è®¸å¤šæ™®é€šçš„åˆ—è¡¨å¤„ç†å‡½æ•°å®šä¹‰ä¸ºâ€œä¸€è¡Œä»£ç â€ã€‚ä»¥ä¸‹æ˜¯sumå’Œproductçš„å®šä¹‰ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åœ¨æœ¬ç« çš„å‰å‡ èŠ‚ä¸­å¤šæ¬¡ä½¿ç”¨ï¼š
- en: '|'
  id: totrans-855
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-856
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
  id: totrans-857
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sumÂ lon)
    &#124;'
  id: totrans-858
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sumÂ lon)
    &#124;'
- en: '&#124; Â Â (reduceÂ lonÂ 0Â [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)))
    &#124;'
  id: totrans-859
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â (reduceÂ lonÂ 0Â [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)))
    &#124;'
- en: ''
  id: totrans-860
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-861
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-862
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
  id: totrans-863
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Number](part_one.html#%28tech._number%29) &#124;'
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (productÂ lon)
    &#124;'
  id: totrans-864
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (productÂ lon)
    &#124;'
- en: '&#124; Â Â (reduceÂ lonÂ 1Â [*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)))
    &#124;'
  id: totrans-865
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â  (å‡å°‘lon 1 [*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)))
    &#124;'
- en: ''
  id: totrans-866
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-867
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: For sum, the base case always produces 0; adding the first item and the result
    of the natural recursion combines the values of the second clause. Analogous reasoning
    explains product. Other list-processing functions can be defined in a similar
    manner using reduce.
  id: totrans-868
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ±‚å’Œï¼ŒåŸºæœ¬æƒ…å†µæ€»æ˜¯äº§ç”Ÿ0ï¼›å°†ç¬¬ä¸€ä¸ªå…ƒç´ å’Œè‡ªç„¶é€’å½’çš„ç»“æœç›¸åŠ ç»„åˆäº†ç¬¬äºŒä¸ªå­å¥çš„å€¼ã€‚ç±»ä¼¼çš„æ¨ç†è§£é‡Šäº†ä¹˜ç§¯ã€‚å…¶ä»–åˆ—è¡¨å¤„ç†å‡½æ•°å¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•ä½¿ç”¨reduceæ¥å®šä¹‰ã€‚
- en: 16Using Abstractions[ğŸ”—](#(part._ch~3a3use) "Link to here")
  id: totrans-869
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 16ä½¿ç”¨æŠ½è±¡[ğŸ”—](#(part._ch~3a3use) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Once you have abstractions, you should use them when possible. They create single
    points of control, and they are a work-saving device. More precisely, the use
    of an abstraction helps readers of your code to understand your intentions. If
    the abstraction is well-known and built into the language or comes with its standard
    libraries, it signals more clearly what your function does than custom-designed
    code.
  id: totrans-870
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä½ æœ‰äº†æŠ½è±¡ï¼Œä½ åº”è¯¥å°½å¯èƒ½ä½¿ç”¨å®ƒä»¬ã€‚å®ƒä»¬åˆ›å»ºå•ä¸ªæ§åˆ¶ç‚¹ï¼Œå¹¶ä¸”æ˜¯èŠ‚çœå·¥ä½œæ—¶é—´çš„å·¥å…·ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œä½¿ç”¨æŠ½è±¡æœ‰åŠ©äºä½ çš„ä»£ç è¯»è€…ç†è§£ä½ çš„æ„å›¾ã€‚å¦‚æœæŠ½è±¡æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ï¼Œå¹¶ä¸”å†…ç½®åˆ°è¯­è¨€ä¸­æˆ–éšæ ‡å‡†åº“æä¾›ï¼Œå®ƒæ¯”è‡ªå®šä¹‰ä»£ç æ›´æ¸…æ¥šåœ°è¡¨æ˜äº†ä½ çš„å‡½æ•°åšä»€ä¹ˆã€‚
- en: This chapter is all about the reuse of existing ISL abstractions. It starts
    with a section on existing ISL abstractions, some of which you have seen under
    false names. The remaining sections are about reusing such abstractions. One key
    ingredient is a new syntactic construct, [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29),
    for defining functions and variables (and even structure types) locally within
    a function. An auxiliary ingredient, introduced in the last section, is the [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    construct for creating nameless functions; [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    is a convenience but inessential to the idea of reusing abstract functions.
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« å…¨éƒ¨å…³äºç°æœ‰ISLæŠ½è±¡çš„é‡ç”¨ã€‚å®ƒä»ç°æœ‰ISLæŠ½è±¡çš„éƒ¨åˆ†å¼€å§‹ï¼Œå…¶ä¸­ä¸€äº›ä½ ä»¥é”™è¯¯çš„åå­—è§è¿‡ã€‚å…¶ä½™éƒ¨åˆ†æ˜¯å…³äºå¦‚ä½•é‡ç”¨è¿™äº›æŠ½è±¡ã€‚ä¸€ä¸ªå…³é”®æˆåˆ†æ˜¯æ–°çš„è¯­æ³•ç»“æ„ï¼Œ[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ï¼Œç”¨äºåœ¨å‡½æ•°å†…éƒ¨å±€éƒ¨å®šä¹‰å‡½æ•°å’Œå˜é‡ï¼ˆç”šè‡³ç»“æ„ç±»å‹ï¼‰ã€‚å¦ä¸€ä¸ªè¾…åŠ©æˆåˆ†ï¼Œåœ¨ä¸Šä¸€ä¸ªç« èŠ‚ä¸­å¼•å…¥ï¼Œæ˜¯ç”¨äºåˆ›å»ºæ— åå­—å‡½æ•°çš„[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ç»“æ„ï¼›[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)æ˜¯ä¸€ä¸ªä¾¿åˆ©çš„å·¥å…·ï¼Œä½†å¯¹äºé‡ç”¨æŠ½è±¡å‡½æ•°çš„æ¦‚å¿µæ¥è¯´ä¸æ˜¯å¿…éœ€çš„ã€‚
- en: '| ;Â [X] [N](part_two.html#%28tech._n%29) [[N](part_two.html#%28tech._n%29)
    -> X] -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
  id: totrans-872
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [N](part_two.html#%28tech._n%29) [[N](part_two.html#%28tech._n%29)
    -> X] -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
- en: '| ;Â constructs a list by applying f to 0, 1, ..., ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)  n)
    |'
  id: totrans-873
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â é€šè¿‡å°†fåº”ç”¨äº0, 1, ..., ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)  n)
    æ¥æ„å»ºåˆ—è¡¨ |'
- en: '| ;Â ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)  n  f)  ==  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  (f  0)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (f  ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)  n  1)))
    |'
  id: totrans-874
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)  n  f)  ==  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  (f  0)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (f  ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)  n  1)))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)Â nÂ f)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-875
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)Â nÂ f)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-876
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [X] [X -> [Boolean](part_one.html#%28tech._boolean%29)] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
  id: totrans-877
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [X -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
- en: '| ;Â produces a list from those items on lx for which p holds |'
  id: totrans-878
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä» lx ä¸­äº§ç”Ÿæ»¡è¶³ p çš„é‚£äº›å…ƒç´ çš„åˆ—è¡¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â pÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-879
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â pÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-880
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [X X -> [Boolean](part_one.html#%28tech._boolean%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
  id: totrans-881
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [X X -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
- en: '| ;Â produces a version of lx that is sorted according to cmp |'
  id: totrans-882
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ ¹æ® cmp æ’åºäº§ç”Ÿ lx çš„ç‰ˆæœ¬ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â lxÂ cmp)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-883
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â lxÂ cmp)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-884
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [X Y] [X -> Y] [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[List-of](#%28tech._sim-dd._list._of%29)
    Y] |'
  id: totrans-885
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X Y] [X -> Y] [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[List-of](#%28tech._sim-dd._list._of%29)
    Y] |'
- en: '| ;Â constructs a list by applying f to each item on lx |'
  id: totrans-886
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â é€šè¿‡å°† f åº”ç”¨åˆ° lx ä¸­çš„æ¯ä¸ªå…ƒç´ æ¥æ„å»ºåˆ—è¡¨ |'
- en: '| ;Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)  f  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  (f  x-1)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (f  x-n))
    |'
  id: totrans-887
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)  f  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  (f  x-1)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (f  x-n))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â fÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-888
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â fÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-889
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [X] [X -> [Boolean](part_one.html#%28tech._boolean%29)] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-890
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [X -> [Boolean](part_one.html#%28tech._boolean%29)] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â determines whether p holds for every item on lx |'
  id: totrans-891
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ¤æ–­ p æ˜¯å¦å¯¹ lx ä¸Šçš„æ¯ä¸ªå…ƒç´ éƒ½æˆç«‹ |'
- en: '| ;Â ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)  p  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)  (p  x-1)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (p  x-n))
    |'
  id: totrans-892
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)  p  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)  (p  x-1)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (p  x-n))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)Â pÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-893
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)Â pÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-894
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [X] [X -> [Boolean](part_one.html#%28tech._boolean%29)] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-895
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [X -> [Boolean](part_one.html#%28tech._boolean%29)] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â determines whether p holds for at least one item on lx |'
  id: totrans-896
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ¤æ–­ p æ˜¯å¦å¯¹ lx ä¸Šçš„è‡³å°‘ä¸€ä¸ªå…ƒç´ æˆç«‹ |'
- en: '| ;Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)  p  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)  (p  x-1)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (p  x-n))
    |'
  id: totrans-897
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)  p  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)  (p  x-1)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (p  x-n))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â pÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-898
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([æ˜ å°„](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â pÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: ''
  id: totrans-899
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 95: ISLâ€™s abstract functions for list processing (1)'
  id: totrans-900
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾95ï¼šISLçš„åˆ—è¡¨å¤„ç†æŠ½è±¡å‡½æ•°ï¼ˆ1ï¼‰
- en: 16.1Existing Abstractions[ğŸ”—](#(part._sec~3aisl-abstractions) "Link to here")
  id: totrans-901
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.1ç°æœ‰çš„æŠ½è±¡[ğŸ”—](#(part._sec~3aisl-abstractions) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'ISL provides a number of abstract functions for processing natural numbers
    and lists. [FigureÂ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29) collects
    the header material for the most important ones. The first one processes natural
    numbers and builds lists:'
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: ISLæä¾›äº†ä¸€ç³»åˆ—ç”¨äºå¤„ç†è‡ªç„¶æ•°å’Œåˆ—è¡¨çš„æŠ½è±¡å‡½æ•°ã€‚[å›¾95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)æ”¶é›†äº†å…¶ä¸­æœ€é‡è¦çš„å‡½æ•°çš„å¤´éƒ¨ææ–™ã€‚ç¬¬ä¸€ä¸ªå‡½æ•°å¤„ç†è‡ªç„¶æ•°å¹¶æ„å»ºåˆ—è¡¨ï¼š
- en: '| > ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)Â 3Â [add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29))
    |'
  id: totrans-903
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([æ„å»ºåˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)Â 3Â [åŠ ä¸€](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29))
    |'
- en: '| (list 1 2 3) |'
  id: totrans-904
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (åˆ—è¡¨ 1 2 3) |'
- en: 'The next three process lists and produce lists:'
  id: totrans-905
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥çš„ä¸‰ä¸ªå‡½æ•°å¤„ç†åˆ—è¡¨å¹¶ç”Ÿæˆåˆ—è¡¨ï¼š
- en: '| > ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â [odd?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5))
    |'
  id: totrans-906
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([è¿‡æ»¤](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â [å¥‡æ•°ï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5))
    |'
- en: '| (list 1 3 5) |'
  id: totrans-907
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (åˆ—è¡¨ 1 3 5) |'
- en: '| > ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 2Â 1Â 4Â 5)Â [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29))
    |'
  id: totrans-908
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([æ’åº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 2Â 1Â 4Â 5)Â [å¤§äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29))
    |'
- en: '| (list 5 4 3 2 1) |'
  id: totrans-909
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (åˆ—è¡¨ 5 4 3 2 1) |'
- en: '| > ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â [add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 2Â 3Â 3Â 3))
    |'
  id: totrans-910
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([æ˜ å°„](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â [åŠ ä¸€](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 2Â 3Â 3Â 3))
    |'
- en: '| (list 2 3 3 4 4 4) |'
  id: totrans-911
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (åˆ—è¡¨ 2 3 3 4 4 4) |'
- en: 'In contrast, [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    and [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    reduce lists to a [Boolean](part_one.html#%28tech._boolean%29):'
  id: totrans-912
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æ­¤ç›¸åï¼Œ[andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    å’Œ [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    å°†åˆ—è¡¨ç¼©å‡ä¸º [å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29)ï¼š
- en: '| > ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)Â [odd?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5))
    |'
  id: totrans-913
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)Â [odd?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5))
    |'
- en: '| #false |'
  id: totrans-914
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #false |'
- en: '| > ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â [odd?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5))
    |'
  id: totrans-915
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â [odd?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5))
    |'
- en: '| #true |'
  id: totrans-916
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: Hence, this kind of computation is called a reduction.
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œè¿™ç§è®¡ç®—è¢«ç§°ä¸ºç¼©å‡ã€‚
- en: '| ;Â [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X] -> Y |'
  id: totrans-918
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X] -> Y |'
- en: '| ;Â applies f from right to left to each item in lx and b |'
  id: totrans-919
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â applies f from right to left to each item in lx and b |'
- en: '| ;Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)  f  b  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  (f  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (f  x-n  b))
    |'
  id: totrans-920
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)  f  b  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  (f  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (f  x-n  b))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â fÂ bÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-921
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â fÂ bÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-922
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 0Â ''(1Â 2Â 3Â 4Â 5))
    |'
  id: totrans-923
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    0 ''(1Â 2Â 3Â 4Â 5)) |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  5  0)))))
    |'
  id: totrans-924
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â 0)))))
    |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  4  5))))
    |'
  id: totrans-925
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â 5))))
    |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  3  9)))
    |'
  id: totrans-926
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â 9)))
    |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  2  12))
    |'
  id: totrans-927
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â 12))
    |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â 14)
    |'
  id: totrans-928
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 1Â 14)
    |'
- en: '| Â  |'
  id: totrans-929
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X] -> Y |'
  id: totrans-930
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X] -> Y |'
- en: '| ;Â applies f from left to right to each item in lx and b |'
  id: totrans-931
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; ä»å·¦åˆ°å³å°† f åº”ç”¨åˆ° lx å’Œ b çš„æ¯ä¸ªå…ƒç´ ä¸Š |'
- en: '| ;Â ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)  f  b  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  (f  x-n  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (f  x-1  b))
    |'
  id: totrans-932
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; ([æŠ˜å ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    f b ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    x-1 [...] (http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    == (f x-n [...] (f x-1 b))) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â fÂ bÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-933
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ([æŠ˜å ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    f b lx) [...] (http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-934
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 0Â ''(1Â 2Â 3Â 4Â 5))
    |'
  id: totrans-935
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æŠ˜å ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    0 ''(1 2 3 4 5)) |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 2Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  1  0)))))
    |'
  id: totrans-936
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| == ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    5 ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    4 ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    3 ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    2 ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    1 0)))) |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  2  1))))
    |'
  id: totrans-937
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 3Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  2  1))))
    |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  3  3)))
    |'
  id: totrans-938
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 4Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  3  3)))
    |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  4  6))
    |'
  id: totrans-939
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â 5Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  4  6))
    |'
- en: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  5  10)
    |'
  id: totrans-940
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  5  10)
    |'
- en: ''
  id: totrans-941
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 96: ISLâ€™s abstract functions for list processing (2)'
  id: totrans-942
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 96ï¼šISLçš„åˆ—è¡¨å¤„ç†æŠ½è±¡å‡½æ•°ï¼ˆ2ï¼‰
- en: The two functions in [figureÂ 96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29),
    [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    and [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29),
    are extremely powerful. Both reduce lists to values. The sample computations explain
    the abstract examples in the headers of [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    and [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    via an application of the functions to [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29),
    0, and a short list. As you canMathematics calls functions associative if the
    order makes no difference. ISLâ€™s [=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)
    is associative on integers but not on inexacts. See below. see, [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    processes the list values from right to left and [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    from left to right. While for some functions the direction makes no difference,
    this isnâ€™t true in general.
  id: totrans-943
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ 96 ä¸­çš„ä¸¤ä¸ªå‡½æ•° [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    å’Œ [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    éå¸¸å¼ºå¤§ã€‚å®ƒä»¬éƒ½èƒ½å°†åˆ—è¡¨ç¼©å‡ä¸ºå€¼ã€‚ç¤ºä¾‹è®¡ç®—é€šè¿‡å°†å‡½æ•°åº”ç”¨äº [+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)ã€0
    å’Œä¸€ä¸ªçŸ­åˆ—è¡¨æ¥è§£é‡Š [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    å’Œ [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    çš„æŠ½è±¡ç¤ºä¾‹ã€‚å½“æ•°å­¦ä¸Šç§°å‡½æ•°ä¸ºç»“åˆå¾‹æ—¶ï¼Œé¡ºåºæ— å…³ç´§è¦ã€‚ISL çš„ [=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)
    åœ¨æ•´æ•°ä¸Šå…·æœ‰ç»“åˆå¾‹ï¼Œä½†åœ¨éç²¾ç¡®æ•°ä¸Šä¸å…·æœ‰ã€‚è§ä¸‹æ–‡ã€‚çœ‹åˆ°ï¼Œ[foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    ä»å³åˆ°å·¦å¤„ç†åˆ—è¡¨å€¼ï¼Œè€Œ [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    ä»å·¦åˆ°å³å¤„ç†ã€‚è™½ç„¶å¯¹äºæŸäº›å‡½æ•°æ¥è¯´ï¼Œæ–¹å‘æ— å…³ç´§è¦ï¼Œä½†é€šå¸¸å¹¶éå¦‚æ­¤ã€‚
- en: 'ExerciseÂ 256\. Explain the following abstract function:'
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  256ã€‚è§£é‡Šä»¥ä¸‹æŠ½è±¡å‡½æ•°ï¼š
- en: '| ;Â [X] [X -> [Number](part_one.html#%28tech._number%29)] [[NEList-of](#%28tech._sim-dd._nelist._of%29)
    X] -> X |'
  id: totrans-945
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [X] [X -> [æ•°å­—](part_one.html#%28tech._number%29)] [[NEList-of](#%28tech._sim-dd._nelist._of%29)
    X] -> X |'
- en: '| ;Â finds the (first) item in lx that maximizes  f |'
  id: totrans-946
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| åœ¨ lx ä¸­æ‰¾åˆ°ä½¿ f æœ€å¤§çš„ï¼ˆç¬¬ä¸€ä¸ªï¼‰é¡¹ |'
- en: '| ;Â if ([argmax](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._argmax%29%29)  f  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  x-1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  x-n))  ==  x-i,
    |'
  id: totrans-947
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| å¦‚æœ ([argmax](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._argmax%29%29)
    f ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    x-1 [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    x-n)) == x-iï¼Œ|'
- en: '| ;Â then ([>=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e~3d%29%29)  (f  x-i)  (f  x-1)),
    ([>=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e~3d%29%29)  (f  x-i)  (f  x-2)),
    ... |'
  id: totrans-948
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç„¶å([>=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e~3d%29%29)
    (f x-i) (f x-1)), ([>=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e~3d%29%29)
    (f x-i) (f x-2)), ... |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([argmax](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._argmax%29%29)Â fÂ lx)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-949
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ([argmax](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._argmax%29%29)
    f lx) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: Use it on concrete examples in ISL. Can you articulate an analogous purpose
    statement for [argmin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._argmin%29%29)?
  id: totrans-950
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ISLçš„å…·ä½“ä¾‹å­ä¸­ä½¿ç”¨å®ƒã€‚ä½ èƒ½é˜è¿°ä¸€ä¸ªç±»ä¼¼äº[argmin](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._argmin%29%29)çš„ç›®çš„é™ˆè¿°å—ï¼Ÿ
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â addressÂ [first-nameÂ last-nameÂ street])
    |'
  id: totrans-951
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)
    address [first-name last-name street]) |'
- en: '| ;Â An Addr is a structure: |'
  id: totrans-952
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªåœ°å€æ˜¯ä¸€ä¸ªç»“æ„ï¼š |'
- en: '| ;Â Â Â (make-address  [String](part_one.html#%28tech._string%29)  [String](part_one.html#%28tech._string%29)  [String](part_one.html#%28tech._string%29))
    |'
  id: totrans-953
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-address [String](part_one.html#%28tech._string%29) [String](part_one.html#%28tech._string%29)
    [String](part_one.html#%28tech._string%29)) |'
- en: '| ;Â interpretation associates an address with a person''s name |'
  id: totrans-954
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šå°†åœ°å€ä¸äººçš„åå­—å…³è” |'
- en: '| Â  |'
  id: totrans-955
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Addr](#%28tech._addr%29)] ->
    [String](part_one.html#%28tech._string%29) |'
  id: totrans-956
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29) [Addr](#%28tech._addr%29)] ->
    [String](part_one.html#%28tech._string%29) |'
- en: '| ;Â creates a string from first names, |'
  id: totrans-957
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»åå­—åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ |'
- en: '| ;Â sorted in alphabetical order, |'
  id: totrans-958
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æŒ‰å­—æ¯é¡ºåºæ’åºï¼Œ |'
- en: '| ;Â separated and surrounded by blank spaces |'
  id: totrans-959
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”±åˆ†å·åˆ†éš”å¹¶ç”±ç©ºæ ¼åŒ…å›´ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (listingÂ l)
    |'
  id: totrans-960
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (listing l) |'
- en: '| Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â string-append-with-spaceÂ "
    " |'
  id: totrans-961
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    string-append-with-space " " |'
- en: '| Â Â Â Â Â Â Â Â Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â address-first-nameÂ l)Â [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))))
    |'
  id: totrans-962
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    address-first-name l) [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))))
    |'
- en: '| Â  |'
  id: totrans-963
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [String](part_one.html#%28tech._string%29)  [String](part_one.html#%28tech._string%29)
    -> [String](part_one.html#%28tech._string%29) |'
  id: totrans-964
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [String](part_one.html#%28tech._string%29) [String](part_one.html#%28tech._string%29)
    -> [String](part_one.html#%28tech._string%29) |'
- en: '| ;Â appends two strings, prefixes with " " |'
  id: totrans-965
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œä»¥ç©ºæ ¼å‰ç¼€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (string-append-with-spaceÂ sÂ t)
    |'
  id: totrans-966
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (string-append-with-spaceÂ sÂ t)
    |'
- en: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "
    "Â sÂ t)) |'
  id: totrans-967
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "
    "Â sÂ t)) |'
- en: '| Â  |'
  id: totrans-968
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ex0
    |'
  id: totrans-969
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ex0
    |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (make-addressÂ "Robert"Â Â Â "Findler"Â "South")
    |'
  id: totrans-970
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (make-addressÂ "Robert"Â Â Â "Findler"Â "South")
    |'
- en: '| Â Â Â Â Â Â Â Â (make-addressÂ "Matthew"Â Â "Flatt"Â Â Â "Canyon") |'
  id: totrans-971
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â (make-addressÂ "Matthew"Â Â "Flatt"Â Â Â "Canyon") |'
- en: '| Â Â Â Â Â Â Â Â (make-addressÂ "Shriram"Â Â "Krishna"Â "Yellow"))) |'
  id: totrans-972
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â (make-addressÂ "Shriram"Â Â "Krishna"Â "Yellow"))) |'
- en: '| Â  |'
  id: totrans-973
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (listingÂ ex0)Â "
    Matthew Robert Shriram ") |'
  id: totrans-974
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (listingÂ ex0)Â "
    Matthew Robert Shriram ") |'
- en: ''
  id: totrans-975
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 97: Creating a program with abstractions'
  id: totrans-976
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾97ï¼šä½¿ç”¨æŠ½è±¡åˆ›å»ºç¨‹åº
- en: '[FigureÂ 97](#%28counter._%28figure._fig~3alist-of-names%29%29) illustrates
    the power of composing the functions from [figuresÂ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)
    and [96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29). Its main function
    is listing. The purpose is to create a string from a list of addresses. Its purpose
    statement suggests three tasks and thus the design of three functions:'
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾97](#%28counter._%28figure._fig~3alist-of-names%29%29)å±•ç¤ºäº†ä»[å›¾95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)å’Œ[96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29)ä¸­ç»„åˆå‡½æ•°çš„åŠ›é‡ã€‚å…¶ä¸»è¦åŠŸèƒ½æ˜¯åˆ—å‡ºã€‚ç›®çš„æ˜¯ä»ä¸€ä¸ªåœ°å€åˆ—è¡¨ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å…¶ç›®çš„å£°æ˜å»ºè®®äº†ä¸‰ä¸ªä»»åŠ¡ï¼Œå› æ­¤è®¾è®¡äº†ä¸‰ä¸ªå‡½æ•°ï¼š'
- en: one that extracts the first names from the given list of Addr;
  id: totrans-978
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªä»ç»™å®šçš„åœ°å€åˆ—è¡¨ä¸­æå–é¦–åçš„å‡½æ•°ï¼›
- en: one that sorts these names in alphabetical order; and
  id: totrans-979
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå°†è¿™äº›åå­—æŒ‰å­—æ¯é¡ºåºæ’åºçš„å‡½æ•°ï¼›ä»¥åŠ
- en: one that concatenates the strings from step 2.
  id: totrans-980
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå°†æ­¥éª¤2ä¸­çš„å­—ç¬¦ä¸²è¿æ¥èµ·æ¥çš„å‡½æ•°ã€‚
- en: 'Before you read on, you may wish to execute this plan. That is, design all
    three functions and then compose them in the sense of [Composing Functions](part_two.html#%28part._sec~3acompounding2%29)
    to obtain your own version of listing.In the new world of abstractions, it is
    possible to design a single function that achieves the same goal. Take a close
    look at the innermost expression of listing in [figureÂ 97](#%28counter._%28figure._fig~3alist-of-names%29%29):'
  id: totrans-981
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç»§ç»­é˜…è¯»ä¹‹å‰ï¼Œä½ å¯èƒ½å¸Œæœ›æ‰§è¡Œè¿™ä¸ªè®¡åˆ’ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè®¾è®¡æ‰€æœ‰ä¸‰ä¸ªå‡½æ•°ï¼Œç„¶åæŒ‰ç…§[ç»„åˆå‡½æ•°](part_two.html#%28part._sec~3acompounding2%29)çš„æ„ä¹‰å°†å®ƒä»¬ç»„åˆèµ·æ¥ï¼Œä»¥è·å¾—ä½ è‡ªå·±çš„åˆ—è¡¨ç‰ˆæœ¬ã€‚åœ¨æŠ½è±¡çš„æ–°ä¸–ç•Œä¸­ï¼Œè®¾è®¡ä¸€ä¸ªå•ä¸€å‡½æ•°ä»¥å®ç°ç›¸åŒçš„ç›®æ ‡æ˜¯å¯èƒ½çš„ã€‚ä»”ç»†è§‚å¯Ÿ[å›¾97](#%28counter._%28figure._fig~3alist-of-names%29%29)ä¸­åˆ—è¡¨çš„æœ€å†…å±‚è¡¨è¾¾å¼ï¼š
- en: ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â address-first-nameÂ l)
  id: totrans-982
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â address-first-nameÂ l)
- en: 'By the purpose statement of [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29),
    it applies address-first-name to every single instance of address, producing a
    list of first names as strings. Here is the immediately surrounding expression:'
  id: totrans-983
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)çš„ç›®çš„å£°æ˜ï¼Œå®ƒå°†åœ°å€-åå­—åº”ç”¨äºåœ°å€çš„æ¯ä¸€ä¸ªå®ä¾‹ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å«åå­—å­—ç¬¦ä¸²çš„åˆ—è¡¨ã€‚ä»¥ä¸‹æ˜¯ç«‹å³å‘¨å›´çš„è¡¨è¾¾å¼ï¼š
- en: ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))
  id: totrans-984
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æ’åº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    [å­—ç¬¦ä¸²<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))
- en: 'The dots represent the result of the [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    expression. Since the latter supplies a list of strings, the [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    expression produces a sorted list of first names. And that leaves us with the
    outermost expression:'
  id: totrans-985
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›ç‚¹ä»£è¡¨ [æ˜ å°„](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    è¡¨è¾¾å¼çš„ç»“æœã€‚ç”±äºåè€…æä¾›äº†ä¸€ç»„å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œ[æ’åº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    è¡¨è¾¾å¼äº§ç”Ÿäº†ä¸€ä¸ªæ’åºåçš„åå­—åˆ—è¡¨ã€‚ç„¶åï¼Œæˆ‘ä»¬å¾—åˆ°äº†æœ€å¤–å±‚çš„è¡¨è¾¾å¼ï¼š
- en: ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â string-append-with-spaceÂ "
    "Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
  id: totrans-986
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æŠ˜å å³](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    string-append-with-space " " [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
- en: 'This one reduces the sorted list of first names to a single string, using a
    function named string-append-with-space. With such a suggestive name, you can
    easily imagine now that this reduction concatenates all the strings in the desired
    wayâ€”<wbr>even if you do not quite understand how the combination of [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    and string-append-with-space works.ExerciseÂ 257\. You can design [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    and [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    with the design recipes that you know, but they are not going to be like the ones
    that ISL provides. For example, the design of your own [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    function requires a use of the list [reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)
    function:'
  id: totrans-987
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå‡½æ•°å°†æ’åºåçš„åå­—åˆ—è¡¨ç¼©å‡ä¸ºä¸€ä¸ªå•ä¸€çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨äº†ä¸€ä¸ªåä¸º string-append-with-space çš„å‡½æ•°ã€‚æœ‰äº†è¿™æ ·ä¸€ä¸ªå¯Œæœ‰å¯ç¤ºæ€§çš„åå­—ï¼Œä½ ç°åœ¨å¯ä»¥å¾ˆå®¹æ˜“åœ°æƒ³è±¡å‡ºè¿™ç§ç¼©å‡æ˜¯ä»¥æœŸæœ›çš„æ–¹å¼è¿æ¥æ‰€æœ‰å­—ç¬¦ä¸²çš„â€”â€”å³ä½¿ä½ å¹¶ä¸å®Œå…¨ç†è§£
    [æŠ˜å å³](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    å’Œ string-append-with-space çš„ç»„åˆæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ç»ƒä¹ 257ã€‚ä½ å¯ä»¥ä½¿ç”¨ä½ å·²çŸ¥çš„é…æ–¹æ¥è®¾è®¡ [æ„å»ºåˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    å’Œ [æŠ˜å å·¦](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)ï¼Œä½†å®ƒä»¬ä¸ä¼šåƒ
    ISL æä¾›çš„é‚£æ ·ã€‚ä¾‹å¦‚ï¼Œä½ è‡ªå·±çš„ [æŠ˜å å·¦](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    å‡½æ•°è®¾è®¡éœ€è¦ä½¿ç”¨ [åè½¬](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)
    å‡½æ•°ï¼š
- en: '| ;Â [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X] -> Y |'
  id: totrans-988
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X] -> Y |'
- en: '| ;Â f*oldl works just like [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    |'
  id: totrans-989
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; f*oldl çš„å·¥ä½œæ–¹å¼ä¸ [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    ç›¸åŒ |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (f*oldlÂ [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ''()Â ''(aÂ bÂ c))
    |'
  id: totrans-990
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (f*oldlÂ [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ''()Â ''(aÂ bÂ c)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ''()Â ''(aÂ bÂ c)))
    |'
  id: totrans-991
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ''()Â ''(aÂ bÂ c)))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (f*oldlÂ [/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â ''(6Â 3Â 2))
    |'
  id: totrans-992
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (f*oldlÂ [/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â ''(6Â 3Â 2)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â [/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â ''(6Â 3Â 2)))
    |'
  id: totrans-993
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â [/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â ''(6Â 3Â 2)))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (f*oldlÂ fÂ [e](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._e%29%29)Â l)
    |'
  id: totrans-994
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (f*oldlÂ fÂ [e](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._e%29%29)Â l))
    |'
- en: '| Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â fÂ [e](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._e%29%29)Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â l)))
    |'
  id: totrans-995
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â fÂ [e](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._e%29%29)Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â l)))
    |'
- en: Design build-l*st, which works just like [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29).
    Hint Recall the add-at-end function from [exerciseÂ 193](part_two.html#%28counter._%28exercise._ex~3adraw-poly0%29%29).
    Note on Design [Accumulators](part_six.html) covers the concepts needed to design
    these functions from scratch.
  id: totrans-996
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ build-l*stï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ä¸ [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    ç›¸åŒã€‚æç¤ºï¼šå›æƒ³ä¸€ä¸‹ [ç»ƒä¹  193](part_two.html#%28counter._%28exercise._ex~3adraw-poly0%29%29)
    ä¸­çš„ add-at-end å‡½æ•°ã€‚å…³äºè®¾è®¡ [ç´¯åŠ å™¨](part_six.html) çš„è¯´æ˜æ¶µç›–äº†è®¾è®¡è¿™äº›å‡½æ•°æ‰€éœ€çš„æ¦‚å¿µã€‚
- en: 16.2Local Definitions[ğŸ”—](#(part._sec~3alocal-definitions) "Link to here")
  id: totrans-997
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.2å±€éƒ¨å®šä¹‰[ğŸ”—](#(part._sec~3alocal-definitions) "é“¾æ¥è‡³æ­¤")
- en: Letâ€™s take a second look at [figureÂ 97](#%28counter._%28figure._fig~3alist-of-names%29%29).
    The string-append-with-space function clearly plays a subordinate role and has
    no use outside of this narrow context. Furthermore, the organization of the function
    body does not reflect the three tasks identified above.
  id: totrans-998
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å†æ¬¡å®¡è§†[å›¾97](#%28counter._%28figure._fig~3alist-of-names%29%29)ã€‚å­—ç¬¦ä¸²è¿æ¥ç©ºæ ¼å‡½æ•°æ˜¾ç„¶æ‰®æ¼”ç€ä»å±è§’è‰²ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªç‹­çª„çš„ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰å…¶ä»–ç”¨é€”ã€‚æ­¤å¤–ï¼Œå‡½æ•°ä½“çš„ç»„ç»‡å¹¶ä¸åæ˜ ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªä»»åŠ¡ã€‚
- en: Almost all programming languages support some way for stating these kinds of
    relationships as a part of a program. The idea is called a local definition, also
    called a private definition. In ISL, [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expressions introduce locally defined functions, variables, and structure types.
  id: totrans-999
  prefs: []
  type: TYPE_NORMAL
  zh: å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒä»¥æŸç§æ–¹å¼åœ¨ç¨‹åºä¸­å£°æ˜è¿™äº›å…³ç³»ã€‚è¿™ç§æƒ³æ³•è¢«ç§°ä¸ºå±€éƒ¨å®šä¹‰ï¼Œä¹Ÿç§°ä¸ºç§æœ‰å®šä¹‰ã€‚åœ¨ISLä¸­ï¼Œ[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼å¼•å…¥äº†å±€éƒ¨å®šä¹‰çš„å‡½æ•°ã€å˜é‡å’Œç»“æ„ç±»å‹ã€‚
- en: 'This section introduces the mechanics of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29).
    In general, a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression has this shape:'
  id: totrans-1000
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚ä»‹ç»äº†[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)çš„æœºåˆ¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼å…·æœ‰ä»¥ä¸‹å½¢çŠ¶ï¼š
- en: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (defÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1001
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (defÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â Â ;Â â€”<wbr> IN â€”<wbr> |'
  id: totrans-1002
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ;Â â€”<wbr> IN â€”<wbr> |'
- en: '| Â Â body-expression) |'
  id: totrans-1003
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â body-expression) |'
- en: The evaluation of such an expression proceeds like the evaluation of a complete
    program. First, the definitions are set up, which may involve the evaluation of
    the right-hand side of a constant definition. Just as with the top-level definitions
    that you know and love, the definitions in a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression may refer to each other. They may also refer to parameters of the surrounding
    function. Second, the body-expression is evaluated and it becomes the result of
    the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression. It is often helpful to separate the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    defs from the body-expression with a comment; as indicated, we may use â€”<wbr>
    IN â€”<wbr> because the word suggests that the definitions are available in a certain
    expression.
  id: totrans-1004
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§è¡¨è¾¾å¼çš„è¯„ä¼°è¿‡ç¨‹ç±»ä¼¼äºå®Œæ•´ç¨‹åºçš„è¯„ä¼°ã€‚é¦–å…ˆï¼Œè®¾ç½®å®šä¹‰ï¼Œè¿™å¯èƒ½æ¶‰åŠè¯„ä¼°å¸¸é‡å®šä¹‰çš„å³ä¾§ã€‚å°±åƒä½ ç†Ÿæ‚‰å’Œå–œçˆ±çš„é¡¶å±‚å®šä¹‰ä¸€æ ·ï¼Œ[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ä¸­çš„å®šä¹‰å¯èƒ½ç›¸äº’å¼•ç”¨ã€‚å®ƒä»¬ä¹Ÿå¯èƒ½å¼•ç”¨å‘¨å›´å‡½æ•°çš„å‚æ•°ã€‚å…¶æ¬¡ï¼Œè¯„ä¼°body-expressionï¼Œå®ƒæˆä¸º[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„ç»“æœã€‚é€šå¸¸ï¼Œä½¿ç”¨æ³¨é‡Šå°†[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)å®šä¹‰ä¸body-expressionåˆ†å¼€æ˜¯æœ‰å¸®åŠ©çš„ï¼›å¦‚æŒ‡ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€”<wbr>
    IN â€”<wbr>ï¼Œå› ä¸ºè¿™ä¸ªè¯æš—ç¤ºå®šä¹‰åœ¨æŸä¸ªè¡¨è¾¾å¼ä¸­å¯ç”¨ã€‚
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Addr](#%28tech._addr%29)] ->
    [String](part_one.html#%28tech._string%29) |'
  id: totrans-1005
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Addr](#%28tech._addr%29)] ->
    [String](part_one.html#%28tech._string%29) |'
- en: '| ;Â creates a string of first names, |'
  id: totrans-1006
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰åå­—çš„å­—ç¬¦ä¸²ï¼Œ |'
- en: '| ;Â sorted in alphabetical order, |'
  id: totrans-1007
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æŒ‰å­—æ¯é¡ºåºæ’åºï¼Œ |'
- en: '| ;Â separated and surrounded by blank spaces |'
  id: totrans-1008
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ†éš”å¹¶åŒ…å›´ç€ç©ºæ ¼ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (listing.v2Â l)
    |'
  id: totrans-1009
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (listing.v2Â l)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â 1\.
    extract names |'
  id: totrans-1010
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;
    1. æå–åç§° |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â namesÂ Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â address-first-nameÂ l))
    |'
  id: totrans-1011
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â namesÂ ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â address-first-nameÂ l))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â 2\. sort the names |'
  id: totrans-1012
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; 2. å¯¹åç§°è¿›è¡Œæ’åº |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sortedÂ ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â namesÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29)))
    |'
  id: totrans-1013
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sortedÂ ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â namesÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â 3\. append them, add spaces |'
  id: totrans-1014
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; 3. å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œæ·»åŠ ç©ºæ ¼ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â [String](part_one.html#%28tech._string%29)  [String](part_one.html#%28tech._string%29)
    -> [String](part_one.html#%28tech._string%29) |'
  id: totrans-1015
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; [String](part_one.html#%28tech._string%29)  [String](part_one.html#%28tech._string%29)
    -> [String](part_one.html#%28tech._string%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â appends two strings, prefix with " " |'
  id: totrans-1016
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; å°†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥ï¼Œä»¥ç©ºæ ¼ä¸ºå‰ç¼€ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (helperÂ sÂ t)
    |'
  id: totrans-1017
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (helperÂ sÂ t)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "
    "Â sÂ t)) |'
  id: totrans-1018
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "
    "Â sÂ t)) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â concat+spaces
    |'
  id: totrans-1019
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â concat+spaces
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â helperÂ "
    "Â sorted))) |'
  id: totrans-1020
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â helperÂ "
    "Â sorted))) |'
- en: '| Â Â Â Â concat+spaces)) |'
  id: totrans-1021
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â concat+spaces)) |'
- en: ''
  id: totrans-1022
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 98: Organizing a function with [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)'
  id: totrans-1023
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾98ï¼šä½¿ç”¨ [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    ç»„ç»‡å‡½æ•°
- en: '[FigureÂ 98](#%28counter._%28figure._fig~3alisting2%29%29) shows a revision
    of [figureÂ 97](#%28counter._%28figure._fig~3alist-of-names%29%29) using [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29).
    The body of the listing.v2 function is now a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression, which consists of two pieces: a sequence of definitions and a body
    expression. The sequence of local definitions looks exactly like a sequence in
    DrRacketâ€™s definitions area.'
  id: totrans-1024
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾98](#%28counter._%28figure._fig~3alisting2%29%29) å±•ç¤ºäº†ä½¿ç”¨ [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    å¯¹ [å›¾97](#%28counter._%28figure._fig~3alist-of-names%29%29) çš„ä¿®è®¢ã€‚ç°åœ¨ï¼Œ`listing.v2`
    å‡½æ•°çš„ä¸»ä½“æ˜¯ä¸€ä¸ª [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼ï¼Œå®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€ç³»åˆ—å®šä¹‰å’Œä¸€ä¸ªä¸»ä½“è¡¨è¾¾å¼ã€‚å±€éƒ¨å®šä¹‰çš„åºåˆ—çœ‹èµ·æ¥å°±åƒ DrRacket çš„å®šä¹‰åŒºåŸŸä¸­çš„åºåˆ—ä¸€æ ·ã€‚'
- en: 'In this example, the sequence of definitions consists of four pieces: three
    constant definitions and a single function definition. Each constant definition
    represents one of the three planning tasks. The function definition is a renamed
    versionSince the names are visible only within the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression, shortening the name is fine. of string-append-with-space; it is used
    with [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    to implement the third task. The body of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    is just the name of the third task.'
  id: totrans-1025
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®šä¹‰çš„é¡ºåºç”±å››éƒ¨åˆ†ç»„æˆï¼šä¸‰ä¸ªå¸¸é‡å®šä¹‰å’Œä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚æ¯ä¸ªå¸¸é‡å®šä¹‰ä»£è¡¨ä¸‰ä¸ªè§„åˆ’ä»»åŠ¡ä¸­çš„ä¸€ä¸ªã€‚å‡½æ•°å®šä¹‰æ˜¯é‡å‘½ååçš„`string-append-with-space`ç‰ˆæœ¬ï¼›å®ƒä¸`foldr`ä¸€èµ·ä½¿ç”¨ä»¥å®ç°ç¬¬ä¸‰ä¸ªä»»åŠ¡ã€‚[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„ä¸»ä½“åªæ˜¯ç¬¬ä¸‰ä¸ªä»»åŠ¡çš„åç§°ã€‚
- en: 'The visually most appealing difference concerns the overall organization. It
    clearly brings across that the function achieves three tasks and in which order.
    As a matter of fact, this example demonstrates a general principle of readability:'
  id: totrans-1026
  prefs: []
  type: TYPE_NORMAL
  zh: è§†è§‰ä¸Šæœ€å¸å¼•äººçš„å·®å¼‚åœ¨äºæ•´ä½“ç»„ç»‡ç»“æ„ã€‚å®ƒæ¸…æ¥šåœ°è¡¨æ˜äº†è¯¥åŠŸèƒ½å®ç°äº†ä¸‰ä¸ªä»»åŠ¡ä»¥åŠå®ƒä»¬çš„é¡ºåºã€‚äº‹å®ä¸Šï¼Œè¿™ä¸ªä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªå…³äºå¯è¯»æ€§çš„æ™®éåŸåˆ™ï¼š
- en: Use [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    to reformulate deeply nested expressions. Use well-chosen names to express what
    the expressions compute.
  id: totrans-1027
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä½¿ç”¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)æ¥é‡æ–°è¡¨è¿°æ·±å±‚åµŒå¥—çš„è¡¨è¾¾å¼ã€‚ä½¿ç”¨ç²¾å¿ƒæŒ‘é€‰çš„åç§°æ¥è¡¨è¾¾è¡¨è¾¾å¼æ‰€è®¡ç®—çš„å†…å®¹ã€‚
- en: 'Future readers appreciate it because they can comprehend the code by looking
    at just the names and the body of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression.Note on Organization A [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression is really just an expression. It may show up wherever a regular expression
    shows up. Hence it is possible to indicate precisely where an auxiliary function
    is needed. Consider this reorganization of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression of listing.v2:'
  id: totrans-1028
  prefs: []
  type: TYPE_NORMAL
  zh: æœªæ¥çš„è¯»è€…ä¼šæ„Ÿæ¿€è¿™ä¸€ç‚¹ï¼Œå› ä¸ºä»–ä»¬åªéœ€æŸ¥çœ‹[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„åç§°å’Œä¸»ä½“ï¼Œå°±èƒ½ç†è§£ä»£ç ã€‚å…³äºç»„ç»‡çš„æ³¨æ„äº‹é¡¹ï¼š[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼å®é™…ä¸Šåªæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®ƒå¯èƒ½å‡ºç°åœ¨å¸¸è§„è¡¨è¾¾å¼å¯ä»¥å‡ºç°çš„åœ°æ–¹ã€‚å› æ­¤ï¼Œå¯ä»¥ç²¾ç¡®åœ°æŒ‡å‡ºéœ€è¦è¾…åŠ©å‡½æ•°çš„ä½ç½®ã€‚è€ƒè™‘å¯¹åˆ—è¡¨.v2ä¸­çš„[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„é‡æ–°ç»„ç»‡ï¼š
- en: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â namesÂ Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1029
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â namesÂ Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sortedÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1030
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sortedÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â concat+spaces
    |'
  id: totrans-1031
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â concat+spaces
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [String](part_one.html#%28tech._string%29)  [String](part_one.html#%28tech._string%29)
    -> [String](part_one.html#%28tech._string%29) |'
  id: totrans-1032
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [String](part_one.html#%28tech._string%29)  [String](part_one.html#%28tech._string%29)
    -> [String](part_one.html#%28tech._string%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (helperÂ sÂ t)
    |'
  id: totrans-1033
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (helperÂ sÂ t)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "
    "Â sÂ t))) |'
  id: totrans-1034
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "
    "Â sÂ t))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â helperÂ "
    "Â sorted)))) |'
  id: totrans-1035
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â helperÂ "
    "Â sorted)))) |'
- en: '| Â Â Â Â Â Â concat+spaces)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-1036
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â concat+spaces)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: It consists of exactly three definitions, suggesting it takes three computation
    steps. The third definition consists of a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression on the right-hand side, which expresses that helper is really just
    needed for the third step.
  id: totrans-1037
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒæ°å¥½ç”±ä¸‰ä¸ªå®šä¹‰ç»„æˆï¼Œæš—ç¤ºéœ€è¦ä¸‰ä¸ªè®¡ç®—æ­¥éª¤ã€‚ç¬¬ä¸‰ä¸ªå®šä¹‰åŒ…å«ä¸€ä¸ªå³ä¾§çš„[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ï¼Œè¿™è¡¨ç¤ºè¾…åŠ©å‡½æ•°å®é™…ä¸Šåªéœ€åœ¨ç¬¬ä¸‰æ­¥æ—¶ä½¿ç”¨ã€‚
- en: 'Whether you want to express relationships among the pieces of a program with
    such precision depends on two constraints: the programming language and how long
    the code is expected to live. Some languages cannot even express the idea that
    helper is useful for the third step only. Then again, you need to balance the
    time it takes to create the program and the expectation that you or someone needs
    to revisit it and comprehend the code again. The preference of the Racket team
    is to err on the side of future developers because the team members know that
    no program is ever finished and all programs will need fixing. End'
  id: totrans-1038
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ æ˜¯å¦å¸Œæœ›ç”¨è¿™æ ·çš„ç²¾ç¡®åº¦è¡¨è¾¾ç¨‹åºå„éƒ¨åˆ†ä¹‹é—´çš„å…³ç³»å–å†³äºä¸¤ä¸ªçº¦æŸï¼šç¼–ç¨‹è¯­è¨€ä»¥åŠé¢„æœŸä»£ç çš„å¯¿å‘½ã€‚æœ‰äº›è¯­è¨€ç”šè‡³æ— æ³•è¡¨è¾¾è¾…åŠ©å‡½æ•°ä»…åœ¨ç¬¬ä¸‰æ­¥æœ‰ç”¨çš„æƒ³æ³•ã€‚ç„¶è€Œï¼Œä½ è¿˜éœ€è¦å¹³è¡¡åˆ›å»ºç¨‹åºæ‰€éœ€çš„æ—¶é—´å’Œé¢„æœŸä½ æˆ–å…¶ä»–äººéœ€è¦é‡æ–°è®¿é—®å¹¶å†æ¬¡ç†è§£ä»£ç çš„æœŸæœ›ã€‚Racketå›¢é˜Ÿçš„åå¥½æ˜¯åå‘æœªæ¥çš„å¼€å‘è€…ï¼Œå› ä¸ºå›¢é˜Ÿæˆå‘˜çŸ¥é“æ²¡æœ‰ä»»ä½•ç¨‹åºæ˜¯å®Œç¾çš„ï¼Œæ‰€æœ‰ç¨‹åºéƒ½éœ€è¦ä¿®å¤ã€‚ç»“æŸ
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    [[Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Boolean](part_one.html#%28tech._boolean%29)] |'
  id: totrans-1039
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    [[Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Boolean](part_one.html#%28tech._boolean%29)] |'
- en: '| ;Â -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-1040
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â produces a version of alon0, sorted according to cmp |'
  id: totrans-1041
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”Ÿæˆä¸€ä¸ªæŒ‰cmpæ’åºçš„alon0ç‰ˆæœ¬ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmpÂ alon0Â cmp)
    |'
  id: totrans-1042
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmpÂ alon0Â cmp)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-1043
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â produces the sorted version of alon |'
  id: totrans-1044
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| äº§ç”Ÿalonçš„æ’åºç‰ˆæœ¬ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (isortÂ alon)
    |'
  id: totrans-1045
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (isortÂ alon)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1046
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ''()]
    |'
  id: totrans-1047
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â Â Â Â Â [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ''()]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1048
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (insertÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â (isortÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)))]))
    |'
  id: totrans-1049
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â Â Â Â Â Â (æ’å…¥Â ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â (isortÂ ([å…¶ä½™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)))]))
    |'
- en: '| Â  |'
  id: totrans-1050
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â [Number](part_one.html#%28tech._number%29) [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-1051
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â ;Â [æ•°å­—](part_one.html#%28tech._number%29) [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â inserts n into the sorted list of numbers alon |'
  id: totrans-1052
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â ;Â å°†næ’å…¥åˆ°æ’åºåçš„æ•°å­—åˆ—è¡¨alonä¸­ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (insertÂ nÂ alon)
    |'
  id: totrans-1053
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (insertÂ nÂ alon)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1054
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â nÂ ''())]
    |'
  id: totrans-1055
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â Â Â Â Â Â Â Â Â Â Â Â [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â nÂ ''())]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â (cmpÂ nÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon))
    |'
  id: totrans-1056
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â (cmpÂ nÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â nÂ alon)
    |'
  id: totrans-1057
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â nÂ alon)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)
    |'
  id: totrans-1058
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (insertÂ nÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon))))])))
    |'
  id: totrans-1059
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (insertÂ nÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)))))))
    |'
- en: '| Â Â Â Â (isortÂ alon0))) |'
  id: totrans-1060
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (isortÂ alon0))) |'
- en: ''
  id: totrans-1061
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 99: Organizing interconnected function definitions with [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)'
  id: totrans-1062
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾99ï¼šä½¿ç”¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ç»„ç»‡ç›¸äº’å…³è”çš„å‡½æ•°å®šä¹‰
- en: '[FigureÂ 99](#%28counter._%28figure._fig~3asort-local%29%29) presents a second
    example. The organization of this function definition informs the reader that
    sort-cmp calls on two auxiliary functions: isort and insert. By locality, it becomes
    obvious that the adjective â€œsortedâ€ in the purpose statement of insert refers
    to isort. In other words, insert is useful in this context only; a programmer
    should not try to use it elsewhere, out of context. While this constraint is already
    important in the original definition of the sort-cmp function, a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression expresses it as part of the program.'
  id: totrans-1063
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾99](#%28counter._%28figure._fig~3asort-local%29%29)å±•ç¤ºäº†ç¬¬äºŒä¸ªä¾‹å­ã€‚è¿™ä¸ªå‡½æ•°å®šä¹‰çš„ç»„ç»‡æ–¹å¼è®©è¯»è€…äº†è§£åˆ°sort-cmpè°ƒç”¨äº†ä¸¤ä¸ªè¾…åŠ©å‡½æ•°ï¼šisortå’Œinsertã€‚é€šè¿‡å±€éƒ¨æ€§ï¼Œå¾ˆæ˜æ˜¾ï¼Œinsertç›®çš„é™ˆè¿°ä¸­çš„å½¢å®¹è¯â€œsortedâ€æŒ‡çš„æ˜¯isortã€‚æ¢å¥è¯è¯´ï¼Œåœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œinsertæ˜¯æœ‰ç”¨çš„ï¼›ç¨‹åºå‘˜ä¸åº”è¯¥è¯•å›¾åœ¨å…¶ä»–ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨å®ƒã€‚è™½ç„¶è¿™ä¸ªçº¦æŸåœ¨sort-cmpå‡½æ•°çš„åŸå§‹å®šä¹‰ä¸­å·²ç»å¾ˆé‡è¦ï¼Œä½†[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼å°†å…¶ä½œä¸ºç¨‹åºçš„ä¸€éƒ¨åˆ†è¡¨è¾¾å‡ºæ¥ã€‚'
- en: Another important aspect of this reorganization of sort-cmpâ€™s definition concerns
    the visibility of cmp, the second function parameter. The locally defined functions
    can refer to cmp because it is defined in the context of the definitions. By not
    passing around cmp from isort to insert (or back), the reader can immediately
    infer that cmp remains the same throughout the sorting process.
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§å¯¹sort-cmpå®šä¹‰çš„é‡æ–°ç»„ç»‡çš„ä¸€ä¸ªé‡è¦æ–¹é¢æ˜¯å…³äºcmpï¼ˆç¬¬äºŒä¸ªå‡½æ•°å‚æ•°ï¼‰çš„å¯è§æ€§ã€‚å±€éƒ¨å®šä¹‰çš„å‡½æ•°å¯ä»¥å¼•ç”¨cmpï¼Œå› ä¸ºå®ƒæ˜¯åœ¨å®šä¹‰çš„ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„ã€‚é€šè¿‡ä¸åœ¨isortåˆ°insertï¼ˆæˆ–åä¹‹ï¼‰ä¹‹é—´ä¼ é€’cmpï¼Œè¯»è€…å¯ä»¥ç«‹å³æ¨æ–­å‡ºcmpåœ¨æ•´ä¸ªæ’åºè¿‡ç¨‹ä¸­ä¿æŒä¸å˜ã€‚
- en: ExerciseÂ 258\. Use a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression to organize the functions for drawing a polygon in [figureÂ 73](part_two.html#%28counter._%28figure._fig~3adraw-poly%29%29).
    If a globally defined function is widely useful, do not make it local.
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 258\. ä½¿ç”¨[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼æ¥ç»„ç»‡ç»˜åˆ¶å¤šè¾¹å½¢çš„å‡½æ•°ï¼Œå¦‚[å›¾73](part_two.html#%28counter._%28figure._fig~3adraw-poly%29%29)æ‰€ç¤ºã€‚å¦‚æœå…¨å±€å®šä¹‰çš„å‡½æ•°å…·æœ‰å¹¿æ³›ç”¨é€”ï¼Œåˆ™ä¸è¦å°†å…¶è®¾ç½®ä¸ºå±€éƒ¨ã€‚
- en: ExerciseÂ 259\. Use a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression to organize the functions for rearranging words from [Word Games, the
    Heart of the Problem](part_two.html#%28part._sec~3apermute%29).
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 259\. ä½¿ç”¨[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼æ¥ç»„ç»‡ä»[Word
    Games, the Heart of the Problem](part_two.html#%28part._sec~3apermute%29)ä¸­é‡æ–°æ’åˆ—å•è¯çš„å‡½æ•°ã€‚
- en: '| ;Â [Nelon](#%28tech._nelon%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-1067
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Nelon](#%28tech._nelon%29) -> [Number](part_one.html#%28tech._number%29)
    |'
- en: '| ;Â determines the smallest number on l |'
  id: totrans-1068
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â determines the smallest number on l |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (inf.v2Â l)
    |'
  id: totrans-1069
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (inf.v2Â l)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1070
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    |'
  id: totrans-1071
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1072
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  smallest-in-rest  (inf.v2  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  l))))
    |'
  id: totrans-1073
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  smallest-in-rest  (inf.v2  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  l))))
    |'
- en: '| Â Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â smallest-in-rest)
    |'
  id: totrans-1074
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â smallest-in-rest)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |'
  id: totrans-1075
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â smallest-in-rest))])) |'
  id: totrans-1076
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â smallest-in-rest))])) |'
- en: ''
  id: totrans-1077
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 100: Using [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    may improve performance'
  id: totrans-1078
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 100ï¼šä½¿ç”¨ [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    å¯èƒ½ä¼šæé«˜æ€§èƒ½
- en: Our final example of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)â€™s
    usefulness concerns performance. Consider the definition of inf in [figureÂ 89](#%28counter._%28figure._fig~3aex-abs-min-max%29%29).
    It contains two copies of
  id: totrans-1079
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å…³äº [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    æœ‰ç”¨çš„æœ€ç»ˆä¾‹å­æ˜¯å…³äºæ€§èƒ½çš„ã€‚è€ƒè™‘ [å›¾ 89](#%28counter._%28figure._fig~3aex-abs-min-max%29%29) ä¸­
    inf çš„å®šä¹‰ã€‚å®ƒåŒ…å«ä¸¤ä¸ªå‰¯æœ¬çš„
- en: (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))
  id: totrans-1080
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))
- en: which is the natural recursion in the second [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    line. Depending on the outcome of the question, the expression is evaluated twice.
    Using [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    to name this expression yields an improvement to the functionâ€™s readability as
    well as to its performance.
  id: totrans-1081
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯åœ¨ç¬¬äºŒä¸ª [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    è¡Œä¸­çš„è‡ªç„¶é€’å½’ã€‚æ ¹æ®é—®é¢˜çš„ç»“æœï¼Œè¡¨è¾¾å¼ä¼šè¢«è¯„ä¼°ä¸¤æ¬¡ã€‚ä½¿ç”¨ [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    æ¥å‘½åè¿™ä¸ªè¡¨è¾¾å¼ï¼Œä¸ä»…æé«˜äº†å‡½æ•°çš„å¯è¯»æ€§ï¼Œä¹Ÿæé«˜äº†å…¶æ€§èƒ½ã€‚
- en: '[FigureÂ 100](#%28counter._%28figure._fig~3alocal-performance%29%29) displays
    the revised version. Here the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression shows up in the middle of a [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    expression. It defines a constant whose value is the result of a natural recursion.
    Now recall that the evaluation of a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression evaluates the definitions once before proceeding to the body, meaning
    (inf  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  l))
    is evaluated once while the body of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression refers to the result twice. Thus, [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    saves the re-evaluation of (inf  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  l))
    at each stage in the computation.'
  id: totrans-1082
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾ 100](#%28counter._%28figure._fig~3alocal-performance%29%29) æ˜¾ç¤ºäº†ä¿®æ”¹åçš„ç‰ˆæœ¬ã€‚åœ¨è¿™é‡Œï¼Œ[å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼å‡ºç°åœ¨ [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    è¡¨è¾¾å¼çš„ä¸­é—´ã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªå¸¸é‡ï¼Œå…¶å€¼æ˜¯è‡ªç„¶é€’å½’çš„ç»“æœã€‚ç°åœ¨å›æƒ³ä¸€ä¸‹ï¼Œ[å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼çš„è¯„ä¼°ä¼šåœ¨è¿›è¡Œä¸»ä½“ä¹‹å‰å…ˆè¯„ä¼°å®šä¹‰ä¸€æ¬¡ï¼Œè¿™æ„å‘³ç€ (inf  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  l))
    åªä¼šè¢«è¯„ä¼°ä¸€æ¬¡ï¼Œè€Œ [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼çš„ä¸»ä½“ä¼šä¸¤æ¬¡å¼•ç”¨è¿™ä¸ªç»“æœã€‚å› æ­¤ï¼Œ[å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    åœ¨è®¡ç®—çš„æ¯ä¸ªé˜¶æ®µéƒ½èŠ‚çœäº†å¯¹ (inf  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  l))
    çš„é‡æ–°è¯„ä¼°ã€‚'
- en: ExerciseÂ 260\. Confirm the insight about the performance of inf.v2 by repeating
    the performance experiment of [exerciseÂ 238](#%28counter._%28exercise._ex~3aabs-min-max%29%29).
  id: totrans-1083
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  260\. é€šè¿‡é‡å¤æ‰§è¡Œ [ç»ƒä¹  238](#%28counter._%28exercise._ex~3aabs-min-max%29%29) çš„æ€§èƒ½å®éªŒæ¥ç¡®è®¤å…³äº
    inf.v2 æ€§èƒ½çš„æ´å¯Ÿã€‚
- en: '| ;Â [Inventory](#%28tech._inventory%29) -> [Inventory](#%28tech._inventory%29)
    |'
  id: totrans-1084
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [åº“å­˜](#%28tech._inventory%29) -> [åº“å­˜](#%28tech._inventory%29) |'
- en: '| ;Â creates an [Inventory](#%28tech._inventory%29) from an-inv for all |'
  id: totrans-1085
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ›å»ºä¸€ä¸ªä»an-invä¸­æå–æ‰€æœ‰é¡¹ç›®çš„[åº“å­˜](#%28tech._inventory%29) |'
- en: '| ;Â those items that cost less than a dollar |'
  id: totrans-1086
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â é‚£äº›ä»·æ ¼ä½äºä¸€ç¾å…ƒçš„é¡¹ç›® |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (extract1Â an-inv)
    |'
  id: totrans-1087
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (extract1Â an-inv)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1088
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â an-inv)Â ''()]
    |'
  id: totrans-1089
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â an-inv)Â ''()]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1090
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1091
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â an-inv))Â 1.0)
    |'
  id: totrans-1092
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â an-inv))Â 1.0)
    |'
- en: '| Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â an-inv)Â (extract1  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  an-inv)))]
    |'
  id: totrans-1093
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â an-inv)Â (extract1  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  an-inv)))]
    |'
- en: '| Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (extract1  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  an-inv))])]))
    |'
  id: totrans-1094
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â Â Â (extract1  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  an-inv))])]))
    |'
- en: ''
  id: totrans-1095
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 101: A function on inventories, see [exerciseÂ 261](#%28counter._%28exercise._ex~3alocal-interm1%29%29)'
  id: totrans-1096
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾101ï¼šåº“å­˜ä¸Šçš„ä¸€ä¸ªå‡½æ•°ï¼Œå‚è§[ç»ƒä¹ 261](#%28counter._%28exercise._ex~3alocal-interm1%29%29)
- en: ExerciseÂ 261\. Consider the function definition in [figureÂ 101](#%28counter._%28figure._fig~3aex~3alocal-interm1%29%29).
    Both clauses in the nested [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    expression extract the first item from an-inv and both compute (extract1  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  an-inv)).
    Use [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    to name this expression. Does this help increase the speed at which the function
    computes its result? Significantly? A little bit? Not at all?
  id: totrans-1097
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  261. è€ƒè™‘[å›¾ 101](#%28counter._%28figure._fig~3aex~3alocal-interm1%29%29)ä¸­çš„å‡½æ•°å®šä¹‰ã€‚åµŒå¥—çš„[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)è¡¨è¾¾å¼ä¸­çš„ä¸¤ä¸ªå­å¥éƒ½ä»-an-invä¸­æå–ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼Œå¹¶ä¸”ä¸¤è€…éƒ½è®¡ç®—(extract1
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    an-inv)). ä½¿ç”¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)æ¥å‘½åè¿™ä¸ªè¡¨è¾¾å¼ã€‚è¿™æœ‰åŠ©äºæé«˜å‡½æ•°è®¡ç®—ç»“æœçš„é€Ÿåº¦å—ï¼Ÿæ˜¾è‘—åœ°ï¼Ÿæœ‰ä¸€ç‚¹ï¼Ÿå®Œå…¨æ²¡æœ‰ï¼Ÿ
- en: 16.3Local Definitions Add Expressive Power[ğŸ”—](#(part._sec~3alocal-is-power)
    "Link to here")
  id: totrans-1098
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.3å±€éƒ¨å®šä¹‰å¢åŠ è¡¨è¾¾èƒ½åŠ›[ğŸ”—](#(part._sec~3alocal-is-power) "é“¾æ¥åˆ°æ­¤å¤„")
- en: The third and last example illustrates how [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    adds expressive power to BSL and BSL+. [Finite State Machines](part_two.html#%28part._sec~3asec-fsm-list%29)
    presents the design of a world program that simulates how a finite state machine
    recognizes sequences of keystrokes. While the data analysis leads in a natural
    manner to the data definitions in [figureÂ 82](part_two.html#%28counter._%28figure._fig~3afsm1%29%29),
    an attempt to design the main function of the world program fails. Specifically,
    even though the given finite state machine remains the same over the course of
    the simulation, the state of the world must include it so that the program can
    transition from one state to the next when the player presses a key.
  id: totrans-1099
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯æœ€åä¸€ä¸ªä¾‹å­è¯´æ˜äº†[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)å¦‚ä½•å¢åŠ BSLå’ŒBSL+çš„è¡¨è¾¾èƒ½åŠ›ã€‚[æœ‰é™çŠ¶æ€æœº](part_two.html#%28part._sec~3asec-fsm-list%29)å±•ç¤ºäº†å¦‚ä½•è®¾è®¡ä¸€ä¸ªä¸–ç•Œç¨‹åºæ¥æ¨¡æ‹Ÿæœ‰é™çŠ¶æ€æœºè¯†åˆ«æŒ‰é”®åºåˆ—ã€‚è™½ç„¶æ•°æ®åˆ†æè‡ªç„¶åœ°å¼•å¯¼åˆ°[å›¾
    82](part_two.html#%28counter._%28figure._fig~3afsm1%29%29)ä¸­çš„æ•°æ®å®šä¹‰ï¼Œä½†å°è¯•è®¾è®¡ä¸–ç•Œç¨‹åºçš„ä¸»å‡½æ•°å¤±è´¥äº†ã€‚å…·ä½“æ¥è¯´ï¼Œå°½ç®¡åœ¨æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­ç»™å®šçš„æœ‰é™çŠ¶æ€æœºä¿æŒä¸å˜ï¼Œä½†ä¸–ç•ŒçŠ¶æ€å¿…é¡»åŒ…å«å®ƒï¼Œä»¥ä¾¿ç¨‹åºå¯ä»¥åœ¨ç©å®¶æŒ‰ä¸‹é”®æ—¶ä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚
- en: '| ;Â [FSM](part_two.html#%28tech._fsm%29)  [FSM-State](part_two.html#%28tech._fsm._state%29)
    -> [FSM-State](part_two.html#%28tech._fsm._state%29) |'
  id: totrans-1100
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [çŠ¶æ€æœº](part_two.html#%28tech._fsm%29)  [çŠ¶æ€æœºçŠ¶æ€](part_two.html#%28tech._fsm._state%29)
    -> [çŠ¶æ€æœºçŠ¶æ€](part_two.html#%28tech._fsm._state%29) |'
- en: '| ;Â matches the keys pressed by a player with the given [FSM](part_two.html#%28tech._fsm%29)
    |'
  id: totrans-1101
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸ç©å®¶æŒ‰ä¸‹çš„ç»™å®š[çŠ¶æ€æœº](part_two.html#%28tech._fsm%29)åŒ¹é…çš„é”® |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (simulateÂ fsmÂ s0)
    |'
  id: totrans-1102
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (simulateÂ fsmÂ s0)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â State
    of the World: [FSM-State](part_two.html#%28tech._fsm._state%29) |'
  id: totrans-1103
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â ä¸–ç•ŒçŠ¶æ€ï¼š[çŠ¶æ€æœºçŠ¶æ€](part_two.html#%28tech._fsm._state%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â [FSM-State](part_two.html#%28tech._fsm._state%29)  [KeyEvent](part_one.html#%28tech._keyevent%29)
    -> [FSM-State](part_two.html#%28tech._fsm._state%29) |'
  id: totrans-1104
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ;Â [çŠ¶æ€æœºçŠ¶æ€](part_two.html#%28tech._fsm._state%29)  [æŒ‰é”®äº‹ä»¶](part_one.html#%28tech._keyevent%29)
    -> [çŠ¶æ€æœºçŠ¶æ€](part_two.html#%28tech._fsm._state%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-stateÂ sÂ key-event)
    |'
  id: totrans-1105
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-stateÂ sÂ key-event)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (findÂ fsmÂ s))) |'
  id: totrans-1106
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â (findÂ fsmÂ s))) |'
- en: '| Â Â Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0
    |'
  id: totrans-1107
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0
    |'
- en: '| Â Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
  id: totrans-1108
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
- en: '| Â Â Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state])))
    |'
  id: totrans-1109
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state]])
    |'
- en: '| Â  |'
  id: totrans-1110
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [FSM-State](part_two.html#%28tech._fsm._state%29) -> [Image](part_one.html#%28tech._image%29)
    |'
  id: totrans-1111
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [FSM-State](part_two.html#%28tech._fsm._state%29) -> [Image](part_one.html#%28tech._image%29)
    |'
- en: '| ;Â renders current state as colored square |'
  id: totrans-1112
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†å½“å‰çŠ¶æ€æ¸²æŸ“ä¸ºå½©è‰²æ–¹å— |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (state-as-colored-squareÂ s)
    |'
  id: totrans-1113
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (state-as-colored-squareÂ s)
    |'
- en: '| Â Â ([square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â 100Â "solid"Â s))
    |'
  id: totrans-1114
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â 100Â "solid"Â s))
    |'
- en: '| Â  |'
  id: totrans-1115
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [FSM](part_two.html#%28tech._fsm%29)  [FSM-State](part_two.html#%28tech._fsm._state%29)
    -> [FSM-State](part_two.html#%28tech._fsm._state%29) |'
  id: totrans-1116
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [FSM](part_two.html#%28tech._fsm%29)  [FSM-State](part_two.html#%28tech._fsm._state%29)
    -> [FSM-State](part_two.html#%28tech._fsm._state%29) |'
- en: '| ;Â finds the current state''s successor in fsm |'
  id: totrans-1117
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æŸ¥æ‰¾å½“å‰çŠ¶æ€åœ¨æœ‰é™çŠ¶æ€æœºä¸­çš„åç»§çŠ¶æ€ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (findÂ transitionsÂ current)
    |'
  id: totrans-1118
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (findÂ transitionsÂ current)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1119
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â transitions)Â ([error](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._error%29%29)Â "not
    found")] |'
  id: totrans-1120
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â transitions)Â ([error](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._error%29%29)Â "not
    found")] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1121
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â transitions)))
    |'
  id: totrans-1122
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â transitions)))
    |'
- en: '| Â Â Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â (state=?Â (transition-currentÂ s)Â current)
    |'
  id: totrans-1123
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â (state=?Â (transition-currentÂ s)Â current)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (transition-nextÂ s) |'
  id: totrans-1124
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â (transition-nextÂ s) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (findÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â transitions)Â current)))]))
    |'
  id: totrans-1125
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â (findÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â transitions)Â current)))]))
    |'
- en: ''
  id: totrans-1126
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 102: Power from local function definitions'
  id: totrans-1127
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 102ï¼šå±€éƒ¨å‡½æ•°å®šä¹‰çš„æƒåŠ›
- en: '[FigureÂ 102](#%28counter._%28figure._fig~3alocal-is-power%29%29) shows an ISL
    solution to the problem. It uses [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    function definitions and can thus equate the state of the world with the current
    state of the finite state machine. Specifically, simulate locally defines the
    key-event handler, which consumes only the current state of the world and the
    [KeyEvent](part_one.html#%28tech._keyevent%29) that represents the playerâ€™s keystroke.
    Because this locally defined function can refer to the given finite state machine
    fsm, it is possible to find the next state in the transition tableâ€”<wbr>even though
    the transition table is not an argument to this function.'
  id: totrans-1128
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾102](#%28counter._%28figure._fig~3alocal-is-power%29%29) å±•ç¤ºäº†è¯¥é—®é¢˜çš„ ISL è§£å†³æ–¹æ¡ˆã€‚å®ƒä½¿ç”¨
    [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    å‡½æ•°å®šä¹‰ï¼Œå› æ­¤å¯ä»¥å°†ä¸–ç•Œçš„çŠ¶æ€ä¸æœ‰é™çŠ¶æ€æœºçš„å½“å‰çŠ¶æ€ç­‰åŒèµ·æ¥ã€‚å…·ä½“æ¥è¯´ï¼Œå±€éƒ¨æ¨¡æ‹Ÿå®šä¹‰äº†å…³é”®äº‹ä»¶å¤„ç†å™¨ï¼Œå®ƒä»…æ¶ˆè€—å½“å‰ä¸–ç•Œçš„çŠ¶æ€å’Œä»£è¡¨ç©å®¶æŒ‰é”®çš„ [KeyEvent](part_one.html#%28tech._keyevent%29)ã€‚å› ä¸ºæ­¤å±€éƒ¨å®šä¹‰çš„å‡½æ•°å¯ä»¥å¼•ç”¨ç»™å®šçš„æœ‰é™çŠ¶æ€æœº
    fsmï¼Œæ‰€ä»¥å¯ä»¥åœ¨è½¬æ¢è¡¨ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€â€”â€”å³ä½¿è½¬æ¢è¡¨ä¸æ˜¯æ­¤å‡½æ•°çš„å‚æ•°ã€‚'
- en: As the figure also shows, all other functions are defined in parallel to the
    main function. This includes the function find, which performs the actual search
    in the transition table. The key improvement over BSL is that a locally defined
    function can reference both parameters to the function and globally defined auxiliary
    functions.
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚å›¾ç¤ºæ‰€ç¤ºï¼Œæ‰€æœ‰å…¶ä»–å‡½æ•°éƒ½ä¸ä¸»å‡½æ•°å¹¶è¡Œå®šä¹‰ã€‚è¿™åŒ…æ‹¬ find å‡½æ•°ï¼Œå®ƒæ‰§è¡Œè½¬æ¢è¡¨ä¸­çš„å®é™…æœç´¢ã€‚ä¸ BSL ç›¸æ¯”çš„å…³é”®æ”¹è¿›æ˜¯ï¼Œå±€éƒ¨å®šä¹‰çš„å‡½æ•°å¯ä»¥å¼•ç”¨å‡½æ•°çš„å‚æ•°å’Œå…¨å±€å®šä¹‰çš„è¾…åŠ©å‡½æ•°ã€‚
- en: In short, this program organization signals to a future reader exactly the insights
    that the data analysis stage of the design recipe for world programs finds. First,
    the given representation of the finite state machine remains unchanged. Second,
    what changes over the course of the simulation is the current state of the finite
    machine.
  id: totrans-1130
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œè¿™ç§ç¨‹åºç»„ç»‡å‘æœªæ¥çš„è¯»è€…æ˜ç¡®ä¼ è¾¾äº†è®¾è®¡é…æ–¹ä¸­ä¸–ç•Œç¨‹åºæ•°æ®åˆ†æé˜¶æ®µæ‰€å‘ç°çš„è§è§£ã€‚é¦–å…ˆï¼Œæœ‰é™çŠ¶æ€æœºçš„ç»™å®šè¡¨ç¤ºä¿æŒä¸å˜ã€‚å…¶æ¬¡ï¼Œåœ¨æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­å‘ç”Ÿå˜åŒ–çš„æ˜¯æœ‰é™æœºçš„å½“å‰çŠ¶æ€ã€‚
- en: The lesson is that the chosen programming language affects a programmerâ€™s ability
    to express solutions, as well as a future readerâ€™s ability to recognize the design
    insight of the original creator.
  id: totrans-1131
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ•™è®­æ˜¯ï¼Œæ‰€é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€ä¼šå½±å“ç¨‹åºå‘˜è¡¨è¾¾è§£å†³æ–¹æ¡ˆçš„èƒ½åŠ›ï¼Œä»¥åŠæœªæ¥è¯»è€…è¯†åˆ«åŸå§‹åˆ›ä½œè€…è®¾è®¡æ´å¯Ÿçš„èƒ½åŠ›ã€‚
- en: ExerciseÂ 262\. Design the function identityM, which creates diagonal squares
    of 0s and 1s:Linear algebra calls these squares identity matrices.
  id: totrans-1132
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 262ã€‚è®¾è®¡å‡½æ•° identityMï¼Œå®ƒåˆ›å»ºç”±0å’Œ1ç»„æˆçš„å¯¹è§’çº¿æ­£æ–¹å½¢ï¼šçº¿æ€§ä»£æ•°å°†è¿™äº›æ­£æ–¹å½¢ç§°ä¸ºå•ä½çŸ©é˜µã€‚
- en: '| > (identityMÂ 1) |'
  id: totrans-1133
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (identityMÂ 1) |'
- en: '| (list (list 1)) |'
  id: totrans-1134
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (list (list 1)) |'
- en: '| > (identityMÂ 3) |'
  id: totrans-1135
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (identityMÂ 3) |'
- en: '| (list (list 1 0 0) (list 0 1 0) (list 0 0 1)) |'
  id: totrans-1136
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (list (list 1 0 0) (list 0 1 0) (list 0 0 1)) |'
- en: Use the structural design recipe and exploit the power of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29).
  id: totrans-1137
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ç»“æ„åŒ–è®¾è®¡é…æ–¹å¹¶åˆ©ç”¨ [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    çš„åŠ›é‡ã€‚
- en: 16.4Computing with [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)[ğŸ”—](#(part._sec~3aeval-local)
    "Link to here")
  id: totrans-1138
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.4 ä½¿ç”¨ [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)[ğŸ”—](#(part._sec~3aeval-local)
    "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'ISLâ€™s [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression calls for the first rule of calculation that is truly beyond pre-algebra
    knowledge. The rule is relatively simple but quite unusual. Itâ€™s best illustrated
    with some examples. We start with a second look at this definition:'
  id: totrans-1139
  prefs: []
  type: TYPE_NORMAL
  zh: ISL çš„ [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼éœ€è¦è®¡ç®—çš„ç¬¬ä¸€æ¡è§„åˆ™çœŸæ­£è¶…è¶Šäº†ä»£æ•°çŸ¥è¯†ã€‚è¿™æ¡è§„åˆ™ç›¸å¯¹ç®€å•ä½†ç›¸å½“ä¸å¯»å¸¸ã€‚æœ€å¥½é€šè¿‡ä¸€äº›ä¾‹å­æ¥è¯´æ˜ã€‚æˆ‘ä»¬é¦–å…ˆå†æ¬¡å®¡è§†è¿™ä¸ªå®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (simulateÂ fsmÂ s0)
    |'
  id: totrans-1140
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (simulateÂ fsmÂ s0)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-stateÂ sÂ key-event)
    |'
  id: totrans-1141
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-stateÂ sÂ key-event)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (findÂ fsmÂ s))) |'
  id: totrans-1142
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([æŸ¥æ‰¾](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._find%29%29)Â fsmÂ s)))
    |'
- en: '| Â Â Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0
    |'
  id: totrans-1143
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â s0
    |'
- en: '| Â Â Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
  id: totrans-1144
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â çŠ¶æ€ä¸ºå½©è‰²æ–¹å—]
    |'
- en: '| Â Â Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state])))
    |'
  id: totrans-1145
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[æŒ‰é”®](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state]])
    |'
- en: Now suppose we wish to calculate what DrRacket might produce for
  id: totrans-1146
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å‡è®¾æˆ‘ä»¬å¸Œæœ›è®¡ç®— DrRacket å¯èƒ½ä¼šç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼š
- en: (simulateÂ AN-FSMÂ A-STATE)
  id: totrans-1147
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (simulateÂ AN-FSMÂ A-STATE)
- en: 'where AN-FSM and A-STATE are unknown values. Using the usual substitution rule,
    we proceed as follows:'
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ AN-FSM å’Œ A-STATE æ˜¯æœªçŸ¥å€¼ã€‚ä½¿ç”¨å¸¸è§„æ›¿æ¢è§„åˆ™ï¼Œæˆ‘ä»¬æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š
- en: '| == |'
  id: totrans-1149
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-stateÂ sÂ key-event)
    |'
  id: totrans-1150
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-stateÂ sÂ key-event)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â (findÂ AN-FSMÂ s))) |'
  id: totrans-1151
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â ([æŸ¥æ‰¾](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._find%29%29)Â AN-FSMÂ s)))
    |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â A-STATE
    |'
  id: totrans-1152
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â A-STATE
    |'
- en: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
  id: totrans-1153
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â [[ç»˜åˆ¶](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â çŠ¶æ€ä¸ºå½©è‰²æ–¹å—]
    |'
- en: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state]))
    |'
  id: totrans-1154
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[æŒ‰é”®](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state]))
    |'
- en: 'This is the body of simulate with all occurrences of fsm and s0 replaced by
    the argument values AN-FSM and A-STATE, respectively.At this point we are stuck
    because the expression is a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression, and we donâ€™t know how to calculate with it. So here we go. To deal
    with a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression in a program evaluation, we proceed in two steps:'
  id: totrans-1155
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¯¹æ¨¡æ‹Ÿä½“çš„æè¿°ï¼Œå…¶ä¸­æ‰€æœ‰å‡ºç°çš„çŠ¶æ€æœºï¼ˆfsmï¼‰å’Œåˆå§‹çŠ¶æ€ï¼ˆs0ï¼‰åˆ†åˆ«è¢«å‚æ•°å€¼ AN-FSM å’Œ A-STATE æ›¿æ¢ã€‚åœ¨è¿™ä¸ªç‚¹ä¸Šï¼Œæˆ‘ä»¬é™·å…¥äº†å›°å¢ƒï¼Œå› ä¸ºè¡¨è¾¾å¼æ˜¯ä¸€ä¸ª[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬ä¸çŸ¥é“å¦‚ä½•è®¡ç®—å®ƒã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±è¿™æ ·å¼€å§‹äº†ã€‚ä¸ºäº†åœ¨ç¨‹åºè¯„ä¼°ä¸­å¤„ç†ä¸€ä¸ª[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬é‡‡å–ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š
- en: We rename the locally defined constants and functions to use names that arenâ€™t
    used elsewhere in the program.
  id: totrans-1156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†å±€éƒ¨å®šä¹‰çš„å¸¸é‡å’Œå‡½æ•°é‡å‘½åï¼Œä»¥ä½¿ç”¨ç¨‹åºå…¶ä»–åœ°æ–¹æœªä½¿ç”¨çš„åç§°ã€‚
- en: We lift the definitions in the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression to the top level and evaluate the body of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression next.
  id: totrans-1157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ä¸­çš„å®šä¹‰æå‡åˆ°é¡¶çº§ï¼Œå¹¶éšåè¯„ä¼°[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„ä¸»ä½“ã€‚
- en: 'Stop! Donâ€™t think. Accept the two steps for now.Letâ€™s apply these two steps
    to our running example, one at a time:'
  id: totrans-1158
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ä¸è¦æ€è€ƒã€‚ç°åœ¨å…ˆæ¥å—è¿™ä¸¤ä¸ªæ­¥éª¤ã€‚è®©æˆ‘ä»¬é€ä¸ªåº”ç”¨è¿™ä¸¤ä¸ªæ­¥éª¤åˆ°æˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ä¸­ï¼š
- en: '| == |'
  id: totrans-1159
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-state-1Â sÂ key-event)
    |'
  id: totrans-1160
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-state-1Â sÂ key-event)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â (findÂ AN-FSMÂ a-state))) |'
  id: totrans-1161
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â (findÂ AN-FSMÂ a-state))) |'
- en: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â A-STATE
    |'
  id: totrans-1162
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â A-STATE
    |'
- en: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
  id: totrans-1163
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
- en: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state-1]))
    |'
  id: totrans-1164
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state-1]))
    |'
- en: 'Our choice is to append â€œ-1â€ to the end of the function name. If this variant
    of the name already exists, we use â€œ-2â€ instead, and so on. So here is the result
    of step 2: We use ![image](../Images/edd0c64d2a0e49812157c4bc27f3bcbd.png) to
    indicate that the step produces two pieces.'
  id: totrans-1165
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„é€‰æ‹©æ˜¯å°†â€œ-1â€æ·»åŠ åˆ°å‡½æ•°åç§°çš„æœ«å°¾ã€‚å¦‚æœè¿™ä¸ªåç§°å˜ä½“å·²ç»å­˜åœ¨ï¼Œæˆ‘ä»¬åˆ™ä½¿ç”¨â€œ-2â€ä»£æ›¿ï¼Œä¾æ­¤ç±»æ¨ã€‚å› æ­¤ï¼Œè¿™é‡Œæ˜¯ç¬¬äºŒæ­¥çš„ç»“æœï¼šæˆ‘ä»¬ä½¿ç”¨![image](../Images/edd0c64d2a0e49812157c4bc27f3bcbd.png)æ¥è¡¨ç¤ºè¿™ä¸€æ­¥äº§ç”Ÿäº†ä¸¤ä¸ªéƒ¨åˆ†ã€‚
- en: '| == |'
  id: totrans-1166
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-state-1Â sÂ key-event)
    |'
  id: totrans-1167
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-next-state-1Â sÂ key-event)
    |'
- en: '| Â Â Â (findÂ AN-FSMÂ a-state)) |'
  id: totrans-1168
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â (findÂ AN-FSMÂ a-state)) |'
- en: '| ![image](../Images/f81524158f0da5b54f46790ec8196cc4.png) |'
  id: totrans-1169
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/f81524158f0da5b54f46790ec8196cc4.png) |'
- en: '| ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â A-STATE
    |'
  id: totrans-1170
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)Â A-STATE
    |'
- en: '| Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
  id: totrans-1171
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[to-draw](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29)Â state-as-colored-square]
    |'
- en: '| Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state-1])
    |'
  id: totrans-1172
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[on-key](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29)Â find-next-state-1])
    |'
- en: 'The result is an ordinary program: some globally defined constants and functions
    followed by an expression. The normal rules apply, and there is nothing else to
    say.At this point, it is time to rationalize the two steps. For the renaming step,
    we use a variant of the inf function from [figureÂ 100](#%28counter._%28figure._fig~3alocal-performance%29%29).
    Clearly,'
  id: totrans-1173
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœæ˜¯ä¸€ä¸ªæ™®é€šçš„ç¨‹åºï¼šä¸€äº›å…¨å±€å®šä¹‰çš„å¸¸é‡å’Œå‡½æ•°ï¼Œåé¢è·Ÿç€ä¸€ä¸ªè¡¨è¾¾å¼ã€‚æ­£å¸¸è§„åˆ™é€‚ç”¨ï¼Œæ²¡æœ‰å…¶ä»–è¦è¯´çš„ã€‚åœ¨è¿™ä¸ªæ—¶å€™ï¼Œæ˜¯æ—¶å€™å¯¹è¿™ä¸¤ä¸ªæ­¥éª¤è¿›è¡Œåˆç†åŒ–ã€‚å¯¹äºé‡å‘½åæ­¥éª¤ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥è‡ª[å›¾100](#%28counter._%28figure._fig~3alocal-performance%29%29)çš„infå‡½æ•°çš„ä¸€ä¸ªå˜ä½“ã€‚æ˜¾ç„¶ï¼Œ
- en: (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â ==Â 1
  id: totrans-1174
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â ==Â 1
- en: 'The question is whether you can show the calculations that DrRacket performs
    to determine this result.The first step is straightforward:'
  id: totrans-1175
  prefs: []
  type: TYPE_NORMAL
  zh: é—®é¢˜æ˜¯ä½ æ˜¯å¦å¯ä»¥å±•ç¤ºDrRacketæ‰§è¡Œçš„è®¡ç®—æ¥ç¡®å®šè¿™ä¸ªç»“æœã€‚ç¬¬ä¸€æ­¥æ˜¯ç›´æ¥çš„ï¼š
- en: '| (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))
    |'
  id: totrans-1176
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))
    |'
- en: '| == |'
  id: totrans-1177
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1178
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3)))
    |'
  id: totrans-1179
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3)))
    |'
- en: '| Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
  id: totrans-1180
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1181
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest
    |'
  id: totrans-1182
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3)))))
    |'
  id: totrans-1183
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3)))))
    |'
- en: '| Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1184
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest)
    |'
  id: totrans-1185
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest)
    |'
- en: '| Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
  id: totrans-1186
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
- en: '| Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest]))])
    |'
  id: totrans-1187
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|       [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    æœ€å°å€¼åœ¨å‰©ä½™éƒ¨åˆ†]])]) |'
- en: 'We substitute ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  3)
    for l.Since the list isnâ€™t empty, we skip the steps for evaluating the conditional
    and focus on the next expression to be evaluated:'
  id: totrans-1188
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°† ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3) æ›¿æ¢ä¸º lã€‚ç”±äºåˆ—è¡¨ä¸ä¸ºç©ºï¼Œæˆ‘ä»¬è·³è¿‡è¯„ä¼°æ¡ä»¶çš„æ­¥éª¤ï¼Œä¸“æ³¨äºä¸‹ä¸€ä¸ªè¦è¯„ä¼°çš„è¡¨è¾¾å¼ï¼š
- en: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-1189
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| == |'
  id: totrans-1190
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest
    |'
  id: totrans-1191
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    smallest-in-rest |'
- en: '| Â Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3)))))
    |'
  id: totrans-1192
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (inf ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3)))) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1193
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest)
    |'
  id: totrans-1194
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3)) smallest-in-rest) |'
- en: '| Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
  id: totrans-1195
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3))] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest]))
    |'
  id: totrans-1196
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    æœ€å°å€¼åœ¨å‰©ä½™éƒ¨åˆ†]] |'
- en: 'Applying the two steps for the rule of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    yields two parts: the local definition lifted to the top and the body of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression. Here is how we write this down:'
  id: totrans-1197
  prefs: []
  type: TYPE_NORMAL
  zh: åº”ç”¨ [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è§„åˆ™çš„ä¸¤ä¸ªæ­¥éª¤äº§ç”Ÿä¸¤ä¸ªéƒ¨åˆ†ï¼šå±€éƒ¨å®šä¹‰æå‡åˆ°é¡¶éƒ¨å’Œ [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼çš„ä¸»ä½“ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„è®°å½•æ–¹å¼ï¼š
- en: '| == |'
  id: totrans-1198
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest-1
    |'
  id: totrans-1199
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest-1)
    |'
- en: '| Â Â (inf  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  3))))
    |'
  id: totrans-1200
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (inf  ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))))
    |'
- en: '| ![image](../Images/6c7369245fe7bb07bf1f9fa8c71c7052.png) |'
  id: totrans-1201
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/6c7369245fe7bb07bf1f9fa8c71c7052.png) |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1202
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest-1)
    |'
  id: totrans-1203
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest-1)
    |'
- en: '| Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
  id: totrans-1204
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest-1])
    |'
  id: totrans-1205
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest-1])
    |'
- en: 'Curiously, the next expression we need to evaluate is the right-hand side of
    a constant definition in a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression. But the point of computing is that you can replace expressions with
    their equivalents wherever you want:'
  id: totrans-1206
  prefs: []
  type: TYPE_NORMAL
  zh: å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦è¯„ä¼°çš„ä¸‹ä¸€æ¡è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå±€éƒ¨è¡¨è¾¾å¼ä¸­çš„å¸¸é‡å®šä¹‰çš„å³ä¾§ã€‚[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼ã€‚ä½†è®¡ç®—çš„ç›®çš„åœ¨äºä½ å¯ä»¥å°†è¡¨è¾¾å¼æ›¿æ¢ä¸ºå…¶ç­‰ä»·è¡¨è¾¾å¼ï¼Œæ— è®ºä½ æƒ³è¦åœ¨å“ªé‡Œï¼š
- en: '| == |'
  id: totrans-1207
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest-1
    |'
  id: totrans-1208
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest-1)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1209
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3)))Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))]
    |'
  id: totrans-1210
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3))) ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3))] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1211
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [([å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29))
    |'
- en: '| Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest
    |'
  id: totrans-1212
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    smallest-in-rest |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3)))))
    |'
  id: totrans-1213
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [([inf](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._inf%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3))))) |'
- en: '| Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1214
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))Â smallest-in-rest)
    |'
  id: totrans-1215
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3)) [smallest-in-rest))] |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))]
    |'
  id: totrans-1216
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3)) |'
- en: '| Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest]))]))
    |'
  id: totrans-1217
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [([å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    smallest-in-rest]))]))] |'
- en: '| ![image](../Images/1d6bc48f7d8cdf87cbc15327bd5643db.png) |'
  id: totrans-1218
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![å›¾ç‰‡](../Images/1d6bc48f7d8cdf87cbc15327bd5643db.png) |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1219
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest-1)
    |'
  id: totrans-1220
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3)) smallest-in-rest-1) |'
- en: '| Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
  id: totrans-1221
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3))] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest-1])
    |'
  id: totrans-1222
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    smallest-in-rest-1]) |'
- en: 'Once again, we skip the conditional steps and focus on the [else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    clause, which is also a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression. Indeed it is another variant of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression in the definition of inf, with a different list value substituted for
    the parameter:'
  id: totrans-1223
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ï¼Œæˆ‘ä»¬è·³è¿‡æ¡ä»¶æ­¥éª¤ï¼Œä¸“æ³¨äº[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)å­å¥ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ª[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ã€‚å®é™…ä¸Šï¼Œå®ƒæ˜¯infå®šä¹‰ä¸­[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„å¦ä¸€ç§å˜ä½“ï¼Œåªæ˜¯ç”¨ä¸åŒçš„åˆ—è¡¨å€¼æ›¿æ¢äº†å‚æ•°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest-1
    |'
  id: totrans-1224
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    smallest-in-rest-1 |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest
    |'
  id: totrans-1225
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    smallest-in-rest |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3)))))
    |'
  id: totrans-1226
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â (inf ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3))))) |'
- en: '| Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1227
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))Â smallest-in-rest)
    |'
  id: totrans-1228
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3)) smallest-in-rest) |'
- en: '| Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))]
    |'
  id: totrans-1229
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3))] |'
- en: '| Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest])))
    |'
  id: totrans-1230
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    smallest-in-rest]]) |'
- en: '| ![image](../Images/b18b9f365d1da996561c151ac6d7127e.png) |'
  id: totrans-1231
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/b18b9f365d1da996561c151ac6d7127e.png) |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1232
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest-1)
    |'
  id: totrans-1233
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3)) smallest-in-rest-1) |'
- en: '| Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
  id: totrans-1234
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3))] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest-3])
    |'
  id: totrans-1235
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    smallest-in-rest-3]] |'
- en: 'Because it originates from the same [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression in inf, it uses the same name for the constant, smallest-in-rest. If
    we didnâ€™t rename local definitions before lifting them, we would introduce two
    conflicting definitions for the same name, and conflicting definitions are catastrophic
    for mathematical calculations.Here is how we continue:'
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸ºå®ƒæºè‡ªinfä¸­çš„ç›¸åŒ[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ï¼Œæ‰€ä»¥å®ƒä½¿ç”¨ç›¸åŒçš„åç§°`smallest-in-rest`ä½œä¸ºå¸¸é‡ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰åœ¨æå‡ä¹‹å‰é‡å‘½åå±€éƒ¨å®šä¹‰ï¼Œæˆ‘ä»¬å°±ä¼šä¸ºç›¸åŒçš„åç§°å¼•å…¥ä¸¤ä¸ªå†²çªçš„å®šä¹‰ï¼Œè€Œå†²çªçš„å®šä¹‰å¯¹æ•°å­¦è®¡ç®—æ˜¯ç¾éš¾æ€§çš„ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„ç»§ç»­æ–¹å¼ï¼š
- en: '| == |'
  id: totrans-1237
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest-2
    |'
  id: totrans-1238
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    smallest-in-rest-2 |'
- en: '| Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))))
    |'
  id: totrans-1239
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (inf ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3)))) |'
- en: '| ![image](../Images/fa0d9787fcb0dc9c2a20d229d4be7f70.png) |'
  id: totrans-1240
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/fa0d9787fcb0dc9c2a20d229d4be7f70.png) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â smallest-in-rest-1
    |'
  id: totrans-1241
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    smallest-in-rest-1 |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1242
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))Â smallest-in-rest-2)
    |'
  id: totrans-1243
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3)) smallest-in-rest-2) |'
- en: '| Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 3))]
    |'
  id: totrans-1244
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 3))] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest-2]))
    |'
  id: totrans-1245
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    smallest-in-rest-2])) |'
- en: '| ![image](../Images/c9d06cabf86c765c084f199e79b0b04d.png) |'
  id: totrans-1246
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/c9d06cabf86c765c084f199e79b0b04d.png) |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1247
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))Â smallest-in-rest-1)
    |'
  id: totrans-1248
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3)) smallest-in-rest-1) |'
- en: '| Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))]
    |'
  id: totrans-1249
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3))] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â smallest-in-rest-1])
    |'
  id: totrans-1250
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    smallest-in-rest-1]) |'
- en: The key is that we now have two definitions generated from one and the same
    [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression in the function definition. As a matter of fact we get one such definition
    per item in the given list (minus 1).
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: å…³é”®åœ¨äºæˆ‘ä»¬ç°åœ¨ä»åŒä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­çš„åŒä¸€ä¸ªå±€éƒ¨è¡¨è¾¾å¼ç”Ÿæˆäº†ä¸¤ä¸ªå®šä¹‰ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸ºç»™å®šåˆ—è¡¨ä¸­çš„æ¯ä¸ªé¡¹ç›®ï¼ˆå‡å» 1ï¼‰éƒ½å¾—åˆ°è¿™æ ·ä¸€ä¸ªå®šä¹‰ã€‚
- en: ExerciseÂ 263\. Use DrRacketâ€™s stepper to study the steps of this calculation
    in detail.
  id: totrans-1252
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  263ã€‚ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨æ¥è¯¦ç»†ç ”ç©¶è¿™ä¸ªè®¡ç®—çš„æ­¥éª¤ã€‚
- en: ExerciseÂ 264\. Use DrRacketâ€™s stepper to calculate out how it evaluates
  id: totrans-1253
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  264ã€‚ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨æ¥è®¡ç®—å®ƒçš„è¯„ä¼°ç»“æœ
- en: (supÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 3))
  id: totrans-1254
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (sup ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 3))
- en: where sup is the function from [figureÂ 89](#%28counter._%28figure._fig~3aex-abs-min-max%29%29)
    equipped with [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29).
  id: totrans-1255
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ sup æ˜¯ [å›¾ 89](#%28counter._%28figure._fig~3aex-abs-min-max%29%29) ä¸­çš„å‡½æ•°ï¼Œå¹¶å¸¦æœ‰
    [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ã€‚
- en: This passage and some of the following exercises already need the â€œIntermediate
    Student with lambdaâ€ language. In DrRacket, choose the corresponding entry from
    the â€œHow to Design Programsâ€ submenu in the â€œLanguageâ€ menu.
  id: totrans-1256
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¿™æ®µæ–‡å­—å’Œæ¥ä¸‹æ¥çš„æŸäº›ç»ƒä¹ å·²ç»éœ€è¦â€œå¸¦æœ‰ lambda çš„ä¸­çº§å­¦ç”Ÿâ€è¯­è¨€ã€‚åœ¨ DrRacket ä¸­ï¼Œè¯·åœ¨â€œè¯­è¨€â€èœå•çš„â€œå¦‚ä½•è®¾è®¡ç¨‹åºâ€å­èœå•ä¸­é€‰æ‹©ç›¸åº”çš„æ¡ç›®ã€‚
- en: 'For the explanation of the lifting step, we use a toy example that gets to
    the heart of the issue, namely, that functions are now values:'
  id: totrans-1257
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæå‡æ­¥éª¤çš„è§£é‡Šï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç©å…·ç¤ºä¾‹ï¼Œå®ƒè§¦åŠäº†é—®é¢˜çš„æ ¸å¿ƒï¼Œå³å‡½æ•°ç°åœ¨æ˜¯å€¼ï¼š
- en: '| (([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x))Â 3)))Â f)
    |'
  id: totrans-1258
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (f x) ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    4 ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)
    x)) 3))) f) |'
- en: '| Â 1) |'
  id: totrans-1259
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   1) |'
- en: Deep down we know that this is equivalent to (f  1) where
  id: totrans-1260
  prefs: []
  type: TYPE_NORMAL
  zh: æ·±å…¥äº†è§£æˆ‘ä»¬çŸ¥é“è¿™ç­‰ä»·äº (f 1) å…¶ä¸­
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x))Â 3))
  id: totrans-1261
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (f x) ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    4 ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)
    x)) 3))
- en: 'but the rules of pre-algebra donâ€™t apply. The key is that functions can be
    the result of expressions, including [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expressions. And the best way to think of this is to move such [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    definitions to the top and to deal with them like ordinary definitions. Doing
    so renders the definition visible for every step of the calculation. By now you
    also understand that the renaming step makes sure that the lifting of definitions
    does not accidentally conflate names or introduce conflicting definitions.Here
    are the first two steps of the calculation:'
  id: totrans-1262
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼Œä»£æ•°é¢„æ¼”çš„è§„åˆ™ä¸é€‚ç”¨ã€‚å…³é”®æ˜¯å‡½æ•°å¯ä»¥æ˜¯è¡¨è¾¾å¼çš„ç»“æœï¼ŒåŒ…æ‹¬[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼ã€‚æœ€å¥½çš„æ€è€ƒæ–¹å¼æ˜¯å°†è¿™æ ·çš„[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)å®šä¹‰ç§»åˆ°é¡¶éƒ¨ï¼Œå¹¶åƒæ™®é€šå®šä¹‰ä¸€æ ·å¤„ç†å®ƒä»¬ã€‚è¿™æ ·åšå¯ä»¥ä½¿å®šä¹‰åœ¨è®¡ç®—çš„æ¯ä¸€æ­¥éƒ½å¯è§ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ ä¹Ÿåº”è¯¥ç†è§£é‡å‘½åæ­¥éª¤ç¡®ä¿å®šä¹‰çš„æå‡ä¸ä¼šæ„å¤–åœ°æ··æ·†åç§°æˆ–å¼•å…¥å†²çªçš„å®šä¹‰ã€‚ä»¥ä¸‹æ˜¯è®¡ç®—çš„æœ€åˆä¸¤æ­¥ï¼š
- en: '| (([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x))Â 3)))Â f)
    |'
  id: totrans-1263
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ((([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([å¹³æ–¹](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x))Â 3)))Â f)
    |'
- en: '| Â 1) |'
  id: totrans-1264
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â 1) |'
- en: '| == |'
  id: totrans-1265
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| (([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)  (f-1  x)  ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)  4  ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)  x))  3)))
    |'
  id: totrans-1266
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ((([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (f-1Â x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([å¹³æ–¹](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x))Â 3)))
    |'
- en: '| Â Â Â f-1) |'
  id: totrans-1267
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â f-1) |'
- en: '| Â 1) |'
  id: totrans-1268
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â 1) |'
- en: '| == |'
  id: totrans-1269
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (f-1Â x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x))Â 3))
    |'
  id: totrans-1270
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (f-1Â x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x))Â 3))
    |'
- en: '| ![image](../Images/fda76b3aa17c32d4e8d533392d24e197.png) |'
  id: totrans-1271
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/fda76b3aa17c32d4e8d533392d24e197.png) |'
- en: '| (f-1Â 1) |'
  id: totrans-1272
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (f-1Â 1) |'
- en: 'Remember that the second step of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    rule replaces the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression with its body. In this case, the body is just the name of the function,
    and its surrounding is an application to 1. The rest is arithmetic:'
  id: totrans-1273
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œ[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è§„åˆ™çš„ç¬¬äºŒæ­¥æ˜¯å°† [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼æ›¿æ¢ä¸ºå…¶ä¸»ä½“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸»ä½“åªæ˜¯å‡½æ•°çš„åç§°ï¼Œå…¶å‘¨å›´æ˜¯å¯¹ 1 çš„åº”ç”¨ã€‚å…¶ä½™çš„æ˜¯ç®—æœ¯è¿ç®—ï¼š
- en: (f-1  1)Â ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â 1))Â 3)Â ==Â 7
  id: totrans-1274
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (f-1  1)Â ==Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 4Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â 1))Â 3)Â ==Â 7
- en: ExerciseÂ 265\. Use DrRacketâ€™s stepper to fill in any gaps above.
  id: totrans-1275
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  265ã€‚ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨å¡«å†™ä¸Šè¿°ä»»ä½•ç©ºç™½ã€‚
- en: ExerciseÂ 266\. Use DrRacketâ€™s stepper to find out how ISL evaluates
  id: totrans-1276
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  266ã€‚ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨æ‰¾å‡º ISL å¦‚ä½•è¯„ä¼°
- en: '| (([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â xÂ 3))
    |'
  id: totrans-1277
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â xÂ 3))
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gÂ x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ 4)))
    |'
  id: totrans-1278
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gÂ x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ 4)))
    |'
- en: '| Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([odd?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â (fÂ (gÂ 1)))
    |'
  id: totrans-1279
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([odd?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._odd~3f%29%29)Â (fÂ (gÂ 1)))
    |'
- en: '| Â Â Â Â Â Â Â f |'
  id: totrans-1280
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â f |'
- en: '| Â Â Â Â Â Â Â g)) |'
  id: totrans-1281
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â g)) |'
- en: '| Â 2) |'
  id: totrans-1282
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â 2) |'
- en: to 5.
  id: totrans-1283
  prefs: []
  type: TYPE_NORMAL
  zh: å°†å€¼å¢åŠ åˆ°5ã€‚
- en: 16.5Using Abstractions, by Example[ğŸ”—](#(part._sec~3ausage-examples) "Link to
    here")
  id: totrans-1284
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.5ä½¿ç”¨æŠ½è±¡ï¼Œä¸¾ä¾‹è¯´æ˜[ğŸ”—](#(part._sec~3ausage-examples) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Now that you understand [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29),
    you can easily use the abstractions from [figuresÂ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)
    and [96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29). Letâ€™s look at examples,
    starting with this one:'
  id: totrans-1285
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å·²ç»ç†è§£äº†[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ï¼Œä½ å¯ä»¥è½»æ¾åœ°ä½¿ç”¨[å›¾95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)å’Œ[96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29)ä¸­çš„æŠ½è±¡ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›ä¾‹å­ï¼Œä»è¿™ä¸€ä¸ªå¼€å§‹ï¼š
- en: Sample Problem Design add-3-to-all. The function consumes a list of [Posn](part_one.html#%28tech._posn%29)s
    and adds 3 to the x-coordinates of each.
  id: totrans-1286
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Sample Problem Design add-3-to-all. å‡½æ•°æ¶ˆè€—ä¸€ä¸ª[Posn](part_one.html#%28tech._posn%29)åˆ—è¡¨ï¼Œå¹¶å°†3æ·»åŠ åˆ°æ¯ä¸ªç‚¹çš„xåæ ‡ä¸Šã€‚
- en: 'If we follow the design recipe and take the problem statement as a purpose
    statement, we can quickly step through the first three steps:'
  id: totrans-1287
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬éµå¾ªè®¾è®¡é…æ–¹ï¼Œå¹¶å°†é—®é¢˜é™ˆè¿°ä½œä¸ºç›®çš„é™ˆè¿°ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå®Œæˆå‰ä¸‰ä¸ªæ­¥éª¤ï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
  id: totrans-1288
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
- en: '| ;Â adds 3 to each x-coordinate on the given list |'
  id: totrans-1289
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸ºç»™å®šåˆ—è¡¨ä¸­çš„æ¯ä¸ªxåæ ‡æ·»åŠ 3 |'
- en: '| Â  |'
  id: totrans-1290
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-1291
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â (add-3-to-all |'
  id: totrans-1292
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (add-3-to-all |'
- en: '| Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 1)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0)))
    |'
  id: totrans-1293
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 1)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0)))
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 6Â 1)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 0)))
    |'
  id: totrans-1294
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 6Â 1)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 0)))
    |'
- en: '| Â  |'
  id: totrans-1295
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-3-to-allÂ lop)Â ''())
    |'
  id: totrans-1296
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-3-to-allÂ lop)Â ''())
    |'
- en: While you can run the program, doing so signals a failure in the one test case
    because the function returns the default value '().
  id: totrans-1297
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ è¿è¡Œç¨‹åºæ—¶ï¼Œè¿™æ ·åšä¼šåœ¨ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸­å‘å‡ºå¤±è´¥ä¿¡å·ï¼Œå› ä¸ºå‡½æ•°è¿”å›é»˜è®¤å€¼ '()ã€‚
- en: 'At this point, we stop and ask what kind of function we are dealing with. Clearly,
    add-3-to-all is a list-processing function. The question is whether it is like
    any of the functions in [figuresÂ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)
    and [96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29). The signature tells
    us that add-3-to-all is a list-processing function that consumes and produces
    a list. In the two figures, we have several functions with similar signatures:
    [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29),
    [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29),
    and [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29).'
  id: totrans-1298
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬åœä¸‹æ¥é—®è‡ªå·±ï¼Œæˆ‘ä»¬æ­£åœ¨å¤„ç†ä»€ä¹ˆç±»å‹çš„å‡½æ•°ã€‚æ˜¾ç„¶ï¼Œadd-3-to-allæ˜¯ä¸€ä¸ªå¤„ç†åˆ—è¡¨çš„å‡½æ•°ã€‚é—®é¢˜æ˜¯å®ƒæ˜¯å¦ç±»ä¼¼äº[å›¾95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)å’Œ[96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29)ä¸­çš„ä»»ä½•å‡½æ•°ã€‚ç­¾åå‘Šè¯‰æˆ‘ä»¬ï¼Œadd-3-to-allæ˜¯ä¸€ä¸ªå¤„ç†åˆ—è¡¨çš„å‡½æ•°ï¼Œå®ƒæ¶ˆè€—å¹¶äº§ç”Ÿä¸€ä¸ªåˆ—è¡¨ã€‚åœ¨è¿™ä¸¤ä¸ªå›¾ä¸­ï¼Œæˆ‘ä»¬æœ‰å‡ ä¸ªå…·æœ‰ç±»ä¼¼ç­¾åçš„å‡½æ•°ï¼š[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)ã€[filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)å’Œ[sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)ã€‚
- en: The purpose statement and example also tell you that add-3-to-all deals with
    each [Posn](part_one.html#%28tech._posn%29) separately and assembles the results
    into a single list. Some reflection also confirms that the resulting list contains
    as many items as the given list. All this thinking points to one functionâ€”<wbr>[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)â€”<wbr>because
    the point of [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    is to drop items from the list and [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    has an extremely specific purpose.
  id: totrans-1299
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®çš„è¯´æ˜å’Œç¤ºä¾‹ä¹Ÿå‘Šè¯‰ä½ ï¼Œadd-3-to-allä¼šåˆ†åˆ«å¤„ç†æ¯ä¸ª[Posn](part_one.html#%28tech._posn%29)ï¼Œå¹¶å°†ç»“æœç»„è£…æˆä¸€ä¸ªå•ç‹¬çš„åˆ—è¡¨ã€‚ä¸€äº›åæ€ä¹Ÿè¯å®äº†ç»“æœåˆ—è¡¨åŒ…å«ä¸ç»™å®šåˆ—è¡¨ä¸€æ ·å¤šçš„é¡¹ç›®ã€‚æ‰€æœ‰è¿™äº›æ€è€ƒéƒ½æŒ‡å‘ä¸€ä¸ªå‡½æ•°â€”â€”[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)â€”â€”å› ä¸º[filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)çš„ç›®çš„åœ¨äºä»åˆ—è¡¨ä¸­åˆ é™¤é¡¹ç›®ï¼Œè€Œ[sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)æœ‰ä¸€ä¸ªæå…¶å…·ä½“çš„ç›®çš„ã€‚
- en: 'Here is [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)â€™s
    signature again:'
  id: totrans-1300
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œå†æ¬¡æ˜¯[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)å‡½æ•°çš„ç­¾åï¼š
- en: ;Â [X Y] [X -> Y] [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[List-of](#%28tech._sim-dd._list._of%29)
    Y]
  id: totrans-1301
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [X Y] [X -> Y] [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[List-of](#%28tech._sim-dd._list._of%29)
    Y]
- en: 'It tells us that [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    consumes a function from X to Y and a list of Xs. Given that add-3-to-all consumes
    a list of [Posn](part_one.html#%28tech._posn%29)s, we know that X stands for Posn.
    Similarly, add-3-to-all is to produce a list of [Posn](part_one.html#%28tech._posn%29)s,
    and this means we replace Y with [Posn](part_one.html#%28tech._posn%29).From the
    analysis of the signature, we conclude that [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    can do the job of add-3-to-all when given the right function from [Posn](part_one.html#%28tech._posn%29)s
    to [Posn](part_one.html#%28tech._posn%29)s. With [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29),
    we can express this idea as a template for add-3-to-all:'
  id: totrans-1302
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå‘Šè¯‰æˆ‘ä»¬[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)æ¶ˆè€—ä¸€ä¸ªä»Xåˆ°Yçš„å‡½æ•°å’Œä¸€ä¸ªXçš„åˆ—è¡¨ã€‚é‰´äºadd-3-to-allæ¶ˆè€—ä¸€ä¸ª[Posn](part_one.html#%28tech._posn%29)çš„åˆ—è¡¨ï¼Œæˆ‘ä»¬çŸ¥é“Xä»£è¡¨Posnã€‚åŒæ ·ï¼Œadd-3-to-alläº§ç”Ÿä¸€ä¸ª[Posn](part_one.html#%28tech._posn%29)çš„åˆ—è¡¨ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å°†Yæ›¿æ¢ä¸º[Posn](part_one.html#%28tech._posn%29)ã€‚ä»ç­¾ååˆ†æä¸­ï¼Œæˆ‘ä»¬å¾—å‡ºç»“è®ºï¼Œ[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)åœ¨ç»™å®šä»[Posn](part_one.html#%28tech._posn%29)såˆ°[Posn](part_one.html#%28tech._posn%29)sçš„æ­£ç¡®å‡½æ•°æ—¶ï¼Œå¯ä»¥å®Œæˆadd-3-to-allçš„å·¥ä½œã€‚ä½¿ç”¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæƒ³æ³•è¡¨è¾¾ä¸ºadd-3-to-allçš„æ¨¡æ¿ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-3-to-allÂ lop)
    |'
  id: totrans-1303
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-3-to-allÂ lop)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Posn](part_one.html#%28tech._posn%29) |'
  id: totrans-1304
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Posn](part_one.html#%28tech._posn%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â ... |'
  id: totrans-1305
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ;Â ... |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fpÂ p)
    |'
  id: totrans-1306
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fpÂ p)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â pÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
  id: totrans-1307
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â pÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
- en: '| Â Â Â Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â fpÂ lop)))
    |'
  id: totrans-1308
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â fpÂ lop)))
    |'
- en: 'Doing so reduces the problem to defining a function on [Posn](part_one.html#%28tech._posn%29)s.Given
    the example for add-3-to-all and the abstract example for [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29),
    you can actually imagine how the evaluation proceeds:'
  id: totrans-1309
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·åšå°†é—®é¢˜ç®€åŒ–ä¸ºåœ¨[Posn](part_one.html#%28tech._posn%29)sä¸Šå®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚é‰´äºadd-3-to-allçš„ç¤ºä¾‹å’Œ[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)çš„æŠ½è±¡ç¤ºä¾‹ï¼Œä½ å¯ä»¥å®é™…æƒ³è±¡è¯„ä¼°æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼š
- en: '| (add-3-to-allÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 1)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0)))
    |'
  id: totrans-1310
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (add-3-to-all ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)
    3 1) ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)
    0 0))) |'
- en: '| == |'
  id: totrans-1311
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â fpÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 1)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0)))
    |'
  id: totrans-1312
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ˜ å°„](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    fp ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)
    3 1) ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)
    0 0))) |'
- en: '| == |'
  id: totrans-1313
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (fpÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 1))Â (fpÂ ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0)))
    |'
  id: totrans-1314
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    (fp ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)
    3 1)) (fp ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)
    0 0))) |'
- en: 'And that shows how fp is applied to every single [Posn](part_one.html#%28tech._posn%29)
    on the given list, meaning it is its job to add 3 to the x-coordinate.From here,
    it is straightforward to wrap up the definition:'
  id: totrans-1315
  prefs: []
  type: TYPE_NORMAL
  zh: 'And that shows how fp is applied to every single [ä½ç½®](part_one.html#%28tech._posn%29)
    on the given list, meaning it is its job to add 3 to the x-coordinate.From here,
    it is straightforward to wrap up the definition:'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-3-to-allÂ lop)
    |'
  id: totrans-1316
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (add-3-to-all lop)) |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Posn](part_one.html#%28tech._posn%29) |'
  id: totrans-1317
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    (; [ä½ç½®](part_one.html#%28tech._posn%29) -> [ä½ç½®](part_one.html#%28tech._posn%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â adds 3 to the x-coordinate of p |'
  id: totrans-1318
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; ä¸º p çš„ x åæ ‡åŠ  3 |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-3-to-xÂ p)
    |'
  id: totrans-1319
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (add-3-to-x p)) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â 3)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p))))
    |'
  id: totrans-1320
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â 3)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p))))
    |'
- en: '| Â Â Â Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â add-3-to-xÂ lop)))
    |'
  id: totrans-1321
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â add-3-to-xÂ lop)))
    |'
- en: 'We chose add-3-to-x as the name for the local function because the name tells
    you what it computes. It adds 3 to the x-coordinate of one [Posn](part_one.html#%28tech._posn%29).You
    may now think that using abstractions is hard. Keep in mind, though, that this
    first example spells out every single detail and that it does so because we wish
    to teach you how to pick the proper abstraction. Letâ€™s take a look at a second
    example a bit more quickly:'
  id: totrans-1322
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€‰æ‹©å°† add-3-to-x ä½œä¸ºå±€éƒ¨å‡½æ•°çš„åç§°ï¼Œå› ä¸ºè¿™ä¸ªåç§°å‘Šè¯‰äº†ä½ å®ƒè®¡ç®—çš„å†…å®¹ã€‚å®ƒå°† 3 æ·»åŠ åˆ° [Posn](part_one.html#%28tech._posn%29)
    çš„ x åæ ‡ä¸Šã€‚ä½ ç°åœ¨å¯èƒ½ä¼šè®¤ä¸ºä½¿ç”¨æŠ½è±¡å¾ˆå›°éš¾ã€‚ä½†æ˜¯è¯·è®°ä½ï¼Œè¿™ä¸ªç¬¬ä¸€ä¸ªä¾‹å­è¯¦ç»†è¯´æ˜äº†æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œè¿™æ ·åšæ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ›æ•™ä½ å¦‚ä½•é€‰æ‹©åˆé€‚çš„æŠ½è±¡ã€‚è®©æˆ‘ä»¬å¿«é€Ÿçœ‹ä¸€ä¸‹ç¬¬äºŒä¸ªä¾‹å­ï¼š
- en: Sample Problem Design a function that eliminates all [Posn](part_one.html#%28tech._posn%29)s
    with y-coordinates larger than 100 from some given list.
  id: totrans-1323
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ï¼šè®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œä»ç»™å®šçš„åˆ—è¡¨ä¸­åˆ é™¤æ‰€æœ‰ y åæ ‡å¤§äº 100 çš„ [Posn](part_one.html#%28tech._posn%29)ã€‚
- en: 'The first three steps of the design recipe yield this:'
  id: totrans-1324
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡æ–¹æ¡ˆçš„æœ€åˆä¸‰æ­¥äº§ç”Ÿä»¥ä¸‹ç»“æœï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
  id: totrans-1325
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
- en: '| ;Â eliminates [Posn](part_one.html#%28tech._posn%29)s whose y-coordinate is
    [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)  100
    |'
  id: totrans-1326
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ é™¤ y åæ ‡å¤§äº 100 çš„ [Posn](part_one.html#%28tech._posn%29) |'
- en: '| Â  |'
  id: totrans-1327
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-1328
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â (keep-goodÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 110)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 60)))
    |'
  id: totrans-1329
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (keep-goodÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 110)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 60)))
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 60)))
    |'
  id: totrans-1330
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 60)))
    |'
- en: '| Â  |'
  id: totrans-1331
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   | '
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (keep-goodÂ lop)Â ''())
    |'
  id: totrans-1332
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (keep-goodÂ lop)Â ''())
    |'
- en: 'By now you may have guessed that this function is like [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29),
    whose purpose is to separate the â€œgoodâ€ from the â€œbad.â€With [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    thrown in, the next step is also straightforward:'
  id: totrans-1333
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å¯èƒ½å·²ç»çŒœåˆ°è¿™ä¸ªå‡½æ•°ç±»ä¼¼äº [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)ï¼Œå…¶ç›®çš„æ˜¯å°†â€œå¥½çš„â€ä¸â€œåçš„â€åˆ†å¼€ã€‚åŠ å…¥
    [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    åï¼Œä¸‹ä¸€æ­¥ä¹Ÿå¾ˆç›´æ¥ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (keep-goodÂ lop)
    |'
  id: totrans-1334
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (keep-goodÂ lop)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1335
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â should this [Posn](part_one.html#%28tech._posn%29) stay on the
    list |'
  id: totrans-1336
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ;Â è¿™ä¸ª [Posn](part_one.html#%28tech._posn%29) æ˜¯å¦åº”è¯¥ä¿ç•™åœ¨åˆ—è¡¨ä¸­ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (good?Â p)Â #true))
    |'
  id: totrans-1337
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (good?Â p)Â #true))
    |'
- en: '| Â Â Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â good?Â lop)))
    |'
  id: totrans-1338
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â good?Â lop)))
    |'
- en: 'The [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    function definition introduces the helper function needed for [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29),
    and the body of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression applies [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    to this local function and the given list. The local function is called good?
    because [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    retains all those items of lop for which good? produces #true.'
  id: totrans-1339
  prefs: []
  type: TYPE_NORMAL
  zh: '[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    å‡½æ•°å®šä¹‰å¼•å…¥äº† [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    æ‰€éœ€çš„è¾…åŠ©å‡½æ•°ï¼Œå¹¶ä¸” [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    è¡¨è¾¾å¼çš„ä¸»ä½“å°† [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    åº”ç”¨äºè¿™ä¸ªå±€éƒ¨å‡½æ•°å’Œç»™å®šçš„åˆ—è¡¨ã€‚å±€éƒ¨å‡½æ•°è¢«ç§°ä¸º good?ï¼Œå› ä¸º [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    ä¿ç•™äº†æ‰€æœ‰ good? äº§ç”Ÿ #true çš„ lop é¡¹ã€‚'
- en: Before you read on, analyze the signature of [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    and keep-good and determine why the helper function consumes individual [Posn](part_one.html#%28tech._posn%29)s
    and produces [Boolean](part_one.html#%28tech._boolean%29)s.
  id: totrans-1340
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç»§ç»­é˜…è¯»ä¹‹å‰ï¼Œåˆ†æ[è¿‡æ»¤](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)å’Œä¿ç•™è‰¯å¥½çš„ç­¾åï¼Œå¹¶ç¡®å®šä¸ºä»€ä¹ˆè¾…åŠ©å‡½æ•°æ¶ˆè€—å•ä¸ª[ä½ç½®](part_one.html#%28tech._posn%29)å¹¶äº§ç”Ÿ[å¸ƒå°”](part_one.html#%28tech._boolean%29)ã€‚
- en: 'Putting all of our ideas together yields this definition:'
  id: totrans-1341
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æˆ‘ä»¬æ‰€æœ‰çš„æƒ³æ³•ç»¼åˆèµ·æ¥ï¼Œå¾—åˆ°ä»¥ä¸‹å®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (keep-goodÂ lop)
    |'
  id: totrans-1342
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (ä¿ç•™è‰¯å¥½Â lop)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Posn](part_one.html#%28tech._posn%29) |'
  id: totrans-1343
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [ä½ç½®](part_one.html#%28tech._posn%29)
    -> [ä½ç½®](part_one.html#%28tech._posn%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â should this [Posn](part_one.html#%28tech._posn%29) stay on the
    list |'
  id: totrans-1344
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ;Â è¿™ä¸ª[ä½ç½®](part_one.html#%28tech._posn%29)æ˜¯å¦åº”è¯¥ä¿ç•™åœ¨åˆ—è¡¨ä¸­ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (good?Â p)
    |'
  id: totrans-1345
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (good?Â p)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([not](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._not%29%29)Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â 100))))
    |'
  id: totrans-1346
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([é](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._not%29%29)Â ([å¤§äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([ä½ç½®-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â 100))))
    |'
- en: '| Â Â Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â good?Â lop)))
    |'
  id: totrans-1347
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([è¿‡æ»¤](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â good?Â lop)))
    |'
- en: 'Explain the definition of good? and simplify it.Before we spell out a design
    recipe, letâ€™s deal with one more example:'
  id: totrans-1348
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šgood?çš„å®šä¹‰å¹¶ç®€åŒ–å®ƒã€‚åœ¨æˆ‘ä»¬è¯¦ç»†é˜è¿°è®¾è®¡é…æ–¹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¤„ç†å¦ä¸€ä¸ªç¤ºä¾‹ï¼š
- en: Sample Problem Design a function that determines whether any of a list of [Posn](part_one.html#%28tech._posn%29)s
    is close to some given position pt where â€œcloseâ€ means a distance of at most 5
    pixels.
  id: totrans-1349
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œåˆ¤æ–­åˆ—è¡¨ä¸­çš„ä»»æ„ä¸€ä¸ª[ä½ç½®](part_one.html#%28tech._posn%29)æ˜¯å¦æ¥è¿‘æŸä¸ªç»™å®šçš„ä½ç½®ptï¼Œå…¶ä¸­â€œæ¥è¿‘â€æ„å‘³ç€è·ç¦»ä¸è¶…è¿‡5åƒç´ ã€‚
- en: 'This problem clearly consists of two distinct parts: one concerns processing
    the list and the other one calls for a function that determines whether the distance
    between a point and pt is â€œclose.â€ Since this second part is unrelated to the
    reuse of abstractions for list traversals, we assume the existence of an appropriate
    function:'
  id: totrans-1350
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªé—®é¢˜æ˜¾ç„¶ç”±ä¸¤ä¸ªä¸åŒçš„éƒ¨åˆ†ç»„æˆï¼šä¸€éƒ¨åˆ†æ˜¯å¤„ç†åˆ—è¡¨ï¼Œå¦ä¸€éƒ¨åˆ†éœ€è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ä¸€ä¸ªç‚¹ä¸ptä¹‹é—´çš„è·ç¦»æ˜¯å¦â€œæ¥è¿‘â€ã€‚ç”±äºç¬¬äºŒéƒ¨åˆ†ä¸åˆ—è¡¨éå†çš„æŠ½è±¡é‡ç”¨æ— å…³ï¼Œæˆ‘ä»¬å‡è®¾å­˜åœ¨ä¸€ä¸ªåˆé€‚çš„å‡½æ•°ï¼š
- en: '| ;Â [Posn](part_one.html#%28tech._posn%29)  [Posn](part_one.html#%28tech._posn%29)  [Number](part_one.html#%28tech._number%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1351
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä½ç½®](part_one.html#%28tech._posn%29)  [ä½ç½®](part_one.html#%28tech._posn%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> [å¸ƒå°”](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â is the distance between p and q less than d |'
  id: totrans-1352
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â på’Œqä¹‹é—´çš„è·ç¦»æ˜¯å¦å°äºd |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close-to?Â pÂ qÂ d)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1353
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close-to?Â pÂ qÂ d)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: 'You should complete this definition on your own.As required by the problem
    statement, the function consumes two arguments: the list of [Posn](part_one.html#%28tech._posn%29)s
    and the â€œgivenâ€ point pt. It produces a [Boolean](part_one.html#%28tech._boolean%29):'
  id: totrans-1354
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åº”è¯¥è‡ªå·±å®Œæˆè¿™ä¸ªå®šä¹‰ã€‚æ ¹æ®é—®é¢˜æè¿°ï¼Œè¯¥å‡½æ•°æ¶ˆè€—ä¸¤ä¸ªå‚æ•°ï¼š[Posn](part_one.html#%28tech._posn%29)çš„åˆ—è¡¨å’Œâ€œç»™å®šâ€çš„ç‚¹ptã€‚å®ƒäº§ç”Ÿä¸€ä¸ª[å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29)ï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
  id: totrans-1355
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
- en: '| ;Â is any [Posn](part_one.html#%28tech._posn%29) on lop close to pt |'
  id: totrans-1356
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ˜¯å¦å­˜åœ¨ä¸€ä¸ª[Posn](part_one.html#%28tech._posn%29)åœ¨lopä¸Šæ¥è¿‘pt |'
- en: '| Â  |'
  id: totrans-1357
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-1358
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â (close?Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 47Â 54)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 60))
    |'
  id: totrans-1359
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (close?Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 47Â 54)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 60))
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 50Â 50))
    |'
  id: totrans-1360
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 50Â 50))
    |'
- en: '| Â #true) |'
  id: totrans-1361
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â #true) |'
- en: '| Â  |'
  id: totrans-1362
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)Â #false)
    |'
  id: totrans-1363
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)Â #false)
    |'
- en: The signature differentiates this example from the preceding ones.
  id: totrans-1364
  prefs: []
  type: TYPE_NORMAL
  zh: ç­¾ååŒºåˆ†äº†è¿™ä¸ªä¾‹å­å’Œå‰é¢çš„ä¾‹å­ã€‚
- en: The [Boolean](part_one.html#%28tech._boolean%29) range also gives away a clue
    with respect to [figuresÂ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)
    and [96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29). Only two functions
    in this list produce [Boolean](part_one.html#%28tech._boolean%29) valuesâ€”<wbr>[andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    and [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)â€”<wbr>and
    they must be primary candidates for defining close?â€™s body. While the explanation
    of [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    says that some property must hold for every item on the given list, the purpose
    statement for [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    tells us that it looks for only one such item. Given that close? just checks whether
    one of the [Posn](part_one.html#%28tech._posn%29)s is close to pt, we should try
    [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    first.
  id: totrans-1365
  prefs: []
  type: TYPE_NORMAL
  zh: '[å¸ƒå°”](part_one.html#%28tech._boolean%29)çš„èŒƒå›´ä¹Ÿæä¾›äº†å…³äº[å›¾95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)å’Œ[96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29)çš„çº¿ç´¢ã€‚åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ï¼Œåªæœ‰ä¸¤ä¸ªå‡½æ•°äº§ç”Ÿ[å¸ƒå°”](part_one.html#%28tech._boolean%29)å€¼â€”â€”[andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)å’Œ[ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)â€”â€”å®ƒä»¬å¿…é¡»æ˜¯å®šä¹‰close?ä¸»ä½“çš„é¦–é€‰å€™é€‰ã€‚è™½ç„¶[andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)çš„è§£é‡Šè¯´ç»™å®šçš„åˆ—è¡¨ä¸Šçš„æ¯ä¸ªé¡¹ç›®éƒ½å¿…é¡»æ»¡è¶³æŸäº›å±æ€§ï¼Œä½†[ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)çš„ç›®çš„å£°æ˜å‘Šè¯‰æˆ‘ä»¬å®ƒåªå¯»æ‰¾è¿™æ ·ä¸€ä¸ªé¡¹ç›®ã€‚é‰´äºclose?åªæ˜¯æ£€æŸ¥æ˜¯å¦æœ‰ä¸€ä¸ª[ä½ç½®](part_one.html#%28tech._posn%29)æ¥è¿‘ptï¼Œæˆ‘ä»¬åº”è¯¥é¦–å…ˆå°è¯•[ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)ã€‚'
- en: 'Letâ€™s apply our standard â€œtrickâ€ of adding a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    whose body uses the chosen abstraction on some locally defined function and the
    given list:'
  id: totrans-1366
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åº”ç”¨æˆ‘ä»¬çš„æ ‡å‡†â€œæŠ€å·§â€ï¼Œæ·»åŠ ä¸€ä¸ª[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)å®šä¹‰ï¼Œå…¶ä¸»ä½“ä½¿ç”¨æ‰€é€‰æŠ½è±¡åœ¨æŸä¸ªå±€éƒ¨å®šä¹‰çš„å‡½æ•°å’Œç»™å®šçš„åˆ—è¡¨ä¸Šï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)
    |'
  id: totrans-1367
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1368
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [ä½ç½®](part_one.html#%28tech._posn%29)
    -> [å¸ƒå°”](part_one.html#%28tech._boolean%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â ... |'
  id: totrans-1369
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ;Â ... |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (is-one-close?Â p)
    |'
  id: totrans-1370
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (is-one-close?Â p)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
  id: totrans-1371
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
- en: '| Â Â Â Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â is-one-close?Â lop)))
    |'
  id: totrans-1372
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â is-one-close?Â lop)))
    |'
- en: 'Following the description of [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29),
    the local function consumes one item of the list at a time. This accounts for
    the [Posn](part_one.html#%28tech._posn%29) part of its signature. Also, the local
    function is expected to produce #true or #false, and [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    checks these results until it finds #true.Here is a comparison of the signature
    of [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    and close?, starting with the former:'
  id: totrans-1373
  prefs: []
  type: TYPE_NORMAL
  zh: 'æ ¹æ® [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    çš„æè¿°ï¼Œå±€éƒ¨å‡½æ•°æ¯æ¬¡æ¶ˆè€—åˆ—è¡¨ä¸­çš„ä¸€ä¸ªé¡¹ç›®ã€‚è¿™è§£é‡Šäº†å…¶ç­¾åä¸­çš„ [Posn](part_one.html#%28tech._posn%29) éƒ¨åˆ†ã€‚æ­¤å¤–ï¼Œå±€éƒ¨å‡½æ•°é¢„æœŸäº§ç”Ÿ
    #true æˆ– #falseï¼Œè€Œ [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    ä¼šæ£€æŸ¥è¿™äº›ç»“æœï¼Œç›´åˆ°æ‰¾åˆ° #trueã€‚ä»¥ä¸‹æ˜¯ [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    å’Œ close? çš„ç­¾åæ¯”è¾ƒï¼Œä»å‰è€…å¼€å§‹ï¼š'
- en: ;Â [X] [X -> Boolean] [[List-of](#%28tech._sim-dd._list._of%29) X] -> [Boolean](part_one.html#%28tech._boolean%29)
  id: totrans-1374
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [X] [X -> Boolean] [[List-of](#%28tech._sim-dd._list._of%29) X] -> [Boolean](part_one.html#%28tech._boolean%29)
- en: 'In our case, the list argument is a list of [Posn](part_one.html#%28tech._posn%29)s.
    Hence X stands for [Posn](part_one.html#%28tech._posn%29), which explains what
    is-one-close? consumes. Furthermore, it determines that the result of the local
    function must be [Boolean](part_one.html#%28tech._boolean%29) so that it can work
    as the first argument to [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29).The
    rest of the work requires just a bit more thinking. While is-one-close? consumes
    one argumentâ€”<wbr>a [Posn](part_one.html#%28tech._posn%29)â€”<wbr>the close-to?
    function consumes three: two [Posn](part_one.html#%28tech._posn%29)s and a â€œtoleranceâ€
    value. While the argument of is-one-close? is one of the two [Posn](part_one.html#%28tech._posn%29)s,
    it is also obvious that the other one is pt, the argument of close? itself. Naturally
    the â€œtoleranceâ€ argument is 5, as stated in the problem:'
  id: totrans-1375
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œåˆ—è¡¨å‚æ•°æ˜¯ [Posn](part_one.html#%28tech._posn%29) çš„åˆ—è¡¨ã€‚å› æ­¤ï¼ŒX ä»£è¡¨ [Posn](part_one.html#%28tech._posn%29)ï¼Œè¿™è§£é‡Šäº†
    what-is-one-close? æ¶ˆè€—çš„å†…å®¹ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜ç¡®å®šå±€éƒ¨å‡½æ•°çš„ç»“æœå¿…é¡»æ˜¯ [Boolean](part_one.html#%28tech._boolean%29)ï¼Œä»¥ä¾¿å®ƒå¯ä»¥ä½œä¸º
    [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å…¶ä½™çš„å·¥ä½œåªéœ€è¦ç¨å¾®æ€è€ƒä¸€ä¸‹ã€‚è™½ç„¶ is-one-close? æ¶ˆè€—ä¸€ä¸ªå‚æ•°â€”â€”ä¸€ä¸ª [Posn](part_one.html#%28tech._posn%29)ï¼Œè€Œ
    close-to? å‡½æ•°æ¶ˆè€—ä¸‰ä¸ªï¼šä¸¤ä¸ª [Posn](part_one.html#%28tech._posn%29) å’Œä¸€ä¸ªâ€œå®¹å·®â€å€¼ã€‚è™½ç„¶ is-one-close?
    çš„å‚æ•°æ˜¯ä¸¤ä¸ª [Posn](part_one.html#%28tech._posn%29) ä¹‹ä¸€ï¼Œä½†å¾ˆæ˜æ˜¾ï¼Œå¦ä¸€ä¸ªæ˜¯ close? è‡ªèº«çš„å‚æ•° ptã€‚è‡ªç„¶ï¼Œâ€œå®¹å·®â€å‚æ•°æ˜¯
    5ï¼Œæ­£å¦‚é—®é¢˜ä¸­æ‰€è¿°ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)
    |'
  id: totrans-1376
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1377
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â is one shot close to pt |'
  id: totrans-1378
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ;Â åˆ¤æ–­ä¸€æ¬¡æ˜¯å¦æ¥è¿‘ pt |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (is-one-close?Â p)
    |'
  id: totrans-1379
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (is-one-close?Â p)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â (close-to?Â pÂ ptÂ CLOSENESS))) |'
  id: totrans-1380
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (close-to?Â pÂ ptÂ CLOSENESS))) |'
- en: '| Â Â Â Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â is-one-close?Â lop)))
    |'
  id: totrans-1381
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â is-one-close?Â lop)))
    |'
- en: '| Â  |'
  id: totrans-1382
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â CLOSENESSÂ 5)Â ;Â in
    terms of pixels |'
  id: totrans-1383
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â CLOSENESSÂ 5)Â ;Â ä»¥åƒç´ ä¸ºå•ä½
    |'
- en: Note two properties of this definition. First, we stick to the rule that constants
    deserve definitions. Second, the reference to pt in is-one-close? signals that
    this [Posn](part_one.html#%28tech._posn%29) stays the same for the entire traversal
    of lop.
  id: totrans-1384
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„è¿™ä¸ªå®šä¹‰çš„ä¸¤ä¸ªç‰¹æ€§ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åšæŒè§„åˆ™ï¼Œå¸¸æ•°å€¼å¾—å®šä¹‰ã€‚å…¶æ¬¡ï¼Œå¯¹ pt in is-one-close? çš„å¼•ç”¨è¡¨æ˜è¿™ä¸ª [Posn](part_one.html#%28tech._posn%29)
    åœ¨ lop çš„æ•´ä¸ªéå†è¿‡ç¨‹ä¸­ä¿æŒä¸å˜ã€‚
- en: 16.6Designing with Abstractions[ğŸ”—](#(part._sec~3adesigning-with-abstraction)
    "Link to here")
  id: totrans-1385
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.6 ä½¿ç”¨æŠ½è±¡è¿›è¡Œè®¾è®¡[ğŸ”—](#(part._sec~3adesigning-with-abstraction) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: 'The three sample problems from the preceding section suffice for formulating
    a design recipe:'
  id: totrans-1386
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ä¸€èŠ‚ä¸­çš„ä¸‰ä¸ªç¤ºä¾‹é—®é¢˜è¶³ä»¥å½¢æˆè®¾è®¡é…æ–¹ï¼š
- en: Step 1 is to follow the design recipe for functions for three steps. Specifically,
    you should distill the problem statement into a signature, a purpose statement,
    an example, and a stub definition.
  id: totrans-1387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥æ˜¯éµå¾ªå‡½æ•°è®¾è®¡é…æ–¹çš„å‰ä¸‰ä¸ªæ­¥éª¤ã€‚å…·ä½“æ¥è¯´ï¼Œä½ åº”è¯¥å°†é—®é¢˜é™ˆè¿°æç‚¼æˆä¸€ä¸ªç­¾åã€ä¸€ä¸ªç›®çš„å£°æ˜ã€ä¸€ä¸ªç¤ºä¾‹å’Œä¸€ä¸ªå ä½ç¬¦å®šä¹‰ã€‚
- en: 'Consider the problem of defining a function that places small red circles on
    a ![image](../Images/1dd12ff10b6a51c0f1bbe6085869befa.png) canvas for a given
    list of [Posn](part_one.html#%28tech._posn%29)s. The first three steps of the
    design recipe yields this much:'
  id: totrans-1388
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è€ƒè™‘å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨ç»™å®šçš„ [Posn](part_one.html#%28tech._posn%29) åˆ—è¡¨ä¸Šåœ¨ä¸€ä¸ª ![image](../Images/1dd12ff10b6a51c0f1bbe6085869befa.png)
    ç”»å¸ƒä¸Šæ”¾ç½®å°çº¢è‰²åœ†åœˆçš„é—®é¢˜ã€‚è®¾è®¡é…æ–¹çš„å‰ä¸‰ä¸ªæ­¥éª¤äº§ç”Ÿä»¥ä¸‹å†…å®¹ï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [Image](part_one.html#%28tech._image%29) |'
  id: totrans-1389
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [Image](part_one.html#%28tech._image%29) |'
- en: '| ;Â adds the [Posn](part_one.html#%28tech._posn%29)s on lop to the empty scene
    |'
  id: totrans-1390
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°† lop ä¸Šçš„ [Posn](part_one.html#%28tech._posn%29) æ·»åŠ åˆ°ç©ºåœºæ™¯ä¸­ |'
- en: '| Â  |'
  id: totrans-1391
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (dotsÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 12Â 31)))
    |'
  id: totrans-1392
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (dotsÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 12Â 31)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 12Â 31Â MT-SCENE))
    |'
  id: totrans-1393
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOTÂ 12Â 31Â MT-SCENE))
    |'
- en: '| Â  |'
  id: totrans-1394
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
  id: totrans-1395
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
- en: '| Â Â MT-SCENE) |'
  id: totrans-1396
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â MT-SCENE) |'
- en: Add definitions for the constants so DrRacket can run the code.
  id: totrans-1397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¸ºå¸¸æ•°æ·»åŠ å®šä¹‰ï¼Œä»¥ä¾¿ DrRacket å¯ä»¥è¿è¡Œä»£ç ã€‚
- en: Next we exploit the signature and purpose statement to find a matching abstraction.
    To match means to pick an abstraction whose purpose is more general than the one
    for the function to be designed; it also means that the signatures are related.
    It is often best to start with the desired output and to find an abstraction that
    has the same or a more general output.
  id: totrans-1398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ©ç”¨ç­¾åå’Œç›®çš„å£°æ˜æ¥æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„æŠ½è±¡ã€‚åŒ¹é…æ„å‘³ç€é€‰æ‹©ä¸€ä¸ªç›®çš„æ¯”è¦è®¾è®¡çš„å‡½æ•°æ›´ä¸€èˆ¬çš„æŠ½è±¡ï¼›è¿™ä¹Ÿæ„å‘³ç€ç­¾åæ˜¯ç›¸å…³çš„ã€‚é€šå¸¸æœ€å¥½ä»æœŸæœ›çš„è¾“å‡ºå¼€å§‹ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰ç›¸åŒæˆ–æ›´å¹¿æ³›è¾“å‡ºçš„æŠ½è±¡ã€‚
- en: 'For our running example, the desired output is an [Image](part_one.html#%28tech._image%29).
    While none of the available abstractions produces an image, two of them have a
    variable to the right of [->](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-~3e%29%29):'
  id: totrans-1399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºæˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ï¼ŒæœŸæœ›çš„è¾“å‡ºæ˜¯ä¸€ä¸ª [Image](part_one.html#%28tech._image%29)ã€‚è™½ç„¶æ²¡æœ‰å¯ç”¨çš„æŠ½è±¡å¯ä»¥ç”Ÿæˆå›¾åƒï¼Œä½†å…¶ä¸­ä¸¤ä¸ªæŠ½è±¡åœ¨
    [->](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-~3e%29%29)
    çš„å³ä¾§æœ‰ä¸€ä¸ªå˜é‡ï¼š
- en: '| ;Â foldr : [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X]
    -> Y |'
  id: totrans-1400
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â foldr : [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X]
    -> Y |'
- en: '| ;Â foldl : [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X]
    -> Y |'
  id: totrans-1401
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â foldl : [X Y] [X Y -> Y] Y [[List-of](#%28tech._sim-dd._list._of%29) X]
    -> Y |'
- en: meaning we can plug in any data collection we want. If we do use [Image](part_one.html#%28tech._image%29),
    the signature on the left of -> demands a helper function that consumes an X together
    with an [Image](part_one.html#%28tech._image%29) and produces an [Image](part_one.html#%28tech._image%29).
    Furthermore, since the given list contains [Posn](part_one.html#%28tech._posn%29)s,
    X does stand for the [Posn](part_one.html#%28tech._posn%29) collection.
  id: totrans-1402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ’å…¥æˆ‘ä»¬æƒ³è¦çš„ä»»ä½•æ•°æ®æ”¶é›†ã€‚å¦‚æœæˆ‘ä»¬ç¡®å®ä½¿ç”¨[Image](part_one.html#%28tech._image%29)ï¼Œåˆ™å·¦ä¾§çš„ç­¾åè¦æ±‚ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ªXå’Œä¸€ä¸ª[Image](part_one.html#%28tech._image%29)ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ª[Image](part_one.html#%28tech._image%29)ã€‚æ­¤å¤–ï¼Œç”±äºç»™å®šçš„åˆ—è¡¨åŒ…å«[Posn](part_one.html#%28tech._posn%29)sï¼ŒXç¡®å®ä»£è¡¨[Posn](part_one.html#%28tech._posn%29)é›†åˆã€‚
- en: 'Write down a template. For the reuse of abstractions, a template uses [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    for two different purposes. The first one is to note which abstraction to use,
    and how, in the body of the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression. The second one is to write down a stub for the helper function: its
    signature, its purpose (optionally), and its header. Keep in mind that the signature
    comparison in the preceding step suggests most of the signature for the auxiliary
    function.'
  id: totrans-1403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¼–å†™ä¸€ä¸ªæ¨¡æ¿ã€‚ä¸ºäº†æŠ½è±¡çš„é‡ç”¨ï¼Œæ¨¡æ¿ä½¿ç”¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ç”¨äºä¸¤ä¸ªä¸åŒçš„ç›®çš„ã€‚ç¬¬ä¸€ä¸ªç›®çš„æ˜¯åœ¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„ä¸»ä½“ä¸­è®°å½•è¦ä½¿ç”¨å“ªä¸ªæŠ½è±¡ä»¥åŠå¦‚ä½•ä½¿ç”¨ã€‚ç¬¬äºŒä¸ªç›®çš„æ˜¯ä¸ºè¾…åŠ©å‡½æ•°ç¼–å†™ä¸€ä¸ªå­˜æ ¹ï¼šå®ƒçš„ç­¾åã€å®ƒçš„ç›®çš„ï¼ˆå¯é€‰ï¼‰å’Œå®ƒçš„å¤´ã€‚è¯·è®°ä½ï¼Œå‰ä¸€ä¸ªæ­¥éª¤ä¸­çš„ç­¾åæ¯”è¾ƒæš—ç¤ºäº†è¾…åŠ©å‡½æ•°çš„å¤§éƒ¨åˆ†ç­¾åã€‚
- en: 'Here is what this template looks like for our running example if we choose
    the [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    function:'
  id: totrans-1404
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬é€‰æ‹©[foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯æ­¤æ¨¡æ¿çš„å¤–è§‚ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
  id: totrans-1405
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)  [Image](part_one.html#%28tech._image%29)
    -> [Image](part_one.html#%28tech._image%29) |'
  id: totrans-1406
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)  [Image](part_one.html#%28tech._image%29)
    -> [Image](part_one.html#%28tech._image%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-one-dotÂ pÂ scene)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
  id: totrans-1407
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-one-dotÂ pÂ scene)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
- en: '| Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â add-one-dotÂ MT-SCENEÂ lop)))
    |'
  id: totrans-1408
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â add-one-dotÂ MT-SCENEÂ lop)))
    |'
- en: The [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    description calls for a â€œbaseâ€ Image value, to be used if or when the list is
    empty. In our case, we clearly want the empty canvas for this case. Otherwise,
    [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    uses a helper function and traverses the list of [Posn](part_one.html#%28tech._posn%29)s.
  id: totrans-1409
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)æè¿°éœ€è¦â€œåŸºæœ¬â€çš„å›¾åƒå€¼ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºæˆ–åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ã€‚åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¾ç„¶å¸Œæœ›åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ç©ºç”»å¸ƒã€‚å¦åˆ™ï¼Œ[foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)å°†ä½¿ç”¨è¾…åŠ©å‡½æ•°å¹¶éå†[Posn](part_one.html#%28tech._posn%29)çš„åˆ—è¡¨ã€‚'
- en: Finally, it is time to define the auxiliary function inside [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29).
    In most cases, this function consumes relatively simple kinds of data, like those
    encountered in [Fixed-Size Data](part_one.html). You know how to design those
    in principle. The difference is that now you use not only the functionâ€™s arguments
    and global constants but also the arguments of the surrounding function.
  id: totrans-1410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæ˜¯æ—¶å€™åœ¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)å†…éƒ¨å®šä¹‰è¾…åŠ©å‡½æ•°äº†ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå‡½æ•°æ¶ˆè€—ç›¸å¯¹ç®€å•ç±»å‹çš„æ•°æ®ï¼Œå°±åƒåœ¨[å›ºå®šå¤§å°æ•°æ®](part_one.html#%28tech._posn%29)ä¸­é‡åˆ°çš„é‚£æ ·ã€‚åŸåˆ™ä¸Šä½ çŸ¥é“å¦‚ä½•è®¾è®¡è¿™äº›ã€‚åŒºåˆ«åœ¨äºç°åœ¨ä½ ä¸ä»…ä½¿ç”¨å‡½æ•°çš„å‚æ•°å’Œå…¨å±€å¸¸é‡ï¼Œè¿˜ä½¿ç”¨å‘¨å›´å‡½æ•°çš„å‚æ•°ã€‚
- en: 'In our running example, the purpose of the helper function is to add one dot
    to the given scene, which you can (1) guess or (2) derive from the example:'
  id: totrans-1411
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ä¸­ï¼Œè¾…åŠ©å‡½æ•°çš„ç›®çš„æ˜¯å‘ç»™å®šçš„åœºæ™¯æ·»åŠ ä¸€ä¸ªç‚¹ï¼Œä½ å¯ä»¥ï¼ˆ1ï¼‰çŒœæµ‹æˆ–ï¼ˆ2ï¼‰ä»ç¤ºä¾‹ä¸­æ¨å¯¼å‡ºæ¥ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
  id: totrans-1412
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)  [Image](part_one.html#%28tech._image%29)
    -> [Image](part_one.html#%28tech._image%29) |'
  id: totrans-1413
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)  [Image](part_one.html#%28tech._image%29)
    -> [Image](part_one.html#%28tech._image%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â adds a DOT at p to scene |'
  id: totrans-1414
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ;Â åœ¨åœºæ™¯på¤„æ·»åŠ ä¸€ä¸ªç‚¹ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-one-dotÂ pÂ scene)
    |'
  id: totrans-1415
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-one-dotÂ pÂ scene)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOT
    |'
  id: totrans-1416
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOT
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)
    |'
  id: totrans-1417
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â scene))) |'
  id: totrans-1418
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â scene))) |'
- en: '| Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â add-one-dotÂ MT-SCENEÂ lop)))
    |'
  id: totrans-1419
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â add-one-dotÂ MT-SCENEÂ lop)))
    |'
- en: The last step is to test the definition in the usual manner.
  id: totrans-1420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åä¸€æ­¥æ˜¯æŒ‰ç…§å¸¸è§„æ–¹å¼æµ‹è¯•å®šä¹‰ã€‚
- en: For abstract functions, it is occasionally possible to use the abstract example
    of their purpose statement to confirm their workings at a more general level.
    You may wish to use the abstract example for [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    to confirm that dots does add one dot after another to the background scene.
  id: totrans-1421
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºæŠ½è±¡å‡½æ•°ï¼Œæœ‰æ—¶å¯ä»¥ä½¿ç”¨å®ƒä»¬çš„ç›®çš„å£°æ˜çš„æŠ½è±¡ç¤ºä¾‹æ¥åœ¨æ›´ä¸€èˆ¬çº§åˆ«ä¸Šç¡®è®¤å…¶å·¥ä½œåŸç†ã€‚æ‚¨å¯èƒ½å¸Œæœ›ä½¿ç”¨æŠ½è±¡ç¤ºä¾‹æ¥ç¡®è®¤[foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)æ˜¯å¦ç¡®å®åœ¨èƒŒæ™¯åœºæ™¯ä¸­é€ä¸ªæ·»åŠ ç‚¹ã€‚
- en: In the third step, we picked [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    without further ado. Experiment with [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    to see how it would help complete this function. Functions like [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)
    and [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    are well-known and are spreading in usage in various forms. Becoming familiar
    with them is a good idea, and thatâ€™s the point of the next two sections.
  id: totrans-1422
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬ä¸‰æ­¥ä¸­ï¼Œæˆ‘ä»¬æ¯«ä¸çŠ¹è±«åœ°é€‰æ‹©äº†[foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)ã€‚å°è¯•ä½¿ç”¨[foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)æ¥æŸ¥çœ‹å®ƒå¦‚ä½•å¸®åŠ©å®Œæˆæ­¤å‡½æ•°ã€‚åƒ[foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)å’Œ[foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)è¿™æ ·çš„å‡½æ•°æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ï¼Œå¹¶ä¸”ä»¥å„ç§å½¢å¼åœ¨ç”¨æ³•ä¸­ä¼ æ’­ã€‚ç†Ÿæ‚‰å®ƒä»¬æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œè¿™ä¹Ÿæ˜¯ä¸‹ä¸€ä¸¤ä¸ªç« èŠ‚çš„ç›®çš„ã€‚
- en: '16.7Finger Exercises: Abstraction[ğŸ”—](#(part._sec~3aabstraction-exercises) "Link
    to here")'
  id: totrans-1423
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.7æ‰‹æŒ‡ç»ƒä¹ ï¼šæŠ½è±¡[ğŸ”—](#(part._sec~3aabstraction-exercises) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Some of these exercises already need the â€œIntermediate Student with lambdaâ€
    language. In DrRacket, choose the corresponding entry from the â€œHow to Design
    Programsâ€ submenu in the â€œLanguageâ€ menu.
  id: totrans-1424
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä¸€äº›ç»ƒä¹ å·²ç»éœ€è¦â€œå…·æœ‰lambdaçš„ä¸­é—´å­¦ç”Ÿâ€è¯­è¨€ã€‚åœ¨DrRacketä¸­ï¼Œè¯·åœ¨â€œè¯­è¨€â€èœå•çš„â€œå¦‚ä½•è®¾è®¡ç¨‹åºâ€å­èœå•ä¸­é€‰æ‹©ç›¸åº”çš„æ¡ç›®ã€‚
- en: ExerciseÂ 267\. Use [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    to define the function convert-euro, which converts a list of US$ amounts into
    a list of â‚¬ amounts based on an exchange rate of US$1.06 per â‚¬ (on April 13, 2017).
  id: totrans-1425
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 267ã€‚ä½¿ç”¨[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)å®šä¹‰å‡½æ•°`convert-euro`ï¼Œè¯¥å‡½æ•°æ ¹æ®2017å¹´4æœˆ13æ—¥çš„æ±‡ç‡ï¼ˆæ¯æ¬§å…ƒ1.06ç¾å…ƒï¼‰å°†ç¾å…ƒé‡‘é¢åˆ—è¡¨è½¬æ¢ä¸ºæ¬§å…ƒé‡‘é¢åˆ—è¡¨ã€‚
- en: Also use [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    to define convertFC, which converts a list of Fahrenheit measurements to a list
    of Celsius measurements.
  id: totrans-1426
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜å¯ä»¥ä½¿ç”¨[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)æ¥å®šä¹‰`convertFC`å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åæ°æ¸©åº¦æµ‹é‡å€¼åˆ—è¡¨è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦æµ‹é‡å€¼åˆ—è¡¨ã€‚
- en: Finally, try your hand at translate, a function that translates a list of [Posn](part_one.html#%28tech._posn%29)s
    into a list of lists of pairs of numbers.
  id: totrans-1427
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå°è¯•ä¸€ä¸‹`translate`å‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ª[Posn](part_one.html#%28tech._posn%29)åˆ—è¡¨è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—å¯¹åˆ—è¡¨çš„åˆ—è¡¨ã€‚
- en: ExerciseÂ 268\. An inventory record specifies the name of an item, a description,
    the acquisition price, and the recommended sales price.
  id: totrans-1428
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 268ã€‚åº“å­˜è®°å½•æŒ‡å®šäº†ç‰©å“çš„åç§°ã€æè¿°ã€è´­ä¹°ä»·æ ¼å’Œæ¨èé”€å”®ä»·æ ¼ã€‚
- en: Define a function that sorts a list of inventory records by the difference between
    the two prices.
  id: totrans-1429
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰ä¸¤ä¸ªä»·æ ¼ä¹‹é—´çš„å·®é¢å¯¹åº“å­˜è®°å½•åˆ—è¡¨è¿›è¡Œæ’åºã€‚
- en: ExerciseÂ 269\. Define eliminate-expensive. The function consumes a number, ua,
    and a list of inventory records, and it produces a list of all those structures
    whose sales price is below ua.
  id: totrans-1430
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 269ã€‚å®šä¹‰`eliminate-expensive`å‡½æ•°ã€‚è¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ªæ•°å­—uaå’Œä¸€ä¸ªåº“å­˜è®°å½•åˆ—è¡¨ï¼Œå¹¶ç”Ÿæˆæ‰€æœ‰é”€å”®ä»·æ ¼ä½äºuaçš„ç»“æ„åˆ—è¡¨ã€‚
- en: Then use [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    to define recall, which consumes the name of an inventory item, called ty, and
    a list of inventory records and which produces a list of inventory records that
    do not use the name ty.
  id: totrans-1431
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åä½¿ç”¨ [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    å®šä¹‰ recall å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªåº“å­˜é¡¹ç›®åç§°ï¼Œç§°ä¸º tyï¼Œä»¥åŠä¸€ä¸ªåº“å­˜è®°å½•åˆ—è¡¨ï¼Œå¹¶ç”Ÿæˆä¸ä½¿ç”¨åç§° ty çš„åº“å­˜è®°å½•åˆ—è¡¨ã€‚
- en: In addition, define selection, which consumes two lists of names and selects
    all those from the second one that are also on the first.
  id: totrans-1432
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œå®šä¹‰ selection å‡½æ•°ï¼Œå®ƒæ¥å—ä¸¤ä¸ªåç§°åˆ—è¡¨ï¼Œå¹¶é€‰æ‹©ç¬¬äºŒä¸ªåˆ—è¡¨ä¸­ä¹Ÿåœ¨ç¬¬ä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰åç§°ã€‚
- en: ExerciseÂ 270\. Use [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    to define a function that
  id: totrans-1433
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  270ã€‚ä½¿ç”¨ [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°
- en: creates the list ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â nÂ 1))
    for any natural number n;
  id: totrans-1434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    0  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  (-
    n 1))ï¼Œå…¶ä¸­ n æ˜¯ä»»ä½•è‡ªç„¶æ•°ï¼›
- en: creates the list ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â n)
    for any natural number n;
  id: totrans-1435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  n)ï¼Œå…¶ä¸­
    n æ˜¯ä»»ä½•è‡ªç„¶æ•°ï¼›
- en: creates the list ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  1/2  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  1/n)
    for any natural number n;
  id: totrans-1436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 1/2  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  1/n)ï¼Œå…¶ä¸­
    n æ˜¯ä»»ä½•è‡ªç„¶æ•°ï¼›
- en: creates the list of the first n even numbers; and
  id: totrans-1437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ›å»ºå‰ n ä¸ªå¶æ•°çš„åˆ—è¡¨ï¼›
- en: creates a diagonal square of 0s and 1s; see [exerciseÂ 262](#%28counter._%28exercise._ex~3alocal-for-diagonal%29%29).
  id: totrans-1438
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªå¯¹è§’çº¿ä¸º 0 å’Œ 1 çš„æ­£æ–¹å½¢åˆ—è¡¨ï¼›å‚è§ [ç»ƒä¹  262](#%28counter._%28exercise._ex~3alocal-for-diagonal%29%29)ã€‚
- en: Finally, define tabulate from [exerciseÂ 250](#%28counter._%28exercise._ex~3aabs-tabulate%29%29)
    using [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29).
  id: totrans-1439
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œä½¿ç”¨ [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    ä» [ç»ƒä¹  250](#%28counter._%28exercise._ex~3aabs-tabulate%29%29) å®šä¹‰ tabulate å‡½æ•°ã€‚
- en: ExerciseÂ 271\. Use [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    to define find-name. The function consumes a name and a list of names. It determines
    whether any of the names on the latter are equal to or an extension of the former.
  id: totrans-1440
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    å®šä¹‰ find-name å‡½æ•°ã€‚è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªåç§°å’Œä¸€ä¸ªåç§°åˆ—è¡¨ï¼Œåˆ¤æ–­åè€…ä¸­çš„åç§°æ˜¯å¦ä¸å‰è€…ç›¸ç­‰æˆ–ä¸ºå‰è€…çš„æ‰©å±•ã€‚
- en: With [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    you can define a function that checks all names on a list of names that start
    with the letter "a".
  id: totrans-1441
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ£€æŸ¥ä¸€ä¸ªä»¥å­—æ¯ "a" å¼€å¤´çš„åå­—åˆ—è¡¨ä¸Šçš„æ‰€æœ‰åå­—ã€‚
- en: Should you use [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    or [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    to define a function that ensures that no name on some list exceeds a given width?
  id: totrans-1442
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åº”è¯¥ä½¿ç”¨ [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    è¿˜æ˜¯ [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç¡®ä¿æŸä¸ªåˆ—è¡¨ä¸Šçš„åå­—æ²¡æœ‰è¶…è¿‡ç»™å®šçš„å®½åº¦ï¼Ÿ
- en: 'ExerciseÂ 272\. Recall that the [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    function in ISL concatenates the items of two lists or, equivalently, replaces
    ''() at the end of the first list with the second list:'
  id: totrans-1443
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  272ã€‚å›å¿†åœ¨ ISL ä¸­çš„ [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    å‡½æ•°å°†ä¸¤ä¸ªåˆ—è¡¨çš„é¡¹ç›®è¿æ¥èµ·æ¥ï¼Œæˆ–è€…ç­‰ä»·åœ°ï¼Œç”¨ç¬¬äºŒä¸ªåˆ—è¡¨æ›¿æ¢ç¬¬ä¸€ä¸ªåˆ—è¡¨æœ«å°¾çš„ '()ï¼š
- en: '| ([equal?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 5Â 6Â 7Â 8))
    |'
  id: totrans-1444
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([ç­‰äº?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([è¿½åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 5Â 6Â 7Â 8))
    |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8))
    |'
  id: totrans-1445
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8))
    |'
- en: Use [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    to define append-from-fold. What happens if you replace [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    with [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)?
  id: totrans-1446
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    æ¥å®šä¹‰ä»æŠ˜å ä¸­å¾—åˆ°çš„ append-from-foldã€‚å¦‚æœä½ å°† [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    æ›¿æ¢ä¸º [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
- en: Now use one of the fold functions to define functions that compute the sum and
    the product, respectively, of a list of numbers.
  id: totrans-1447
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæŠ˜å å‡½æ•°æ¥å®šä¹‰è®¡ç®—æ•°å­—åˆ—è¡¨çš„å’Œä¸ç§¯çš„å‡½æ•°ã€‚
- en: With one of the fold functions, you can define a function that horizontally
    composes a list of [Image](part_one.html#%28tech._image%29)s. Hints (1) Look up
    [beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)
    and [empty-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29).
    Can you use the other fold function? Also define a function that stacks a list
    of images vertically. (2) Check for [above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)
    in the teac=hoacks.
  id: totrans-1448
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæŠ˜å å‡½æ•°ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ°´å¹³ç»„åˆä¸€ç³»åˆ— [Image](part_one.html#%28tech._image%29)ã€‚æç¤ºï¼ˆ1ï¼‰æŸ¥é˜…
    [beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)
    å’Œ [empty-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29)ã€‚ä½ èƒ½ä½¿ç”¨å¦ä¸€ä¸ªæŠ˜å å‡½æ•°å—ï¼ŸåŒæ—¶å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å‚ç›´å †å ä¸€ç³»åˆ—å›¾åƒã€‚ï¼ˆ2ï¼‰åœ¨æŠ€å·§ä¸­æ£€æŸ¥
    [above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)ã€‚
- en: ExerciseÂ 273\. The fold functions are so powerful that you can define almost
    any list processing functions with them. Use fold to define [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29).
  id: totrans-1449
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  273\. æŠ˜å å‡½æ•°éå¸¸å¼ºå¤§ï¼Œä»¥è‡³äºä½ å¯ä»¥ç”¨å®ƒä»¬å®šä¹‰å‡ ä¹ä»»ä½•åˆ—è¡¨å¤„ç†å‡½æ•°ã€‚ä½¿ç”¨æŠ˜å æ¥å®šä¹‰ [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)ã€‚
- en: ExerciseÂ 274\. Use existing abstractions to define the prefixes and suffixes
    functions from [exerciseÂ 190](part_two.html#%28counter._%28exercise._ex~3aprefix-bsl%29%29).
    Ensure that they pass the same tests as the original function.
  id: totrans-1450
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  274\. ä½¿ç”¨ç°æœ‰çš„æŠ½è±¡å®šä¹‰ä» [ç»ƒä¹  190](part_two.html#%28counter._%28exercise._ex~3aprefix-bsl%29%29)
    ä¸­çš„å‰ç¼€å’Œåç¼€å‡½æ•°ã€‚ç¡®ä¿å®ƒä»¬é€šè¿‡ä¸åŸå§‹å‡½æ•°ç›¸åŒçš„æµ‹è¯•ã€‚
- en: '16.8Projects: Abstraction[ğŸ”—](#(part._sec~3aproj-abstraction) "Link to here")'
  id: totrans-1451
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 16.8 é¡¹ç›®ï¼šæŠ½è±¡[ğŸ”—](#(part._sec~3aproj-abstraction) "é“¾æ¥è‡³æ­¤")
- en: Now that you have some experience with the existing list-processing abstractions
    in ISL, it is time to tackle some of the small projects for which you already
    have programs. The challenge is to look for two kinds of improvements. First,
    inspect the programs for functions that traverse lists. For these functions, you
    already have signatures, purpose statements, tests, and working definitions that
    pass the tests. Change the definitions to use abstractions from [figuresÂ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29)
    and [96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29). Second, also determine
    whether there are opportunities to create new abstractions. Indeed, you might
    be able to abstract across these classes of programs and provide generalized functions
    that help you write additional programs.
  id: totrans-1452
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å·²ç»å¯¹ ISL ä¸­çš„ç°æœ‰åˆ—è¡¨å¤„ç†æŠ½è±¡æœ‰äº†äº›ç»éªŒï¼Œæ˜¯æ—¶å€™è§£å†³ä¸€äº›ä½ å·²ç»æœ‰äº†ç¨‹åºçš„çš„å°é¡¹ç›®äº†ã€‚æŒ‘æˆ˜åœ¨äºå¯»æ‰¾ä¸¤ç§æ”¹è¿›ã€‚é¦–å…ˆï¼Œæ£€æŸ¥ç¨‹åºä¸­éå†åˆ—è¡¨çš„å‡½æ•°ã€‚å¯¹äºè¿™äº›å‡½æ•°ï¼Œä½ å·²ç»æœ‰äº†ç­¾åã€ç›®çš„å£°æ˜ã€æµ‹è¯•å’Œé€šè¿‡æµ‹è¯•çš„å·¥ä½œå®šä¹‰ã€‚å°†è¿™äº›å®šä¹‰æ›´æ”¹ä¸ºä½¿ç”¨æ¥è‡ª
    [å›¾ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29) å’Œ [96](#%28counter._%28figure._fig~3aisl-ho-list2%29%29)
    çš„æŠ½è±¡ã€‚å…¶æ¬¡ï¼Œä¹Ÿè¦ç¡®å®šæ˜¯å¦æœ‰æœºä¼šåˆ›å»ºæ–°çš„æŠ½è±¡ã€‚å®é™…ä¸Šï¼Œä½ å¯èƒ½èƒ½å¤Ÿè·¨è¶Šè¿™äº›ç¨‹åºç±»åˆ«è¿›è¡ŒæŠ½è±¡ï¼Œå¹¶æä¾›å¸®åŠ©ä½ ç¼–å†™é¢å¤–ç¨‹åºçš„ä¸€èˆ¬åŒ–å‡½æ•°ã€‚
- en: 'ExerciseÂ 275\. [Real-World Data: Dictionaries](part_two.html#%28part._sec~3adict%29)
    deals withYou may wish to tackle these exercises again after studying [Nameless
    Functions](#%28part._ch~3a3lambda%29). relatively simple tasks relating to English
    dictionaries. The design of two of them just call out for the use of existing
    abstractions:'
  id: totrans-1453
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  275\. [å®é™…æ•°æ®ï¼šå­—å…¸](part_two.html#%28part._sec~3adict%29) å¤„ç†ä¸è‹±è¯­å­—å…¸ç›¸å…³çš„ç›¸å¯¹ç®€å•çš„ä»»åŠ¡ã€‚å…¶ä¸­ä¸¤ä¸ªçš„è®¾è®¡æ­£å‘¼åä½¿ç”¨ç°æœ‰çš„æŠ½è±¡ï¼š
- en: Design most-frequent. The function consumes a [Dictionary](part_two.html#%28tech._dictionary%29)
    and produces the [Letter-Count](part_two.html#%28tech._letter._count%29) for the
    letter that is most frequently used as the first one in the words of the given
    [Dictionary](part_two.html#%28tech._dictionary%29).
  id: totrans-1454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡æœ€é¢‘ç¹çš„ã€‚è¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ª [Dictionary](part_two.html#%28tech._dictionary%29)ï¼Œå¹¶äº§ç”Ÿç»™å®š [Dictionary](part_two.html#%28tech._dictionary%29)
    ä¸­å•è¯ä¸­æœ€é¢‘ç¹ä½¿ç”¨çš„å­—æ¯çš„ [Letter-Count](part_two.html#%28tech._letter._count%29)ã€‚
- en: Design words-by-first-letter. The function consumes a [Dictionary](part_two.html#%28tech._dictionary%29)
    and produces a list of [Dictionary](part_two.html#%28tech._dictionary%29)s, one
    per [Letter](part_two.html#%28tech._letter%29). Do not include '() if there are
    no words for some letter; ignore the empty grouping instead.
  id: totrans-1455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡æŒ‰é¦–å­—æ¯æŸ¥æ‰¾å•è¯çš„åŠŸèƒ½ã€‚è¯¥å‡½æ•°æ¥å—[å­—å…¸](part_two.html#%28tech._dictionary%29)å¹¶ç”Ÿæˆä¸€ä¸ª[å­—å…¸](part_two.html#%28tech._dictionary%29)åˆ—è¡¨ï¼Œæ¯ä¸ª[å­—æ¯](part_two.html#%28tech._letter%29)ä¸€ä¸ªã€‚å¦‚æœæ²¡æœ‰æŸäº›å­—æ¯çš„å•è¯ï¼Œä¸è¦åŒ…æ‹¬'('ï¼›å¿½ç•¥ç©ºåˆ†ç»„ã€‚
- en: 'For the data definitions, see [figureÂ 74](part_two.html#%28counter._%28figure._fig~3areading-a-dictionary%29%29).ExerciseÂ 276\.
    [Real-World Data: iTunes](part_two.html#%28part._itunes-data._sec~3aitunes%29)
    explains how to analyze the information in an iTunes XML library.'
  id: totrans-1456
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºæ•°æ®å®šä¹‰ï¼Œè¯·å‚é˜…[å›¾74](part_two.html#%28counter._%28figure._fig~3areading-a-dictionary%29%29)ã€‚ç»ƒä¹ 276ã€‚[ç°å®ä¸–ç•Œæ•°æ®ï¼šiTunes](part_two.html#%28part._itunes-data._sec~3aitunes%29)è§£é‡Šäº†å¦‚ä½•åˆ†æiTunes
    XMLåº“ä¸­çš„ä¿¡æ¯ã€‚
- en: Design select-album-date. The function consumes the title of an album, a date,
    and an [LTracks](part_two.html#%28tech._itunes-data._ltrack%29). It extracts from
    the latter the list of tracks from the given album that have been played after
    the date.
  id: totrans-1457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡é€‰æ‹©ä¸“è¾‘æ—¥æœŸçš„åŠŸèƒ½ã€‚è¯¥å‡½æ•°æ¥å—ä¸“è¾‘æ ‡é¢˜ã€æ—¥æœŸå’Œ[LTracks](part_two.html#%28tech._itunes-data._ltrack%29)ã€‚å®ƒä»åè€…ä¸­æå–å‡ºç»™å®šä¸“è¾‘åœ¨æŒ‡å®šæ—¥æœŸä¹‹åæ’­æ”¾çš„æ›²ç›®åˆ—è¡¨ã€‚
- en: Design select-albums. The function consumes an [LTracks](part_two.html#%28tech._itunes-data._ltrack%29).
    It produces a list of [LTracks](part_two.html#%28tech._itunes-data._ltrack%29),
    one per album. Each album is uniquely identified by its title and shows up in
    the result only once.
  id: totrans-1458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡é€‰æ‹©ä¸“è¾‘çš„åŠŸèƒ½ã€‚è¯¥å‡½æ•°æ¥å—[LTracks](part_two.html#%28tech._itunes-data._ltrack%29)ã€‚å®ƒç”Ÿæˆä¸€ä¸ª[LTracks](part_two.html#%28tech._itunes-data._ltrack%29)åˆ—è¡¨ï¼Œæ¯ä¸ªä¸“è¾‘ä¸€ä¸ªã€‚æ¯ä¸ªä¸“è¾‘é€šè¿‡å…¶æ ‡é¢˜å”¯ä¸€æ ‡è¯†ï¼Œå¹¶åœ¨ç»“æœä¸­åªå‡ºç°ä¸€æ¬¡ã€‚
- en: See [figureÂ 77](part_two.html#%28counter._itunes-data._%28figure._fig~3aitunes-api-lists%29%29)
    for the services provided by the 2htdp/itunes teachpack.
  id: totrans-1459
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å‚é˜…[å›¾77](part_two.html#%28counter._itunes-data._%28figure._fig~3aitunes-api-lists%29%29)ï¼Œäº†è§£2htdp/itunes
    teachpackæä¾›çš„æœåŠ¡ã€‚
- en: ExerciseÂ 277\. [Full Space War](part_two.html#%28part._sec~3aspace-war%29) spells
    out a game of space war. In the basic version, a UFO descends and a player defends
    with a tank. One additional suggestion is to equip the UFO with charges that it
    can drop at the tank; the tank is destroyed if a charge comes close enough.
  id: totrans-1460
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 277ã€‚[å…¨é¢ç©ºé—´æˆ˜](part_two.html#%28part._sec~3aspace-war%29)è¯¦ç»†è¯´æ˜äº†ç©ºé—´æˆ˜æ¸¸æˆã€‚åœ¨åŸºæœ¬ç‰ˆæœ¬ä¸­ï¼Œä¸€ä¸ªUFOä¸‹é™ï¼Œç©å®¶ç”¨å¦å…‹è¿›è¡Œé˜²å¾¡ã€‚ä¸€ä¸ªé¢å¤–çš„å»ºè®®æ˜¯ç»™UFOè£…å¤‡å¯ä»¥æŠ•æ·åˆ°å¦å…‹ä¸Šçš„ç”µè·ï¼›å¦‚æœç”µè·è¶³å¤Ÿæ¥è¿‘ï¼Œå¦å…‹å°±ä¼šè¢«æ‘§æ¯ã€‚
- en: Inspect the code of your project for places where it can benefit from existing
    abstraction, that is, processing lists of shots or charges.
  id: totrans-1461
  prefs: []
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ä½ çš„é¡¹ç›®ä»£ç ï¼Œå¯»æ‰¾å¯ä»¥åˆ©ç”¨ç°æœ‰æŠ½è±¡ï¼ˆå³å¤„ç†é•œå¤´æˆ–ç”µè·åˆ—è¡¨ï¼‰çš„åœ°æ–¹ã€‚
- en: Once you have simplified the code with the use of existing abstractions, look
    for opportunities to create abstractions. Consider moving lists of objects as
    one example where abstraction may pay off.
  id: totrans-1462
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä½ ä½¿ç”¨ç°æœ‰æŠ½è±¡ç®€åŒ–äº†ä»£ç ï¼Œå¯»æ‰¾åˆ›å»ºæŠ½è±¡çš„æœºä¼šã€‚ä»¥ç§»åŠ¨å¯¹è±¡åˆ—è¡¨ä¸ºä¾‹ï¼ŒæŠ½è±¡å¯èƒ½å¸¦æ¥å¥½å¤„ã€‚
- en: ExerciseÂ 278\. [Feeding Worms](part_two.html#%28part._sec~3aworms%29) explains
    how another one of the oldest computer games work. The game features a worm that
    moves at a constant speed in a player-controlled direction. When it encounters
    food, it eats the food and grows. When it runs into the wall or into itself, the
    game is over.
  id: totrans-1463
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 278ã€‚[å–‚é£Ÿè •è™«](part_two.html#%28part._sec~3aworms%29)è§£é‡Šäº†å¦ä¸€æ¬¾æœ€å¤è€çš„ç”µè„‘æ¸¸æˆæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æ¸¸æˆä¸­æœ‰ä¸€ä¸ªè •è™«ä»¥æ’å®šé€Ÿåº¦åœ¨ç©å®¶æ§åˆ¶çš„æ–¹å‘ä¸Šç§»åŠ¨ã€‚å½“å®ƒé‡åˆ°é£Ÿç‰©æ—¶ï¼Œå®ƒä¼šåƒæ‰é£Ÿç‰©å¹¶ç”Ÿé•¿ã€‚å½“å®ƒæ’åˆ°å¢™å£æˆ–è‡ªå·±æ—¶ï¼Œæ¸¸æˆç»“æŸã€‚
- en: This project can also benefit from the abstract list-processing functions in
    ISL. Look for places to use them and replace existing code, a piece at a time.
    Tests will ensure that you arenâ€™t introducing mistakes.
  id: totrans-1464
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤é¡¹ç›®ä¹Ÿå¯ä»¥ä»ISLä¸­çš„æŠ½è±¡åˆ—è¡¨å¤„ç†å‡½æ•°ä¸­å—ç›Šã€‚å¯»æ‰¾ä½¿ç”¨å®ƒä»¬çš„åœ°æ–¹ï¼Œå¹¶é€æ­¥æ›¿æ¢ç°æœ‰ä»£ç ã€‚æµ‹è¯•å°†ç¡®ä¿ä½ æ²¡æœ‰å¼•å…¥é”™è¯¯ã€‚
- en: 17Nameless Functions[ğŸ”—](#(part._ch~3a3lambda) "Link to here")
  id: totrans-1465
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 17 æ— åå‡½æ•°[ğŸ”—](#(part._ch~3a3lambda) "é“¾æ¥è‡³æ­¤")
- en: 'Using abstract functions needs functions as arguments. Occasionally these functions
    are existing primitive functions, teachpack functions, or functions that you defined:'
  id: totrans-1466
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æŠ½è±¡å‡½æ•°éœ€è¦å°†å‡½æ•°ä½œä¸ºå‚æ•°ã€‚å¶å°”è¿™äº›å‡½æ•°æ˜¯ç°æœ‰çš„åŸå§‹å‡½æ•°ã€teachpackå‡½æ•°æˆ–ä½ å®šä¹‰çš„å‡½æ•°ï¼š
- en: ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)  n  [add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29))
    creates ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  n);
  id: totrans-1467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)  n  [add1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._add1%29%29))
    åˆ›å»º ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  n);
- en: ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)  [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  another-list  a-list)
    concatenates the items in a-list and another-list into a single list; and
  id: totrans-1468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)  [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  å¦ä¸€ä¸ªåˆ—è¡¨  a-list)
    å°† a-list å’Œå¦ä¸€ä¸ªåˆ—è¡¨ä¸­çš„é¡¹ç›®è¿æ¥æˆä¸€ä¸ªå•ä¸€åˆ—è¡¨ï¼›å¹¶ä¸”
- en: ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)  [above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)  [empty-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29)  images)
    stacks the given images.
  id: totrans-1469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)  [above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)  [ç©ºå›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29)  å›¾åƒ)
    å°†ç»™å®šçš„å›¾åƒå †å èµ·æ¥ã€‚
- en: 'At other times, it requires the definition of a simple helper function, a definition
    that often consists of a single line. Consider this use of [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29):'
  id: totrans-1470
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å…¶ä»–æ—¶å€™ï¼Œå®ƒå¯èƒ½éœ€è¦å®šä¹‰ä¸€ä¸ªç®€å•çš„è¾…åŠ©å‡½æ•°ï¼Œè¿™ä¸ªå®šä¹‰é€šå¸¸åªåŒ…å«ä¸€è¡Œã€‚è€ƒè™‘ä»¥ä¸‹ [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    çš„ç”¨æ³•ï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [IR](#%28tech._ir%29)] [Number](part_one.html#%28tech._number%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1471
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [IR](#%28tech._ir%29)] [æ•°å­—](part_one.html#%28tech._number%29)
    -> [å¸ƒå°”](part_one.html#%28tech._boolean%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (findÂ lÂ th)
    |'
  id: totrans-1472
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (æŸ¥æ‰¾Â lÂ th)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [IR](#%28tech._ir%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1473
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [IR](#%28tech._ir%29)
    -> [å¸ƒå°”](part_one.html#%28tech._boolean%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (acceptable?Â ir)
    |'
  id: totrans-1474
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (å¯æ¥å—?Â ir)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th)))
    |'
  id: totrans-1475
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th)))
    |'
- en: '| Â Â Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â acceptable?Â l)))
    |'
  id: totrans-1476
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â å¯æ¥å—?Â l)))
    |'
- en: 'It finds all items on an inventory list whose price is below th. The auxiliary
    function is nearly trivial yet its definition takes up three lines.This situation
    calls for an improvement to the language. Programmers should be able to create
    such small and insignificant functions without much effort.If you havenâ€™t done
    so, choose â€œIntermediate Student with lambdaâ€ from the â€œHow to Design Programsâ€
    submenu in the â€œLanguageâ€ menu in DrRacket. The history of [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    is intimately involved with the early history of programming and programming language
    design. The next level in our hierarchy of teaching languages, â€œIntermediate Student
    Language with lambda,â€ solves the problem with a new concept, nameless functions.
    This chapter introduces the concept: its syntax, its meaning, and its pragmatics.
    With [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29),
    the above definition is, conceptually speaking, a one-liner:'
  id: totrans-1477
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥å‡½æ•°æŸ¥æ‰¾æ‰€æœ‰ä»·æ ¼ä½äº th çš„åº“å­˜æ¸…å•ä¸Šçš„é¡¹ç›®ã€‚è¾…åŠ©å‡½æ•°å‡ ä¹å¾®ä¸è¶³é“ï¼Œä½†å…¶å®šä¹‰å´å ç”¨äº†ä¸‰è¡Œã€‚è¿™ç§æƒ…å†µéœ€è¦æ”¹è¿›è¯­è¨€ã€‚ç¨‹åºå‘˜åº”è¯¥èƒ½å¤Ÿè½»æ¾åœ°åˆ›å»ºè¿™æ ·å°è€Œå¾®ä¸è¶³é“çš„å‡½æ•°ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰è¿™æ ·åšï¼Œè¯·ä»
    DrRacket çš„â€œè¯­è¨€â€èœå•ä¸­çš„â€œå¦‚ä½•è®¾è®¡ç¨‹åºâ€å­èœå•ä¸­é€‰æ‹©â€œå¸¦æœ‰ lambda çš„ä¸­çº§å­¦ç”Ÿâ€ã€‚[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    çš„å†å²ä¸ç¼–ç¨‹å’Œç¼–ç¨‹è¯­è¨€è®¾è®¡çš„æ—©æœŸå†å²å¯†åˆ‡ç›¸å…³ã€‚åœ¨æˆ‘ä»¬æ•™å­¦è¯­è¨€å±‚æ¬¡ç»“æ„çš„ä¸‹ä¸€çº§ï¼Œâ€œå¸¦æœ‰ lambda çš„ä¸­çº§å­¦ç”Ÿè¯­è¨€â€é€šè¿‡å¼•å…¥ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œå³æ— åå­—å‡½æ•°ï¼Œæ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚æœ¬ç« ä»‹ç»äº†è¿™ä¸€æ¦‚å¿µï¼šå…¶è¯­æ³•ã€å…¶å«ä¹‰åŠå…¶å®ç”¨æ€§ã€‚ä½¿ç”¨
    [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ï¼Œä¸Šè¿°å®šä¹‰åœ¨æ¦‚å¿µä¸Šå¯ä»¥è¯´æ˜¯ä¸€è¡Œä»£ç ï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [IR](#%28tech._ir%29)] [Number](part_one.html#%28tech._number%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1478
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [çº¢å¤–](#%28tech._ir%29)] [æ•°å­—](part_one.html#%28tech._number%29)
    -> [å¸ƒå°”](part_one.html#%28tech._boolean%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (findÂ lÂ th)
    |'
  id: totrans-1479
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (findÂ lÂ th)
    |'
- en: '| Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))Â l))
    |'
  id: totrans-1480
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))Â l))
    |'
- en: The first two sections focus the mechanics of [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29);
    the remaining ones use [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    for instantiating abstractions, for testing and specifying, and for representing
    infinite data.
  id: totrans-1481
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ä¸¤èŠ‚ä¸»è¦å…³æ³¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    çš„æœºåˆ¶ï¼›å…¶ä½™éƒ¨åˆ†ä½¿ç”¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    æ¥å®ä¾‹åŒ–æŠ½è±¡æ¦‚å¿µã€è¿›è¡Œæµ‹è¯•å’ŒæŒ‡å®šï¼Œä»¥åŠè¡¨ç¤ºæ— é™æ•°æ®ã€‚
- en: 17.1Functions from [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3aint-lambda)
    "Link to here")
  id: totrans-1482
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 17.1 ä» [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3aint-lambda)
    "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'The syntax of [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    is straightforward:'
  id: totrans-1483
  prefs: []
  type: TYPE_NORMAL
  zh: '[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    çš„è¯­æ³•ç®€å•æ˜äº†ï¼š'
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (variable-1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â variable-N)Â expression)
  id: totrans-1484
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (variable-1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â variable-N)Â expression)
- en: 'Its distinguishing characteristic is the keyword [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29).
    The keyword is followed by a sequence of variables, enclosed in a pair of parentheses.
    The last piece is an arbitrary expression, and it computes the result of the function
    when it is given values for its parameters.Here are three simple examples, all
    of which consume one argument:'
  id: totrans-1485
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒçš„æ˜¾è‘—ç‰¹ç‚¹æ˜¯å…³é”®å­—[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ã€‚å…³é”®å­—åé¢è·Ÿç€ä¸€ç³»åˆ—å˜é‡ï¼Œè¿™äº›å˜é‡è¢«æ‹¬å·åŒ…å›´ã€‚æœ€åä¸€éƒ¨åˆ†æ˜¯ä»»æ„è¡¨è¾¾å¼ï¼Œå½“ä¸ºå‚æ•°èµ‹äºˆå€¼æ—¶ï¼Œå®ƒè®¡ç®—å‡½æ•°çš„ç»“æœã€‚ä»¥ä¸‹æœ‰ä¸‰ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®ƒä»¬éƒ½æ¥å—ä¸€ä¸ªå‚æ•°ï¼š
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x)  ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)  10  x)),
    which assumes that the argument is a number and computes the exponent of 10 to
    the number;
  id: totrans-1486
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x)  ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)  10  x)),
    è¯¥å‡½æ•°å‡è®¾å‚æ•°æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå¹¶è®¡ç®—10çš„è¯¥æ•°å­—æ¬¡å¹‚ï¼›
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (n)  ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)  "To
    "  n  ",")), which uses a given string to synthesize an address with [string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29);
    and
  id: totrans-1487
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (n)  ([string_append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)  "To
    "  n  ",")), è¯¥å‡½æ•°ä½¿ç”¨ç»™å®šçš„å­—ç¬¦ä¸²æ¥åˆæˆä¸€ä¸ªåœ°å€ï¼Œå¹¶ä¸[string_append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)ç»“åˆä½¿ç”¨ï¼›å¹¶ä¸”
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (ir)  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (IR-price  ir)  th)),
    which is a function on an IR structure that extracts the price and compares it
    with th.
  id: totrans-1488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (ir)  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (IR-price  ir)  th)),
    è¿™æ˜¯åœ¨IRç»“æ„ä¸Šå®šä¹‰çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæå–ä»·æ ¼å¹¶å°†å…¶ä¸thè¿›è¡Œæ¯”è¾ƒã€‚
- en: One way to understand how [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    works is to view it as an abbreviation for a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression. For example,
  id: totrans-1489
  prefs: []
  type: TYPE_NORMAL
  zh: ç†è§£[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)å¦‚ä½•å·¥ä½œçš„ä¸€ç§æ–¹æ³•æ˜¯å°†å®ƒè§†ä¸ºä¸€ä¸ª[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼çš„ç¼©å†™ã€‚ä¾‹å¦‚ï¼Œ
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))
  id: totrans-1490
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))
- en: is short forThis way of thinking about [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    shows one more time why the rule for computing with [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    is complicated.
  id: totrans-1491
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€ç§°è¿™ç§æ–¹å¼æ€è€ƒ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    å†æ¬¡è¯´æ˜äº†ä¸ºä»€ä¹ˆä½¿ç”¨ [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    çš„è§„åˆ™æ˜¯å¤æ‚çš„ã€‚
- en: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (some-nameÂ x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x)))
    |'
  id: totrans-1492
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (some-nameÂ x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x)))
    |'
- en: '| Â Â Â some-name) |'
  id: totrans-1493
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    some-name) |'
- en: 'This â€œtrickâ€ works, in general, as long as some-name does not appear in the
    body of the function. What this means is that [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    creates a function with a name that nobody knows. If nobody knows the name, it
    might as well be nameless.To use a function created from a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression, you apply it to the correct number of arguments. It works as expected:'
  id: totrans-1494
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§â€œæŠ€å·§â€åœ¨ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯æœ‰æ•ˆçš„ï¼Œåªè¦ some-name ä¸å‡ºç°åœ¨å‡½æ•°ä½“ä¸­ã€‚è¿™æ„å‘³ç€ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    åˆ›å»ºäº†ä¸€ä¸ªæ— äººçŸ¥æ™“åç§°çš„å‡½æ•°ã€‚å¦‚æœæ— äººçŸ¥æ™“åç§°ï¼Œé‚£ä¹ˆå®ƒå°±ç›¸å½“äºä¸€ä¸ªæ— åçš„å‡½æ•°ã€‚è¦ä½¿ç”¨ä» [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼åˆ›å»ºçš„å‡½æ•°ï¼Œä½ éœ€è¦å°†å…¶åº”ç”¨äºæ­£ç¡®çš„å‚æ•°æ•°é‡ã€‚å®ƒå°†æŒ‰é¢„æœŸå·¥ä½œï¼š
- en: '| > (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 10Â x))Â 2)
    |'
  id: totrans-1495
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 10Â x))Â 2)
    |'
- en: '| 100 |'
  id: totrans-1496
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 100 |'
- en: '|'
  id: totrans-1497
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1498
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â nameÂ ",
    "Â rst)) &#124;'
  id: totrans-1499
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; > (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)Â ([string_append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string_append%29%29)Â nameÂ ",
    "Â rst)) &#124;'
- en: '&#124; Â Â Â "Robby" &#124;'
  id: totrans-1500
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "Robby" &#124;'
- en: '&#124; Â Â Â "etc.") &#124;'
  id: totrans-1501
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    "etc.") &#124;'
- en: ''
  id: totrans-1502
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1503
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '| "Robby, etc." |'
  id: totrans-1504
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "Robby, etc." |'
- en: '|'
  id: totrans-1505
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1506
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))
    &#124;'
  id: totrans-1507
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; > (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))
    &#124;'
- en: '&#124; Â Â Â (make-IRÂ "bear"Â 10)) &#124;'
  id: totrans-1508
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;    (make-IRÂ "bear"Â 10)) &#124;'
- en: ''
  id: totrans-1509
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1510
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '| #true |'
  id: totrans-1511
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #true |'
- en: 'Note how the second sample function requires two arguments and that the last
    example assumes a definition for th in the definitions window such as this one:'
  id: totrans-1512
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ç¬¬äºŒä¸ªç¤ºä¾‹å‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”æœ€åä¸€ä¸ªç¤ºä¾‹å‡è®¾åœ¨å®šä¹‰çª—å£ä¸­ä¸º th å®šä¹‰äº†å¦‚ä¸‹å†…å®¹ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â thÂ 20)
  id: totrans-1513
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â thÂ 20)
    | '
- en: 'The result of the last example is #true because the price field of the inventory
    record contains 10, and 10 is less than 20.The important point is that these nameless
    functions can be used wherever a function is required, including with the abstractions
    from [figureÂ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29):'
  id: totrans-1514
  prefs: []
  type: TYPE_NORMAL
  zh: 'æœ€åä¸€ä¸ªç¤ºä¾‹çš„ç»“æœæ˜¯ #trueï¼Œå› ä¸ºåº“å­˜è®°å½•çš„ä»·æ ¼å­—æ®µåŒ…å« 10ï¼Œè€Œ 10 å°äº 20ã€‚é‡è¦çš„æ˜¯ï¼Œè¿™äº›æ— åçš„å‡½æ•°å¯ä»¥åœ¨éœ€è¦å‡½æ•°çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼ŒåŒ…æ‹¬
    [å›¾ 95](#%28counter._%28figure._fig~3aisl-ho-list%29%29) ä¸­çš„æŠ½è±¡ï¼š'
- en: '|'
  id: totrans-1515
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| '
- en: ''
  id: totrans-1516
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 10Â x))
    &#124;'
  id: totrans-1517
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 10Â x))
    | '
- en: '&#124; Â Â Â Â Â Â Â ''(1Â 2Â 3)) &#124;'
  id: totrans-1518
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ''(1Â 2Â 3)) | '
- en: ''
  id: totrans-1519
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1520
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| '
- en: '| (list 10 100 1000) |'
  id: totrans-1521
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (list 10 100 1000) | '
- en: '|'
  id: totrans-1522
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| '
- en: ''
  id: totrans-1523
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)
    &#124;'
  id: totrans-1524
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â nameÂ ",
    "Â rst)) &#124;'
  id: totrans-1525
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â nameÂ ",
    "Â rst)) | '
- en: '&#124; Â Â Â Â Â Â Â Â Â "etc." &#124;'
  id: totrans-1526
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| "etc." | '
- en: '&#124; Â Â Â Â Â Â Â Â Â ''("Matthew"Â "Robby")) &#124;'
  id: totrans-1527
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ''("Matthew"Â "Robby")) | '
- en: ''
  id: totrans-1528
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1529
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| '
- en: '| "Robby, Matthew, etc." |'
  id: totrans-1530
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "Robby, Matthew, etc." |'
- en: '|'
  id: totrans-1531
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| '
- en: ''
  id: totrans-1532
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))
    &#124;'
  id: totrans-1533
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (make-IRÂ "bear"Â 10)
    &#124;'
  id: totrans-1534
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (make-IRÂ "bear"Â 10))
    | '
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-IRÂ "doll"Â 33))) &#124;'
  id: totrans-1535
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| (make-IRÂ "doll"Â 33))) | '
- en: ''
  id: totrans-1536
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1537
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| '
- en: '| (list (make-IR ...)) |'
  id: totrans-1538
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (list (make-IR ...)) | '
- en: 'OnceThe dots are not part of the output. again, the last example assumes a
    definition for th.ExerciseÂ 279\. Decide which of the following phrases are legal
    [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expressions:'
  id: totrans-1539
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ¬¡ï¼Œçœç•¥å·ä¸æ˜¯è¾“å‡ºçš„ä¸€éƒ¨åˆ†ã€‚å†æ¬¡ï¼Œæœ€åä¸€ä¸ªç¤ºä¾‹å‡è®¾äº† th çš„å®šä¹‰ã€‚ç»ƒä¹  279ã€‚å†³å®šä»¥ä¸‹å“ªäº›çŸ­è¯­æ˜¯åˆæ³•çš„ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ï¼š
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x  y)  (x  y  y))
  id: totrans-1540
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x  y)  (x  y  y))
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  ()  10)
  id: totrans-1541
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  ()  10)
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x)  x)
  id: totrans-1542
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x)  x)
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x  y)  x)
  id: totrans-1543
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (x  y)  x)
- en: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  x  10)
  id: totrans-1544
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  x  10)
- en: 'Explain why they are legal or illegal. If in doubt, experiment in the interactions
    area of DrRacket.ExerciseÂ 280\. Calculate the result of the following expressions:'
  id: totrans-1545
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šä¸ºä»€ä¹ˆå®ƒä»¬æ˜¯åˆæ³•çš„æˆ–éæ³•çš„ã€‚å¦‚æœæœ‰ç–‘é—®ï¼Œè¯·åœ¨DrRacketçš„äº¤äº’åŒºåŸŸè¿›è¡Œå®éªŒã€‚ç»ƒä¹ 280ï¼šè®¡ç®—ä»¥ä¸‹è¡¨è¾¾å¼çš„ç»“æœï¼š
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (xÂ y)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â xÂ ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ y)))
    |'
  id: totrans-1546
  prefs:
  - PREF_OL
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (xÂ y)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â xÂ ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ y)))
    |'
- en: '| Â 1Â 2) |'
  id: totrans-1547
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â 1Â 2) |'
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (xÂ y)
    |'
  id: totrans-1548
  prefs:
  - PREF_OL
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (xÂ y)
    |'
- en: '| Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â x
    |'
  id: totrans-1549
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â x
    |'
- en: '| Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â zÂ ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â yÂ y)))
    |'
  id: totrans-1550
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â zÂ ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â yÂ y)))
    |'
- en: '| Â Â Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 3Â z)Â ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â x)))))
    |'
  id: totrans-1551
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 3Â z)Â ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â x)))))
    |'
- en: '| Â 1Â 2) |'
  id: totrans-1552
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â 1Â 2) |'
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (xÂ y)
    |'
  id: totrans-1553
  prefs:
  - PREF_OL
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (xÂ y)
    |'
- en: '| Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â x
    |'
  id: totrans-1554
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â x
    |'
- en: '| Â Â Â Â Â Â (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (z)
    |'
  id: totrans-1555
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (z)
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 3Â z)Â ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â z)))
    |'
  id: totrans-1556
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 3Â z)Â ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â 1Â z)))
    |'
- en: '| Â Â Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â yÂ y))))
    |'
  id: totrans-1557
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â yÂ y))))
    |'
- en: '| Â 1Â 2) |'
  id: totrans-1558
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â 1Â 2) |'
- en: Check your results in DrRacket.ExerciseÂ 281\. Write down a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression that
  id: totrans-1559
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ DrRacket ä¸­æ£€æŸ¥ä½ çš„ç»“æœã€‚ç»ƒä¹  281ï¼šå†™ä¸‹ä¸€ä¸ª [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ï¼Œ
- en: consumes a number and decides whether it is less than 10;
  id: totrans-1560
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¶ˆè´¹ä¸€ä¸ªæ•°å­—å¹¶åˆ¤æ–­å®ƒæ˜¯å¦å°äº 10ï¼›
- en: multiplies two given numbers and turns the result into a string;
  id: totrans-1561
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¹˜ä»¥ä¸¤ä¸ªç»™å®šçš„æ•°å­—å¹¶å°†ç»“æœè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼›
- en: consumes a natural number and returns 0 for evens and 1 for odds;
  id: totrans-1562
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¶ˆè´¹ä¸€ä¸ªè‡ªç„¶æ•°ï¼Œå¯¹äºå¶æ•°è¿”å› 0ï¼Œå¯¹äºå¥‡æ•°è¿”å› 1ï¼›
- en: consumes two inventory records and compares them by price; and
  id: totrans-1563
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¶ˆè´¹ä¸¤ä¸ªåº“å­˜è®°å½•å¹¶æŒ‰ä»·æ ¼æ¯”è¾ƒå®ƒä»¬ï¼›å¹¶ä¸”
- en: adds a red dot at a given [Posn](part_one.html#%28tech._posn%29) to a given
    [Image](part_one.html#%28tech._image%29).
  id: totrans-1564
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨ç»™å®šçš„ [Posn](part_one.html#%28tech._posn%29) ä¸Šç»™å®šçš„ [Image](part_one.html#%28tech._image%29)
    æ·»åŠ ä¸€ä¸ªçº¢è‰²åœ†ç‚¹ã€‚
- en: Demonstrate how to use these functions in the interactions area.
  id: totrans-1565
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨äº¤äº’åŒºåŸŸæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚
- en: 17.2Computing with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3alambda-technical)
    "Link to here")
  id: totrans-1566
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 17.2 ä½¿ç”¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3alambda-technical)
    "é“¾æ¥åˆ°æ­¤å¤„")
- en: The insight that [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    abbreviates a certain kind of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    also connects constant definitions and function definitions. Instead of viewing
    function definitions as given, we can take [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)s
    as another fundamental concept and say that a function definition abbreviates
    a plain constant definition with a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression on the right-hand side.
  id: totrans-1567
  prefs: []
  type: TYPE_NORMAL
  zh: '[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ç®€åŒ–äº†æŸç§ç±»å‹çš„ [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ï¼Œè¿™ä¸€æ´å¯Ÿå°†å¸¸é‡å®šä¹‰å’Œå‡½æ•°å®šä¹‰è”ç³»èµ·æ¥ã€‚æˆ‘ä»¬ä¸å¿…å°†å‡½æ•°å®šä¹‰è§†ä¸ºç»™å®šï¼Œå¯ä»¥å°†
    [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    çœ‹ä½œå¦ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œå¹¶è¯´å‡½æ•°å®šä¹‰ç®€åŒ–äº†å³ä¾§å¸¦æœ‰ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼çš„ç®€å•å¸¸é‡å®šä¹‰ã€‚'
- en: 'Itâ€™s best to look at some concrete examples:'
  id: totrans-1568
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¥½çœ‹çœ‹ä¸€äº›å…·ä½“çš„ä¾‹å­ï¼š
- en: '|'
  id: totrans-1569
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1570
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)
    &#124;'
  id: totrans-1571
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (f x) &#124;'
- en: '&#124; Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))
    &#124;'
  id: totrans-1572
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    10 x)) &#124;'
- en: ''
  id: totrans-1573
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  | is short for |  |'
  id: totrans-1574
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  | æ˜¯ |  |'
- en: ''
  id: totrans-1575
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â f
    &#124;'
  id: totrans-1576
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    f &#124;'
- en: '&#124; Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)
    &#124;'
  id: totrans-1577
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    (x) &#124;'
- en: '&#124; Â Â Â Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x)))
    &#124;'
  id: totrans-1578
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    10 x))) &#124;'
- en: ''
  id: totrans-1579
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1580
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: 'What this line says is that a function definition consists of two steps: the
    creation of the function and its naming. Here, the [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    on the right-hand side creates a function of one argument x that computes ![image](../Images/b0443acdeef562ebebd835024689bd47.png);
    it is [define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    that names the [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression f. We give names to functions for two distinct reasons. On the one
    hand, a function is often called more than once from other functions, and we wouldnâ€™t
    want to spell out the function with a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    each time it is called. On the other hand, functions are often recursive because
    they process recursive forms of data, and naming functions makes it easy to create
    recursive functions.'
  id: totrans-1581
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™è¡Œä»£ç è¯´æ˜å‡½æ•°å®šä¹‰åŒ…å«ä¸¤ä¸ªæ­¥éª¤ï¼šå‡½æ•°çš„åˆ›å»ºå’Œå‘½åã€‚åœ¨è¿™é‡Œï¼Œå³ä¾§çš„ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    åˆ›å»ºäº†ä¸€ä¸ªæ¥å—ä¸€ä¸ªå‚æ•° x çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°è®¡ç®— ![image](../Images/b0443acdeef562ebebd835024689bd47.png)ï¼›å®ƒæ˜¯
    [define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ä¸º [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ f å‘½åã€‚æˆ‘ä»¬ç»™å‡½æ•°å‘½åæœ‰ä¸¤ä¸ªä¸åŒçš„åŸå› ã€‚ä¸€æ–¹é¢ï¼Œå‡½æ•°é€šå¸¸ä¼šè¢«å…¶ä»–å‡½æ•°å¤šæ¬¡è°ƒç”¨ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ¯æ¬¡è°ƒç”¨æ—¶éƒ½æ‹¼å†™ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ã€‚å¦ä¸€æ–¹é¢ï¼Œå‡½æ•°é€šå¸¸æ˜¯é€’å½’çš„ï¼Œå› ä¸ºå®ƒä»¬å¤„ç†é€’å½’æ•°æ®å½¢å¼ï¼Œç»™å‡½æ•°å‘½åå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºé€’å½’å‡½æ•°ã€‚
- en: ExerciseÂ 282\. Experiment with the above definitions in DrRacket.
  id: totrans-1582
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  282ã€‚åœ¨ DrRacket ä¸­å°è¯•ä¸Šè¿°å®šä¹‰ã€‚
- en: Also add
  id: totrans-1583
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜éœ€æ·»åŠ 
- en: '| ;Â [Number](part_one.html#%28tech._number%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
  id: totrans-1584
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [æ•°å­—](part_one.html#%28tech._number%29) -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (compareÂ x)
    |'
  id: totrans-1585
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (compare x) |'
- en: '| Â Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â (f-plainÂ x)Â (f-lambdaÂ x)))
    |'
  id: totrans-1586
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '&#124; ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)
    (f-plain x) (f-lambda x))) |'
- en: to the definitions area after renaming the left-hand f to f-plain and the right-hand
    one to f-lambda. Then run
  id: totrans-1587
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å°†å·¦ä¾§çš„ f é‡å‘½åä¸º f-plain å’Œå³ä¾§çš„ f é‡å‘½åä¸º f-lambda åï¼Œå°†å…¶å®šä¹‰åŒºåŸŸæ·»åŠ åˆ°å®šä¹‰åŒºåŸŸã€‚ç„¶åè¿è¡Œ
- en: (compareÂ ([random](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29)Â 100000))
  id: totrans-1588
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (compare ([random](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29)
    100000))
- en: 'a few times to make sure the two functions agree on all kinds of inputs.If
    function definitions are just abbreviations for constant definitions, we can replace
    the function name by its [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression:'
  id: totrans-1589
  prefs: []
  type: TYPE_NORMAL
  zh: å‡ æ¬¡ç¡®ä¿ä¸¤ä¸ªå‡½æ•°åœ¨æ‰€æœ‰ç±»å‹çš„è¾“å…¥ä¸Šè¾¾æˆä¸€è‡´ã€‚å¦‚æœå‡½æ•°å®šä¹‰åªæ˜¯å¸¸é‡å®šä¹‰çš„ç¼©å†™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼æ¥æ›¿æ¢å‡½æ•°åï¼š
- en: '| (fÂ (fÂ 42)) |'
  id: totrans-1590
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (f (f 42)) |'
- en: '| == |'
  id: totrans-1591
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))Â (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))Â 42))
    |'
  id: totrans-1592
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    (x) ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    10 x)) ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    (x) ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    10 x)) 42)) |'
- en: 'Strangely though, this substitution appears to create an expression that violates
    the grammar as we know it. To be precise, it generates an application expression
    whose function position is a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression.The point is that ISL+â€™s grammar differs from ISLâ€™s in two aspects:
    it obviously comes with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expressions, but it also allows arbitrary expressions to show up in the function
    position of an application. This means that you may need to evaluate the function
    position before you can proceed with an application, but you know how to evaluate
    most expressions. Of course, the real difference is that the evaluation of an
    expression may yield a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression. Functions really are values. The following grammar revises the one
    from [Intermezzo 1: Beginning Student Language](i1-2.html) to summarize these
    differences:'
  id: totrans-1593
  prefs: []
  type: TYPE_NORMAL
  zh: 'è™½ç„¶å¦‚æ­¤ï¼Œè¿™ç§æ›¿æ¢ä¼¼ä¹åˆ›å»ºäº†ä¸€ä¸ªè¿åæˆ‘ä»¬å·²çŸ¥è¯­æ³•çš„è¡¨è¾¾å¼ã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œå®ƒç”Ÿæˆçš„æ˜¯ä¸€ä¸ªåº”ç”¨è¡¨è¾¾å¼ï¼Œå…¶å‡½æ•°ä½ç½®æ˜¯ä¸€ä¸ª [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ã€‚å…³é”®ç‚¹æ˜¯ ISL+ çš„è¯­æ³•åœ¨ä¸¤ä¸ªæ–¹é¢ä¸ ISL ä¸åŒï¼šå®ƒæ˜¾ç„¶åŒ…å« [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ï¼Œä½†å®ƒè¿˜å…è®¸ä»»æ„è¡¨è¾¾å¼å‡ºç°åœ¨åº”ç”¨è¡¨è¾¾å¼çš„å‡½æ•°ä½ç½®ã€‚è¿™æ„å‘³ç€åœ¨æ‰§è¡Œåº”ç”¨ä¹‹å‰ï¼Œä½ å¯èƒ½éœ€è¦è¯„ä¼°å‡½æ•°ä½ç½®ï¼Œä½†ä½ çŸ¥é“å¦‚ä½•è¯„ä¼°å¤§å¤šæ•°è¡¨è¾¾å¼ã€‚å½“ç„¶ï¼ŒçœŸæ­£çš„åŒºåˆ«åœ¨äºè¡¨è¾¾å¼çš„è¯„ä¼°å¯èƒ½äº§ç”Ÿä¸€ä¸ª
    [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ã€‚å‡½æ•°å®é™…ä¸Šå°±æ˜¯å€¼ã€‚ä»¥ä¸‹è¯­æ³•ä¿®è®¢äº†æ¥è‡ª [Intermezzo 1: åˆå­¦è€…è¯­è¨€](i1-2.html) çš„è¯­æ³•ï¼Œä»¥æ€»ç»“è¿™äº›å·®å¼‚ï¼š'
- en: '| Â Â expr | Â  | = | Â  | ... |'
  id: totrans-1594
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    expr |    | = |    | ... |'
- en: '| Â  | Â  | &#124; | Â  | (exprÂ exprÂ ...) |'
  id: totrans-1595
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    |    | &#124; |    | (expr expr ...) |'
- en: '| Â  | Â  | Â  | Â  | Â  |'
  id: totrans-1596
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    |    |    |    |    |'
- en: '| Â Â value | Â  | = | Â  | ... |'
  id: totrans-1597
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    value |    | = |    | ... |'
- en: '| Â  | Â  | &#124; | Â  | ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (variableÂ variableÂ ...)Â expr)
    |'
  id: totrans-1598
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|    |    | &#124; |    | ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    (variable variable ...) expr) |'
- en: Alonzo Church, who invented [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    in the late 1920s, hoped to create a unifying theory of functions. He stated the
    beta axiom roughly like this.â€”<wbr>From his work we know that from a theoretical
    perspective, a language does not need [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    once it has [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29).
    But the margin of this page is too small to explain this idea properly. If you
    are curious, read up on [the Y combinator](Https://felleisen.org/matthias/BTLS-sample.pdf).
  id: totrans-1599
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: é˜¿éš†ä½Â·ä¸˜å¥‡ï¼Œä»–åœ¨20ä¸–çºª20å¹´ä»£æœ«å‘æ˜äº† [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ï¼Œå¸Œæœ›åˆ›é€ ä¸€ä¸ªå‡½æ•°çš„ç»Ÿä¸€ç†è®ºã€‚ä»–å¤§è‡´è¿™æ ·è¡¨è¿°äº†
    beta å…¬ç†ã€‚â€”â€”<wbr>ä»ä»–çš„å·¥ä½œä¸­æˆ‘ä»¬çŸ¥é“ï¼Œä»ç†è®ºè§’åº¦æ¥çœ‹ï¼Œä¸€æ—¦æœ‰äº† [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ï¼Œä¸€ç§è¯­è¨€å°±ä¸éœ€è¦
    [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ã€‚ä½†è¿™ä¸ªé¡µé¢çš„è¾¹è·å¤ªå°ï¼Œæ— æ³•æ­£ç¡®è§£é‡Šè¿™ä¸ªæƒ³æ³•ã€‚å¦‚æœä½ å¥½å¥‡ï¼Œå¯ä»¥é˜…è¯»æœ‰å…³
    [Y æ‹›æ•°](Https://felleisen.org/matthias/BTLS-sample.pdf) çš„èµ„æ–™ã€‚
- en: 'What you really need to know is how to evaluate the application of a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression to arguments, and that is surprisingly straightforward:'
  id: totrans-1600
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çœŸæ­£éœ€è¦äº†è§£çš„æ˜¯å¦‚ä½•è¯„ä¼°ä¸€ä¸ª [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼å¯¹å‚æ•°çš„åº”ç”¨ï¼Œè¿™å‡ºäººæ„æ–™åœ°ç®€å•ï¼š
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x-1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â x-n)Â f-body)Â v-1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â v-n)Â ==Â f-body
    |'
  id: totrans-1601
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x-1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â x-n)Â f-body)Â v-1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â v-n)Â ==Â f-body
    |'
- en: '| ;Â with all occurrences of x-1  ...  x-n |'
  id: totrans-1602
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â with all occurrences of x-1  ...  x-n |'
- en: '| ;Â replaced with v-1  ...  v-n, respectively [beta-v] |'
  id: totrans-1603
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â replaced with v-1  ...  v-n, respectively [beta-v] |'
- en: 'That is, the application of a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression proceeds just like that of an ordinary function. We replace the parameters
    of the function with the actual argument values and compute the value of the function
    body.Here is how to use this law on the first example in this chapter:'
  id: totrans-1604
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£å°±æ˜¯ï¼Œä¸€ä¸ª [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼çš„åº”ç”¨è¿‡ç¨‹å°±åƒæ™®é€šå‡½æ•°ä¸€æ ·ã€‚æˆ‘ä»¬ç”¨å®é™…çš„å‚æ•°å€¼æ›¿æ¢å‡½æ•°çš„å‚æ•°ï¼Œå¹¶è®¡ç®—å‡½æ•°ä½“çš„å€¼ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨æœ¬ç« çš„ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ä½¿ç”¨è¿™æ¡æ³•åˆ™ï¼š
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))Â 2)
    |'
  id: totrans-1605
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))Â 2)
    |'
- en: '| == |'
  id: totrans-1606
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â 2)
    |'
  id: totrans-1607
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â 2)
    |'
- en: '| == |'
  id: totrans-1608
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| 20 |'
  id: totrans-1609
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 20 |'
- en: 'The second one proceeds in an analogous manner:'
  id: totrans-1610
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒä¸ªä¾‹å­ä»¥ç±»ä¼¼çš„æ–¹å¼è¿›è¡Œï¼š
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â nameÂ ",
    "Â rst)) |'
  id: totrans-1611
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â nameÂ ",
    "Â rst)) |'
- en: '| Â "Robby"Â "etc.") |'
  id: totrans-1612
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â "Robby"Â "etc.") |'
- en: '| == |'
  id: totrans-1613
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "Robby"Â ",
    "Â "etc.") |'
  id: totrans-1614
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â "Robby"Â ",
    "Â "etc.") |'
- en: '| == |'
  id: totrans-1615
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| "Robby, etc." |'
  id: totrans-1616
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| "Robby, etc." |'
- en: 'Stop! Use your intuition to calculate the third example:'
  id: totrans-1617
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ä½¿ç”¨ä½ çš„ç›´è§‰æ¥è®¡ç®—ç¬¬ä¸‰ä¸ªç¤ºä¾‹ï¼š
- en: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))
    |'
  id: totrans-1618
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))
    |'
- en: '| Â (make-IRÂ "bear"Â 10)) |'
  id: totrans-1619
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (make-IRÂ "bear"Â 10)) |'
- en: 'Assume th is larger than or equal to 10.ExerciseÂ 283\. Confirm that DrRacketâ€™s
    stepper can deal with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29).
    Use it to step through the third example and also to determine how DrRacket evaluates
    the following expressions:'
  id: totrans-1620
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ th å¤§äºæˆ–ç­‰äº 10ã€‚ç»ƒä¹  283ã€‚ç¡®è®¤ DrRacket çš„æ­¥è¿›å™¨å¯ä»¥å¤„ç† [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ã€‚ä½¿ç”¨å®ƒæ¥é€æ­¥æ‰§è¡Œç¬¬ä¸‰ä¸ªç¤ºä¾‹ï¼Œå¹¶ç¡®å®š
    DrRacket å¦‚ä½•è¯„ä¼°ä»¥ä¸‹è¡¨è¾¾å¼ï¼š
- en: '| ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))
    |'
  id: totrans-1621
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 10Â x))
    |'
- en: '| Â Â Â Â Â ''(1Â 2Â 3)) |'
  id: totrans-1622
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ''(1Â 2Â 3)) |'
- en: '| Â  |'
  id: totrans-1623
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)
    |'
  id: totrans-1624
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (nameÂ rst)
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â nameÂ ",
    "Â rst)) |'
  id: totrans-1625
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([string-append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-append%29%29)Â nameÂ ",
    "Â rst)) |'
- en: '| Â Â Â Â Â Â Â "etc." |'
  id: totrans-1626
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â "etc." |'
- en: '| Â Â Â Â Â Â Â ''("Matthew"Â "Robby")) |'
  id: totrans-1627
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ''("Matthew"Â "Robby")) |'
- en: '| Â  |'
  id: totrans-1628
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th))
    |'
  id: totrans-1629
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ir)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (IR-priceÂ ir)Â th)))
    |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (make-IRÂ "bear"Â 10)
    |'
  id: totrans-1630
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆlist (make-IR "bear" 10) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (make-IRÂ "doll"Â 33))) |'
  id: totrans-1631
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆmake-IR "doll" 33))) |'
- en: 'ExerciseÂ 284\. Step through the evaluation of this expression:'
  id: totrans-1632
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 284ã€‚é€æ­¥è¯„ä¼°è¿™ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—è¿‡ç¨‹ï¼š
- en: (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x))
  id: totrans-1633
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x))
- en: 'Now step through this one:'
  id: totrans-1634
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨é€æ­¥è¯„ä¼°è¿™ä¸ªè¡¨è¾¾å¼ï¼š
- en: (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â (xÂ x))Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x))
  id: totrans-1635
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â (xÂ x))Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x))
- en: Stop! What do you think we should try next?Yes, try to evaluate
  id: totrans-1636
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ä½ è®¤ä¸ºæˆ‘ä»¬ä¸‹ä¸€æ­¥åº”è¯¥å°è¯•ä»€ä¹ˆï¼Ÿæ˜¯çš„ï¼Œå°è¯•è¯„ä¼°
- en: (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â (xÂ x))Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â (xÂ x)))
  id: totrans-1637
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â (xÂ x))Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â (xÂ x)))
- en: Be ready to hit STOP.
  id: totrans-1638
  prefs: []
  type: TYPE_NORMAL
  zh: å‡†å¤‡å¥½ç‚¹å‡»åœæ­¢ã€‚
- en: 17.3Abstracting with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3alambda)
    "Link to here")
  id: totrans-1639
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 17.3ä½¿ç”¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3alambda)
    "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'Although it may take you a while to get used to [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    notation, youâ€™ll soon notice that [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    makes short functions much more readable than [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    definitions. Indeed, you will find that you can adapt step 4 of the design recipe
    from [Designing with Abstractions](#%28part._sec~3adesigning-with-abstraction%29)
    to use [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    instead of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29).
    Consider the running example from that section. Its template based on [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    is this:'
  id: totrans-1640
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶ä½ å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ¥ä¹ æƒ¯ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨ç¤ºæ³•ï¼Œä½†å¾ˆå¿«ä½ å°±ä¼šæ³¨æ„åˆ° [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    ä½¿å¾—ç®€çŸ­å‡½æ•°æ¯” [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    å®šä¹‰æ›´å®¹æ˜“é˜…è¯»ã€‚å®é™…ä¸Šï¼Œä½ ä¼šå‘ç°ä½ å¯ä»¥å°† [Designing with Abstractions](#%28part._sec~3adesigning-with-abstraction%29)
    ä¸­çš„è®¾è®¡é£Ÿè°±çš„ç¬¬ 4 æ­¥è°ƒæ•´ä¸ºä½¿ç”¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è€Œä¸æ˜¯ [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ã€‚è€ƒè™‘è¯¥éƒ¨åˆ†ä¸­çš„è¿è¡Œç¤ºä¾‹ã€‚å…¶åŸºäº
    [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    çš„æ¨¡æ¿å¦‚ä¸‹ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
  id: totrans-1641
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ï¼ˆdots lopï¼‰ |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [Posn](part_one.html#%28tech._posn%29)  [Image](part_one.html#%28tech._image%29)
    -> [Image](part_one.html#%28tech._image%29) |'
  id: totrans-1642
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    ï¼ˆ; [ä½ç½®](part_one.html#%28tech._posn%29) [å›¾åƒ](part_one.html#%28tech._image%29)
    -> [å›¾åƒ](part_one.html#%28tech._image%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-one-dotÂ pÂ scene)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
  id: totrans-1643
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ï¼ˆadd-one-dot p sceneï¼‰ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
- en: '| Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â add-one-dotÂ BACKGROUNDÂ lop)))
    |'
  id: totrans-1644
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[æŠ˜å å³](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    add-one-dot BACKGROUND lop))) |'
- en: 'If you spell out the parameters so that their names include signatures, you
    can easily pack all the information from [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    into a single [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29):'
  id: totrans-1645
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å°†å‚æ•°æ‹¼å†™å‡ºæ¥ï¼Œä½¿å®ƒä»¬çš„åç§°åŒ…å«ç­¾åï¼Œä½ å¯ä»¥è½»æ¾åœ°å°†æ‰€æœ‰æ¥è‡ª [å±€éƒ¨å˜é‡](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    çš„ä¿¡æ¯æ‰“åŒ…åˆ°ä¸€ä¸ªå•ä¸€çš„ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    ä¸­ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
  id: totrans-1646
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ï¼ˆdots lopï¼‰ |'
- en: '| Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (a-posnÂ scene)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))Â BACKGROUNDÂ lop))
    |'
  id: totrans-1647
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ä¸€ä¸ªä½ç½®Â åœºæ™¯)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))Â èƒŒæ™¯Â lop))
    |'
- en: 'From here, you should be able to complete the definition as well as you did
    from the original template:'
  id: totrans-1648
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™é‡Œï¼Œä½ åº”è¯¥èƒ½å¤Ÿåƒä»åŸå§‹æ¨¡æ¿ä¸€æ ·å®Œæˆå®šä¹‰ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dotsÂ lop)
    |'
  id: totrans-1649
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (ç‚¹Â lop)
    |'
- en: '| Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (a-posnÂ scene)
    |'
  id: totrans-1650
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (ä¸€ä¸ªä½ç½®Â åœºæ™¯)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOT
    |'
  id: totrans-1651
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â DOT
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â a-posn)
    |'
  id: totrans-1652
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([ä½ç½®-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â ä¸€ä¸ªä½ç½®)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â a-posn)
    |'
  id: totrans-1653
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([ä½ç½®-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â ä¸€ä¸ªä½ç½®)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â scene)) |'
  id: totrans-1654
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â åœºæ™¯)) |'
- en: '| Â Â Â Â Â Â Â Â Â BACKGROUNDÂ lop)) |'
  id: totrans-1655
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â èƒŒæ™¯Â lop)) |'
- en: 'Letâ€™s illustrate [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    with some more examples from [Using Abstractions, by Example](#%28part._sec~3ausage-examples%29):'
  id: totrans-1656
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬é€šè¿‡ä¸€äº›æ¥è‡ªã€Šé€šè¿‡ç¤ºä¾‹ä½¿ç”¨æŠ½è±¡ã€‹çš„æ›´å¤šç¤ºä¾‹æ¥è¯´æ˜[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)çš„ç›®çš„ï¼š
- en: 'the purpose of the first function is to add 3 to each x-coordinate on a given
    list of [Posn](part_one.html#%28tech._posn%29)s:'
  id: totrans-1657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªå‡½æ•°çš„ç›®çš„æ˜¯å°†3åŠ åˆ°ç»™å®šä½ç½®åˆ—è¡¨çš„æ¯ä¸ªxåæ ‡ä¸Šï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
  id: totrans-1658
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ä½ç½®](part_one.html#%28tech._posn%29)]
    -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ä½ç½®](part_one.html#%28tech._posn%29)]
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-3-to-allÂ lop)
    |'
  id: totrans-1659
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (ç»™æ‰€æœ‰ä½ç½®åŠ 3Â lop)
    |'
- en: '| Â Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
  id: totrans-1660
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â 3)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)))
    |'
  id: totrans-1661
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â 3)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)))
    |'
- en: '| Â Â Â Â Â Â Â lop)) |'
  id: totrans-1662
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â lop)) |'
- en: Because [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    expects a function of one argument, we clearly want ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (p)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)).
    The function then deconstructs p, adds 3 to the x-coordinate, and repackages the
    data into a [Posn](part_one.html#%28tech._posn%29).
  id: totrans-1663
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å› ä¸º [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    æœŸæœ›ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¾ç„¶æƒ³è¦ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)  (p)  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)).
    è¯¥å‡½æ•°éšåè§£æ„ pï¼Œå°† x åæ ‡åŠ  3ï¼Œå¹¶å°†æ•°æ®é‡æ–°åŒ…è£…æˆä¸€ä¸ª [ä½ç½®](part_one.html#%28tech._posn%29)ã€‚
- en: 'the second one eliminates [Posn](part_one.html#%28tech._posn%29)s whose y-coordinate
    is above 100:'
  id: totrans-1664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬äºŒä¸ªæ“ä½œæ¶ˆé™¤äº† y åæ ‡å¤§äº 100 çš„ [ä½ç½®](part_one.html#%28tech._posn%29)sï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
  id: totrans-1665
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ä½ç½®](part_one.html#%28tech._posn%29)]
    -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ä½ç½®](part_one.html#%28tech._posn%29)]
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (keep-goodÂ lop)
    |'
  id: totrans-1666
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (keep-goodÂ lop)
    |'
- en: '| Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â 100))Â lop))
    |'
  id: totrans-1667
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â 100))Â lop))
    |'
- en: Here we know that [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    needs a function of one argument that produces a [Boolean](part_one.html#%28tech._boolean%29).
    First, the [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    function extracts the y-coordinate from the [Posn](part_one.html#%28tech._posn%29)
    to which [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    applies the function. Second, it checks whether it is less than or equal to 100,
    the desired limit.
  id: totrans-1668
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çŸ¥é“ [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    éœ€è¦ä¸€ä¸ªå‚æ•°ä¸ºå•ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ç”Ÿæˆä¸€ä¸ª [å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29)ã€‚é¦–å…ˆï¼Œ[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    å‡½æ•°ä» [Posn](part_one.html#%28tech._posn%29) ä¸­æå– y åæ ‡ï¼Œè¿™æ˜¯ [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    åº”ç”¨å‡½æ•°çš„ä½ç½®ã€‚å…¶æ¬¡ï¼Œå®ƒæ£€æŸ¥è¿™ä¸ªå€¼æ˜¯å¦å°äºæˆ–ç­‰äº 100ï¼Œè¿™æ˜¯æœŸæœ›çš„é™åˆ¶ã€‚
- en: 'and the third one determines whether any [Posn](part_one.html#%28tech._posn%29)
    on lop is close to some given point:'
  id: totrans-1669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬ä¸‰ä¸ªåˆ™ç¡®å®š lop ä¸Šçš„ä»»ä½• [Posn](part_one.html#%28tech._posn%29) æ˜¯å¦æ¥è¿‘æŸä¸ªç»™å®šç‚¹ï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
  id: totrans-1670
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)
    |'
  id: totrans-1671
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (close?Â lopÂ pt)
    |'
- en: '| Â Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)Â (close-toÂ pÂ ptÂ CLOSENESS))
    |'
  id: totrans-1672
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)Â (close-toÂ pÂ ptÂ CLOSENESS))
    |'
- en: '| Â Â Â Â Â Â Â Â Â lop)) |'
  id: totrans-1673
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â lop)) |'
- en: 'Like the preceding two examples, [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    is a function that expects a function of one argument and applies this functional
    argument to every item on the given list. If any result is #true, [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    returns #true, too; if all results are #false, [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    produces #false.'
  id: totrans-1674
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 'ä¸å‰ä¸¤ä¸ªç¤ºä¾‹ç±»ä¼¼ï¼Œ[ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    æ˜¯ä¸€ä¸ªæœŸæœ›ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶å°†è¿™ä¸ªå‡½æ•°å‚æ•°åº”ç”¨äºç»™å®šåˆ—è¡¨ä¸Šçš„æ¯ä¸ªé¡¹ç›®ã€‚å¦‚æœä»»ä½•ç»“æœä¸º #trueï¼Œ[ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    ä¹Ÿè¿”å› #trueï¼›å¦‚æœæ‰€æœ‰ç»“æœéƒ½æ˜¯ #falseï¼Œ[ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    äº§ç”Ÿ #falseã€‚'
- en: It is best to compare the definitions from [Using Abstractions, by Example](#%28part._sec~3ausage-examples%29)
    and the definitions above side by side. When you do so, you should notice how
    easy the transition from [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    to [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    is and how concise the [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    version is in comparison to the [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    version. Thus, if you are ever in doubt, design with [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    first and then convert this tested version into one that uses [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29).
    Keep in mind, however, that [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    is not a cure-all. The locally defined function comes with a name that explains
    its purpose, and, if it is long, the use of an abstraction with a named function
    is much easier to understand than one with a large [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29).
  id: totrans-1675
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¥½æ˜¯å°†æ¥è‡ª[ä½¿ç”¨æŠ½è±¡ï¼Œä¸¾ä¾‹è¯´æ˜](#%28part._sec~3ausage-examples%29)çš„å®šä¹‰å’Œä¸Šé¢çš„å®šä¹‰å¹¶æ’æ¯”è¾ƒã€‚å½“ä½ è¿™æ ·åšæ—¶ï¼Œä½ åº”è¯¥æ³¨æ„åˆ°ä»[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)åˆ°[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)çš„è½¬æ¢æœ‰å¤šå®¹æ˜“ï¼Œä»¥åŠä¸[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ç‰ˆæœ¬ç›¸æ¯”ï¼Œ[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ç‰ˆæœ¬æœ‰å¤šç®€æ´ã€‚å› æ­¤ï¼Œå¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œé¦–å…ˆç”¨[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¿›è¡Œè®¾è®¡ï¼Œç„¶åå°†è¿™ä¸ªç»è¿‡æµ‹è¯•çš„ç‰ˆæœ¬è½¬æ¢æˆä¸€ä¸ªä½¿ç”¨[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)çš„ç‰ˆæœ¬ã€‚ç„¶è€Œï¼Œè¯·è®°ä½ï¼Œ[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ã€‚å±€éƒ¨å®šä¹‰çš„å‡½æ•°æœ‰ä¸€ä¸ªè§£é‡Šå…¶ç›®çš„çš„åç§°ï¼Œè€Œä¸”å¦‚æœå®ƒå¾ˆé•¿ï¼Œä½¿ç”¨å…·æœ‰å‘½åå‡½æ•°çš„æŠ½è±¡æ¯”ä½¿ç”¨å¤§çš„[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)æ›´å®¹æ˜“ç†è§£ã€‚
- en: 'The following exercises request that you solve the problems from [Finger Exercises:
    Abstraction](#%28part._sec~3aabstraction-exercises%29) with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    in ISL+ .'
  id: totrans-1676
  prefs: []
  type: TYPE_NORMAL
  zh: 'ä»¥ä¸‹ç»ƒä¹ è¦æ±‚ä½ ä½¿ç”¨ISL+ä¸­çš„[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)è§£å†³[Finger
    Exercises: Abstraction](#%28part._sec~3aabstraction-exercises%29)ä¸­çš„é—®é¢˜ã€‚'
- en: ExerciseÂ 285\. Use [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    to define the function convert-euro, which converts a list of US$ amounts into
    a list of â‚¬ amounts based on an exchange rate of US$1.06 per â‚¬.
  id: totrans-1677
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 285ã€‚ä½¿ç”¨[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)å®šä¹‰å‡½æ•°convert-euroï¼Œå®ƒæ ¹æ®æ¯æ¬§å…ƒ1.06ç¾å…ƒçš„æ±‡ç‡å°†ç¾å…ƒé‡‘é¢çš„åˆ—è¡¨è½¬æ¢ä¸ºæ¬§å…ƒé‡‘é¢çš„åˆ—è¡¨ã€‚
- en: Also use [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)
    to define convertFC, which converts a list of Fahrenheit measurements to a list
    of Celsius measurements.
  id: totrans-1678
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜ä½¿ç”¨[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)æ¥å®šä¹‰convertFCï¼Œå®ƒå°†åæ°æ¸©åº¦çš„åˆ—è¡¨è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦çš„åˆ—è¡¨ã€‚
- en: Finally, try your hand at translate, a function that translates a list of [Posn](part_one.html#%28tech._posn%29)s
    into a list of lists of pairs of numbers.
  id: totrans-1679
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå°è¯•ç¼–å†™ä¸€ä¸ªåä¸ºtranslateçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†[Posn](part_one.html#%28tech._posn%29)çš„åˆ—è¡¨è½¬æ¢ä¸ºæ•°å­—å¯¹çš„åˆ—è¡¨ã€‚
- en: ExerciseÂ 286\. An inventory record specifies the name of an inventory item,
    a description, the acquisition price, and the recommended sales price.
  id: totrans-1680
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 286ã€‚åº“å­˜è®°å½•æŒ‡å®šäº†åº“å­˜é¡¹ç›®çš„åç§°ã€æè¿°ã€é‡‡è´­ä»·æ ¼å’Œæ¨èé”€å”®ä»·æ ¼ã€‚
- en: Define a function that sorts a list of inventory records by the difference between
    the two prices.
  id: totrans-1681
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰ä¸¤ä¸ªä»·æ ¼ä¹‹é—´çš„å·®å¼‚å¯¹åº“å­˜è®°å½•åˆ—è¡¨è¿›è¡Œæ’åºã€‚
- en: ExerciseÂ 287\. Use [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    to define eliminate-exp. The function consumes a number, ua, and a list of inventory
    records (containing name and price), and it produces a list of all those structures
    whose acquisition price is below ua.
  id: totrans-1682
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 287ã€‚ä½¿ç”¨[filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)å®šä¹‰eliminate-expã€‚è¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ªæ•°å­—uaå’Œä¸€ä¸ªåŒ…å«åç§°å’Œä»·æ ¼çš„åº“å­˜è®°å½•åˆ—è¡¨ï¼Œå¹¶ç”Ÿæˆæ‰€æœ‰æ”¶è´­ä»·æ ¼ä½äºuaçš„ç»“æ„åˆ—è¡¨ï¼›
- en: Then use [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    to define recall, which consumes the name of an inventory item, called ty, and
    a list of inventory records and which produces a list of inventory records that
    do not use the name ty.
  id: totrans-1683
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åä½¿ç”¨[filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)å®šä¹‰å›å¿†æ“ä½œï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªåº“å­˜é¡¹ç›®çš„åç§°ï¼Œç§°ä¸ºtyï¼Œä»¥åŠä¸€ä¸ªåº“å­˜è®°å½•åˆ—è¡¨ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªä¸ä½¿ç”¨åç§°tyçš„åº“å­˜è®°å½•åˆ—è¡¨ã€‚
- en: In addition, define selection, which consumes two lists of names and selects
    all those from the second one that are also on the first.
  id: totrans-1684
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œå®šä¹‰é€‰æ‹©æ“ä½œï¼Œå®ƒæ¶ˆè€—ä¸¤ä¸ªåç§°åˆ—è¡¨ï¼Œå¹¶é€‰æ‹©ç¬¬äºŒä¸ªåˆ—è¡¨ä¸­ä¹Ÿåœ¨ç¬¬ä¸€ä¸ªåˆ—è¡¨ä¸Šçš„æ‰€æœ‰åç§°ã€‚
- en: ExerciseÂ 288\. Use [build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    and [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    to define a function that
  id: totrans-1685
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 288ã€‚ä½¿ç”¨[build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)å’Œ[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œ
- en: creates the list ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â nÂ 1))
    for any natural number n;
  id: totrans-1686
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸ºä»»ä½•è‡ªç„¶æ•°nåˆ›å»ºåˆ—è¡¨([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â nÂ 1))ï¼›
- en: creates the list ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â n)
    for any natural number n;
  id: totrans-1687
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸ºä»»ä½•è‡ªç„¶æ•°nåˆ›å»ºåˆ—è¡¨([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â n)ï¼›
- en: creates the list ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  1/2  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  1/n)
    for any natural number n;
  id: totrans-1688
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸ºä»»ä½•è‡ªç„¶æ•°nåˆ›å»ºåˆ—è¡¨([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  1/2  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  1/n)ï¼›
- en: creates the list of the first n even numbers; and
  id: totrans-1689
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ›å»ºå‰nä¸ªå¶æ•°çš„åˆ—è¡¨ï¼›ä»¥åŠ
- en: creates a diagonal square of 0s and 1s; see [exerciseÂ 262](#%28counter._%28exercise._ex~3alocal-for-diagonal%29%29).
  id: totrans-1690
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ª0å’Œ1çš„å¯¹è§’çº¿æ­£æ–¹å½¢ï¼›å‚è§[ç»ƒä¹ 262](#%28counter._%28exercise._ex~3alocal-for-diagonal%29%29)ã€‚
- en: Also define tabulate with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29).
  id: totrans-1691
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜å®šä¹‰tabulateä½¿ç”¨[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ã€‚
- en: ExerciseÂ 289\. Use [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    to define find-name. The function consumes a name and a list of names. It determines
    whether any of the names on the latter are equal to or an extension of the former.
  id: totrans-1692
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  289ã€‚ä½¿ç”¨ [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    æ¥å®šä¹‰ find-nameã€‚è¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ªåç§°å’Œä¸€ä¸ªåç§°åˆ—è¡¨ã€‚å®ƒç¡®å®šåè€…ä¸­çš„ä»»ä½•åç§°æ˜¯å¦ç­‰äºæˆ–æ‰©å±•å‰è€…ã€‚
- en: With [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    you can define a function that checks all names on a list of names that start
    with the letter "a".
  id: totrans-1693
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæ£€æŸ¥åç§°åˆ—è¡¨ä¸­æ‰€æœ‰ä»¥å­—æ¯ "a" å¼€å¤´çš„åç§°ã€‚
- en: Should you use [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    or [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    to define a function that ensures that no name on some list exceeds some given
    width?
  id: totrans-1694
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åº”è¯¥ä½¿ç”¨ [ormap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._ormap%29%29)
    è¿˜æ˜¯ [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç¡®ä¿åˆ—è¡¨ä¸­çš„æŸä¸ªåç§°ä¸è¶…è¿‡ç»™å®šçš„å®½åº¦ï¼Ÿ
- en: 'ExerciseÂ 290\. Recall that the [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    function in ISL concatenates the items of two lists or, equivalently, replaces
    ''() at the end of the first list with the second list:'
  id: totrans-1695
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  290ã€‚å›å¿†ä¸€ä¸‹ï¼ŒISL ä¸­çš„ [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    å‡½æ•°å°†ä¸¤ä¸ªåˆ—è¡¨çš„é¡¹ç›®è¿æ¥èµ·æ¥ï¼Œæˆ–è€…ç­‰ä»·åœ°ï¼Œç”¨ '() æ›¿æ¢ç¬¬ä¸€ä¸ªåˆ—è¡¨æœ«å°¾çš„ç¬¬äºŒä¸ªåˆ—è¡¨ï¼š
- en: '| ([equal?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 5Â 6Â 7Â 8))
    |'
  id: totrans-1696
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([equal?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 5Â 6Â 7Â 8))
    |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8))
    |'
  id: totrans-1697
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8))
    |'
- en: Use [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    to define append-from-fold. What happens if you replace [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    with [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)?
  id: totrans-1698
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    æ¥å®šä¹‰ append-from-foldã€‚å¦‚æœä½ å°† [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    æ›¿æ¢ä¸º [foldl](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29)ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
- en: Now use one of the fold functions to define functions that compute the sum and
    the product, respectively, of a list of numbers.
  id: totrans-1699
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæŠ˜å å‡½æ•°æ¥å®šä¹‰è®¡ç®—æ•°å­—åˆ—è¡¨çš„å’Œä¸ç§¯çš„å‡½æ•°ã€‚
- en: With one of the fold functions, you can define a function that horizontally
    composes a list of [Image](part_one.html#%28tech._image%29)s. Hints (1) Look up
    [beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)
    and [empty-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29).
    Can you use the other fold function? Also define a function that stacks a list
    of images vertically. (2) Check for [above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)
    in the teachpacks.
  id: totrans-1700
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæŠ˜å å‡½æ•°ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ°´å¹³ç»„åˆä¸€ç³»åˆ—[å›¾åƒ](part_one.html#%28tech._image%29)ã€‚æç¤ºï¼ˆ1ï¼‰æŸ¥é˜…[beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)å’Œ[empty-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29)ã€‚ä½ èƒ½ä½¿ç”¨å…¶ä»–çš„æŠ˜å å‡½æ•°å—ï¼ŸåŒæ—¶å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å‚ç›´å †å ä¸€ç³»åˆ—å›¾åƒã€‚ï¼ˆ2ï¼‰åœ¨æ•™è¾…åŒ…ä¸­æŸ¥æ‰¾[above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)ã€‚
- en: ExerciseÂ 291\. The fold functions are so powerful that you can define almost
    any list-processing functions with them. Use fold to define map-via-fold, which
    simulates [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29).
  id: totrans-1701
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 291ã€‚æŠ˜å å‡½æ•°éå¸¸å¼ºå¤§ï¼Œä»¥è‡³äºä½ å¯ä»¥ç”¨å®ƒä»¬å®šä¹‰å‡ ä¹ä»»ä½•åˆ—è¡¨å¤„ç†å‡½æ•°ã€‚ä½¿ç”¨æŠ˜å å®šä¹‰map-via-foldï¼Œè¯¥å‡½æ•°æ¨¡æ‹Ÿ[map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)ã€‚
- en: 17.4Specifying with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3aspecification)
    "Link to here")
  id: totrans-1702
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 17.4 ä½¿ç”¨[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3aspecification)
    "é“¾æ¥åˆ°æ­¤å¤„")
- en: '[FigureÂ 99](#%28counter._%28figure._fig~3asort-local%29%29) shows a generalized
    sorting function that consumes a list of values and a comparison function for
    such values. For convenience, [figureÂ 103](#%28counter._%28figure._fig~3ageneral-sort%29%29)
    reproduces the essence of the definition. The body of sort-cmp introduces two
    [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    auxiliary functions: isort and insert. In addition, the figure also comes with
    two test cases that illustrate the workings of sort-cmp. One demonstrates how
    the function works on strings and the other one on numbers.'
  id: totrans-1703
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾99](#%28counter._%28figure._fig~3asort-local%29%29)å±•ç¤ºäº†ä¸€ä¸ªé€šç”¨æ’åºå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ªå€¼åˆ—è¡¨å’Œä¸€ä¸ªæ­¤ç±»å€¼çš„æ¯”è¾ƒå‡½æ•°ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œ[å›¾103](#%28counter._%28figure._fig~3ageneral-sort%29%29)é‡ç°äº†å®šä¹‰çš„æ ¸å¿ƒã€‚sort-cmpçš„ä¸»ä½“å¼•å…¥äº†ä¸¤ä¸ª[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¾…åŠ©å‡½æ•°ï¼šisortå’Œinsertã€‚æ­¤å¤–ï¼Œè¯¥å›¾è¿˜é™„å¸¦ä¸¤ä¸ªæµ‹è¯•æ¡ˆä¾‹ï¼Œè¯´æ˜äº†sort-cmpçš„å·¥ä½œåŸç†ã€‚ä¸€ä¸ªæ¼”ç¤ºäº†è¯¥å‡½æ•°åœ¨å­—ç¬¦ä¸²ä¸Šçš„å·¥ä½œæ–¹å¼ï¼Œå¦ä¸€ä¸ªæ¼”ç¤ºäº†åœ¨æ•°å­—ä¸Šçš„å·¥ä½œæ–¹å¼ã€‚'
- en: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [X X -> [Boolean](part_one.html#%28tech._boolean%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
  id: totrans-1704
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [X X -> [Boolean](part_one.html#%28tech._boolean%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
- en: '| ;Â sorts alon0 according to cmp |'
  id: totrans-1705
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æŒ‰cmpå¯¹al0è¿›è¡Œæ’åº |'
- en: '| Â  |'
  id: totrans-1706
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sort-cmpÂ ''("c"Â "b")Â [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))Â ''("b"Â "c"))
    |'
  id: totrans-1707
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sort-cmpÂ ''("c"Â "b")Â [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))Â ''("b"Â "c"))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sort-cmpÂ ''(2Â 1Â 3Â 4Â 6Â 5)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(1Â 2Â 3Â 4Â 5Â 6))
    |'
  id: totrans-1708
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sort-cmpÂ ''(2Â 1Â 3Â 4Â 6Â 5)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(1Â 2Â 3Â 4Â 5Â 6))
    |'
- en: '| Â  |'
  id: totrans-1709
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmpÂ alon0Â cmp)
    |'
  id: totrans-1710
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmpÂ alon0Â cmp)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
  id: totrans-1711
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [[List-of](#%28tech._sim-dd._list._of%29) X] |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â produces a variant of alon sorted by cmp |'
  id: totrans-1712
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| äº§ç”Ÿä¸€ä¸ªæŒ‰ cmp æ’åºçš„ alon å˜ä½“ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (isortÂ alon)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1713
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (isortÂ alon)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-1714
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â X [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[List-of](#%28tech._sim-dd._list._of%29)
    X] |'
  id: totrans-1715
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; X [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[List-of](#%28tech._sim-dd._list._of%29)
    X] |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â inserts n into the sorted list of numbers alon |'
  id: totrans-1716
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; å°† n æ’å…¥åˆ°æ’åºåçš„æ•°å­—åˆ—è¡¨ alon ä¸­ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (insertÂ nÂ alon)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
  id: totrans-1717
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (insertÂ nÂ alon)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
- en: '| Â Â Â Â (isortÂ alon0))) |'
  id: totrans-1718
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â (isortÂ alon0))) |'
- en: ''
  id: totrans-1719
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 103: A general sorting function'
  id: totrans-1720
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 103ï¼šä¸€ä¸ªé€šç”¨æ’åºå‡½æ•°
- en: Now take a quick look at [exerciseÂ 186](part_two.html#%28counter._%28exercise._ex~3asort0%29%29).
    It asks you to formulate [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    tests for sort> using the sorted>? predicate. The former is a function that sorts
    lists of numbers in descending order; the latter is a function that determines
    whether a list of numbers is sorted in descending order. Hence, the solution of
    this exercise is
  id: totrans-1721
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å¿«é€Ÿçœ‹ä¸€ä¸‹ [ç»ƒä¹  186](part_two.html#%28counter._%28exercise._ex~3asort0%29%29)ã€‚å®ƒè¦æ±‚ä½ ä½¿ç”¨
    sorted>? æ–­è¨€ä¸º sort> åˆ¶å®š [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    æµ‹è¯•ã€‚å‰è€…æ˜¯ä¸€ä¸ªæŒ‰é™åºæ’åˆ—æ•°å­—åˆ—è¡¨çš„å‡½æ•°ï¼›åè€…æ˜¯ä¸€ä¸ªç¡®å®šæ•°å­—åˆ—è¡¨æ˜¯å¦æŒ‰é™åºæ’åˆ—çš„å‡½æ•°ã€‚å› æ­¤ï¼Œè¿™ä¸ªç»ƒä¹ çš„è§£å†³æ–¹æ¡ˆæ˜¯
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''())Â sorted>?)
    |'
  id: totrans-1722
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''())Â sorted>?)
    |'
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''(12Â 20Â -5))Â sorted>?)
    |'
  id: totrans-1723
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''(12Â 20Â -5))Â sorted>?)
    |'
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''(3Â 2Â 1))Â sorted>?)
    |'
  id: totrans-1724
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''(3Â 2Â 1))Â sorted>?)
    |'
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''(1Â 2Â 3))Â sorted>?)
    |'
  id: totrans-1725
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort>Â ''(1Â 2Â 3))Â sorted>?)
    |'
- en: 'The question is how to reformulate the tests for sort-cmp analogously.Since
    sort-cmp consumes a comparison function together with a list, the generalized
    version of sorted>? must take one too. If so, the following test cases might look
    like this:'
  id: totrans-1726
  prefs: []
  type: TYPE_NORMAL
  zh: é—®é¢˜æ˜¯å¦‚ä½•ç±»ä¼¼åœ°é‡æ–°è¡¨è¿° sort-cmp çš„æµ‹è¯•ã€‚ç”±äº sort-cmp æ¶ˆè€—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°å’Œåˆ—è¡¨ï¼Œsorted>? çš„ä¸€èˆ¬ç‰ˆæœ¬ä¹Ÿå¿…é¡»æ¥å—ä¸€ä¸ªã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œä»¥ä¸‹æµ‹è¯•ç”¨ä¾‹å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmpÂ ''("c"Â "b")Â [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))
    |'
  id: totrans-1727
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmpÂ ''("c"Â "b")Â [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sortedÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29)))
    |'
  id: totrans-1728
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sortedÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29)))
    |'
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmpÂ ''(2Â 1Â 3Â 4Â 6Â 5)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))
    |'
  id: totrans-1729
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmpÂ ''(2Â 1Â 3Â 4Â 6Â 5)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sortedÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    |'
  id: totrans-1730
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sortedÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    |'
- en: 'Both (sorted  [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))
    and (sorted  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))
    must produce predicates. The first one checks whether some list of strings is
    sorted according to [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29),
    and the second one whether a list of numbers is sorted via [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29).We
    have thus worked out the desired signature and purpose of sorted:'
  id: totrans-1731
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ª(sorted  [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))
    å’Œ (sorted  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))
    éƒ½å¿…é¡»äº§ç”Ÿè°“è¯ã€‚ç¬¬ä¸€ä¸ªæ£€æŸ¥æŸä¸ªå­—ç¬¦ä¸²åˆ—è¡¨æ˜¯å¦æŒ‰[string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29)æ’åºï¼Œç¬¬äºŒä¸ªæ£€æŸ¥ä¸€ä¸ªæ•°å­—åˆ—è¡¨æ˜¯å¦é€šè¿‡[<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)æ’åºã€‚å› æ­¤ï¼Œæˆ‘ä»¬å·²ç¡®å®šsortedçš„æ‰€éœ€ç­¾åå’Œç›®çš„ï¼š
- en: '| ;Â [X] [X X -> [Boolean](part_one.html#%28tech._boolean%29)] -> [[[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29)] |'
  id: totrans-1732
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [X] [X X -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)] -> [[[åˆ—è¡¨-of](#%28tech._sim-dd._list._of%29)
    X] -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)] |'
- en: '| ;Â produces a function that determines whether |'
  id: totrans-1733
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç¡®å®š |'
- en: '| ;Â some list is sorted according to cmp |'
  id: totrans-1734
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â some list is sorted according to cmp |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
  id: totrans-1735
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
- en: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1736
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: 'What we need to do now is to go through the rest of the design process.Letâ€™s
    first finish the header. Remember that the header produces a value that matches
    the signature and is likely to break most of the tests/examples. Here we need
    sorted to produce a function that consumes a list and produces a [Boolean](part_one.html#%28tech._boolean%29).
    With [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29),
    thatâ€™s actually straightforward:'
  id: totrans-1737
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨éœ€è¦åšçš„æ˜¯å®Œæˆè®¾è®¡è¿‡ç¨‹çš„å…¶ä½™éƒ¨åˆ†ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬å®Œæˆå¤´æ–‡ä»¶ã€‚è®°ä½ï¼Œå¤´æ–‡ä»¶äº§ç”Ÿä¸€ä¸ªä¸ç­¾ååŒ¹é…çš„å€¼ï¼Œå¹¶ä¸”å¾ˆå¯èƒ½ä¼šç ´åå¤§å¤šæ•°æµ‹è¯•/ç¤ºä¾‹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦
    sorted äº§ç”Ÿä¸€ä¸ªæ¶ˆè€—åˆ—è¡¨å¹¶äº§ç”Ÿ [å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29) çš„å‡½æ•°ã€‚ä½¿ç”¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)ï¼Œè¿™å®é™…ä¸Šå¾ˆç®€å•ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
  id: totrans-1738
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l)
    |'
  id: totrans-1739
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l)
    |'
- en: '| Â Â Â Â #true)) |'
  id: totrans-1740
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â #true)) |'
- en: Stop! This is your first function-producing function. Read the definition again.
    Can you explain this definition in your own words?Next we need examples. According
    to our above analysis, sorted consumes predicates such as [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29)
    and [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29),
    but clearly, [>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29),
    [<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29),
    and your own comparison functions should be acceptable, too. At first glance,
    this suggests test cases of the shape
  id: totrans-1741
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¿™æ˜¯ä½ çš„ç¬¬ä¸€ä¸ªäº§ç”Ÿå‡½æ•°çš„å‡½æ•°ã€‚å†è¯»ä¸€éå®šä¹‰ã€‚ä½ èƒ½ç”¨è‡ªå·±çš„è¯è§£é‡Šè¿™ä¸ªå®šä¹‰å—ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ä¾‹å­ã€‚æ ¹æ®æˆ‘ä»¬ä¸Šé¢çš„åˆ†æï¼Œsorted æ¶ˆè€—è¯¸å¦‚ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29)
    å’Œ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    è¿™æ ·çš„è°“è¯ï¼Œä½†æ˜¾ç„¶ï¼Œ[>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)ï¼Œ[<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)ï¼Œä»¥åŠä½ è‡ªå·±çš„æ¯”è¾ƒå‡½æ•°ä¹Ÿåº”è¯¥è¢«æ¥å—ã€‚ä¹ä¸€çœ‹ï¼Œè¿™ä¼¼ä¹è¡¨æ˜æµ‹è¯•ç”¨ä¾‹çš„å½¢å¼å¦‚ä¸‹
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sortedÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1742
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sortedÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sortedÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1743
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sortedÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: 'But, (sorted  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    produces a function, and, according to [exerciseÂ 245](#%28counter._%28exercise._ex~3asem2-funcs%29%29),
    it is impossible to compare functions.Hence, to formulate reasonable test cases,
    we need to apply the result of (sorted  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    to appropriate lists. And, based on this insight, the test cases almost formulate
    themselves; indeed, they can easily be derived from those for sort-cmp in [figureÂ 103](#%28counter._%28figure._fig~3ageneral-sort%29%29):'
  id: totrans-1744
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼Œ(sorted  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®[ç»ƒä¹ 245](#%28counter._%28exercise._ex~3asem2-funcs%29%29)ï¼Œæ¯”è¾ƒå‡½æ•°æ˜¯ä¸å¯èƒ½çš„ã€‚å› æ­¤ï¼Œä¸ºäº†åˆ¶å®šåˆç†çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæˆ‘ä»¬éœ€è¦å°†(sorted  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))çš„ç»“æœåº”ç”¨äºé€‚å½“çš„åˆ—è¡¨ã€‚åŸºäºè¿™ä¸ªæ´å¯Ÿï¼Œæµ‹è¯•ç”¨ä¾‹å‡ ä¹å¯ä»¥è‡ªè¡Œåˆ¶å®šï¼›å®é™…ä¸Šï¼Œå®ƒä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»[å›¾103](#%28counter._%28figure._fig~3ageneral-sort%29%29)ä¸­çš„sort-cmpçš„æµ‹è¯•ç”¨ä¾‹ä¸­æ¨å¯¼å‡ºæ¥ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sortedÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))Â ''("b"Â "c")]Â #true)
    |'
  id: totrans-1745
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sortedÂ [string<?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3c~3f%29%29))Â ''("b"Â "c")]Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sortedÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(1Â 2Â 3Â 4Â 5Â 6)]Â #true)
    |'
  id: totrans-1746
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sortedÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(1Â 2Â 3Â 4Â 5Â 6)]Â #true)
    |'
- en: 'Note Using square instead of parentheses highlights that the first expression
    produces a function, which is then applied to arguments.From this point on, the
    design is quite conventional. What we basically wish to design is a generalization
    of sorted>? from [Non-empty Lists](part_two.html#%28part._sec~3alists~3ane%29);
    letâ€™s call this function sorted/l. What is unusual about sorted/l is that it â€œlivesâ€
    in the body of a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    inside of sorted:'
  id: totrans-1747
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šä½¿ç”¨æ–¹æ‹¬å·è€Œä¸æ˜¯åœ†æ‹¬å·æ¥çªå‡ºæ˜¾ç¤ºç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œç„¶åè¯¥å‡½æ•°åº”ç”¨äºå‚æ•°ã€‚ä»è¿™ä¸€ç‚¹å¼€å§‹ï¼Œè®¾è®¡ç›¸å½“ä¼ ç»Ÿã€‚æˆ‘ä»¬åŸºæœ¬ä¸Šæƒ³è¦è®¾è®¡çš„æ˜¯ä»[éç©ºåˆ—è¡¨](part_two.html#%28part._sec~3alists~3ane%29)åˆ°sorted>?
    çš„ä¸€èˆ¬åŒ–ï¼›è®©æˆ‘ä»¬ç§°è¿™ä¸ªå‡½æ•°ä¸ºsorted/lã€‚sorted/l ä¸å¯»å¸¸ä¹‹å¤„åœ¨äºå®ƒâ€œå±…ä½â€åœ¨sortedå†…éƒ¨çš„[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)å‡½æ•°ä½“ä¸­ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
  id: totrans-1748
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
  id: totrans-1749
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
- en: '| Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted/lÂ l)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â cmpÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
  id: totrans-1750
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted/lÂ l)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â cmpÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
- en: '| Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))))
    |'
  id: totrans-1751
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))))
    |'
- en: 'Even though sorted/l is defined locally, it must refer to cmp.ExerciseÂ 292\.
    Design the function sorted?, which comes with the following signature and purpose
    statement:'
  id: totrans-1752
  prefs: []
  type: TYPE_NORMAL
  zh: å³ä½¿ sorted/l æ˜¯å±€éƒ¨å®šä¹‰çš„ï¼Œå®ƒä¹Ÿå¿…é¡»å¼•ç”¨ cmpã€‚ç»ƒä¹  292ã€‚è®¾è®¡å‡½æ•° sorted?ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç­¾åå’Œç›®çš„è¯´æ˜ï¼š
- en: '| ;Â [X X -> Boolean] [[NEList-of](#%28tech._sim-dd._nelist._of%29) X] -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
  id: totrans-1753
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X X -> Boolean] [[NEList-of](#%28tech._sim-dd._nelist._of%29) X] -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
- en: '| ;Â determines whether l is sorted according to cmp |'
  id: totrans-1754
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç¡®å®š l æ˜¯å¦æ ¹æ® cmp æ’åº |'
- en: '| Â  |'
  id: totrans-1755
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sorted?Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(1Â 2Â 3))Â #true)
    |'
  id: totrans-1756
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sorted?Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(1Â 2Â 3))Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sorted?Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(2Â 1Â 3))Â #false)
    |'
  id: totrans-1757
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sorted?Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ''(2Â 1Â 3))Â #false)
    |'
- en: '| Â  |'
  id: totrans-1758
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted?Â cmpÂ l)
    |'
  id: totrans-1759
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted?Â cmpÂ l)
    |'
- en: '| Â Â #false) |'
  id: totrans-1760
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â #false) |'
- en: The wish list even includes examples.
  id: totrans-1761
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³è¦çš„åˆ—è¡¨ç”šè‡³åŒ…æ‹¬ç¤ºä¾‹ã€‚
- en: '[FigureÂ 104](#%28counter._%28figure._fig~3ageneral-sorted%29%29) shows the
    result of the design process. The sorted function consumes a comparison function
    cmp and produces a predicate. The latter consumes a list l0 and uses a locally
    defined function to determine whether all the items in l0 are ordered via cmp.
    Specifically, the locally defined function checks a non-empty list; in the body
    of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29),
    sorted first checks whether l0 is empty, in which case it simply produces #true
    because the empty list is sorted.'
  id: totrans-1762
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾104](#%28counter._%28figure._fig~3ageneral-sorted%29%29) å±•ç¤ºäº†è®¾è®¡è¿‡ç¨‹çš„ç»“æœã€‚æ’åºå‡½æ•°æ¶ˆè€—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°
    cmp å¹¶äº§ç”Ÿä¸€ä¸ªè°“è¯ã€‚åè€…æ¶ˆè€—ä¸€ä¸ªåˆ—è¡¨ l0 å¹¶ä½¿ç”¨å±€éƒ¨å®šä¹‰çš„å‡½æ•°æ¥ç¡®å®š l0 ä¸­çš„æ‰€æœ‰é¡¹ç›®æ˜¯å¦é€šè¿‡ cmp æ’åºã€‚å…·ä½“æ¥è¯´ï¼Œå±€éƒ¨å®šä¹‰çš„å‡½æ•°æ£€æŸ¥ä¸€ä¸ªéç©ºåˆ—è¡¨ï¼›åœ¨
    [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    çš„ä¸»ä½“ä¸­ï¼Œsorted é¦–å…ˆæ£€æŸ¥ l0 æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç®€å•åœ°äº§ç”Ÿ #trueï¼Œå› ä¸ºç©ºåˆ—è¡¨æ˜¯å·²æ’åºçš„ã€‚'
- en: Stop! Could you redefine sorted to use sorted? from [exerciseÂ 292](#%28counter._%28exercise._ex~3asorted-curried%29%29)?
    Explain why sorted/l does not consume cmp as an argument.
  id: totrans-1763
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼ä½ èƒ½é‡æ–°å®šä¹‰ sorted ä»¥ä½¿ç”¨ [ç»ƒä¹  292](#%28counter._%28exercise._ex~3asorted-curried%29%29)
    ä¸­çš„ sorted? å—ï¼Ÿè§£é‡Šä¸ºä»€ä¹ˆ sorted/l ä¸æ¶ˆè€— cmp ä½œä¸ºå‚æ•°ã€‚
- en: '| ;Â [X X -> [Boolean](part_one.html#%28tech._boolean%29)] -> [[[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29)] |'
  id: totrans-1764
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X X -> [Boolean](part_one.html#%28tech._boolean%29)] -> [[[List-of](#%28tech._sim-dd._list._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29)] |'
- en: '| ;Â is the given list l0 sorted according to cmp |'
  id: totrans-1765
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç¡®å®šç»™å®šçš„åˆ—è¡¨ l0 æ˜¯å¦æ ¹æ® cmp æ’åº |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
  id: totrans-1766
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sortedÂ cmp)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
  id: totrans-1767
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
- en: '| Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [[NEList-of](#%28tech._sim-dd._nelist._of%29)
    X] -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1768
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    (; [[NEList-of](#%28tech._sim-dd._nelist._of%29) X] -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ;Â is l sorted according to cmp |'
  id: totrans-1769
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ; læ˜¯å¦æ ¹æ®cmpæ’åº |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted/lÂ l)
    |'
  id: totrans-1770
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (sorted/l l) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1771
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â #true]
    |'
  id: totrans-1772
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    l)) #true]ï¼‰|'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â (cmpÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â ([second](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._second%29%29)Â l))
    |'
  id: totrans-1773
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    (cmp ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    l) ([second](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._second%29%29)
    l))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sorted/lÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))])))
    |'
  id: totrans-1774
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[sorted/l](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    l)])))ï¼‰|'
- en: '| Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l0)Â #trueÂ (sorted/lÂ l0)))))
    |'
  id: totrans-1775
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)
    ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    l0) #true (sorted/l l0)))ï¼‰|'
- en: ''
  id: totrans-1776
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 104: A curried predicate for checking the ordering of a list'
  id: totrans-1777
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾104ï¼šæ£€æŸ¥åˆ—è¡¨æ’åºé¡ºåºçš„æŸ¯é‡ŒåŒ–è°“è¯
- en: The sorted function in [figureÂ 104](#%28counter._%28figure._fig~3ageneral-sorted%29%29)
    is a curried version of a function that consumes two arguments:The verb â€œcurryâ€
    honors Haskell Curry, the second person to invent the idea. The first one was
    Moses SchÃ¶nfinkel. cmp and l0. Instead of consuming two arguments at once, a curried
    function consumes one argument and then returns a function that consumes the second
    one.
  id: totrans-1778
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾104ä¸­çš„æ’åºå‡½æ•°æ˜¯ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°çš„æŸ¯é‡ŒåŒ–ç‰ˆæœ¬ï¼šåŠ¨è¯â€œcurryâ€æ˜¯ä¸ºäº†çºªå¿µç‰©ç†å­¦å®¶Haskell Curryï¼Œä»–æ˜¯ç¬¬äºŒä¸ªæå‡ºè¿™ä¸€æƒ³æ³•çš„äººã€‚ç¬¬ä¸€ä¸ªæ˜¯Moses
    SchÃ¶nfinkelã€‚cmpå’Œl0ã€‚ä¸ä¸€æ¬¡æ¶ˆè€—ä¸¤ä¸ªå‚æ•°ä¸åŒï¼ŒæŸ¯é‡ŒåŒ–å‡½æ•°å…ˆæ¶ˆè€—ä¸€ä¸ªå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ¶ˆè€—ç¬¬äºŒä¸ªå‚æ•°çš„å‡½æ•°ã€‚
- en: '[ExerciseÂ 186](part_two.html#%28counter._%28exercise._ex~3asort0%29%29) asks
    how to formulate a test case that exposes mistakes in sorting functions. Consider
    this definition:'
  id: totrans-1779
  prefs: []
  type: TYPE_NORMAL
  zh: '[ç»ƒä¹ 186](part_two.html#%28counter._%28exercise._ex~3asort0%29%29)è¦æ±‚å¦‚ä½•åˆ¶å®šä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ¥æ­ç¤ºæ’åºå‡½æ•°ä¸­çš„é”™è¯¯ã€‚è€ƒè™‘ä»¥ä¸‹å®šä¹‰ï¼š'
- en: '| ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
    |'
  id: totrans-1780
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [List-of-numbers](part_two.html#%28tech._list._of._number%29) -> [List-of-numbers](part_two.html#%28tech._list._of._number%29)
    |'
- en: '| ;Â produces a sorted version of l |'
  id: totrans-1781
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â produces a sorted version of l |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmp/badÂ l)
    |'
  id: totrans-1782
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmp/badÂ l)
    |'
- en: '| Â ''(9Â 8Â 7Â 6Â 5Â 4Â 3Â 2Â 1Â 0)) |'
  id: totrans-1783
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ''(9Â 8Â 7Â 6Â 5Â 4Â 3Â 2Â 1Â 0)) |'
- en: Formulating such a test case with [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    is straightforward.
  id: totrans-1784
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    æ¥åˆ¶å®šè¿™æ ·çš„æµ‹è¯•ç”¨ä¾‹æ˜¯ç›´æ¥çš„ã€‚
- en: To design a predicate that exposes sort-cmp/bad as flawed, we need to understand
    the purpose of sort-cmp or sorting in general. It clearly is unacceptable to throw
    away the given list and to produce some other list in its place. Thatâ€™s why the
    purpose statement of isort says that the function â€œproduces a variant ofâ€ the
    given list. â€œVariantâ€ means that the function does not throw away any of the items
    on the given list.
  id: totrans-1785
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è®¾è®¡ä¸€ä¸ªè°“è¯æ¥æ­ç¤º sort-cmp/bad çš„ç¼ºé™·ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ sort-cmp æˆ–æ’åºçš„ä¸€èˆ¬ç›®çš„ã€‚æ˜¾ç„¶ï¼Œä¸¢å¼ƒç»™å®šçš„åˆ—è¡¨å¹¶ç”¨å¦ä¸€ä¸ªåˆ—è¡¨æ¥ä»£æ›¿å®ƒæ˜¯ä¸å¯æ¥å—çš„ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ
    isort çš„ç›®çš„å£°æ˜è¯´è¯¥å‡½æ•°â€œäº§ç”Ÿç»™å®šåˆ—è¡¨çš„å˜ä½“â€ã€‚â€œå˜ä½“â€æ„å‘³ç€è¯¥å‡½æ•°ä¸ä¼šä¸¢å¼ƒç»™å®šåˆ—è¡¨ä¸Šçš„ä»»ä½•é¡¹ç›®ã€‚
- en: 'With these thoughts in mind, we can now say that we want a predicate that checks
    whether the result is sorted and contains all the items from the given list:'
  id: totrans-1786
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™äº›æƒ³æ³•çš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è¯´æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªè°“è¯æ¥æ£€æŸ¥ç»“æœæ˜¯å¦å·²æ’åºå¹¶ä¸”åŒ…å«ç»™å®šåˆ—è¡¨ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼š
- en: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [X X -> [Boolean](part_one.html#%28tech._boolean%29)]
    -> [[[List-of](#%28tech._sim-dd._list._of%29) X] -> [Boolean](part_one.html#%28tech._boolean%29)]
    |'
  id: totrans-1787
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [X X -> [Boolean](part_one.html#%28tech._boolean%29)]
    -> [[[List-of](#%28tech._sim-dd._list._of%29) X] -> [Boolean](part_one.html#%28tech._boolean%29)]
    |'
- en: '| ;Â is l0 sorted according to cmp |'
  id: totrans-1788
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â is l0 sorted according to cmp |'
- en: '| ;Â are all items in list k members of list l0 |'
  id: totrans-1789
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â are all items in list k members of list l0 |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted-variant-ofÂ kÂ cmp)
    |'
  id: totrans-1790
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted-variant-ofÂ kÂ cmp)
    |'
- en: '| Â Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)Â #false))
    |'
  id: totrans-1791
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)Â #false))
    |'
- en: 'The two lines of the purpose statement suggest examples:'
  id: totrans-1792
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®çš„å£°æ˜çš„ä¸¤è¡Œæš—ç¤ºäº†ç¤ºä¾‹ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sorted-variant-ofÂ ''(3Â 2)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(2Â 3)]
    |'
  id: totrans-1793
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sorted-variant-ofÂ ''(3Â 2)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(2Â 3)]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
  id: totrans-1794
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sorted-variant-ofÂ ''(3Â 2)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(3)]
    |'
  id: totrans-1795
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â [(sorted-variant-ofÂ ''(3Â 2)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))Â ''(3)]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #false) |'
  id: totrans-1796
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #false) |'
- en: 'Like sorted, sorted-variant-of consumes arguments and produces a function.
    For the first case, sorted-variant-of produces #true because the ''(2  3) is sorted
    and it contains all numbers in ''(3  2). In contrast, the function produces #false
    in the second case because ''(3) lacks 2 from the originally given list.A two-line
    purpose statement suggests two tasks, and two tasks means that the function itself
    is a combination of two functions:'
  id: totrans-1797
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»ä¼¼äºsortedï¼Œsorted-variant-ofæ¥å—å‚æ•°å¹¶ç”Ÿæˆä¸€ä¸ªå‡½æ•°ã€‚å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œsorted-variant-ofç”Ÿæˆ#trueï¼Œå› ä¸º'(2  3)æ˜¯æœ‰åºçš„ï¼Œå¹¶ä¸”å®ƒåŒ…å«'(3  2)ä¸­çš„æ‰€æœ‰æ•°å­—ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå‡½æ•°åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ç”Ÿæˆ#falseï¼Œå› ä¸º'(3)ç¼ºå°‘åŸå§‹åˆ—è¡¨ä¸­çš„2ã€‚ä¸€ä¸ªä¸¤è¡Œçš„ç›®çš„é™ˆè¿°è¡¨æ˜ä¸¤ä¸ªä»»åŠ¡ï¼Œä¸¤ä¸ªä»»åŠ¡æ„å‘³ç€è¯¥å‡½æ•°æœ¬èº«æ˜¯ä¸¤ä¸ªå‡½æ•°çš„ç»„åˆï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted-variant-ofÂ kÂ cmp)
    |'
  id: totrans-1798
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted-variant-ofÂ kÂ cmp)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
  id: totrans-1799
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
- en: '| Â Â Â Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â (sorted?Â cmpÂ l0)
    |'
  id: totrans-1800
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â (sorted?Â cmpÂ l0)
    |'
- en: '| Â Â Â Â Â Â Â Â Â (contains?Â l0Â k)))) |'
  id: totrans-1801
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (contains?Â l0Â k)))) |'
- en: 'The body of the function is an [and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    expression that combines two function calls. With the call to the sorted? function
    from [exerciseÂ 292](#%28counter._%28exercise._ex~3asorted-curried%29%29), the
    function realizes the first line of the purpose statement. The second call, (contains?  l0  k),
    is an implicit wish for an auxiliary function.We immediately give the full definition:'
  id: totrans-1802
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°ä½“æ˜¯ä¸€ä¸ª[and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)è¡¨è¾¾å¼ï¼Œå®ƒç»“åˆäº†ä¸¤ä¸ªå‡½æ•°è°ƒç”¨ã€‚é€šè¿‡è°ƒç”¨exercise
    292ä¸­çš„sorted?å‡½æ•°ï¼Œå‡½æ•°å®ç°äº†ç›®çš„å£°æ˜çš„ç¬¬ä¸€è¡Œã€‚ç¬¬äºŒä¸ªè°ƒç”¨(contains?  l0  k)æ˜¯å¯¹è¾…åŠ©å‡½æ•°çš„éšå¼è¯·æ±‚ã€‚æˆ‘ä»¬ç«‹å³ç»™å‡ºå®Œæ•´çš„å®šä¹‰ï¼š
- en: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> Boolean |'
  id: totrans-1803
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] [[List-of](#%28tech._sim-dd._list._of%29) X] [[List-of](#%28tech._sim-dd._list._of%29)
    X] -> Boolean |'
- en: '| ;Â are all items in list k members of list l |'
  id: totrans-1804
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â are all items in list k members of list l |'
- en: '| Â  |'
  id: totrans-1805
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (contains?Â ''(1Â 2Â 3)Â ''(1Â 4Â 3))Â #false)
    |'
  id: totrans-1806
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (contains?Â ''(1Â 2Â 3)Â ''(1Â 4Â 3))Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (contains?Â ''(1Â 2Â 3Â 4)Â ''(1Â 3))Â #true)
    |'
  id: totrans-1807
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (contains?Â ''(1Â 2Â 3Â 4)Â ''(1Â 3))Â #true)
    |'
- en: '| Â  |'
  id: totrans-1808
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains?Â lÂ k)
    |'
  id: totrans-1809
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains?Â lÂ k)
    |'
- en: '| Â Â ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (in-k)Â ([member?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member~3f%29%29)Â in-kÂ l))Â k))
    |'
  id: totrans-1810
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (in-k)Â ([member?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member~3f%29%29)Â in-kÂ l))Â k))
    |'
- en: 'On the one hand, we have never explained how to systematically design a function
    that consumes two lists, and it actually needs its own chapter; see [Simultaneous
    Processing](part_four.html#%28part._ch~3asimu%29). On the other hand, the function
    definition clearly satisfies the purpose statement. The [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)
    expression checks that every item in k is a [member?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member~3f%29%29)
    of l, which is what the purpose statement promises.Sadly, sorted-variant-of fails
    to describe sorting functions properly. Consider this variant of a sorting function:'
  id: totrans-1811
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä»æœªè§£é‡Šè¿‡å¦‚ä½•ç³»ç»Ÿåœ°è®¾è®¡ä¸€ä¸ªæ¶ˆè€—ä¸¤ä¸ªåˆ—è¡¨çš„å‡½æ•°ï¼Œå®é™…ä¸Šè¿™éœ€è¦å®ƒè‡ªå·±çš„ç« èŠ‚ï¼›å‚è§[åŒæ—¶å¤„ç†](part_four.html#%28part._ch~3asimu%29)ã€‚å¦ä¸€æ–¹é¢ï¼Œå‡½æ•°å®šä¹‰æ˜¾ç„¶æ»¡è¶³ç›®çš„å£°æ˜ã€‚The
    [andmap](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._andmap%29%29)è¡¨è¾¾å¼æ£€æŸ¥kä¸­çš„æ¯ä¸ªé¡¹æ˜¯å¦æ˜¯lçš„[æˆå‘˜?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member~3f%29%29)ï¼Œè¿™æ­£æ˜¯ç›®çš„å£°æ˜æ‰€æ‰¿è¯ºçš„ã€‚é—æ†¾çš„æ˜¯ï¼Œsorted-variant-ofæœªèƒ½æ­£ç¡®æè¿°æ’åºå‡½æ•°ã€‚è€ƒè™‘è¿™ä¸ªæ’åºå‡½æ•°çš„å˜ä½“ï¼š
- en: '| ;Â [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-1812
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ç¼–å·](part_one.html#%28tech._number%29)]
    -> [[åˆ—è¡¨](#%28tech._sim-dd._list._of%29)  [ç¼–å·](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â produces a sorted version of l |'
  id: totrans-1813
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”Ÿæˆlçš„æ’åºç‰ˆæœ¬ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmp/worseÂ l)
    |'
  id: totrans-1814
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sort-cmp/worseÂ l)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sortedÂ (sort-cmpÂ lÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))))
    |'
  id: totrans-1815
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sortedÂ (sort-cmpÂ lÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))))
    |'
- en: '| Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â sorted)Â 1)Â sorted)))
    |'
  id: totrans-1816
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([æ„é€ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â sorted)Â 1)Â sorted)))
    |'
- en: 'It is again easy to expose a flaw in this function with a [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    test that it ought to pass but clearly fails:'
  id: totrans-1817
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ª[æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)æµ‹è¯•æ¥æš´éœ²è¿™ä¸ªå‡½æ•°çš„ç¼ºé™·ï¼Œå®ƒæœ¬åº”é€šè¿‡ä½†æ˜¾ç„¶å¤±è´¥äº†ï¼š
- en: ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sort-cmp/worseÂ '(1Â 2Â 3))Â '(1Â 2Â 3))
  id: totrans-1818
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sort-cmp/worseÂ '(1Â 2Â 3))Â '(1Â 2Â 3))
- en: 'Surprisingly, a [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    test based on sorted-variant-of succeeds:'
  id: totrans-1819
  prefs: []
  type: TYPE_NORMAL
  zh: æ„å¤–åœ°ï¼ŒåŸºäºæ’åºå˜ä½“çš„[æ£€æŸ¥æ»¡è¶³](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)æµ‹è¯•æˆåŠŸï¼š
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmp/worseÂ ''(1Â 2Â 3))
    |'
  id: totrans-1820
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmp/worseÂ ''(1Â 2Â 3))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sorted-variant-ofÂ ''(1Â 2Â 3)Â [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    |'
  id: totrans-1821
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆæ’åºå˜ä½“ç‰ˆçš„ ''(1 2 3) [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    |'
- en: 'Indeed, such a test succeeds for any list of numbers, not just ''(1  2  3),
    because the predicate generator merely checks that all the items on the original
    list are members of the resulting list; it fails to check whether all items on
    the resulting list are also members of the original list.The easiest way to add
    this third check to sorted-variant-of is to add a third sub-expression to the
    [and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    expression:'
  id: totrans-1822
  prefs: []
  type: TYPE_NORMAL
  zh: äº‹å®ä¸Šï¼Œè¿™æ ·çš„æµ‹è¯•å¯¹ä»»ä½•æ•°å­—åˆ—è¡¨éƒ½æˆåŠŸï¼Œè€Œä¸ä»…ä»…æ˜¯ '(1 2 3)ï¼Œå› ä¸ºè°“è¯ç”Ÿæˆå™¨ä»…ä»…æ£€æŸ¥åŸå§‹åˆ—è¡¨ä¸Šçš„æ‰€æœ‰é¡¹ç›®æ˜¯å¦æ˜¯ç»“æœåˆ—è¡¨çš„æˆå‘˜ï¼›å®ƒæœªèƒ½æ£€æŸ¥ç»“æœåˆ—è¡¨ä¸Šçš„æ‰€æœ‰é¡¹ç›®æ˜¯å¦ä¹Ÿæ˜¯åŸå§‹åˆ—è¡¨çš„æˆå‘˜ã€‚å‘
    sorted-variant-of æ·»åŠ è¿™ä¸ªç¬¬ä¸‰ä¸ªæ£€æŸ¥çš„æœ€ç®€å•æ–¹æ³•æ˜¯åœ¨ [and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    è¡¨è¾¾å¼ä¸­æ·»åŠ ç¬¬ä¸‰ä¸ªå­è¡¨è¾¾å¼ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted-variant-of.v2Â kÂ cmp)
    |'
  id: totrans-1823
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sorted-variant-of.v2Â kÂ cmp)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
  id: totrans-1824
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (l0)
    |'
- en: '| Â Â Â Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â (sorted?Â cmpÂ l0)
    |'
  id: totrans-1825
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â (sorted?Â cmpÂ l0)
    |'
- en: '| Â Â Â Â Â Â Â Â Â (contains?  l0  k) |'
  id: totrans-1826
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆæ˜¯å¦åŒ…å«ï¼Ÿ l0  kï¼‰ |'
- en: '| Â Â Â Â Â Â Â Â Â (contains?Â kÂ l0)))) |'
  id: totrans-1827
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆæ˜¯å¦åŒ…å«ï¼Ÿ k  l0)))) |'
- en: 'We choose to reuse contains? but with its arguments flipped.At this point,
    you may wonder why we are bothering with the development of such a predicate when
    we can rule out bad sorting functions with plain [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    tests. The difference is that [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    checks only that our sorting functions work on specific lists. With a predicate
    such as sorted-variant-of.v2, we can articulate the claim that a sorting function
    works for all possible inputs:'
  id: totrans-1828
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€‰æ‹©é‡ç”¨ contains?ï¼Œä½†å°†å…¶å‚æ•°åè½¬ã€‚æ­¤æ—¶ï¼Œä½ å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦è´¹å¿ƒå¼€å‘è¿™æ ·çš„è°“è¯ï¼Œå½“æˆ‘ä»¬å¯ä»¥ç”¨ plain [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    æµ‹è¯•æ’é™¤ä¸è‰¯çš„æ’åºå‡½æ•°æ—¶ã€‚åŒºåˆ«åœ¨äº [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    åªæ£€æŸ¥æˆ‘ä»¬çš„æ’åºå‡½æ•°æ˜¯å¦åœ¨ç‰¹å®šçš„åˆ—è¡¨ä¸Šå·¥ä½œã€‚ä½¿ç”¨åƒ sorted-variant-of.v2 è¿™æ ·çš„è°“è¯ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç¡®åœ°å£°æ˜ä¸€ä¸ªæ’åºå‡½æ•°å¯¹æ‰€æœ‰å¯èƒ½çš„è¾“å…¥éƒ½æœ‰æ•ˆï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â a-listÂ (build-list-of-random-numbersÂ 500))
    |'
  id: totrans-1829
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â a-listÂ (build-list-of-random-numbersÂ 500))
    |'
- en: '| Â  |'
  id: totrans-1830
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmpÂ a-listÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))
    |'
  id: totrans-1831
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (sort-cmpÂ a-listÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sorted-variant-of.v2Â a-listÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    |'
  id: totrans-1832
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (sorted-variant-of.v2Â a-listÂ [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    |'
- en: Letâ€™s take a close look at these two lines. The first line generates a list
    of 500 numbers. Every time you ask DrRacket to evaluate this test, it is likely
    to generate a list never seen before. The second line is a test case that says
    sorting this generated list produces a list that (1) is sorted, (2) contains all
    the numbers on the generated list, and (3) contains nothing else. In other words,
    it is almost like saying that for all possible lists, sort-cmp produces outcomes
    that sorted-variant-of.v2 blesses.
  id: totrans-1833
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹è¿™ä¸¤è¡Œã€‚ç¬¬ä¸€è¡Œç”Ÿæˆä¸€ä¸ªåŒ…å«500ä¸ªæ•°å­—çš„åˆ—è¡¨ã€‚æ¯æ¬¡ä½ è¦æ±‚DrRacketè¯„ä¼°è¿™ä¸ªæµ‹è¯•æ—¶ï¼Œå®ƒå¾ˆå¯èƒ½ç”Ÿæˆä¸€ä¸ªä»¥å‰ä»æœªè§è¿‡çš„åˆ—è¡¨ã€‚ç¬¬äºŒè¡Œæ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå®ƒè¯´å¯¹è¿™ä¸ªç”Ÿæˆçš„åˆ—è¡¨è¿›è¡Œæ’åºä¼šäº§ç”Ÿä¸€ä¸ªåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨ï¼ˆ1ï¼‰æ˜¯æ’åºçš„ï¼Œï¼ˆ2ï¼‰åŒ…å«ç”Ÿæˆçš„åˆ—è¡¨ä¸Šçš„æ‰€æœ‰æ•°å­—ï¼Œå¹¶ä¸”ï¼ˆ3ï¼‰ä¸åŒ…å«å…¶ä»–ä»»ä½•ä¸œè¥¿ã€‚æ¢å¥è¯è¯´ï¼Œè¿™å‡ ä¹å°±åƒè¯´å¯¹äºæ‰€æœ‰å¯èƒ½çš„åˆ—è¡¨ï¼Œsort-cmpäº§ç”Ÿçš„ç»“æœéƒ½æ˜¯sorted-variant-of.v2æ‰€è®¤å¯çš„ã€‚
- en: 'The specification is still flawed if the given list contains duplicate elements.
    Construct two list of numbersâ€”<wbr>call them l1 and l2â€”<wbr>such that ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)  l1  (sorted-variant-of.v2  l2  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    yields #true. We thank Atharva Shukla for suggesting this exercise.'
  id: totrans-1834
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¦‚æœç»™å®šçš„åˆ—è¡¨åŒ…å«é‡å¤å…ƒç´ ï¼Œè§„èŒƒä»ç„¶æ˜¯æœ‰ç¼ºé™·çš„ã€‚æ„é€ ä¸¤ä¸ªæ•°å­—åˆ—è¡¨â€”â€”<wbr>ç§°å®ƒä»¬ä¸ºl1å’Œl2â€”â€”<wbr>ä½¿å¾—([æ£€æŸ¥æ»¡è¶³](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)  l1  (sorted-variant-of.v2  l2  [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)))
    è¿”å›#trueã€‚æˆ‘ä»¬æ„Ÿè°¢Atharva Shuklaæå‡ºè¿™ä¸ªç»ƒä¹ ã€‚
- en: Computer scientists call sorted-variant-of.v2 a specification of a sorting function.
    The idea that all lists of numbers pass the above test case is a theorem about
    the relationship between the specification of the sorting function and its implementation.
    If a programmer can prove this theorem with a mathematical argument, we say that
    the function is correct with respect to its specification. How to prove functions
    or programs correct is beyond the scope of this book, but a good computer science
    curriculum shows you in a follow-up course how to construct such proofs.
  id: totrans-1835
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æœºç§‘å­¦å®¶å°†sorted-variant-of.v2ç§°ä¸ºæ’åºå‡½æ•°çš„è§„èŒƒã€‚æ‰€æœ‰æ•°å­—åˆ—è¡¨éƒ½é€šè¿‡ä¸Šè¿°æµ‹è¯•ç”¨ä¾‹çš„æƒ³æ³•æ˜¯å…³äºæ’åºå‡½æ•°è§„èŒƒä¸å…¶å®ç°ä¹‹é—´å…³ç³»çš„ä¸€ä¸ªå®šç†ã€‚å¦‚æœä¸€ä¸ªç¨‹åºå‘˜èƒ½ç”¨æ•°å­¦è®ºè¯è¯æ˜è¿™ä¸ªå®šç†ï¼Œæˆ‘ä»¬å°±è¯´è¯¥å‡½æ•°ç›¸å¯¹äºå…¶è§„èŒƒæ˜¯æ­£ç¡®çš„ã€‚å¦‚ä½•è¯æ˜å‡½æ•°æˆ–ç¨‹åºçš„æ­£ç¡®æ€§è¶…å‡ºäº†æœ¬ä¹¦çš„èŒƒå›´ï¼Œä½†ä¸€ä¸ªå¥½çš„è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹ä¼šåœ¨åç»­è¯¾ç¨‹ä¸­å‘ä½ å±•ç¤ºå¦‚ä½•æ„å»ºè¿™æ ·çš„è¯æ˜ã€‚
- en: 'ExerciseÂ 293\. Develop found?, a specification for the find function:'
  id: totrans-1836
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 293ã€‚ä¸ºfindå‡½æ•°å¼€å‘ä¸€ä¸ªè§„èŒƒï¼š
- en: '| ;Â [X] X [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[Maybe](#%28tech._sim-dd._maybe%29)
    [[List-of](#%28tech._sim-dd._list._of%29) X]] |'
  id: totrans-1837
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] X [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[Maybe](#%28tech._sim-dd._maybe%29)
    [[List-of](#%28tech._sim-dd._list._of%29) X]] |'
- en: '| ;Â returns the first sublist of l that starts |'
  id: totrans-1838
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| è¿”å›lçš„ç¬¬ä¸€ä¸ªå­åˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨ä»¥ |'
- en: '| ;Â with x, #false otherwise |'
  id: totrans-1839
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â with x, #false otherwise |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (findÂ xÂ l)
    |'
  id: totrans-1840
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (findÂ xÂ l)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1841
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    |'
  id: totrans-1842
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1843
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([equal?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â x)Â lÂ (findÂ xÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    |'
  id: totrans-1844
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([å¦‚æœ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([ç­‰äºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â x)Â lÂ ([æŸ¥æ‰¾](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._find%29%29)Â xÂ ([å‰©ä½™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    |'
- en: 'Use found? to formulate a [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    test for find.ExerciseÂ 294\. Develop is-index?, a specification for index:'
  id: totrans-1845
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨found?æ¥ä¸ºfindåˆ¶å®šä¸€ä¸ª[æ£€æŸ¥æ»¡è¶³](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)æµ‹è¯•ã€‚ç»ƒä¹ 294ã€‚å¼€å‘is-index?ï¼Œè¿™æ˜¯å¯¹indexçš„è§„èŒƒï¼š
- en: '| ;Â [X] X [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[Maybe](#%28tech._sim-dd._maybe%29)  [N](part_two.html#%28tech._n%29)]
    |'
  id: totrans-1846
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [X] X [[List-of](#%28tech._sim-dd._list._of%29) X] -> [[Maybe](#%28tech._sim-dd._maybe%29)  [N](part_two.html#%28tech._n%29)]
    |'
- en: '| ;Â determine the index of the first occurrence |'
  id: totrans-1847
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç¡®å®šé¦–æ¬¡å‡ºç°çš„ç´¢å¼• |'
- en: '| ;Â of x in l, #false otherwise |'
  id: totrans-1848
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â xåœ¨lä¸­çš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›#false |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (indexÂ xÂ l)
    |'
  id: totrans-1849
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (indexÂ xÂ l)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1850
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    |'
  id: totrans-1851
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([equal?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â x)
    |'
  id: totrans-1852
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([å¦‚æœ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([ç­‰äºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â x)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0 |'
  id: totrans-1853
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â iÂ (indexÂ xÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))))
    |'
  id: totrans-1854
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â iÂ (indexÂ xÂ ([å‰©ä½™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([boolean?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)Â i)Â iÂ ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â iÂ 1))))]))
    |'
  id: totrans-1855
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)
    ([å¸ƒå°”?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)
    i) i ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    i 1))))])) |'
- en: 'Use is-index? to formulate a [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    test for index.ExerciseÂ 295\. Develop n-inside-playground?, a specification of
    the random-posns function below. The function generates a predicate that ensures
    that the length of the given list is some given count and that all [Posn](part_one.html#%28tech._posn%29)s
    in this list are within a WIDTH by HEIGHT rectangle:'
  id: totrans-1856
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ is-index? æ¥åˆ¶å®šä¸€ä¸ªé’ˆå¯¹ç´¢å¼•çš„ [æ£€æŸ¥æ»¡è¶³æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    æµ‹è¯•ã€‚ç»ƒä¹  295ï¼šå¼€å‘ n-inside-playground?ï¼Œè¿™æ˜¯ä¸‹é¢ random-posns å‡½æ•°çš„è§„èŒƒã€‚è¯¥å‡½æ•°ç”Ÿæˆä¸€ä¸ªè°“è¯ï¼Œç¡®ä¿ç»™å®šåˆ—è¡¨çš„é•¿åº¦æ˜¯æŸä¸ªç»™å®šçš„è®¡æ•°ï¼Œå¹¶ä¸”è¯¥åˆ—è¡¨ä¸­çš„æ‰€æœ‰
    [Posn](part_one.html#%28tech._posn%29) éƒ½åœ¨ WIDTH x HEIGHT çŸ©å½¢å†…ï¼š
- en: '| ;Â distances in terms of pixels |'
  id: totrans-1857
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; åƒç´ è·ç¦» |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â WIDTHÂ 300)
    |'
  id: totrans-1858
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    WIDTH 300) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â HEIGHTÂ 300)
    |'
  id: totrans-1859
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    HEIGHT 300) |'
- en: '| Â  |'
  id: totrans-1860
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ;Â [N](part_two.html#%28tech._n%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
  id: totrans-1861
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [N](part_two.html#%28tech._n%29) -> [[List-of](#%28tech._sim-dd._list._of%29)  [Posn](part_one.html#%28tech._posn%29)]
    |'
- en: '| ;Â generates n random [Posn](part_one.html#%28tech._posn%29)s in [0,WIDTH)
    by [0,HEIGHT) |'
  id: totrans-1862
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; ç”Ÿæˆ n ä¸ªéšæœº [Posn](part_one.html#%28tech._posn%29) åœ¨ [0,WIDTH) å’Œ [0,HEIGHT)
    èŒƒå›´å†… |'
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (random-posnsÂ 3)
    |'
  id: totrans-1863
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æ»¡è¶³æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    (random-posns 3) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (n-inside-playground?Â 3)) |'
  id: totrans-1864
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (n-inside-playground? 3)) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (random-posnsÂ n)
    |'
  id: totrans-1865
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (random-posns n) |'
- en: '| Â Â ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    |'
  id: totrans-1866
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([æ„å»ºåˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)
    |'
- en: '| Â Â Â Â n |'
  id: totrans-1867
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   n |'
- en: '| Â Â Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (i)
    |'
  id: totrans-1868
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    (i) |'
- en: '| Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â ([random](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29)Â WIDTH)Â ([random](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29)Â HEIGHT)))))
    |'
  id: totrans-1869
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([åˆ›å»ºä½ç½®](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)
    ([éšæœºæ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29)
    WIDTH) ([éšæœºæ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29)
    HEIGHT))))) |'
- en: Define random-posns/bad that satisfies n-inside-playground? and does not live
    up to the expectations implied by the above purpose statement. Note This specification
    is incomplete. Although the word â€œpartialâ€ might come to mind, computer scientists
    reserve the phrase â€œpartial specificationâ€ for a different purpose.
  id: totrans-1870
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰ random-posns/badï¼Œå®ƒæ»¡è¶³ n-inside-playground? æ¡ä»¶ï¼Œå¹¶ä¸”æ²¡æœ‰è¾¾åˆ°ä¸Šè¿°ç›®çš„é™ˆè¿°ä¸­éšå«çš„æœŸæœ›ã€‚æ³¨æ„ï¼šè¿™ä¸ªè§„èŒƒæ˜¯ä¸å®Œæ•´çš„ã€‚å°½ç®¡â€œéƒ¨åˆ†â€è¿™ä¸ªè¯å¯èƒ½ä¼šæµ®ç°åœ¨è„‘æµ·ä¸­ï¼Œä½†è®¡ç®—æœºç§‘å­¦å®¶å°†â€œéƒ¨åˆ†è§„èŒƒâ€è¿™ä¸ªçŸ­è¯­ä¿ç•™ç”¨äºä¸åŒçš„ç›®çš„ã€‚
- en: 17.5Representing with [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3alambda.I.I)
    "Link to here")
  id: totrans-1871
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 17.5 ä½¿ç”¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)[ğŸ”—](#(part._sec~3alambda.I.I)
    "é“¾æ¥åˆ°æ­¤å¤„")
- en: Because functions are first-class values in ISL+, we may think of them as another
    form of data and use them for data representation. This section provides a taste
    of this idea; the next few chapters do not rely on it.
  id: totrans-1872
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸ºå‡½æ•°åœ¨ ISL+ ä¸­æ˜¯ä¸€ç­‰å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬è§†ä¸ºå¦ä¸€ç§æ•°æ®å½¢å¼ï¼Œå¹¶ç”¨äºæ•°æ®è¡¨ç¤ºã€‚æœ¬èŠ‚æä¾›äº†è¿™ä¸ªæƒ³æ³•çš„ä¸€ä¸ªç¤ºä¾‹ï¼›æ¥ä¸‹æ¥çš„å‡ ç« ä¸ä¾èµ–äºå®ƒã€‚
- en: 'As always, we start from a representative problem:'
  id: totrans-1873
  prefs: []
  type: TYPE_NORMAL
  zh: å’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªé—®é¢˜å¼€å§‹ï¼š
- en: Sample Problem Navy strategists represent fleets ofThis problem is also solvable
    with a self-referential data representation that says a shape is a circle, a rectangle,
    or a combination of two shapes. See the next part of the book for this design
    choice. ships as rectangles (the ships themselves) and circles (their weaponsâ€™
    reach). The coverage of a fleet of ships is the combination of all these shapes.
    Design a data representation for rectangles, circles, and combinations of shapes.
    Then design a function that determines whether some point is within a shape.
  id: totrans-1874
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·æœ¬é—®é¢˜æµ·å†›æˆ˜ç•¥å®¶å°†èˆ°é˜Ÿè¡¨ç¤ºä¸ºçŸ©å½¢ï¼ˆèˆ¹åªæœ¬èº«ï¼‰å’Œåœ†å½¢ï¼ˆå®ƒä»¬çš„æ­¦å™¨å°„ç¨‹ï¼‰ã€‚èˆ°é˜Ÿçš„è¦†ç›–èŒƒå›´æ˜¯æ‰€æœ‰è¿™äº›å½¢çŠ¶çš„ç»„åˆã€‚è®¾è®¡ä¸€ä¸ªç”¨äºçŸ©å½¢ã€åœ†å½¢å’Œå½¢çŠ¶ç»„åˆçš„æ•°æ®è¡¨ç¤ºã€‚ç„¶åè®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç¡®å®šæŸä¸ªç‚¹æ˜¯å¦åœ¨å½¢çŠ¶å†…ã€‚
- en: 'The problem comes with all kinds of concrete interpretations, which we leave
    out here. A slightly more complex version was the subject of a programming competition
    in the mid-1990s run by Yale University on behalf of the US Department of Defense.One
    mathematical approach considers shapes as predicates on points. That is, a shape
    is a function that maps a Cartesian point to a Boolean value. Letâ€™s translate
    these English words into a data definition:'
  id: totrans-1875
  prefs: []
  type: TYPE_NORMAL
  zh: é—®é¢˜ä¼´éšç€å„ç§å…·ä½“çš„è§£é‡Šï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œçœç•¥äº†ã€‚ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€äº›çš„ç‰ˆæœ¬æ˜¯1990å¹´ä»£ä¸­æœŸè€¶é²å¤§å­¦ä»£è¡¨ç¾å›½å›½é˜²éƒ¨ä¸¾åŠçš„ç¼–ç¨‹ç«èµ›çš„ä¸»é¢˜ã€‚ä¸€ç§æ•°å­¦æ–¹æ³•å°†å½¢çŠ¶è§†ä¸ºç‚¹ä¸Šçš„è°“è¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½¢çŠ¶æ˜¯ä¸€ä¸ªå°†ç¬›å¡å°”ç‚¹æ˜ å°„åˆ°å¸ƒå°”å€¼çš„å‡½æ•°ã€‚è®©æˆ‘ä»¬å°†è¿™äº›è‹±æ–‡å•è¯ç¿»è¯‘æˆæ•°æ®å®šä¹‰ï¼š
- en: '| ;Â A Shape is a function: |'
  id: totrans-1876
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å½¢çŠ¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š |'
- en: '| ;Â Â Â [[Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)]
    |'
  id: totrans-1877
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â [[ä½ç½®](part_one.html#%28tech._posn%29) -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)]
    |'
- en: '| ;Â interpretation if s is a shape and p a [Posn](part_one.html#%28tech._posn%29),
    (s  p) |'
  id: totrans-1878
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœ s æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸” p æ˜¯ä¸€ä¸ª [ä½ç½®](part_one.html#%28tech._posn%29)ï¼Œ(s  p) |'
- en: '| ;Â produces #true if p is in s, #false otherwise |'
  id: totrans-1879
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœ p åœ¨ s ä¸­ï¼Œåˆ™äº§ç”Ÿ #trueï¼Œå¦åˆ™äº§ç”Ÿ #false |'
- en: 'Its interpretation part is extensive because this data representation is so
    unusual. Such an unusual representation calls for an immediate exploration with
    examples. We delay this step for a moment, however, and instead define a function
    that checks whether a point is inside some shape:'
  id: totrans-1880
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒçš„è§£é‡Šéƒ¨åˆ†éå¸¸å¹¿æ³›ï¼Œå› ä¸ºè¿™ç§æ•°æ®è¡¨ç¤ºéå¸¸ä¸å¯»å¸¸ã€‚è¿™ç§ä¸å¯»å¸¸çš„è¡¨ç¤ºéœ€è¦ç«‹å³é€šè¿‡ç¤ºä¾‹è¿›è¡Œæ¢ç´¢ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬æš‚æ—¶æ¨è¿Ÿè¿™ä¸€æ­¥ï¼Œè½¬è€Œå®šä¹‰ä¸€ä¸ªæ£€æŸ¥ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨æŸä¸ªå½¢çŠ¶å†…çš„å‡½æ•°ï¼š
- en: '| ;Â [Shape](#%28tech._shape%29)  [Posn](part_one.html#%28tech._posn%29) ->
    [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1881
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [å½¢çŠ¶](#%28tech._shape%29)  [ä½ç½®](part_one.html#%28tech._posn%29) -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (inside?Â sÂ p)
    |'
  id: totrans-1882
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (inside?Â sÂ p)
    |'
- en: '| Â Â (sÂ p)) |'
  id: totrans-1883
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (sÂ p)) |'
- en: Doing so is straightforward because of the given interpretation. It also turns
    out that it is simpler than creating examples, and, surprisingly, the function
    is helpful for formulating data examples.
  id: totrans-1884
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºç»™å®šçš„è§£é‡Šï¼Œè¿™æ ·åšå¾ˆç®€å•ã€‚è€Œä¸”ï¼Œç»“æœè¯æ˜ï¼Œå®ƒæ¯”åˆ›å»ºç¤ºä¾‹æ›´ç®€å•ï¼Œè€Œä¸”ï¼Œä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°å¯¹äºåˆ¶å®šæ•°æ®ç¤ºä¾‹å¾ˆæœ‰å¸®åŠ©ã€‚
- en: Stop! Explain how and why inside? works.
  id: totrans-1885
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è§£é‡Šä¸€ä¸‹ how and why inside? çš„å·¥ä½œåŸç†å’ŒåŸå› ã€‚
- en: 'Now letâ€™s return to the problem of elements of [Shape](#%28tech._shape%29).
    Here is a simplistic element of the class:'
  id: totrans-1886
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›åˆ° [å½¢çŠ¶](#%28tech._shape%29) å…ƒç´ çš„é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯è¯¥ç±»çš„ä¸€ä¸ªç®€å•å…ƒç´ ï¼š
- en: '| ;Â [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
  id: totrans-1887
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ä½ç½®](part_one.html#%28tech._posn%29) -> [å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29)
    |'
- en: '| ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â 3)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â 4)))
    |'
  id: totrans-1888
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)Â ([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([ä½ç½®-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â 3)Â ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([ä½ç½®-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â 4)))
    |'
- en: 'As required, it consumes a [Posn](part_one.html#%28tech._posn%29) p, and its
    body compares the coordinates of p to those of the point (3,4), meaning this function
    represents a single point. While the data representation of a point as a [Shape](#%28tech._shape%29)
    might seem silly, it suggests how we can define functions that create elements
    of [Shape](#%28tech._shape%29): We use â€œmkâ€ because this function is not an ordinary
    constructor.'
  id: totrans-1889
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚éœ€æ‰€è¿°ï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ª [ä½ç½®](part_one.html#%28tech._posn%29) pï¼Œå¹¶ä¸”å…¶ä¸»ä½“æ¯”è¾ƒ p çš„åæ ‡ä¸ç‚¹ (3,4) çš„åæ ‡ï¼Œè¿™æ„å‘³ç€æ­¤å‡½æ•°è¡¨ç¤ºä¸€ä¸ªå•ç‹¬çš„ç‚¹ã€‚è™½ç„¶å°†ç‚¹ä½œä¸º
    [å½¢çŠ¶](#%28tech._shape%29) çš„æ•°æ®è¡¨ç¤ºå¯èƒ½çœ‹èµ·æ¥å¾ˆæ„šè ¢ï¼Œä½†å®ƒè¡¨æ˜æˆ‘ä»¬å¯ä»¥å¦‚ä½•å®šä¹‰åˆ›å»º [å½¢çŠ¶](#%28tech._shape%29)
    å…ƒç´ çš„å‡½æ•°ï¼šæˆ‘ä»¬ä½¿ç”¨â€œmkâ€ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„æ„é€ å‡½æ•°ã€‚
- en: '| ;Â [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Shape](#%28tech._shape%29) |'
  id: totrans-1890
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> [å½¢çŠ¶](#%28tech._shape%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-pointÂ xÂ y)
    |'
  id: totrans-1891
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-pointÂ xÂ y)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
  id: totrans-1892
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
- en: '| Â Â Â Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â x)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â y))))
    |'
  id: totrans-1893
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([ä½ç½®-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â x)Â ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([ä½ç½®-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â y))))
    |'
- en: '| Â  |'
  id: totrans-1894
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â a-sample-shapeÂ (mk-pointÂ 3Â 4))
    |'
  id: totrans-1895
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â a-sample-shapeÂ (mk-pointÂ 3Â 4))
    |'
- en: 'Stop again! Convince yourself that the last line creates a data representation
    of (3,4). Consider using DrRacketâ€™s stepper.If we were to design such a function,
    we would formulate a purpose statement and provide some illustrative examples.
    For the purpose we could go with the obvious:'
  id: totrans-1896
  prefs: []
  type: TYPE_NORMAL
  zh: åœä¸‹æ¥ï¼å†æ¬¡è¯´æœè‡ªå·±ï¼Œæœ€åä¸€è¡Œåˆ›å»ºäº†ä¸€ä¸ªè¡¨ç¤º (3,4) çš„æ•°æ®ã€‚è€ƒè™‘ä½¿ç”¨ DrRacket çš„æ­¥è¿›å™¨ã€‚å¦‚æœæˆ‘ä»¬è®¾è®¡è¿™æ ·çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¼šåˆ¶å®šä¸€ä¸ªç›®çš„å£°æ˜å¹¶æä¾›ä¸€äº›ç¤ºä¾‹ã€‚å¯¹äºç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ˜¾è€Œæ˜“è§çš„ï¼š
- en: ;Â creates a representation for a point at (x,y)
  id: totrans-1897
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â åˆ›å»ºä¸€ä¸ªè¡¨ç¤º (x,y) å¤„çš„ç‚¹çš„è¡¨ç¤º
- en: or, more concisely and more appropriately,
  id: totrans-1898
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œæ›´ç®€æ´ã€æ›´åˆé€‚åœ°ï¼Œ
- en: ;Â represents a point at (x,y)
  id: totrans-1899
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â è¡¨ç¤ºç‚¹åœ¨ (x,y) å¤„
- en: 'For the examples we want to go with the interpretation of [Shape](#%28tech._shape%29).
    To illustrate, (mk-point  3  4) is supposed to evaluate to a function that returns
    #true if, and only if, it is given ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  3  4).
    Using inside?, we can express this statement via tests:'
  id: totrans-1900
  prefs: []
  type: TYPE_NORMAL
  zh: 'å¯¹äºæˆ‘ä»¬æƒ³è¦çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬é‡‡ç”¨ [Shape](#%28tech._shape%29) çš„è§£é‡Šã€‚ä¸ºäº†è¯´æ˜ï¼Œ(mk-point  3  4) åº”è¯¥è¯„ä¼°ä¸ºè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä»…åœ¨ä¸”ä»…å½“å®ƒè¢«ç»™äºˆ
    ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  3  4)
    æ—¶è¿”å› #trueã€‚ä½¿ç”¨ inside?ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æµ‹è¯•è¡¨è¾¾è¿™ä¸ªé™ˆè¿°ï¼š'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-pointÂ 3Â 4)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 4))
    |'
  id: totrans-1901
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-pointÂ 3Â 4)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 4))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
  id: totrans-1902
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-pointÂ 3Â 4)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 0))
    |'
  id: totrans-1903
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-pointÂ 3Â 4)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 0))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #false) |'
  id: totrans-1904
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #false) |'
- en: 'In short, to make a point representation, we define a constructor-like function
    that consumes the pointâ€™s two coordinates. Instead of a record, this function
    uses [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    to construct another function. The function that it creates consumes a [Posn](part_one.html#%28tech._posn%29)
    and determines whether its x and y fields are equal to the originally given coordinates.Next
    we generalize this idea from simple points to shapes, say circles. In your geometry
    courses, you learn that a circle is a collection of points that all have the same
    distance to the center of the circleâ€”<wbr>the radius. For points inside the circle,
    the distance is smaller than or equal to the radius. Hence, a function that creates
    a [Shape](#%28tech._shape%29) representation of a circle must consume three pieces:
    the two coordinates for its center and the radius:'
  id: totrans-1905
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œä¸ºäº†åˆ›å»ºä¸€ä¸ªç‚¹è¡¨ç¤ºï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç±»ä¼¼äºæ„é€ å‡½æ•°çš„å‡½æ•°ï¼Œå®ƒæ¶ˆè€—ç‚¹çš„ä¸¤ä¸ªåæ ‡ã€‚è¿™ä¸ªå‡½æ•°ä¸ä½¿ç”¨è®°å½•ï¼Œè€Œæ˜¯ä½¿ç”¨ [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    æ¥æ„å»ºå¦ä¸€ä¸ªå‡½æ•°ã€‚å®ƒåˆ›å»ºçš„å‡½æ•°æ¶ˆè€—ä¸€ä¸ª [Posn](part_one.html#%28tech._posn%29)ï¼Œå¹¶ç¡®å®šå…¶ x å’Œ y å­—æ®µæ˜¯å¦ç­‰äºæœ€åˆç»™å‡ºçš„åæ ‡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæƒ³æ³•ä»ç®€å•çš„ç‚¹æ¨å¹¿åˆ°å½¢çŠ¶ï¼Œæ¯”å¦‚åœ†ã€‚åœ¨ä½ çš„å‡ ä½•è¯¾ç¨‹ä¸­ï¼Œä½ å­¦åˆ°åœ†æ˜¯ä¸€ç»„æ‰€æœ‰ç‚¹åˆ°åœ†å¿ƒçš„è·ç¦»éƒ½ç›¸åŒçš„ç‚¹â€”â€”åŠå¾„ã€‚å¯¹äºåœ†å†…çš„ç‚¹ï¼Œè·ç¦»å°äºæˆ–ç­‰äºåŠå¾„ã€‚å› æ­¤ï¼Œåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºåœ†çš„
    [Shape](#%28tech._shape%29) çš„å‡½æ•°å¿…é¡»æ¶ˆè€—ä¸‰éƒ¨åˆ†ï¼šåœ†å¿ƒçš„ä¸¤ä¸ªåæ ‡å’ŒåŠå¾„ï¼š
- en: '| ;Â [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Shape](#%28tech._shape%29) |'
  id: totrans-1906
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> [å½¢çŠ¶](#%28tech._shape%29) |'
- en: '| ;Â creates a representation for a circle of radius r |'
  id: totrans-1907
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ›å»ºåŠå¾„ä¸º r çš„åœ†çš„è¡¨ç¤º |'
- en: '| ;Â Â Â located at (center-x, center-y) |'
  id: totrans-1908
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â ä½äº (center-x, center-y) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-circleÂ center-xÂ center-yÂ r)
    |'
  id: totrans-1909
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-circleÂ center-xÂ center-yÂ r)
    |'
- en: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1910
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: 'Like mk-point, it produces a function via a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29).
    The function that is returned determines whether some given [Posn](part_one.html#%28tech._posn%29)
    is inside the circle. Here are some examples, again formulated as tests:'
  id: totrans-1911
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ mk-point ç±»ä¼¼ï¼Œå®ƒé€šè¿‡ä¸€ä¸ª [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    å‡½æ•°ç”Ÿæˆã€‚è¿”å›çš„å‡½æ•°ç¡®å®šæŸä¸ªç»™å®šçš„ [ä½ç½®](part_one.html#%28tech._posn%29) æ˜¯å¦åœ¨åœ†å†…ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼Œå†æ¬¡ä»¥æµ‹è¯•çš„å½¢å¼å‘ˆç°ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-1912
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (inside?Â (mk-circleÂ 3Â 4Â 5)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0))Â #true)
    |'
  id: totrans-1913
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (inside?Â (mk-circleÂ 3Â 4Â 5)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0))Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-1914
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (inside?Â (mk-circleÂ 3Â 4Â 5)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 9))Â #false)
    |'
  id: totrans-1915
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (inside?Â (mk-circleÂ 3Â 4Â 5)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 9))Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-1916
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (inside?Â (mk-circleÂ 3Â 4Â 5)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â -1Â 3))Â #true)
    |'
  id: totrans-1917
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (inside?Â (mk-circleÂ 3Â 4Â 5)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â -1Â 3))Â #true)
    |'
- en: The origin, ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  0  0),
    is exactly five steps away from (3,4), the center of the circle; see [Defining
    Structure Types](part_one.html#%28part._sec~3astructures%29). Stop! Explain the
    remaining examples.
  id: totrans-1918
  prefs: []
  type: TYPE_NORMAL
  zh: åŸç‚¹ ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  0  0)ï¼Œæ­£å¥½è·ç¦»åœ†å¿ƒ
    (3,4) äº”æ­¥ä¹‹é¥ï¼›å‚è§ [å®šä¹‰ç»“æ„ç±»å‹](part_one.html#%28part._sec~3astructures%29)ã€‚åœæ­¢ï¼è§£é‡Šå‰©ä½™çš„ç¤ºä¾‹ã€‚
- en: ExerciseÂ 296\. Use compass-and-pencil drawings to check the tests.
  id: totrans-1919
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 296ã€‚ä½¿ç”¨åœ†è§„å’Œé“…ç¬”ç»˜å›¾æ¥æ£€æŸ¥æµ‹è¯•ã€‚
- en: Mathematically, we say that a [Posn](part_one.html#%28tech._posn%29) p is inside
    a circle if the distance between p and the circleâ€™s center is smaller than the
    radius r. Letâ€™s wish for the right kind of helper function and write down what
    we have.
  id: totrans-1920
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æ•°å­¦ä¸Šè®²ï¼Œæˆ‘ä»¬è¯´ä½ç½® p åœ¨åœ†å†…ï¼Œå¦‚æœ p ä¸åœ†å¿ƒçš„è·ç¦»å°äºåŠå¾„ rã€‚è®©æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªåˆé€‚çš„è¾…åŠ©å‡½æ•°ï¼Œå¹¶å†™ä¸‹æˆ‘ä»¬æ‰€æ‹¥æœ‰çš„ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-circleÂ center-xÂ center-yÂ r)
    |'
  id: totrans-1921
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-circleÂ center-xÂ center-yÂ r)
    |'
- en: '| Â Â ;Â [[Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)]
    |'
  id: totrans-1922
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ;Â [[ä½ç½®](part_one.html#%28tech._posn%29) -> [å¸ƒå°”](part_one.html#%28tech._boolean%29)]
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
  id: totrans-1923
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
- en: '| Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (distance-betweenÂ center-xÂ center-yÂ p)Â r)))
    |'
  id: totrans-1924
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (distance-betweenÂ center-xÂ center-yÂ p)Â r)))
    |'
- en: The distance-between function is a straightforward exercise.
  id: totrans-1925
  prefs: []
  type: TYPE_NORMAL
  zh: è·ç¦»å‡½æ•°æ˜¯ä¸€ä¸ªç®€å•çš„ç»ƒä¹ ã€‚
- en: 'ExerciseÂ 297\. Design the function distance-between. It consumes two numbers
    and a [Posn](part_one.html#%28tech._posn%29): x, y, and p. The function computes
    the distance between the points (x, y) and p.'
  id: totrans-1926
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 297ã€‚è®¾è®¡å‡½æ•° distance-betweenã€‚å®ƒæ¥å—ä¸¤ä¸ªæ•°å­—å’Œä¸€ä¸ª [Posn](part_one.html#%28tech._posn%29)ï¼šxã€y
    å’Œ pã€‚è¯¥å‡½æ•°è®¡ç®—ç‚¹ (x, y) å’Œ p ä¹‹é—´çš„è·ç¦»ã€‚
- en: Domain Knowledge The distance between ![image](../Images/62df9f2793e4c94a29f6c1c997e6d986.png)
    and ![image](../Images/977e55a5db992d0303b545b63c1c0e1f.png) is
  id: totrans-1927
  prefs: []
  type: TYPE_NORMAL
  zh: é¢†åŸŸçŸ¥è¯† ![image](../Images/62df9f2793e4c94a29f6c1c997e6d986.png) å’Œ ![image](../Images/977e55a5db992d0303b545b63c1c0e1f.png)
    ä¹‹é—´çš„è·ç¦»æ˜¯
- en: '![image](../Images/893c5ab3888bc24db3937f0bedc33cfa.png)'
  id: totrans-1928
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/893c5ab3888bc24db3937f0bedc33cfa.png)'
- en: 'that is, the distance of ![image](../Images/c43dab9b63fc6a24009ea3c34ea8f368.png)
    to the origin.The data representation of a rectangle is expressed in a similar
    manner:'
  id: totrans-1929
  prefs: []
  type: TYPE_NORMAL
  zh: å³ï¼Œ![image](../Images/c43dab9b63fc6a24009ea3c34ea8f368.png) åˆ°åŸç‚¹çš„è·ç¦»ã€‚çŸ©å½¢çš„è¡¨ç¤ºæ–¹æ³•ç±»ä¼¼ï¼š
- en: '| ;Â [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Shape](#%28tech._shape%29) |'
  id: totrans-1930
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Shape](#%28tech._shape%29) |'
- en: '| ;Â represents a width by height rectangle whose |'
  id: totrans-1931
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â represents a width by height rectangle whose |'
- en: '| ;Â upper-left corner is located at (ul-x, ul-y) |'
  id: totrans-1932
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â upper-left corner is located at (ul-x, ul-y) |'
- en: '| Â  |'
  id: totrans-1933
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-rectÂ 0Â 0Â 10Â 3)
    |'
  id: totrans-1934
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-rectÂ 0Â 0Â 10Â 3)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0))
    |'
  id: totrans-1935
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
  id: totrans-1936
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-rectÂ 2Â 3Â 10Â 3)
    |'
  id: totrans-1937
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â (mk-rectÂ 2Â 3Â 10Â 3)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 4Â 5))
    |'
  id: totrans-1938
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 4Â 5))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
  id: totrans-1939
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #true) |'
- en: '| ;Â Stop! Formulate a negative test case. |'
  id: totrans-1940
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Stop! Formulate a negative test case. |'
- en: '| Â  |'
  id: totrans-1941
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-rectÂ ul-xÂ ul-yÂ widthÂ height)
    |'
  id: totrans-1942
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-rectÂ ul-xÂ ul-yÂ widthÂ height)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
  id: totrans-1943
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
- en: '| Â Â Â Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ul-xÂ ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)Â p)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ul-xÂ width))
    |'
  id: totrans-1944
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[å’Œ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    [<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)
    ul-x ([posn-x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-x%29%29)
    p) ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    ul-x width)) |'
- en: '| Â Â Â Â Â Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ul-yÂ ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)Â p)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â ul-yÂ height)))))
    |'
  id: totrans-1945
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| | ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)
    ul-y ([posn-y](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._posn-y%29%29)
    p) ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    ul-y height))))) |'
- en: 'Its constructor receives four numbers: the coordinates of the upper-left corner,
    its width, and height. The result is again a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    expression. As for circles, this function consumes a [Posn](part_one.html#%28tech._posn%29)
    and produces a [Boolean](part_one.html#%28tech._boolean%29), checking whether
    the x and y fields of the [Posn](part_one.html#%28tech._posn%29) are in the proper
    intervals.At this point, we have only one task left, namely, the design of a function
    that maps two [Shape](#%28tech._shape%29) representations to their combination.
    The signature and the header are easy:'
  id: totrans-1946
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒçš„æ„é€ å‡½æ•°æ¥æ”¶å››ä¸ªæ•°å­—ï¼šå·¦ä¸Šè§’çš„åæ ‡ï¼Œå…¶å®½åº¦ï¼Œå’Œé«˜åº¦ã€‚ç»“æœæ˜¯å¦ä¸€ä¸ª [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    è¡¨è¾¾å¼ã€‚è‡³äºåœ†å½¢ï¼Œè¿™ä¸ªå‡½æ•°æ¶ˆè€—ä¸€ä¸ª [Posn](part_one.html#%28tech._posn%29) å¹¶äº§ç”Ÿä¸€ä¸ª [Boolean](part_one.html#%28tech._boolean%29)ï¼Œæ£€æŸ¥
    [Posn](part_one.html#%28tech._posn%29) çš„ x å’Œ y å­—æ®µæ˜¯å¦åœ¨é€‚å½“çš„åŒºé—´å†…ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªå‰©ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œå³è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸¤ä¸ª
    [Shape](#%28tech._shape%29) è¡¨ç¤ºæ˜ å°„åˆ°å®ƒä»¬çš„ç»„åˆã€‚ç­¾åå’Œå¤´æ–‡ä»¶éƒ½å¾ˆç®€å•ï¼š
- en: '| ;Â [Shape](#%28tech._shape%29)  [Shape](#%28tech._shape%29) -> [Shape](#%28tech._shape%29)
    |'
  id: totrans-1947
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [Shape](#%28tech._shape%29) [Shape](#%28tech._shape%29) -> [Shape](#%28tech._shape%29)
    |'
- en: '| ;Â combines two shapes into one |'
  id: totrans-1948
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; å°†ä¸¤ä¸ªå½¢çŠ¶åˆå¹¶ä¸ºä¸€ä¸ª |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-combinationÂ s1Â s2)
    |'
  id: totrans-1949
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| | ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (mk-combination s1 s2) |'
- en: '| Â Â ;Â [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
  id: totrans-1950
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
  id: totrans-1951
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| | ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    (p) |'
- en: '| Â Â Â Â #false)) |'
  id: totrans-1952
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| | #false)) |'
- en: 'Indeed, even the default value is straightforward. We know that a shape is
    represented as a function from [Posn](part_one.html#%28tech._posn%29) to [Boolean](part_one.html#%28tech._boolean%29),
    so we write down a [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    that consumes some [Posn](part_one.html#%28tech._posn%29) and produces #false,
    meaning it says no point is in the combination.So suppose we wish to combine the
    circle and the rectangle from above:'
  id: totrans-1953
  prefs: []
  type: TYPE_NORMAL
  zh: äº‹å®ä¸Šï¼Œé»˜è®¤å€¼ä¹Ÿæ˜¯ç›´è§‚çš„ã€‚æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªå½¢çŠ¶è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªä»[Posn](part_one.html#%28tech._posn%29)åˆ°[Boolean](part_one.html#%28tech._boolean%29)çš„å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å†™ä¸‹äº†ä¸€ä¸ª[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)è¡¨è¾¾å¼ï¼Œå®ƒæ¶ˆè€—ä¸€äº›[Posn](part_one.html#%28tech._posn%29)å¹¶äº§ç”Ÿ#falseï¼Œè¿™æ„å‘³ç€å®ƒè¡¨ç¤ºæ²¡æœ‰ç‚¹åœ¨è¿™ä¸ªç»„åˆä¸­ã€‚æ‰€ä»¥ï¼Œå‡è®¾æˆ‘ä»¬å¸Œæœ›å°†ä¸Šé¢çš„åœ†å’ŒçŸ©å½¢ç»„åˆèµ·æ¥ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â circle1Â (mk-circleÂ 3Â 4Â 5))
    |'
  id: totrans-1954
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â circle1Â (mk-circleÂ 3Â 4Â 5))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â rectangle1Â (mk-rectÂ 0Â 3Â 10Â 3))
    |'
  id: totrans-1955
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â rectangle1Â (mk-rectÂ 0Â 3Â 10Â 3))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â union1Â (mk-combinationÂ circle1Â rectangle1))
    |'
  id: totrans-1956
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â union1Â (mk-combinationÂ circle1Â rectangle1))
    |'
- en: 'Some points are inside and some outside of this combination:'
  id: totrans-1957
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€äº›ç‚¹åœ¨è¿™ä¸ªç»„åˆå†…éƒ¨ï¼Œè€Œå¦ä¸€äº›ç‚¹åœ¨å¤–éƒ¨ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â union1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0))Â #true)
    |'
  id: totrans-1958
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â union1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 0))Â #true)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â union1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 9))Â #false)
    |'
  id: totrans-1959
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â union1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 9))Â #false)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â union1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â -1Â 3))Â #true)
    |'
  id: totrans-1960
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (inside?Â union1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â -1Â 3))Â #true)
    |'
- en: 'Since ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  0  0)
    is inside both, there is no question that it is inside the combination of the
    two. In a similar vein, ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  0  9)
    is in neither shape, and so it isnâ€™t in the combination. Finally, ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  -1  3)
    is in circle1 but not in rectangle1. But the point must be in the combination
    of the two shapes because every point that is in one or the other shape is in
    their combination.This analysis of examples implies a revision of mk-combination:'
  id: totrans-1961
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äº ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  0  0)
    åŒæ—¶ä½äºä¸¤è€…ä¹‹ä¸­ï¼Œå› æ­¤æ¯«æ— ç–‘é—®å®ƒä½äºè¿™ä¸¤ä¸ªå½¢çŠ¶çš„ç»„åˆä¸­ã€‚ç±»ä¼¼åœ°ï¼Œ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  0  9)
    ä¸åœ¨ä»»ä½•ä¸€ä¸ªå½¢çŠ¶ä¸­ï¼Œå› æ­¤å®ƒä¸åœ¨ç»„åˆä¸­ã€‚æœ€åï¼Œ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  -1  3)
    åœ¨ circle1 ä¸­ä½†ä¸åœ¨ rectangle1 ä¸­ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªç‚¹å¿…é¡»åœ¨ä¸¤ä¸ªå½¢çŠ¶çš„ç»„åˆä¸­ï¼Œå› ä¸ºä»»ä½•ä¸€ä¸ªå½¢çŠ¶ä¸­çš„ç‚¹éƒ½åœ¨å®ƒä»¬çš„ç»„åˆä¸­ã€‚è¿™ç§å¯¹ä¾‹å­çš„åˆ†ææ„å‘³ç€å¯¹
    mk-combination çš„ä¿®æ”¹ï¼š
- en: '| ;Â [Shape](#%28tech._shape%29)  [Shape](#%28tech._shape%29) -> [Shape](#%28tech._shape%29)
    |'
  id: totrans-1962
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Shape](#%28tech._shape%29)  [Shape](#%28tech._shape%29) -> [Shape](#%28tech._shape%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-combinationÂ s1Â s2)
    |'
  id: totrans-1963
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (mk-combinationÂ s1Â s2)
    |'
- en: '| Â Â ;Â [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
  id: totrans-1964
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ;Â [Posn](part_one.html#%28tech._posn%29) -> [Boolean](part_one.html#%28tech._boolean%29)
    |'
- en: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
  id: totrans-1965
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (p)
    |'
- en: '| Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â (inside?Â s1Â p)Â (inside?Â s2Â p))))
    |'
  id: totrans-1966
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â (inside?Â s1Â p)Â (inside?Â s2Â p))))
    |'
- en: 'The [or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    expression says that the result is #true if one of two expressions produces #true:
    (inside?  s1  p) or (inside?  s2  p). The first expression determines whether
    p is in s1 and the second one whether p is in s2. And that is precisely a translation
    of our above explanation into ISL+ .ExerciseÂ 298\. Design my-animate. Recall that
    the [animate](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._%28%28lib._2htdp%2Funiverse..rkt%29._animate%29%29)
    function consumes the representation of a stream of images, one per natural number.
    Since streams are infinitely long, ordinary compound data cannot represent them.
    Instead, we use functions:'
  id: totrans-1967
  prefs: []
  type: TYPE_NORMAL
  zh: '[or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    è¡¨è¾¾å¼è¡¨ç¤ºï¼Œå¦‚æœä¸¤ä¸ªè¡¨è¾¾å¼ä¸­çš„ä»»ä½•ä¸€ä¸ªäº§ç”Ÿ #trueï¼Œåˆ™ç»“æœä¸º #trueï¼š(inside?  s1  p) æˆ– (inside?  s2  p)ã€‚ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ç¡®å®š
    p æ˜¯å¦åœ¨ s1 ä¸­ï¼Œç¬¬äºŒä¸ªè¡¨è¾¾å¼ç¡®å®š p æ˜¯å¦åœ¨ s2 ä¸­ã€‚è¿™æ­£æ˜¯å°†æˆ‘ä»¬ä¸Šé¢çš„è§£é‡Šç¿»è¯‘æˆ ISL+ çš„è¿‡ç¨‹ã€‚ç»ƒä¹  298ï¼šè®¾è®¡ my-animateã€‚å›æƒ³ä¸€ä¸‹
    [animate](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._%28%28lib._2htdp%2Funiverse..rkt%29._animate%29%29)
    å‡½æ•°æ¶ˆè€—å›¾åƒæµçš„è¡¨ç¤ºï¼Œæ¯ä¸ªè‡ªç„¶æ•°å¯¹åº”ä¸€ä¸ªå›¾åƒã€‚ç”±äºæµæ˜¯æ— é™é•¿çš„ï¼Œæ™®é€šçš„å¤åˆæ•°æ®æ— æ³•è¡¨ç¤ºå®ƒä»¬ã€‚ç›¸åï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•°ï¼š'
- en: '| ;Â An ImageStream is a function: |'
  id: totrans-1968
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An ImageStream is a function: |'
- en: '| ;Â Â Â [[N](part_two.html#%28tech._n%29) -> [Image](part_one.html#%28tech._image%29)]
    |'
  id: totrans-1969
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â [[N](part_two.html#%28tech._n%29) -> [Image](part_one.html#%28tech._image%29)]
    |'
- en: '| ;Â interpretation a stream s denotes a series of images |'
  id: totrans-1970
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation a stream s denotes a series of images |'
- en: 'Here is a data example:'
  id: totrans-1971
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸€ä¸ªæ•°æ®ç¤ºä¾‹ï¼š
- en: '| ;Â [ImageStream](#%28tech._imagestream%29) |'
  id: totrans-1972
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [ImageStream](#%28tech._imagestream%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (create-rocket-sceneÂ height)
    |'
  id: totrans-1973
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (create-rocket-sceneÂ height)
    |'
- en: '| Â Â ([place-image](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)Â ![](../Images/b927b276855f672434339692f24d7af2.png)Â 50Â heightÂ ([empty-scene](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)Â 60Â 60)))
    |'
  id: totrans-1974
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ”¾ç½®å›¾åƒ](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29)
    ![](../Images/b927b276855f672434339692f24d7af2.png) 50 é«˜åº¦ ([ç©ºåœºæ™¯](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-scene%29%29)
    60 60))) |'
- en: You may recognize this as one of the first pieces of code in the Prologue.
  id: totrans-1975
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½ä¼šè®¤å‡ºè¿™æ˜¯åºè¨€ä¸­ç¬¬ä¸€æ®µä»£ç ä¹‹ä¸€ã€‚
- en: The job of (my-animate  s  n) is to show the images (s  0), (s  1), and so on
    at a rate of 30 images per second up to n images total. Its result is the number
    of clock ticks passed since launched.
  id: totrans-1976
  prefs: []
  type: TYPE_NORMAL
  zh: (my-animate s n) çš„ä»»åŠ¡æ˜¯æŒ‰æ¯ç§’ 30 å¼ å›¾åƒçš„é€Ÿåº¦æ˜¾ç¤ºå›¾åƒ (s 0)ã€(s 1) ç­‰ç­‰ï¼Œç›´åˆ°æ€»å…± n å¼ å›¾åƒã€‚å®ƒçš„ç»“æœæ˜¯è‡ªå¯åŠ¨ä»¥æ¥ç»è¿‡çš„æ—¶é’Ÿæ»´ç­”æ•°ã€‚
- en: Note This case is an example where it is possible to write down examples/test
    cases easily, but these examples/tests per se do not inform the design process
    of this [big-bang](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    function. Using functions as data representations calls for more design concepts
    than this book supplies.
  id: totrans-1977
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥è½»æ¾å†™ä¸‹ç¤ºä¾‹/æµ‹è¯•ç”¨ä¾‹çš„ä¾‹å­ï¼Œä½†è¿™äº›ç¤ºä¾‹/æµ‹è¯•æœ¬èº«å¹¶ä¸æä¾›å…³äºæ­¤ [å¤§çˆ†ç‚¸](http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29)
    å‡½æ•°çš„è®¾è®¡è¿‡ç¨‹çš„ä»»ä½•ä¿¡æ¯ã€‚ä½¿ç”¨å‡½æ•°ä½œä¸ºæ•°æ®è¡¨ç¤ºéœ€è¦æ¯”æœ¬ä¹¦æä¾›çš„æ›´å¤šè®¾è®¡æ¦‚å¿µã€‚
- en: ExerciseÂ 299\. Design a data representation for finite and infinite sets so
    that you can represent the sets of all odd numbers, all even numbers, all numbers
    divisible by 10, and so on.
  id: totrans-1978
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  299ã€‚è®¾è®¡ä¸€ä¸ªæœ‰é™å’Œæ— é™é›†åˆçš„æ•°æ®è¡¨ç¤ºï¼Œä»¥ä¾¿ä½ å¯ä»¥è¡¨ç¤ºæ‰€æœ‰å¥‡æ•°ã€æ‰€æœ‰å¶æ•°ã€æ‰€æœ‰èƒ½è¢«10æ•´é™¤çš„æ•°ç­‰é›†åˆã€‚
- en: Design the functions add-element, which adds an element to a set; union, which
    combines the elements of two sets; and intersect, which collects all elements
    common to two sets.
  id: totrans-1979
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ add-element å‡½æ•°ï¼Œå®ƒå‘é›†åˆä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼›union å‡½æ•°ï¼Œå®ƒåˆå¹¶ä¸¤ä¸ªé›†åˆçš„å…ƒç´ ï¼›ä»¥åŠ intersect å‡½æ•°ï¼Œå®ƒæ”¶é›†ä¸¤ä¸ªé›†åˆå…±æœ‰çš„æ‰€æœ‰å…ƒç´ ã€‚
- en: 'Hint Mathematicians deal with sets as functions that consume a potential element
    ed and produce #true only if ed belongs to the set.'
  id: totrans-1980
  prefs: []
  type: TYPE_NORMAL
  zh: 'æç¤ºï¼šæ•°å­¦å®¶å°†é›†åˆè§†ä¸ºæ¶ˆè´¹æ½œåœ¨å…ƒç´  ed å¹¶ä»…åœ¨ ed å±äºé›†åˆæ—¶äº§ç”Ÿ #true çš„å‡½æ•°ã€‚'
- en: 18Summary[ğŸ”—](#(part._ch~3asummary3) "Link to here")
  id: totrans-1981
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 18 æ‘˜è¦[ğŸ”—](#(part._ch~3asummary3) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'This third part of the book is about the role of abstraction in program design.
    Abstraction has two sides: creation and use. It is therefore natural if we summarize
    the chapter as two lessons:'
  id: totrans-1982
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ä¹¦ç¬¬ä¸‰éƒ¨åˆ†è®¨è®ºæŠ½è±¡åœ¨ç¨‹åºè®¾è®¡ä¸­çš„ä½œç”¨ã€‚æŠ½è±¡æœ‰ä¸¤ä¸ªæ–¹é¢ï¼šåˆ›é€ å’Œä½¿ç”¨ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æŠŠæœ¬ç« æ€»ç»“ä¸ºä¸¤ä¸ªæ•™è®­ï¼Œè¿™æ˜¯å¾ˆè‡ªç„¶çš„ï¼š
- en: Repeated code patterns call for abstraction. To abstract means to factor out
    the repeated pieces of codeâ€”<wbr>the abstractionâ€”<wbr>and to parameterize over
    the differences. With the design of proper abstractions, programmers save themselves
    future work and headaches because mistakes, inefficiencies, and other problems
    are all in one place. One fix to the abstraction thus eliminates any specific
    problem once and for all. In contrast, the duplication of code means that a programmer
    must find all copies and fix all of them when a problem is found.
  id: totrans-1983
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é‡å¤çš„ä»£ç æ¨¡å¼éœ€è¦æŠ½è±¡åŒ–ã€‚æŠ½è±¡åŒ–æ„å‘³ç€æå–é‡å¤çš„ä»£ç ç‰‡æ®µâ€”â€”æŠ½è±¡â€”â€”å¹¶å¯¹å·®å¼‚è¿›è¡Œå‚æ•°åŒ–ã€‚é€šè¿‡è®¾è®¡é€‚å½“çš„æŠ½è±¡ï¼Œç¨‹åºå‘˜å¯ä»¥èŠ‚çœæœªæ¥çš„å·¥ä½œå’Œçƒ¦æ¼ï¼Œå› ä¸ºé”™è¯¯ã€ä½æ•ˆå’Œå…¶ä»–é—®é¢˜éƒ½é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚å› æ­¤ï¼Œå¯¹æŠ½è±¡çš„ä¸€æ¬¡ä¿®å¤å°±å¯ä»¥ä¸€æ¬¡æ€§æ¶ˆé™¤ä»»ä½•ç‰¹å®šé—®é¢˜ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä»£ç çš„é‡å¤æ„å‘³ç€å½“å‘ç°é—®é¢˜æ—¶ï¼Œç¨‹åºå‘˜å¿…é¡»æ‰¾åˆ°æ‰€æœ‰å‰¯æœ¬å¹¶ä¿®å¤å®ƒä»¬ã€‚
- en: Most languages come with a large collection of abstractions. Some are contributions
    by the language design team; others are added by programmers who use the language.
    To enable effective reuse of these abstractions, their creators must supply the
    appropriate pieces of documentationâ€”<wbr>a purpose statement, a signature, and
    good examplesâ€”<wbr>and programmers use them to apply abstractions.
  id: totrans-1984
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¤§å¤šæ•°è¯­è¨€éƒ½é™„å¸¦äº†ä¸€ä¸ªå¤§é‡çš„æŠ½è±¡é›†åˆã€‚å…¶ä¸­ä¸€äº›æ˜¯è¯­è¨€è®¾è®¡å›¢é˜Ÿçš„è´¡çŒ®ï¼›å¦ä¸€äº›æ˜¯ç”±ä½¿ç”¨è¯¥è¯­è¨€çš„ç¨‹åºå‘˜æ·»åŠ çš„ã€‚ä¸ºäº†æœ‰æ•ˆåœ°é‡ç”¨è¿™äº›æŠ½è±¡ï¼Œå®ƒä»¬çš„åˆ›é€ è€…å¿…é¡»æä¾›é€‚å½“çš„æ–‡æ¡£â€”â€”ç›®çš„å£°æ˜ã€ç­¾åå’Œè‰¯å¥½çš„ç¤ºä¾‹â€”â€”ç¨‹åºå‘˜ä½¿ç”¨å®ƒä»¬æ¥åº”ç”¨æŠ½è±¡ã€‚
- en: All programming languages come with the means to build abstractions though some
    means are better than others. All programmers must get to know the means of abstraction
    and the abstractions that a language provides. A discerning programmer will learn
    to distinguish programming languages along these axes.Beyond abstraction, this
    third part also introduces the idea that
  id: totrans-1985
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†æ„å»ºæŠ½è±¡çš„æ‰‹æ®µï¼Œå°½ç®¡æŸäº›æ‰‹æ®µæ¯”å…¶ä»–æ‰‹æ®µæ›´å¥½ã€‚æ‰€æœ‰ç¨‹åºå‘˜éƒ½å¿…é¡»äº†è§£æŠ½è±¡çš„æ‰‹æ®µä»¥åŠè¯­è¨€æä¾›çš„æŠ½è±¡ã€‚ä¸€ä¸ªæœ‰æ´å¯ŸåŠ›çš„ç¨‹åºå‘˜ä¼šå­¦ä¼šæ ¹æ®è¿™äº›è½´çº¿æ¥åŒºåˆ†ç¼–ç¨‹è¯­è¨€ã€‚åœ¨æŠ½è±¡ä¹‹å¤–ï¼Œè¿™éƒ¨åˆ†ç¬¬ä¸‰éƒ¨åˆ†è¿˜ä»‹ç»äº†è¿™æ ·çš„è§‚ç‚¹ï¼š
- en: functions are values, and they can represent information.
  id: totrans-1986
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å‡½æ•°æ˜¯å€¼ï¼Œå¹¶ä¸”å®ƒä»¬å¯ä»¥è¡¨ç¤ºä¿¡æ¯ã€‚
- en: While the idea is ancient for the Lisp family of programming languages (such
    as ISL+) and for specialists in programming language research, it has only recently
    gained acceptance in most modern mainstream languagesâ€”<wbr>C#, C++, Java, JavaScript,
    Perl, Python.
  id: totrans-1987
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº Lisp ç¨‹åºè®¾è®¡è¯­è¨€å®¶æ—ï¼ˆå¦‚ ISL+ï¼‰ä»¥åŠç¨‹åºè®¾è®¡è¯­è¨€ç ”ç©¶ä¸“å®¶æ¥è¯´ï¼Œè¿™ä¸ªæƒ³æ³•è™½ç„¶å¤è€ï¼Œä½†æœ€è¿‘æ‰åœ¨å¤§å¤šæ•°ç°ä»£ä¸»æµè¯­è¨€ä¸­å¾—åˆ°äº†è®¤å¯â€”â€”<wbr>C#ã€C++ã€Javaã€JavaScriptã€Perlã€Pythonã€‚
