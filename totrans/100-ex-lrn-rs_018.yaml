- en: Visibility
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可见性
- en: 原文：[https://rust-exercises.com/100-exercises/03_ticket_v1/04_visibility.html](https://rust-exercises.com/100-exercises/03_ticket_v1/04_visibility.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://rust-exercises.com/100-exercises/03_ticket_v1/04_visibility.html](https://rust-exercises.com/100-exercises/03_ticket_v1/04_visibility.html)
- en: When you start breaking down your code into multiple modules, you need to start
    thinking about **visibility**. Visibility determines which regions of your code
    (or other people's code) can access a given entity, be it a struct, a function,
    a field, etc.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当你开始将代码分解成多个模块时，你需要开始考虑 **可见性**。可见性决定了你的代码（或他人的代码）中哪些区域可以访问给定的实体，无论是结构体、函数、字段等。
- en: '[Private by default](#private-by-default)'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[默认为私有](#private-by-default)'
- en: By default, everything in Rust is **private**.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Rust 中的一切都是 **私有的**。
- en: 'A private entity can only be accessed:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 私有实体只能被以下方式访问：
- en: within the same module where it's defined, or
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在定义它的同一模块内，或者
- en: by one of its submodules
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由其子模块之一
- en: 'We''ve used this extensively in the previous exercises:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在之前的练习中广泛使用了它：
- en: '`create_todo_ticket` worked (once you added a `use` statement) because `helpers`
    is a submodule of the crate root, where `Ticket` is defined. Therefore, `create_todo_ticket`
    can access `Ticket` without any issues even though `Ticket` is private.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`create_todo_ticket` 工作正常（一旦添加了 `use` 语句），因为 `helpers` 是 crate 根的子模块，其中定义了
    `Ticket`。因此，即使 `Ticket` 是私有的，`create_todo_ticket` 也可以无问题地访问 `Ticket`。'
- en: All our unit tests are defined in a submodule of the code they're testing, so
    they can access everything without restrictions.
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的所有单元测试都定义在它们所测试的代码的子模块中，因此它们可以无限制地访问一切。
- en: '[Visibility modifiers](#visibility-modifiers)'
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[可见性修饰符](#visibility-modifiers)'
- en: You can modify the default visibility of an entity using a **visibility modifier**.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 **可见性修饰符** 修改实体的默认可见性。
- en: 'Some common visibility modifiers are:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 一些常见的可见性修饰符包括：
- en: '`pub`: makes the entity **public**, i.e. accessible from outside the module
    where it''s defined, potentially from other crates.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pub`: 使得实体 **公开**，即可以从定义它的模块外部访问，可能来自其他 crate。'
- en: '`pub(crate)`: makes the entity public within the same **crate**, but not outside
    of it.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pub(crate)`: 使得实体在相同的 **crate** 内部公开，但不在其外部。'
- en: '`pub(super)`: makes the entity public within the parent module.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pub(super)`: 使得实体在父模块内公开。'
- en: '`pub(in path::to::module)`: makes the entity public within the specified module.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pub(in path::to::module)`: 使得实体在指定的模块内公开。'
- en: 'You can use these modifiers on modules, structs, functions, fields, etc. For
    example:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在模块、结构体、函数、字段等上使用这些修饰符。例如：
- en: '[PRE0]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '`Configuration` is public, but you can only access the `version` field from
    within the same crate. The `active` field, instead, is private and can only be
    accessed from within the same module or one of its submodules.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '`Configuration` 是公开的，但你只能从同一 crate 内部访问 `version` 字段。相反，`active` 字段是私有的，只能从同一模块或其子模块内部访问。'
- en: '[Exercise](#exercise)'
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[练习](#exercise)'
- en: The exercise for this section is located in [`03_ticket_v1/04_visibility`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/03_ticket_v1/04_visibility)
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的练习位于 [`03_ticket_v1/04_visibility`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/03_ticket_v1/04_visibility)
