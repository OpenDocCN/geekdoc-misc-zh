- en: Two-way communication
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 双向通信
- en: 原文：[https://rust-exercises.com/100-exercises/07_threads/07_ack.html](https://rust-exercises.com/100-exercises/07_threads/07_ack.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://rust-exercises.com/100-exercises/07_threads/07_ack.html](https://rust-exercises.com/100-exercises/07_threads/07_ack.html)
- en: 'In our current client-server implementation, communication flows in one direction:
    from the client to the server.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们当前的客户端-服务器实现中，通信是单向的：从客户端到服务器。
- en: The client has no way of knowing if the server received the message, executed
    it successfully, or failed. That's not ideal.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端无法知道服务器是否收到了消息、是否成功执行，或者是否失败。这并不理想。
- en: To solve this issue, we can introduce a two-way communication system.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决这个问题，我们可以引入一个双向通信系统。
- en: '[Response channel](#response-channel)'
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[响应通道](#response-channel)'
- en: We need a way for the server to send a response back to the client.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要一种方式让服务器能够向客户端发送响应。
- en: There are various ways to do this, but the simplest option is to include a `Sender`
    channel in the message that the client sends to the server. After processing the
    message, the server can use this channel to send a response back to the client.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方法可以做到这一点，但最简单的方法是在客户端发送给服务器的消息中包含一个`Sender`通道。在处理完消息后，服务器可以使用这个通道向客户端发送响应。
- en: This is a fairly common pattern in Rust applications built on top of message-passing
    primitives.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这是在基于消息传递原语构建的Rust应用程序中相当常见的一种模式。
- en: '[Exercise](#exercise)'
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[练习](#exercise)'
- en: The exercise for this section is located in [`07_threads/07_ack`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/07_threads/07_ack)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本节练习位于[`07_threads/07_ack`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/07_threads/07_ack)
