- en: Error enums
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 错误枚举
- en: 原文：[https://rust-exercises.com/100-exercises/05_ticket_v2/08_error_enums.html](https://rust-exercises.com/100-exercises/05_ticket_v2/08_error_enums.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://rust-exercises.com/100-exercises/05_ticket_v2/08_error_enums.html](https://rust-exercises.com/100-exercises/05_ticket_v2/08_error_enums.html)
- en: 'Your solution to the previous exercise may have felt awkward: matching on strings
    is not ideal!'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 你对上一个练习的解决方案可能感觉有些别扭：基于字符串的匹配并不是最佳选择！
- en: A colleague might rework the error messages returned by `Ticket::new` (e.g.
    to improve readability) and, all of a sudden, your calling code would break.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 同事可能会重新设计`Ticket::new`返回的错误信息（例如，以提高可读性），突然之间，你的调用代码就会崩溃。
- en: 'You already know the machinery required to fix this: enums!'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经知道修复这个问题的工具了：枚举！
- en: '[Reacting to errors](#reacting-to-errors)'
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[对错误做出反应](#reacting-to-errors)'
- en: 'When you want to allow the caller to behave differently based on the specific
    error that occurred, you can use an enum to represent the different error cases:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 当你想让调用者根据发生的特定错误以不同的方式行为时，你可以使用枚举来表示不同的错误情况：
- en: '[PRE0]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Using an error enum, you're encoding the different error cases in the type system—they
    become part of the signature of the fallible function.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 使用错误枚举，你将不同的错误情况编码到类型系统中——它们成为易出错函数签名的一部分。
- en: 'This simplifies error handling for the caller, as they can use a `match` expression
    to react to the different error cases:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 这简化了调用者的错误处理，因为他们可以使用`match`表达式来对不同的错误情况进行响应：
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[Exercise](#exercise)'
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[练习](#exercise)'
- en: The exercise for this section is located in [`05_ticket_v2/08_error_enums`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/08_error_enums)
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的练习位于[`05_ticket_v2/08_error_enums`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/08_error_enums)
