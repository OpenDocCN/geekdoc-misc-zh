- en: Mutability
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可变性
- en: 原文：[https://freddiehaddad.github.io/fast-track-to-rust/mutability.html](https://freddiehaddad.github.io/fast-track-to-rust/mutability.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://freddiehaddad.github.io/fast-track-to-rust/mutability.html](https://freddiehaddad.github.io/fast-track-to-rust/mutability.html)
- en: Two lines of code were added to our rustle program on lines 13 and 18\. The
    variable `i` will get incremented with each loop iteration and we'll use it to
    print the line number. Go ahead and run the code.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的rustle程序的第13行和第18行添加了两行代码。变量`i`将在每次循环迭代时递增，我们将用它来打印行号。请运行代码。
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Uh-oh! Something went wrong. Luckily, the compiler (`rustc`) emits very helpful
    error messages.^([1](#footnote-1)) The variable `i` is immutable!
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 哎呀！出错了。幸运的是，编译器（`rustc`）会发出非常有帮助的错误信息.^([1](#footnote-1)) 变量`i`是不可变的！
- en: '[Variables and Mutability](#variables-and-mutability)'
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[变量和可变性](#variables-and-mutability)'
- en: Variables in Rust are immutable by default. This design choice helps you write
    code that leverages Rust's memory safety and fearless concurrency features. For
    more details, you can refer to the section on [variables and mutability](https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html)
    in the Rust documentation. While the language encourages immutability, there are
    situations where mutating values is necessary. In such cases, we use the `mut`
    keyword.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Rust中的变量默认是不可变的。这个设计选择有助于你编写利用Rust的内存安全和无恐惧并发特性的代码。更多详情，你可以参考Rust文档中关于[变量和可变性](https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html)的部分。虽然语言鼓励不可变性，但在某些情况下，修改值是必要的。在这种情况下，我们使用`mut`关键字。
- en: '[PRE1]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Go ahead and add the `mut` keyword to line 13 and run the program again.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，请在第13行添加`mut`关键字，然后再次运行程序。
- en: We're going to explore cases where immutability is needed and appropriate. However,
    let's see how iterators can be used to avoid the need for a mutable counter.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将探讨需要和适合使用不可变性的情况。然而，让我们看看迭代器如何被用来避免需要可变计数器的需求。
- en: '* * *'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: A lot of effort has been put into making `rustc` have great error messages.
    To help understand how to interpret them, refer to the [diagnostic structure](https://rustc-dev-guide.rust-lang.org/diagnostics.html#diagnostic-structure)
    in the documentation. [↩](#fr-1-1)
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 已经投入了大量努力使`rustc`具有出色的错误信息。为了帮助理解如何解释它们，请参考文档中的[诊断结构](https://rustc-dev-guide.rust-lang.org/diagnostics.html#diagnostic-structure)。[↩](#fr-1-1)
