- en: 'Intermezzo 5: The Cost of ComputationğŸ”—'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é—´å¥æ›²5ï¼šè®¡ç®—çš„ä»£ä»·ğŸ”—
- en: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/i5-6.html](https://htdp.org/2024-11-6/Book/i5-6.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/i5-6.html](https://htdp.org/2024-11-6/Book/i5-6.html)
- en: '| Â Â Â Â [Concrete Time, Abstract Time](#%28part._.Concrete_.Time__.Abstract_.Time%29)
    |'
  id: totrans-2
  prefs: []
  type: TYPE_TB
  zh: '|   [å…·ä½“æ—¶é—´ï¼ŒæŠ½è±¡æ—¶é—´](#%28part._.Concrete_.Time__.Abstract_.Time%29) |'
- en: '| Â Â Â Â [The Definition of â€œOn the Order Ofâ€](#%28part._.The_.Definition_of__.On_the_.Order_.Of_%29)
    |'
  id: totrans-3
  prefs: []
  type: TYPE_TB
  zh: '|   [â€œé˜¶â€çš„å®šä¹‰](#%28part._.The_.Definition_of__.On_the_.Order_.Of_%29) |'
- en: '| Â Â Â Â [Why Do Programs Use Predicates and Selectors?](#%28part._.Why_.Do_.Programs_.Use_.Predicates_and_.Selectors_%29)
    |'
  id: totrans-4
  prefs: []
  type: TYPE_TB
  zh: '|   [ä¸ºä»€ä¹ˆç¨‹åºä½¿ç”¨è°“è¯å’Œé€‰æ‹©å™¨ï¼Ÿ](#%28part._.Why_.Do_.Programs_.Use_.Predicates_and_.Selectors_%29)
    |'
- en: '|  |'
  id: totrans-5
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 'What do you know about program f once the following tests succeed:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»¥ä¸‹æµ‹è¯•æˆåŠŸåï¼Œä½ å¯¹ç¨‹åºfäº†è§£å¤šå°‘ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (fÂ 0)Â 0)
    |'
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (fÂ 0)Â 0)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (fÂ 1)Â 1)
    |'
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (fÂ 1)Â 1)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (fÂ 2)Â 8)
    |'
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (fÂ 2)Â 8)
    |'
- en: 'If this question showed up on a standard test, you might respond with this:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœè¿™ä¸ªé—®é¢˜å‡ºç°åœ¨æ ‡å‡†æµ‹è¯•ä¸­ï¼Œä½ å¯èƒ½ä¼šè¿™æ ·å›ç­”ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â xÂ 3))
  id: totrans-11
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â xÂ 3))
- en: 'But nothing speaks against the following:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†ä»¥ä¸‹æƒ…å†µå¹¶æ²¡æœ‰ä»€ä¹ˆä¸å¯¹ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â xÂ 2)Â 8Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ x)))
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fÂ x)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â xÂ 2)Â 8Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â xÂ x)))
- en: Tests tell you only that a program works as expected on some inputs.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æµ‹è¯•åªèƒ½å‘Šè¯‰ä½ ç¨‹åºåœ¨æŸäº›è¾“å…¥ä¸ŠæŒ‰é¢„æœŸå·¥ä½œã€‚
- en: 'In the same spirit, timing the evaluation of a program application for specific
    inputs tells you how long it takes to compute the answers for those inputsâ€”<wbr>and
    nothing else.You may also wish to reread [Local Definitions](part_three.html#%28part._sec~3alocal-definitions%29)
    and the discussion of integrity checks in [Project: Database](part_four.html#%28part._db._sec~3aproj-db%29).
    You may have two programsâ€”<wbr>prog-linear and prog-squareâ€”<wbr>that compute the
    same answers when given the same inputs, and you may find that for all chosen
    inputs, prog-linear always computes the answer faster than prog-square. [Making
    Choices](part_five.html#%28part._sec~3achoice%29) presents just such a pair of
    programs: gcd, a structurally recursive program, and gcd-generative, an equivalent
    but generative-recursive program. The timing comparison suggests that the latter
    is much faster than the former.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·åœ°ï¼Œå¯¹ç‰¹å®šè¾“å…¥çš„ç¨‹åºåº”ç”¨è¿›è¡Œè®¡æ—¶å‘Šè¯‰ä½ è®¡ç®—è¿™äº›è¾“å…¥ç­”æ¡ˆéœ€è¦å¤šé•¿æ—¶é—´â€”â€”ä»…æ­¤è€Œå·²ã€‚ä½ å¯èƒ½è¿˜å¸Œæœ›é‡æ–°é˜…è¯»[å±€éƒ¨å®šä¹‰](part_three.html#%28part._sec~3alocal-definitions%29)ä»¥åŠ[é¡¹ç›®ï¼šæ•°æ®åº“](part_four.html#%28part._db._sec~3aproj-db%29)ä¸­å…³äºå®Œæ•´æ€§æ£€æŸ¥çš„è®¨è®ºã€‚ä½ å¯èƒ½æœ‰ä¸¤ä¸ªç¨‹åºâ€”â€”prog-linearå’Œprog-squareâ€”â€”å½“ç»™å®šç›¸åŒçš„è¾“å…¥æ—¶ï¼Œå®ƒä»¬ä¼šè®¡ç®—å‡ºç›¸åŒçš„ç­”æ¡ˆï¼Œä½ å¯èƒ½å‘ç°å¯¹äºæ‰€æœ‰é€‰æ‹©çš„è¾“å…¥ï¼Œprog-linearæ€»æ˜¯æ¯”prog-squareè®¡ç®—ç­”æ¡ˆæ›´å¿«ã€‚[åšå‡ºé€‰æ‹©](part_five.html#%28part._sec~3achoice%29)å±•ç¤ºäº†è¿™æ ·ä¸€å¯¹ç¨‹åºï¼šgcdï¼Œä¸€ä¸ªç»“æ„é€’å½’ç¨‹åºï¼Œå’Œgcd-generativeï¼Œä¸€ä¸ªç­‰æ•ˆä½†ç”Ÿæˆé€’å½’çš„ç¨‹åºã€‚æ—¶é—´æ¯”è¾ƒè¡¨æ˜ï¼Œåè€…æ¯”å‰è€…å¿«å¾—å¤šã€‚
- en: '![image](../Images/a9aff491c3ae10691102e52088eb2722.png)'
  id: totrans-16
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/a9aff491c3ae10691102e52088eb2722.png)'
- en: ''
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 176: A comparison of two running time expressions'
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 176ï¼šä¸¤ä¸ªè¿è¡Œæ—¶é—´è¡¨è¾¾å¼çš„æ¯”è¾ƒ
- en: How confident are you that you wish to use prog-linear instead of prog-square?
    Consider the graph in [figureÂ 176](#%28counter._%28figure._fig~3aperformance%29%29).
    In this graph, the x-axis records the size of the inputâ€”<wbr>say, the length of
    a listâ€”<wbr>and the y-axis records the time it takes to compute the answer for
    an input of a specific size. Assume that the straight line represents the running
    time of prog-linear and the curved graph represents prog-square. In the shaded
    region, prog-linear takes more time than prog-square, but at the edge of this
    region the two graphs cross, and to its right the performance of prog-square is
    worse than that of prog-linear. If, for whatever reasons, you had evaluated the
    performance of prog-linear and prog-square only for input sizes in the shaded
    region and if your clients were to run your program mostly on inputs that fall
    in the nonshaded region, you would be delivering the wrong program.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ æœ‰å¤šè‡ªä¿¡åœ°å¸Œæœ›ä½¿ç”¨prog-linearè€Œä¸æ˜¯prog-squareï¼Ÿè€ƒè™‘å›¾Â 176[ğŸ”—](#%28counter._%28figure._fig~3aperformance%29%29)ã€‚åœ¨è¿™ä¸ªå›¾ä¸­ï¼Œxè½´è®°å½•è¾“å…¥çš„å¤§å°â€”â€”æ¯”å¦‚è¯´ï¼Œåˆ—è¡¨çš„é•¿åº¦â€”â€”yè½´è®°å½•è®¡ç®—ç‰¹å®šå¤§å°è¾“å…¥ç­”æ¡ˆæ‰€éœ€çš„æ—¶é—´ã€‚å‡è®¾ç›´çº¿ä»£è¡¨prog-linearçš„è¿è¡Œæ—¶é—´ï¼Œè€Œæ›²çº¿å›¾ä»£è¡¨prog-squareã€‚åœ¨é˜´å½±åŒºåŸŸå†…ï¼Œprog-linearçš„è¿è¡Œæ—¶é—´æ¯”prog-squareé•¿ï¼Œä½†åœ¨è¿™ä¸ªåŒºåŸŸçš„è¾¹ç¼˜ï¼Œä¸¤æ¡æ›²çº¿ç›¸äº¤ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªåŒºåŸŸå³ä¾§ï¼Œprog-squareçš„æ€§èƒ½æ¯”prog-linearå·®ã€‚å¦‚æœä½ å‡ºäºä»»ä½•åŸå› åªå¯¹é˜´å½±åŒºåŸŸå†…çš„è¾“å…¥å¤§å°è¯„ä¼°äº†prog-linearå’Œprog-squareçš„æ€§èƒ½ï¼Œå¹¶ä¸”å¦‚æœä½ çš„å®¢æˆ·ä¸»è¦åœ¨éé˜´å½±åŒºåŸŸè¿è¡Œä½ çš„ç¨‹åºï¼Œé‚£ä¹ˆä½ å°†äº¤ä»˜é”™è¯¯çš„ç¨‹åºã€‚
- en: This intermezzo introduces the idea of algorithmic analysis, which allows programmers
    to make general statements about a programâ€™s performance and everyone else about
    the growth of a function. We thank Prabhakar Ragde for sharing his notes on connecting
    the first edition of this book with algorithmic analysis.Any serious programmer
    and scientist must eventually become thoroughly familiar with this notion. It
    is the basis for analyzing performance attributes of programs. To understand the
    idea properly, you will need to work through a text book.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ®µé—´å¥ä»‹ç»äº†ç®—æ³•åˆ†æçš„æ¦‚å¿µï¼Œå®ƒå…è®¸ç¨‹åºå‘˜å¯¹ç¨‹åºçš„æ€§èƒ½åšå‡ºä¸€èˆ¬æ€§é™ˆè¿°ï¼Œå¹¶å¯¹å‡½æ•°çš„å¢é•¿åšå‡ºå…¶ä»–äººå¯ä»¥ç†è§£çš„ä¸€èˆ¬æ€§é™ˆè¿°ã€‚æˆ‘ä»¬æ„Ÿè°¢Prabhakar Ragdeåˆ†äº«äº†ä»–å…³äºå°†æœ¬ä¹¦çš„ç¬¬ä¸€ç‰ˆä¸ç®—æ³•åˆ†æç›¸ç»“åˆçš„ç¬”è®°ã€‚ä»»ä½•ä¸¥è‚ƒçš„ç¨‹åºå‘˜å’Œç§‘å­¦å®¶æœ€ç»ˆéƒ½å¿…é¡»å½»åº•ç†Ÿæ‚‰è¿™ä¸ªæ¦‚å¿µã€‚å®ƒæ˜¯åˆ†æç¨‹åºæ€§èƒ½å±æ€§çš„åŸºç¡€ã€‚ä¸ºäº†æ­£ç¡®ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œä½ éœ€è¦é€šè¿‡é˜…è¯»æ•™ç§‘ä¹¦æ¥å®è·µã€‚
- en: Concrete Time, Abstract Time[ğŸ”—](#(part._.Concrete_.Time__.Abstract_.Time) "Link
    to here")
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å…·ä½“æ—¶é—´ï¼ŒæŠ½è±¡æ—¶é—´[ğŸ”—](#(part._.Concrete_.Time__.Abstract_.Time) "é“¾æ¥è‡³æ­¤")
- en: '[Making Choices](part_five.html#%28part._sec~3achoice%29) compares the running
    time of gcd and gcd-generative. In addition, it argues that the latter is better
    because it always uses fewer recursive steps than the former to compute an answer.
    We use this idea as the starting point to analyze the performance of how-many,
    a simple program from [Designing with Self-Referential Data Definitions](part_two.html#%28part._ch~3adesign-lists%29):'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[åšå‡ºé€‰æ‹©](part_five.html#%28part._sec~3achoice%29)æ¯”è¾ƒäº†gcdå’Œgcd-generativeçš„è¿è¡Œæ—¶é—´ã€‚æ­¤å¤–ï¼Œå®ƒè®¤ä¸ºåè€…æ›´å¥½ï¼Œå› ä¸ºå®ƒæ€»æ˜¯æ¯”å‰è€…ä½¿ç”¨æ›´å°‘çš„é€’å½’æ­¥éª¤æ¥è®¡ç®—ç­”æ¡ˆã€‚æˆ‘ä»¬å°†è¿™ä¸ªæƒ³æ³•ä½œä¸ºèµ·ç‚¹æ¥åˆ†æhow-manyçš„æ€§èƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¥è‡ª[ä½¿ç”¨è‡ªå¼•ç”¨æ•°æ®å®šä¹‰è¿›è¡Œè®¾è®¡](part_two.html#%28part._ch~3adesign-lists%29)çš„ç®€å•ç¨‹åºï¼š'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (how-manyÂ a-list)
    |'
  id: totrans-23
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (how-manyÂ a-list)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â a-list)Â 0]
    |'
  id: totrans-25
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â a-list)Â 0]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â a-list))Â 1)]))
    |'
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â a-list))Â 1)]))
    |'
- en: 'Suppose we want to know how long it takes to compute the length of some unknown,
    non-empty list. Using the rules of computation from [Intermezzo 1: Beginning Student
    Language](i1-2.html), we can look at this process as a series of algebraic manipulations:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬æƒ³çŸ¥é“è®¡ç®—æŸäº›æœªçŸ¥ã€éç©ºåˆ—è¡¨é•¿åº¦éœ€è¦å¤šé•¿æ—¶é—´ã€‚ä½¿ç”¨[é—´å¥æ›²1ï¼šåˆå­¦è€…è¯­è¨€](i1-2.html)ä¸­çš„è®¡ç®—è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè¿‡ç¨‹è§†ä¸ºä¸€ç³»åˆ—ä»£æ•°æ“ä½œï¼š
- en: '| (how-manyÂ some-non-empty-list) |'
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (how-manyÂ some-non-empty-list) |'
- en: '| == |'
  id: totrans-29
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â some-non-empty-list)Â 0]
    |'
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â some-non-empty-list)Â 0]
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â some-non-empty-list))Â 1)])
    |'
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â some-non-empty-list))Â 1)])
    |'
- en: '| == |'
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [#falseÂ 0] |'
  id: totrans-35
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [#falseÂ 0] |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â some-non-empty-list))Â 1)])
    |'
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    (how-many ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    some-non-empty-list)) 1)]) |'
- en: '| == |'
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   == |'
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-38
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â some-non-empty-list))Â 1)])
    |'
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    (how-many ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    some-non-empty-list)) 1)]) |'
- en: '| == |'
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   == |'
- en: '| ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â some-non-empty-list))Â 1)
    |'
  id: totrans-41
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)
    (how-many ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    some-non-empty-list)) 1) |'
- en: The first step is to replace a-list in the definition of how-many with the actual
    argument, some-non-empty-list, which yields the first [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    expression. Next we must evaluate
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥æ˜¯å°†`how-many`å®šä¹‰ä¸­çš„`a-list`æ›¿æ¢ä¸ºå®é™…å‚æ•°`some-non-empty-list`ï¼Œè¿™ä¼šäº§ç”Ÿç¬¬ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)è¡¨è¾¾å¼ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¿…é¡»è¯„ä¼°
- en: ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â some-non-empty-list)
  id: totrans-43
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    some-non-empty-list)
- en: 'By assumption the result is #false. The question is how long it takes to determine
    this result. While we donâ€™t know the precise amount of time, it is safe to say
    that checking on the constructor of a list takes a small and fixed amount of time.
    Indeed, this assumption also holds for the next step, when [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    checks what the value of the first condition is. Since it is #false, the first
    [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    line is dropped. Checking whether a [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    line starts with [else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    is equally fast, which means we are left with'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®å‡è®¾ï¼Œç»“æœæ˜¯#falseã€‚é—®é¢˜æ˜¯ç¡®å®šè¿™ä¸ªç»“æœéœ€è¦å¤šé•¿æ—¶é—´ã€‚è™½ç„¶æˆ‘ä»¬ä¸çŸ¥é“ç¡®åˆ‡çš„æ—¶é—´ï¼Œä½†å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œæ£€æŸ¥åˆ—è¡¨æ„é€ å‡½æ•°æ‰€éœ€çš„æ—¶é—´æ˜¯ä¸€å°æ®µå›ºå®šçš„æ—¶é—´ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªå‡è®¾ä¹Ÿé€‚ç”¨äºä¸‹ä¸€æ­¥ï¼Œå½“[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)æ£€æŸ¥ç¬¬ä¸€ä¸ªæ¡ä»¶çš„å€¼æ—¶ã€‚ç”±äºå®ƒæ˜¯#falseï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)è¡Œè¢«å¿½ç•¥ã€‚æ£€æŸ¥ä¸€ä¸ª[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)è¡Œæ˜¯å¦ä»¥[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)å¼€å¤´åŒæ ·å¿«ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åªå‰©ä¸‹
- en: ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â some-non-empty-list))Â 1)
  id: totrans-45
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â (how-manyÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â some-non-empty-list))Â 1)
- en: Finally we may safely assume that [rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    extracts the remainder of the list in a fixed amount of time, but otherwise it
    looks like we are stuck. To compute how long how-many takes to determine the length
    of some list, we need to know how long how-many takes to count the number of items
    in the rest of that list.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°å‡è®¾[rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)åœ¨å›ºå®šçš„æ—¶é—´å†…æå–åˆ—è¡¨çš„å‰©ä½™éƒ¨åˆ†ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¼¼ä¹é™·å…¥äº†å›°å¢ƒã€‚ä¸ºäº†è®¡ç®—how-manyéœ€è¦å¤šé•¿æ—¶é—´æ¥ç¡®å®šæŸä¸ªåˆ—è¡¨çš„é•¿åº¦ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“how-manyéœ€è¦å¤šé•¿æ—¶é—´æ¥è®¡ç®—è¯¥åˆ—è¡¨å‰©ä½™éƒ¨åˆ†çš„é¡¹ç›®æ•°é‡ã€‚
- en: Alternatively, if we assume that predicates and selectors take some fixed amount
    of time, the time it takes how-many to determine the length of a list depends
    on the number of recursive steps it takes. Somewhat more precisely, evaluating
    (how-many  some-list) takes roughly n times some fixed amount where n is the length
    of the list or, equivalently, the number of times the program recurs.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œå¦‚æœæˆ‘ä»¬å‡è®¾è°“è¯å’Œé€‰æ‹©å™¨éœ€è¦å›ºå®šçš„æ—¶é—´ï¼Œé‚£ä¹ˆhow-manyç¡®å®šåˆ—è¡¨é•¿åº¦æ‰€éœ€çš„æ—¶é—´å–å†³äºé€’å½’æ­¥éª¤çš„æ•°é‡ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œè¯„ä¼°(how-many some-list)å¤§çº¦éœ€è¦nå€æŸä¸ªå›ºå®šçš„æ—¶é—´ï¼Œå…¶ä¸­næ˜¯åˆ—è¡¨çš„é•¿åº¦ï¼Œæˆ–è€…è¯´ç¨‹åºé€’å½’çš„æ¬¡æ•°ã€‚
- en: Generalizing from this example suggests that the running time depends on the
    size of the input and that the number of recursive steps is a good estimate for
    the length of an evaluation sequence. For this reason, computer scientists discuss
    the abstract running time of a program as a relationship between the size of the
    input and the number of recursive steps in an evaluation.â€œAbstractâ€ because the
    measure ignores the details of how much time primitive steps take. In our first
    example, the size of the input is the number of items on the list. Thus, a list
    of one item requires one recursive step, a list of two needs two steps, and for
    a list of n items, itâ€™s n steps.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™ä¸ªä¾‹å­ä¸­æ¨å¹¿ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œè¿è¡Œæ—¶é—´å–å†³äºè¾“å…¥çš„å¤§å°ï¼Œé€’å½’æ­¥éª¤çš„æ•°é‡æ˜¯è¯„ä¼°åºåˆ—é•¿åº¦çš„è‰¯å¥½ä¼°è®¡ã€‚å› æ­¤ï¼Œè®¡ç®—æœºç§‘å­¦å®¶å°†ç¨‹åºçš„æŠ½è±¡è¿è¡Œæ—¶é—´è®¨è®ºä¸ºè¾“å…¥å¤§å°å’Œè¯„ä¼°ä¸­é€’å½’æ­¥éª¤æ•°é‡çš„å…³ç³»ã€‚â€œæŠ½è±¡â€æ˜¯å› ä¸ºè¿™ä¸ªåº¦é‡å¿½ç•¥äº†åŸå§‹æ­¥éª¤æ‰€éœ€æ—¶é—´çš„ç»†èŠ‚ã€‚åœ¨æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œè¾“å…¥çš„å¤§å°æ˜¯åˆ—è¡¨ä¸Šçš„é¡¹ç›®æ•°é‡ã€‚å› æ­¤ï¼Œä¸€ä¸ªå…ƒç´ åˆ—è¡¨éœ€è¦ä¸€æ¬¡é€’å½’æ­¥éª¤ï¼Œä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨éœ€è¦ä¸¤æ¬¡æ­¥éª¤ï¼Œå¯¹äºnä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œåˆ™éœ€è¦næ¬¡æ­¥éª¤ã€‚
- en: Computer scientists use the phrase a program f takes â€œon the order of n stepsâ€
    to formulate a claim about the abstract running time of f. To use the phrase correctly,
    it must come with an explanation of n, for example, â€œit counts the number of items
    on the given listâ€ or â€œit is the number of digits in the given number.â€ Without
    such an explanation, the original phrase is actually meaningless.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æœºç§‘å­¦å®¶ä½¿ç”¨â€œç¨‹åº f æŒ‰ç…§nä¸ªæ­¥éª¤æ‰§è¡Œâ€è¿™ä¸ªçŸ­è¯­æ¥å¯¹ f çš„æŠ½è±¡è¿è¡Œæ—¶é—´è¿›è¡Œæ–­è¨€ã€‚ä¸ºäº†æ­£ç¡®ä½¿ç”¨è¿™ä¸ªçŸ­è¯­ï¼Œå®ƒå¿…é¡»é™„å¸¦å¯¹ n çš„è§£é‡Šï¼Œä¾‹å¦‚ï¼Œâ€œå®ƒè®¡ç®—ç»™å®šåˆ—è¡¨ä¸­çš„é¡¹ç›®æ•°é‡â€æˆ–â€œå®ƒæ˜¯ç»™å®šæ•°å­—ä¸­çš„æ•°å­—æ•°é‡ã€‚â€æ²¡æœ‰è¿™æ ·çš„è§£é‡Šï¼ŒåŸå§‹çŸ­è¯­å®é™…ä¸Šæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚
- en: 'Not all programs have the kind of simple abstract running time as how-many.
    Take a look at the first recursive program in this book:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶éæ‰€æœ‰ç¨‹åºéƒ½å…·æœ‰ how-many é‚£æ ·çš„ç®€å•æŠ½è±¡è¿è¡Œæ—¶é—´ã€‚çœ‹çœ‹è¿™æœ¬ä¹¦ä¸­çš„ç¬¬ä¸€ä¸ªé€’å½’ç¨‹åºï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-flatt?Â lo-names)
    |'
  id: totrans-51
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (contains-flatt?Â lo-names)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-52
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â lo-names)Â #false]
    |'
  id: totrans-53
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â lo-names)Â #false]
    |'
- en: '| Â Â Â Â [([cons?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)Â lo-names)
    |'
  id: totrans-54
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([cons?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)Â lo-names)
    |'
- en: '| Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â lo-names)Â ''flatt)
    |'
  id: totrans-55
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â lo-names)Â ''flatt)
    |'
- en: '| Â Â Â Â Â Â Â Â Â (contains-flatt?Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â lo-names)))]))
    |'
  id: totrans-56
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (contains-flatt?Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â lo-names)))]))
    |'
- en: For a list that starts with 'flatt, say,
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä»¥ 'flatt å¼€å¤´çš„åˆ—è¡¨ï¼Œä¾‹å¦‚ï¼Œ
- en: '| (contains-flatt? |'
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (contains-flatt? |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "flatt"Â "robot"Â "ball"Â "game-boy"Â "pokemon"))
    |'
  id: totrans-59
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "flatt"Â "robot"Â "ball"Â "game-boy"Â "pokemon"))
    |'
- en: the program requires no recursive steps. In contrast, if 'flatt occurs at the
    end of the list, as in,
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: ç¨‹åºä¸éœ€è¦é€’å½’æ­¥éª¤ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœåˆ—è¡¨æœ«å°¾å‡ºç° 'flattï¼Œä¾‹å¦‚ï¼Œ
- en: '| (contains-flatt? |'
  id: totrans-61
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (contains-flatt? |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "robot"Â "ball"Â "game-boy"Â "pokemon"Â "flatt"))
    |'
  id: totrans-62
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "robot"Â "ball"Â "game-boy"Â "pokemon"Â "flatt"))
    |'
- en: 'the evaluation needs as many recursive steps as there are items in the list.This
    second analysis brings us to the second important idea of program analysis, namely,
    the kind of analysis that is performed:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: è¯„ä¼°æ‰€éœ€çš„é€’å½’æ­¥éª¤æ•°é‡ä¸åˆ—è¡¨ä¸­çš„é¡¹ç›®æ•°é‡ç›¸åŒã€‚è¿™ç§ç¬¬äºŒç§åˆ†æå¸¦æˆ‘ä»¬æ¥åˆ°äº†ç¨‹åºåˆ†æçš„ç¬¬äºŒé‡è¦æ€æƒ³ï¼Œå³æ‰€æ‰§è¡Œçš„åˆ†æç±»å‹ï¼š
- en: A best-case analysis focuses on the class of inputs for which the program can
    easily find the answer. In our running example, a list that starts with 'flatt
    is the best kind of input.
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€ä½³æƒ…å†µåˆ†æå…³æ³¨ç¨‹åºå¯ä»¥è½»æ¾æ‰¾åˆ°ç­”æ¡ˆçš„è¾“å…¥ç±»åˆ«ã€‚åœ¨æˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ä¸­ï¼Œä»¥ 'flatt å¼€å¤´çš„åˆ—è¡¨æ˜¯æœ€å¥½çš„è¾“å…¥ç±»å‹ã€‚
- en: In turn, a worst-case analysis determines how badly a program performs for those
    inputs that stress it most. The contains-flatt? function exhibits its worst performance
    when 'flatt is at the end of the input list.
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾æ¬¡ï¼Œæœ€åæƒ…å†µåˆ†æç¡®å®šäº†ç¨‹åºåœ¨é‚£äº›æœ€è€ƒéªŒå®ƒçš„è¾“å…¥ä¸Šçš„è¡¨ç°æœ‰å¤šç³Ÿç³•ã€‚å½“ 'flatt åœ¨è¾“å…¥åˆ—è¡¨çš„æœ«å°¾æ—¶ï¼Œcontains-flatt? å‡½æ•°è¡¨ç°å‡ºæœ€å·®æ€§èƒ½ã€‚
- en: Finally, an average analysis starts from the ideas that programmers cannot assume
    that inputs are always of the best possible shape and that they must hope that
    the inputs are not of the worst possible shape. In many cases, they must estimate
    the average time a program takes. For example, contains-flatt? finds, on the average,
    'flatt somewhere in the middle of the input list. Thus, if the latter consists
    of n items, the average running time of contains-flatt? is ![image](../Images/5508a238d1d7a9aeb5f8be1db2873a99.png),
    that is, it recurs half as often as there are items on the input.
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå¹³å‡åˆ†æä»ç¨‹åºå‘˜ä¸èƒ½å‡è®¾è¾“å…¥æ€»æ˜¯æœ€ä½³å½¢çŠ¶çš„æƒ³æ³•å¼€å§‹ï¼Œä»–ä»¬å¿…é¡»å¸Œæœ›è¾“å…¥ä¸æ˜¯æœ€åå½¢çŠ¶çš„æƒ³æ³•ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œä»–ä»¬å¿…é¡»ä¼°è®¡ç¨‹åºçš„å¹³å‡è¿è¡Œæ—¶é—´ã€‚ä¾‹å¦‚ï¼Œcontains-flatt?
    å¹³å‡åœ¨è¾“å…¥åˆ—è¡¨çš„ä¸­é—´æ‰¾åˆ° 'flattã€‚å› æ­¤ï¼Œå¦‚æœåè€…ç”± n ä¸ªé¡¹ç›®ç»„æˆï¼Œcontains-flatt? çš„å¹³å‡è¿è¡Œæ—¶é—´æ˜¯ ![image](../Images/5508a238d1d7a9aeb5f8be1db2873a99.png)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒé€’å½’çš„æ¬¡æ•°æ˜¯è¾“å…¥é¡¹ç›®æ•°çš„ä¸€åŠã€‚
- en: Computer scientists therefore usually employ the â€œon the order ofâ€ phrase in
    conjunction with â€œon the averageâ€ or â€œin the worst case.â€Returning to the idea
    that contains-flatt? uses, on the average, an â€œorder of ![image](../Images/25a95a4fc3b6d221dc694d45b65e5155.png)
    stepsâ€ brings us to one more characteristic of abstract running time. Because
    it ignores the exact time it takes to evaluate primitive computation stepsâ€”<wbr>checking
    predicates, selecting values, picking [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    clausesâ€”<wbr>we can drop the division by 2. Here is why. By assumption, each basic
    step takes k units of time, meaning contains-flatt? takes time
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œè®¡ç®—æœºç§‘å­¦å®¶é€šå¸¸å°†â€œåœ¨æ•°é‡çº§ä¸Šâ€è¿™ä¸ªçŸ­è¯­ä¸â€œå¹³å‡â€æˆ–â€œæœ€åæƒ…å†µâ€ä¸€èµ·ä½¿ç”¨ã€‚â€œå›åˆ° contains-flatt? ä½¿ç”¨å¹³å‡çš„â€˜æ•°é‡çº§ä¸º ![image](../Images/25a95a4fc3b6d221dc694d45b65e5155.png)
    æ­¥éª¤â€™çš„æƒ³æ³•ï¼Œä½¿æˆ‘ä»¬æ¥åˆ°äº†æŠ½è±¡è¿è¡Œæ—¶é—´çš„å¦ä¸€ä¸ªç‰¹å¾ã€‚å› ä¸ºå®ƒå¿½ç•¥äº†è¯„ä¼°åŸå§‹è®¡ç®—æ­¥éª¤çš„ç¡®åˆ‡æ—¶é—´â€”â€”æ£€æŸ¥è°“è¯ã€é€‰æ‹©å€¼ã€é€‰æ‹© [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    å­å¥â€”â€”å› æ­¤æˆ‘ä»¬å¯ä»¥çœç•¥é™¤ä»¥ 2ã€‚åŸå› å¦‚ä¸‹ã€‚æ ¹æ®å‡è®¾ï¼Œæ¯ä¸ªåŸºæœ¬æ­¥éª¤éœ€è¦ k ä¸ªæ—¶é—´å•ä½ï¼Œè¿™æ„å‘³ç€ contains-flatt? éœ€è¦æ—¶é—´
- en: '![image](../Images/7b6f64f587d83057a66e69eb8e58fdff.png)'
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/7b6f64f587d83057a66e69eb8e58fdff.png)'
- en: 'If you had a newer computer, these basic computations may run twice as fast,
    in which case we would use ![image](../Images/359cbc0aab97b891e05e79cda6c20504.png)
    as the constant for basic work. Letâ€™s call this constant c and calculate:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æœ‰ä¸€å°æ›´å…ˆè¿›çš„è®¡ç®—æœºï¼Œè¿™äº›åŸºæœ¬è®¡ç®—å¯èƒ½è¿è¡Œå¾—å¿«ä¸¤å€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šç”¨ ![image](../Images/359cbc0aab97b891e05e79cda6c20504.png)
    ä½œä¸ºåŸºæœ¬å·¥ä½œçš„å¸¸æ•°ã€‚è®©æˆ‘ä»¬æŠŠè¿™ä¸ªå¸¸æ•°ç§°ä¸º c å¹¶è®¡ç®—ï¼š
- en: '![image](../Images/5a26809e35f0c3c2c64817c1fdb69718.png)'
  id: totrans-70
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/5a26809e35f0c3c2c64817c1fdb69718.png)'
- en: 'that is, the abstract running time is always n multiplied by a constant, and
    thatâ€™s all that matters to say â€œon the order of n.â€Now consider our sorting program
    from [figureÂ 72](part_two.html#%28counter._%28figure._fig~3asort%29%29). Here
    is a hand-evaluation for a small input, listing all recursive steps:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: å³ï¼ŒæŠ½è±¡è¿è¡Œæ—¶é—´æ€»æ˜¯ n ä¹˜ä»¥ä¸€ä¸ªå¸¸æ•°ï¼Œè¿™å°±æ˜¯è¯´â€œåœ¨ n çš„æ•°é‡çº§ä¸Šâ€çš„å…¨éƒ¨å†…å®¹ã€‚ç°åœ¨è€ƒè™‘æˆ‘ä»¬çš„æ’åºç¨‹åºï¼Œè§[å›¾ 72](part_two.html#%28counter._%28figure._fig~3asort%29%29)ã€‚è¿™é‡Œæ˜¯å¯¹ä¸€ä¸ªå°è¾“å…¥çš„æ‰‹åŠ¨è¯„ä¼°ï¼Œåˆ—å‡ºäº†æ‰€æœ‰çš„é€’å½’æ­¥éª¤ï¼š
- en: '| ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 1Â 2))
    |'
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 1Â 2))
    |'
- en: '| ==Â (insertÂ 3Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2)))
    |'
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (insertÂ 3Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2)))
    |'
- en: '| ==Â (insertÂ 3Â (insertÂ 1Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2))))
    |'
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (insertÂ 3Â (insertÂ 1Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2))))
    |'
- en: '| ==Â (insertÂ 3Â (insertÂ 1Â (insertÂ 2Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ''()))))
    |'
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (insertÂ 3Â (insertÂ 1Â (insertÂ 2Â ([sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)Â ''()))))
    |'
- en: '| ==Â (insertÂ 3Â (insertÂ 1Â (insertÂ 2Â ''()))) |'
  id: totrans-76
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (insertÂ 3Â (insertÂ 1Â (insertÂ 2Â ''()))) |'
- en: '| ==Â (insertÂ 3Â (insertÂ 1Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2)))
    |'
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (insertÂ 3Â (insertÂ 1Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2)))
    |'
- en: '| ==Â (insertÂ 3Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 2Â (insertÂ 1Â ''())))
    |'
  id: totrans-78
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (insertÂ 3Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â 2Â (insertÂ 1Â ''())))
    |'
- en: '| ==Â (insertÂ 3Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1))
    |'
  id: totrans-79
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (insertÂ 3Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1))
    |'
- en: '| ==Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 2Â 1)
    |'
  id: totrans-80
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 2Â 1)
    |'
- en: The evaluation shows how [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    traverses the given list and how it sets up an application of insert for each
    number in the list. Put differently, [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    is a two-phase program. During the first one, the recursive steps for [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    set up as many applications of insert as there are items in the list. During the
    second phase, each application of insert traverses a sorted list.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: è¯„ä¼°æ˜¾ç¤ºäº†[sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)å¦‚ä½•éå†ç»™å®šçš„åˆ—è¡¨ä»¥åŠå®ƒæ˜¯å¦‚ä½•ä¸ºåˆ—è¡¨ä¸­çš„æ¯ä¸ªæ•°å­—è®¾ç½®insertåº”ç”¨çš„ã€‚æ¢å¥è¯è¯´ï¼Œ[sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)æ˜¯ä¸€ä¸ªä¸¤é˜¶æ®µç¨‹åºã€‚åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œ[sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)çš„é€’å½’æ­¥éª¤è®¾ç½®äº†ä¸åˆ—è¡¨ä¸­é¡¹ç›®æ•°é‡ä¸€æ ·å¤šçš„insertåº”ç”¨ã€‚åœ¨ç¬¬äºŒé˜¶æ®µï¼Œæ¯ä¸ªinsertåº”ç”¨éå†ä¸€ä¸ªå·²æ’åºçš„åˆ—è¡¨ã€‚
- en: Inserting an item is similar to finding one, so it is not surprising that the
    performance of insert and contains-flatt? are alike. The applications of insert
    to a list of l items triggers between 0 and l recursive steps. On the average,
    we assume it requires l/2, which means that insert takes â€œon the order of l stepsâ€
    where l is the length of the given list.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: æ’å…¥ä¸€ä¸ªé¡¹ç›®ä¸æŸ¥æ‰¾ä¸€ä¸ªé¡¹ç›®ç±»ä¼¼ï¼Œå› æ­¤insertå’Œcontains-flatt?çš„æ€§èƒ½ç›¸ä¼¼å¹¶ä¸ä»¤äººæƒŠè®¶ã€‚å¯¹åŒ…å«lä¸ªé¡¹ç›®çš„åˆ—è¡¨åº”ç”¨insertè§¦å‘0åˆ°læ¬¡é€’å½’æ­¥éª¤ã€‚å¹³å‡è€Œè¨€ï¼Œæˆ‘ä»¬å‡è®¾å®ƒéœ€è¦l/2æ¬¡ï¼Œè¿™æ„å‘³ç€insertéœ€è¦â€œå¤§çº¦læ­¥â€ï¼Œå…¶ä¸­læ˜¯ç»™å®šåˆ—è¡¨çš„é•¿åº¦ã€‚
- en: The question is how long these lists are to which insert adds numbers. Generalizing
    from the above calculation, we can see that the first one is ![image](../Images/7a488e0678bcda587256627517a92a4a.png)
    items long, the second one ![image](../Images/ec4725047c34badcfb2e7caa70f865cc.png),
    and so on, all the way down to the empty list. Hence, we get that insert performs
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: é—®é¢˜æ˜¯insertå‘è¿™äº›åˆ—è¡¨æ·»åŠ æ•°å­—æ—¶åˆ—è¡¨æœ‰å¤šé•¿ã€‚ä»ä¸Šé¢çš„è®¡ç®—ä¸­æ¨å¹¿ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªåˆ—è¡¨æœ‰![image](../Images/7a488e0678bcda587256627517a92a4a.png)ä¸ªé¡¹ç›®é•¿ï¼Œç¬¬äºŒä¸ªåˆ—è¡¨![image](../Images/ec4725047c34badcfb2e7caa70f865cc.png)ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°ç©ºåˆ—è¡¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°insertæ‰§è¡Œ
- en: '![image](../Images/cfa5b68dd2fd6fdc1de6fab57bf0c2e8.png)'
  id: totrans-84
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/cfa5b68dd2fd6fdc1de6fab57bf0c2e8.png)'
- en: meaning
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: æ„å‘³ç€
- en: '![image](../Images/224266712925f08d1b761cf89805625a.png)'
  id: totrans-86
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/224266712925f08d1b761cf89805625a.png)'
- en: represents the best â€œguessâ€ at the average number of insertion steps. In this
    last term, n2 is the dominant factor, and so we say that a sorting process takes
    â€œon the order of n2 steps.â€ [ExerciseÂ 486](#%28counter._%28exercise._ex~3abig-o1%29%29)
    ask you to argue why it is correct to simplify this claim in this way.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: è¡¨ç¤ºå¯¹å¹³å‡æ’å…¥æ­¥éª¤æ•°çš„æœ€ä½³â€œçŒœæµ‹â€ã€‚åœ¨è¿™ä¸ªæœ€åé¡¹ä¸­ï¼Œn2 æ˜¯ä¸»å¯¼å› ç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬è¯´æ’åºè¿‡ç¨‹éœ€è¦â€œå¤§çº¦ n2 æ­¥éª¤â€ã€‚[ç»ƒä¹  486](#%28counter._%28exercise._ex~3abig-o1%29%29)
    è¦æ±‚ä½ è®ºè¯ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·ç®€åŒ–è¿™ä¸ªè¯´æ³•ã€‚
- en: See [exerciseÂ 486](#%28counter._%28exercise._ex~3abig-o1%29%29) for why this
    is the case.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: å‚è§ [ç»ƒä¹  486](#%28counter._%28exercise._ex~3abig-o1%29%29) äº†è§£ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ã€‚
- en: We can also proceed with less formalism and rigor. Because [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    uses insert once per item on the list, we get an â€œorder of nâ€ insert steps where
    n is the size of the list. Since insert needs ![image](../Images/8ba01d49527f7fea1f4be11045d5201a.png)
    steps, we now see that a sorting process needs ![image](../Images/69656ca4d5aa8de0cffbafb3c5ad4db2.png)
    steps or â€œon the order of n2.â€
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æ›´éæ­£å¼å’Œä¸¥è°¨çš„æ–¹æ³•è¿›è¡Œã€‚å› ä¸º [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    åœ¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªé¡¹ç›®ä¸Šåªæ’å…¥ä¸€æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªâ€œå¤§çº¦ nâ€çš„æ’å…¥æ­¥éª¤ï¼Œå…¶ä¸­ n æ˜¯åˆ—è¡¨çš„å¤§å°ã€‚ç”±äºæ’å…¥éœ€è¦ ![image](../Images/8ba01d49527f7fea1f4be11045d5201a.png)
    æ­¥éª¤ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥çœ‹åˆ°æ’åºè¿‡ç¨‹éœ€è¦ ![image](../Images/69656ca4d5aa8de0cffbafb3c5ad4db2.png) æ­¥éª¤æˆ–â€œå¤§çº¦
    n2â€ã€‚
- en: Totaling it all up, we get that [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    takes on the â€œorder of n stepsâ€ plus n2 recursive steps in insert for a list of
    n items, which yields
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ‰€æœ‰è¿™äº›åŠ èµ·æ¥ï¼Œæˆ‘ä»¬å¾—åˆ° [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    å¯¹ n ä¸ªé¡¹ç›®çš„åˆ—è¡¨è¿›è¡Œæ’åºæ—¶ï¼Œéœ€è¦â€œå¤§çº¦ n æ­¥éª¤â€åŠ ä¸Š n2 æ¬¡é€’å½’æ­¥éª¤åœ¨æ’å…¥ä¸­ï¼Œè¿™ä¼šäº§ç”Ÿ
- en: '![image](../Images/477edf0309fa95e801d23bc2bc64d404.png)'
  id: totrans-91
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/477edf0309fa95e801d23bc2bc64d404.png)'
- en: 'steps. See again [exerciseÂ 486](#%28counter._%28exercise._ex~3abig-o1%29%29)
    for details. Note This analysis assumes that comparing two items on the list takes
    a fixed amount of time. EndOur final example is the inf program from [Local Definitions](part_three.html#%28part._sec~3alocal-definitions%29):'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¥éª¤ã€‚å‚è§ [ç»ƒä¹  486](#%28counter._%28exercise._ex~3abig-o1%29%29) äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚æ³¨æ„ï¼šæ­¤åˆ†æå‡è®¾æ¯”è¾ƒåˆ—è¡¨ä¸­çš„ä¸¤ä¸ªé¡¹ç›®éœ€è¦å›ºå®šçš„æ—¶é—´é‡ã€‚ç»“æŸæˆ‘ä»¬çš„æœ€åä¸€ä¸ªä¾‹å­æ˜¯æ¥è‡ª
    [å±€éƒ¨å®šä¹‰](part_three.html#%28part._sec~3alocal-definitions%29) çš„ inf ç¨‹åºï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (infÂ l)
    |'
  id: totrans-93
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (infÂ l)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-94
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    |'
  id: totrans-95
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))
    |'
  id: totrans-96
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)
    ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    l) (inf ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    l)))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)
    |'
  id: totrans-97
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    l) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (infÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    |'
  id: totrans-98
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (inf ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    l))) |'
- en: 'Letâ€™s start with a small input: ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  2  1  0).
    We know that the result is 0. Here is the first important step of a hand-evaluation:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ä¸€ä¸ªå°è¾“å…¥å¼€å§‹ï¼š([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 2 1 0)ã€‚æˆ‘ä»¬çŸ¥é“ç»“æœæ˜¯ 0ã€‚è¿™æ˜¯æ‰‹å·¥è¯„ä¼°çš„ç¬¬ä¸€æ­¥é‡è¦æ­¥éª¤ï¼š
- en: '| (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 2Â 1Â 0))
    |'
  id: totrans-100
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (inf ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 2 1 0)) |'
- en: '| == |'
  id: totrans-101
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â 3Â (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  0)))
    |'
  id: totrans-102
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)
    ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    3 (inf ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 0)))) |'
- en: '| Â Â Â Â 3 |'
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â 3 |'
- en: '| Â Â Â Â (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  0)))
    |'
  id: totrans-104
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (inf ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 0))) |'
- en: 'From here, we must evaluate the first recursive call. Because the result is
    0 and the condition is thus #false, we must evaluate the recursion in the else-branch
    as well.Once we do so, we see two evaluations of (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  0)):'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 'ä»è¿™é‡Œï¼Œæˆ‘ä»¬å¿…é¡»è¯„ä¼°ç¬¬ä¸€ä¸ªé€’å½’è°ƒç”¨ã€‚å› ä¸ºç»“æœæ˜¯ 0ï¼Œæ¡ä»¶å› æ­¤ä¸º #falseï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ else åˆ†æ”¯ä¸­ä¹Ÿè¯„ä¼°é€’å½’ã€‚ä¸€æ—¦æˆ‘ä»¬è¿™æ ·åšï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å¯¹ (inf
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 0)) çš„ä¸¤æ¬¡è¯„ä¼°ï¼š'
- en: '| (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 1Â 0))
    |'
  id: totrans-106
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (inf ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 1 0)) |'
- en: '| == |'
  id: totrans-107
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â 2Â (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 0)))Â 2Â (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 0)))
    |'
  id: totrans-108
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â 2Â (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 0)))Â 2Â (infÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 0)))
    |'
- en: 'At this point we can generalize the pattern and summarize it in a table:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ¦‚æ‹¬è¿™ä¸ªæ¨¡å¼ï¼Œå¹¶ä»¥è¡¨æ ¼çš„å½¢å¼æ€»ç»“å®ƒï¼š
- en: '| original expression |  | requires two evaluations of |'
  id: totrans-110
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| åŸå§‹è¡¨è¾¾å¼ |  | éœ€è¦ä¸¤æ¬¡è¯„ä¼° |'
- en: '| (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  2  1  0))
    |  | (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  0))
    |'
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  2  1  0))
    |  | (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  0))
    |'
- en: '| (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  0))
    |  | (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  0))
    |'
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  2  1  0))
    |  | (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  0))
    |'
- en: '| (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  0))
    |  | (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  0))
    |'
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  1  0))
    |  | (inf  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  0))
    |'
- en: In total, the hand-evaluation requires eight recursive steps for a list of four
    items. If we added 4 to the front of the list, we would double the number of recursive
    steps again. Speaking algebraically, inf needs on the order of 2n recursive steps
    for a list of n numbers when the last number is the maximum, which is clearly
    the worst case for inf.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»çš„æ¥è¯´ï¼Œæ‰‹åŠ¨è¯„ä¼°ä¸€ä¸ªåŒ…å«å››ä¸ªå…ƒç´ çš„åˆ—è¡¨éœ€è¦å…«ä¸ªé€’å½’æ­¥éª¤ã€‚å¦‚æœæˆ‘ä»¬æŠŠ4åŠ åˆ°åˆ—è¡¨çš„å¼€å¤´ï¼Œé€’å½’æ­¥éª¤çš„æ•°é‡ä¼šå†æ¬¡ç¿»å€ã€‚ç”¨ä»£æ•°è¡¨è¾¾ï¼Œå½“æœ€åä¸€ä¸ªæ•°å­—æ˜¯æœ€å¤§å€¼æ—¶ï¼Œinf
    éœ€è¦å¤§çº¦ 2^n æ¬¡é€’å½’æ­¥éª¤æ¥å¤„ç†ä¸€ä¸ªåŒ…å« n ä¸ªæ•°å­—çš„åˆ—è¡¨ï¼Œè¿™æ˜¾ç„¶æ˜¯ inf çš„æœ€åæƒ…å†µã€‚
- en: Stop! If you paid close attention, you know that the above suggestion is sloppy.
    The inf program really just needs ![image](../Images/c9554316c32d091d3282a0687bde3786.png)
    recursive steps for a list of n items. What is going on?
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼å¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼Œä½ ä¼šçŸ¥é“ä¸Šé¢çš„å»ºè®®æ˜¯è‰ç‡çš„ã€‚å®é™…ä¸Šï¼Œinf ç¨‹åºåªéœ€è¦ ![å›¾ç‰‡](../Images/c9554316c32d091d3282a0687bde3786.png)
    æ¬¡é€’å½’æ­¥éª¤æ¥å¤„ç†ä¸€ä¸ªåŒ…å« n ä¸ªé¡¹ç›®çš„åˆ—è¡¨ã€‚å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
- en: 'Remember that we donâ€™t really measure the exact time when we say â€œon the order
    of.â€ Instead we skip over all built-in predicates, selectors, constructors, arithmetic,
    and so on and focus on recursive steps only. Now consider this calculation:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œå½“æˆ‘ä»¬è¯´â€œå¤§çº¦â€æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯çœŸçš„æµ‹é‡ç¡®åˆ‡çš„æ—¶é—´ã€‚ç›¸åï¼Œæˆ‘ä»¬è·³è¿‡äº†æ‰€æœ‰å†…ç½®çš„è°“è¯ã€é€‰æ‹©å™¨ã€æ„é€ å‡½æ•°ã€ç®—æœ¯ç­‰ï¼Œåªå…³æ³¨é€’å½’æ­¥éª¤ã€‚ç°åœ¨è€ƒè™‘è¿™ä¸ªè®¡ç®—ï¼š
- en: '![image](../Images/e298cbb87cefdf15599b78a1d0b508ec.png)'
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/e298cbb87cefdf15599b78a1d0b508ec.png)'
- en: 'It shows that ![image](../Images/5ce18453da5db1101f45e5e86466d800.png) and
    ![image](../Images/bbe024a86b6d8940ebe582b4b6e81078.png) differ by a small factor:
    2, meaning â€œon the order of ![image](../Images/0d8f48d2f0ddc397a99bd2e738cf485c.png)
    stepsâ€ describes inf in a world where all basic operations provided by *SL run
    at half the speed when compared to an inf program that runs at â€œthe order of ![image](../Images/80c37d30f0f754eb672fada31a6368cf.png)
    steps.â€ In this sense, the two expressions really mean the same thing. The question
    is what exactly they mean, and that is the subject of the next section.ExerciseÂ 484\.
    While a list sorted in descending order is clearly the worst possible input for
    inf, the analysis of infâ€™s abstract running time explains why the rewrite of inf
    with [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    reduces the running time. For convenience, we replicate this version here:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒè¡¨æ˜ ![image](../Images/5ce18453da5db1101f45e5e86466d800.png) å’Œ ![image](../Images/bbe024a86b6d8940ebe582b4b6e81078.png)
    ä¹‹é—´çš„å·®å¼‚æ˜¯ä¸€ä¸ªå°çš„å› å­ï¼š2ï¼Œè¿™æ„å‘³ç€â€œåœ¨![image](../Images/0d8f48d2f0ddc397a99bd2e738cf485c.png)æ­¥çš„é‡çº§â€æè¿°äº†åœ¨ä¸€ä¸ªæ‰€æœ‰åŸºæœ¬æ“ä½œç”±
    *SL ä»¥â€œ![image](../Images/80c37d30f0f754eb672fada31a6368cf.png)æ­¥çš„é‡çº§â€è¿è¡Œçš„ inf ç¨‹åºç›¸æ¯”ï¼Œè¿è¡Œé€Ÿåº¦å‡åŠçš„ä¸–ç•Œä¸­çš„
    infã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œè¿™ä¸¤ä¸ªè¡¨è¾¾å¼å®é™…ä¸Šæ„å‘³ç€ç›¸åŒçš„äº‹æƒ…ã€‚é—®é¢˜æ˜¯å®ƒä»¬ç©¶ç«Ÿæ„å‘³ç€ä»€ä¹ˆï¼Œè¿™æ­£æ˜¯ä¸‹ä¸€èŠ‚çš„ä¸»é¢˜ã€‚ç»ƒä¹  484ã€‚è™½ç„¶æŒ‰é™åºæ’åºçš„åˆ—è¡¨å¯¹äº inf æ¥è¯´æ˜¯æœ€åçš„å¯èƒ½è¾“å…¥ï¼Œä½†
    inf çš„æŠ½è±¡è¿è¡Œæ—¶é—´åˆ†æè§£é‡Šäº†ä¸ºä»€ä¹ˆä½¿ç”¨ [å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    é‡å†™çš„ inf å¯ä»¥å‡å°‘è¿è¡Œæ—¶é—´ã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬åœ¨æ­¤å¤åˆ¶è¿™ä¸ªç‰ˆæœ¬ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (infLÂ l)
    |'
  id: totrans-119
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (infLÂ l)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-120
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    |'
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   Â Â Â [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sÂ (infLÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))))
    |'
  id: totrans-122
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sÂ (infLÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â s)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â s))]))
    |'
  id: totrans-123
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â s)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â s))]))
    |'
- en: Hand-evaluate (infL  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  2  1  0)).
    Then argue that infL uses on the â€œorder of n stepsâ€ in the best and the worst
    case. You may now wish to revisit [exerciseÂ 261](part_three.html#%28counter._%28exercise._ex~3alocal-interm1%29%29),
    which asks you to explore a similar problem.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨è¯„ä¼° (infL  ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  3  2  1  0)).
    ç„¶åè®ºè¯ infL åœ¨æœ€å¥½å’Œæœ€åæƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯â€œæ•°é‡çº§ä¸º n çš„æ­¥éª¤â€ã€‚ä½ ç°åœ¨å¯èƒ½å¸Œæœ›é‡æ–°å®¡è§† [ç»ƒä¹  261](part_three.html#%28counter._%28exercise._ex~3alocal-interm1%29%29)ï¼Œå®ƒè¦æ±‚ä½ æ¢ç´¢ä¸€ä¸ªç±»ä¼¼çš„é—®é¢˜ã€‚
- en: ExerciseÂ 485\. A number tree is either a number or a pair of number trees. Design
    sum-tree, which determines the sum of the numbers in a tree. What is its abstract
    running time? What is an acceptable measure of the size of such a tree? What is
    the worst possible shape of the tree? Whatâ€™s the best possible shape?
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  485. ä¸€ä¸ªæ•°å­—æ ‘è¦ä¹ˆæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¦ä¹ˆæ˜¯ä¸€å¯¹æ•°å­—æ ‘ã€‚è®¾è®¡ä¸€ä¸ªæ±‚å’Œæ ‘ï¼Œå®ƒç¡®å®šæ ‘ä¸­æ•°å­—çš„æ€»å’Œã€‚å®ƒçš„æŠ½è±¡è¿è¡Œæ—¶é—´æ˜¯ä»€ä¹ˆï¼Ÿè¿™ç§æ ‘çš„åˆç†å¤§å°åº¦é‡æ˜¯ä»€ä¹ˆï¼Ÿæ ‘çš„æœ€åå¯èƒ½å½¢çŠ¶æ˜¯ä»€ä¹ˆï¼Ÿæœ€å¥½çš„å¯èƒ½å½¢çŠ¶æ˜¯ä»€ä¹ˆï¼Ÿ
- en: The Definition of â€œOn the Order Ofâ€[ğŸ”—](#(part._.The_.Definition_of__.On_the_.Order_.Of_)
    "Link to here")
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: â€œæ•°é‡çº§â€çš„å®šä¹‰[ğŸ”—](#(part._.The_.Definition_of__.On_the_.Order_.Of_) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: 'The preceding section alluded to all the key ingredients of the phrase â€œon
    the order of.â€ Now it is time to introduce a rigorous description of the phrase.
    Letâ€™s start with the two ideas that the preceding section develops:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ä¸€èŠ‚æåˆ°äº†â€œæ•°é‡çº§â€è¿™ä¸ªçŸ­è¯­çš„æ‰€æœ‰å…³é”®æˆåˆ†ã€‚ç°åœ¨ï¼Œæ˜¯æ—¶å€™ä»‹ç»è¿™ä¸ªçŸ­è¯­çš„ä¸¥æ ¼æè¿°äº†ã€‚è®©æˆ‘ä»¬ä»å‰ä¸€èŠ‚æå‡ºçš„ä¸¤ä¸ªæƒ³æ³•å¼€å§‹ï¼š
- en: 'The abstract measurement of performance is a relationship between two quantities:
    the size of the input and the number of recursive steps needed to determine the
    answer. The relationship is actually a mathematical function that maps one natural
    number (the size of the input) to another (the time needed).'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ€§èƒ½çš„æŠ½è±¡åº¦é‡æ˜¯ä¸¤ä¸ªæ•°é‡ä¹‹é—´çš„å…³ç³»ï¼šè¾“å…¥çš„å¤§å°å’Œç¡®å®šç­”æ¡ˆæ‰€éœ€çš„é€’å½’æ­¥éª¤æ•°ã€‚è¿™ç§å…³ç³»å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•°å­¦å‡½æ•°ï¼Œå®ƒå°†ä¸€ä¸ªè‡ªç„¶æ•°ï¼ˆè¾“å…¥çš„å¤§å°ï¼‰æ˜ å°„åˆ°å¦ä¸€ä¸ªï¼ˆæ‰€éœ€çš„æ—¶é—´ï¼‰ã€‚
- en: Hence, a general statement about the performance of a program is a statement
    about a function, and a comparison of the performance of two programs calls for
    the comparison of two such functions.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå…³äºç¨‹åºæ€§èƒ½çš„ä¸€èˆ¬é™ˆè¿°æ˜¯å…³äºä¸€ä¸ªå‡½æ•°çš„é™ˆè¿°ï¼Œè€Œä¸¤ä¸ªç¨‹åºæ€§èƒ½çš„æ¯”è¾ƒéœ€è¦æ¯”è¾ƒä¸¤ä¸ªè¿™æ ·çš„å‡½æ•°ã€‚
- en: How do you decide whether one such function is â€œbetterâ€ than another?
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¦‚ä½•å†³å®šä¸€ä¸ªè¿™æ ·çš„å‡½æ•°æ˜¯å¦æ¯”å¦ä¸€ä¸ªâ€œæ›´å¥½â€ï¼Ÿ
- en: '[ExerciseÂ 245](part_three.html#%28counter._%28exercise._ex~3asem2-funcs%29%29)
    tackles a different question, namely, whether we can formulate a program that
    decides whether two other programs are equal. In this intermezzo, we are not writing
    a program; we are using plain mathematical arguments.'
  id: totrans-131
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[ç»ƒä¹  245](part_three.html#%28counter._%28exercise._ex~3asem2-funcs%29%29) æ¢è®¨äº†ä¸€ä¸ªä¸åŒçš„é—®é¢˜ï¼Œå³æˆ‘ä»¬æ˜¯å¦å¯ä»¥åˆ¶å®šä¸€ä¸ªç¨‹åºæ¥å†³å®šä¸¤ä¸ªå…¶ä»–ç¨‹åºæ˜¯å¦ç›¸ç­‰ã€‚åœ¨è¿™ä¸ªæ’æ›²ä¸­ï¼Œæˆ‘ä»¬ä¸æ˜¯ç¼–å†™ç¨‹åºï¼›æˆ‘ä»¬æ˜¯åœ¨ä½¿ç”¨çº¯æ•°å­¦è®ºè¯ã€‚'
- en: 'Letâ€™s return to the imaginary programs from the introduction: prog-linear and
    prog-square. They compute the same results but their performance differs. The
    prog-linear program requires â€œon the order of n stepsâ€ while prog-square uses
    â€œon the order of n2 steps.â€ Mathematically speaking, the performance function
    for prog-linear is'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å›åˆ°å¼•è¨€ä¸­çš„æƒ³è±¡ç¨‹åºï¼šprog-linear å’Œ prog-squareã€‚å®ƒä»¬è®¡ç®—ç›¸åŒçš„ç»“æœï¼Œä½†å®ƒä»¬çš„æ€§èƒ½ä¸åŒã€‚prog-linear ç¨‹åºéœ€è¦â€œæ•°é‡çº§ä¸º
    n çš„æ­¥éª¤â€ï¼Œè€Œ prog-square ä½¿ç”¨â€œæ•°é‡çº§ä¸º n^2 çš„æ­¥éª¤â€ã€‚ä»æ•°å­¦çš„è§’åº¦è®²ï¼Œprog-linear çš„æ€§èƒ½å‡½æ•°æ˜¯
- en: '![image](../Images/7872ca20539012e1646f6f1ee950c105.png)'
  id: totrans-133
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/7872ca20539012e1646f6f1ee950c105.png)'
- en: and prog-squareâ€™s associated performance function is
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: å’Œ prog-square ç›¸å…³çš„æ€§èƒ½å‡½æ•°æ˜¯
- en: '![image](../Images/0d212a489cb59fa989f9a0327ba7f270.png)'
  id: totrans-135
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/0d212a489cb59fa989f9a0327ba7f270.png)'
- en: In these definitions, cL is the cost for each recursive step in prog-square
    and cS is the cost per step in prog-linear.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™äº›å®šä¹‰ä¸­ï¼ŒcL æ˜¯ prog-square ä¸­æ¯æ­¥é€’å½’çš„æˆæœ¬ï¼ŒcS æ˜¯ prog-linear ä¸­æ¯æ­¥çš„æˆæœ¬ã€‚
- en: 'Say we figure out that cL = 1000 and cS = 1. Then we can tabulate these abstract
    running times to make the comparison concrete:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬è®¡ç®—å‡º cL = 1000 å’Œ cS = 1ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥å°†è¿™äº›æŠ½è±¡çš„è¿è¡Œæ—¶é—´åˆ—æˆè¡¨æ ¼ï¼Œä»¥ä¾¿è¿›è¡Œå…·ä½“çš„æ¯”è¾ƒï¼š
- en: '| n |  | 10 |  | 100 |  | 1000 |  | 2000 |'
  id: totrans-138
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| n |  | 10 |  | 100 |  | 1000 |  | 2000 |'
- en: '| prog-square |  | 100 |  | 10000 |  | 1000000 |  | 4000000 |'
  id: totrans-139
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| prog-square |  | 100 |  | 10000 |  | 1000000 |  | 4000000 |'
- en: '| prog-linear |  | 10000 |  | 100000 |  | 1000000 |  | 2000000 |'
  id: totrans-140
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| prog-linear |  | 10000 |  | 100000 |  | 1000000 |  | 2000000 |'
- en: Like the graphs in [figureÂ 176](#%28counter._%28figure._fig~3aperformance%29%29),
    the table at first seems to say that prog-square is better than prog-linear, because
    for inputs of the same size n, prog-squareâ€™s result is smaller than prog-linearâ€™s.
    But look at the last column in the table. Once the inputs are sufficiently large,
    prog-squareâ€™s advantage decreases until it disappears at an input size of 1000.
    Thereafter prog-square is always slower than prog-linear.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: å°±åƒ [å›¾ 176](#%28counter._%28figure._fig~3aperformance%29%29) ä¸­çš„å›¾è¡¨ä¸€æ ·ï¼Œè¡¨æ ¼æœ€åˆä¼¼ä¹è¡¨æ˜
    prog-square æ¯” prog-linear æ›´å¥½ï¼Œå› ä¸ºå¯¹äºç›¸åŒå¤§å°çš„è¾“å…¥ nï¼Œprog-square çš„ç»“æœæ¯” prog-linear å°ã€‚ä½†çœ‹çœ‹è¡¨æ ¼çš„æœ€åä¸€åˆ—ã€‚ä¸€æ—¦è¾“å…¥è¶³å¤Ÿå¤§ï¼Œprog-square
    çš„ä¼˜åŠ¿å°±ä¼šé™ä½ï¼Œç›´åˆ°åœ¨è¾“å…¥å¤§å°ä¸º 1000 æ—¶æ¶ˆå¤±ã€‚æ­¤åï¼Œprog-square æ€»æ˜¯æ¯” prog-linear æ…¢ã€‚
- en: This last insight is the key to the precise definition of the phrase â€œorder
    of.â€ If a function f on the natural numbers produces larger numbers than some
    function g for all natural numbers, then f is clearly larger than g. But what
    if this comparison fails for just a few inputs, say for 1000 or 1000000, and holds
    for all others? In that case, we would still like to say f is better than g. And
    this brings us to the following definition.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæœ€åçš„æ´å¯Ÿæ˜¯â€œé˜¶â€è¿™ä¸ªçŸ­è¯­ç²¾ç¡®å®šä¹‰çš„å…³é”®ã€‚å¦‚æœä¸€ä¸ªè‡ªç„¶æ•°ä¸Šçš„å‡½æ•° f å¯¹äºæ‰€æœ‰è‡ªç„¶æ•°éƒ½äº§ç”Ÿæ¯”æŸä¸ªå‡½æ•° g æ›´å¤§çš„æ•°ï¼Œé‚£ä¹ˆ f æ˜¾ç„¶æ¯” g å¤§ã€‚ä½†å¦‚æœè¿™ç§æ¯”è¾ƒå¯¹äºåªæœ‰å°‘æ•°å‡ ä¸ªè¾“å…¥å¤±è´¥ï¼Œæ¯”å¦‚è¯´
    1000 æˆ– 1000000ï¼Œè€Œå¯¹äºæ‰€æœ‰å…¶ä»–è¾“å…¥éƒ½æˆç«‹å‘¢ï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»ç„¶æƒ³è¯´ f æ¯” g å¥½ã€‚è¿™å¸¦æˆ‘ä»¬æ¥åˆ°äº†ä»¥ä¸‹å®šä¹‰ã€‚
- en: 'Definition Given a function g on the natural numbers, O(g) (pronounced: â€œbig-O
    of gâ€) is a class of functions on natural numbers. A function f is a member of
    O(g) if there exist numbers c and bigEnough such that'
  id: totrans-143
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å®šä¹‰ ç»™å®šè‡ªç„¶æ•°ä¸Šçš„å‡½æ•° gï¼ŒO(g)ï¼ˆå‘éŸ³ä¸ºï¼šâ€œå¤§ O çš„ gâ€ï¼‰æ˜¯è‡ªç„¶æ•°ä¸Šçš„å‡½æ•°ç±»ã€‚å¦‚æœå­˜åœ¨æ•°å­— c å’Œ bigEnoughï¼Œä½¿å¾—
- en: ''
  id: totrans-144
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: for all ![image](../Images/b1f4ea947e0bebdf3a77119f9035dff0.png) it is true
    that ![image](../Images/60b70013d09d53654133a5da3b20eb87.png)
  id: totrans-145
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰ ![image](../Images/b1f4ea947e0bebdf3a77119f9035dff0.png)ï¼Œéƒ½å­˜åœ¨ ![image](../Images/60b70013d09d53654133a5da3b20eb87.png)
- en: ''
  id: totrans-146
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Terminology If ![image](../Images/5715013ca11c006bd73f6bde9538cbe8.png), we
    say f is no worse than g.
  id: totrans-147
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æœ¯è¯­ å¦‚æœ ![image](../Images/5715013ca11c006bd73f6bde9538cbe8.png)ï¼Œæˆ‘ä»¬è¯´ f è‡³å°‘å’Œ g ä¸€æ ·å¥½ã€‚
- en: 'Naturally, we would love to illustrate this definition with the example of
    prog-linear and prog-square from above. Recall the performance functions for prog-linear
    and prog-square, with the constants plugged in:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªç„¶åœ°ï¼Œæˆ‘ä»¬æ„¿æ„ç”¨ä¸Šé¢æåˆ°çš„ prog-linear å’Œ prog-square çš„ä¾‹å­æ¥è¯´æ˜è¿™ä¸ªå®šä¹‰ã€‚å›æƒ³ä¸€ä¸‹ prog-linear å’Œ prog-square
    çš„æ€§èƒ½å‡½æ•°ï¼Œå¸¸æ•°å·²ç»å¡«å…¥ï¼š
- en: '![image](../Images/89a7a208f6d30fcec2a433690df2dedb.png)'
  id: totrans-149
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/89a7a208f6d30fcec2a433690df2dedb.png)'
- en: and
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: å’Œ
- en: '![image](../Images/388f25341d60c905bc40d2f0e15ce9ce.png)'
  id: totrans-151
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/388f25341d60c905bc40d2f0e15ce9ce.png)'
- en: 'The key is to find the magic numbers c and bigEnough such that ![image](../Images/09ee87a558b30b0a99d66a58eab19994.png),
    which would validate that prog-linearâ€™s performance is no worse than prog-squareâ€™s.
    For now, we just tell you what these numbers are:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: å…³é”®æ˜¯è¦æ‰¾åˆ°é­”æ³•æ•°å­— c å’Œ bigEnoughï¼Œä½¿å¾— ![image](../Images/09ee87a558b30b0a99d66a58eab19994.png)ï¼Œè¿™å°†ä¼šéªŒè¯
    prog-linear çš„æ€§èƒ½ä¸ä¼šæ¯” prog-square å·®ã€‚ç›®å‰ï¼Œæˆ‘ä»¬åªå‘Šè¯‰ä½ è¿™äº›æ•°å­—æ˜¯ä»€ä¹ˆï¼š
- en: '![image](../Images/2fea098632d16316ffe703bf0ed4af2f.png)'
  id: totrans-153
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/2fea098632d16316ffe703bf0ed4af2f.png)'
- en: Using these numbers, we need to show that
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™äº›æ•°å­—ï¼Œæˆ‘ä»¬éœ€è¦è¯æ˜
- en: '![image](../Images/c15a8148f5e1f2975690c852ba5f7840.png)'
  id: totrans-155
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/c15a8148f5e1f2975690c852ba5f7840.png)'
- en: 'for every single n larger than 1000. Here is how this kind of argument is spelled
    out:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰å¤§äº 1000 çš„ nã€‚ä»¥ä¸‹æ˜¯è¿™ç§è®ºè¯çš„è¡¨è¿°æ–¹å¼ï¼š
- en: 'Pick some specific n0 that satisfies the condition:'
  id: totrans-157
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: é€‰æ‹©ä¸€äº›æ»¡è¶³æ¡ä»¶çš„ç‰¹å®š n0ï¼š
- en: ''
  id: totrans-158
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![image](../Images/cf1da4c8f0de5bafdc4d8e77e3153fd3.png)'
  id: totrans-159
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/cf1da4c8f0de5bafdc4d8e77e3153fd3.png)'
- en: ''
  id: totrans-160
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'We use the symbolic name n0 so that we donâ€™t make any specific assumptions
    about it. Now recall from algebra that you can multiply both sides of the inequality
    with the same positive factor, and the inequality still holds. We use n0:'
  id: totrans-161
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ç¬¦å·å n0ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸å¯¹å®ƒåšå‡ºä»»ä½•å…·ä½“å‡è®¾ã€‚ç°åœ¨å›æƒ³ä¸€ä¸‹ä»£æ•°ï¼Œä½ å¯ä»¥å°†ä¸ç­‰å¼çš„ä¸¤è¾¹ä¹˜ä»¥ç›¸åŒçš„æ­£å› å­ï¼Œä¸ç­‰å¼ä»ç„¶æˆç«‹ã€‚æˆ‘ä»¬ä½¿ç”¨ n0ï¼š
- en: ''
  id: totrans-162
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![image](../Images/e1a8fc5a8c4d7483e6840b79c81d2129.png)'
  id: totrans-163
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/e1a8fc5a8c4d7483e6840b79c81d2129.png)'
- en: ''
  id: totrans-164
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'At this point, it is time to observe that the left side of the inequality is
    just L(n0) and the right side is S(n0):'
  id: totrans-165
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„åˆ°ä¸ç­‰å¼çš„å·¦è¾¹ä»…ä»…æ˜¯ L(n0)ï¼Œè€Œå³è¾¹æ˜¯ S(n0)ï¼š
- en: ''
  id: totrans-166
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![image](../Images/e48be6976ea4af33e40ea8fb0ca2a9c9.png)'
  id: totrans-167
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/e48be6976ea4af33e40ea8fb0ca2a9c9.png)'
- en: ''
  id: totrans-168
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Since n0 is a generic number of the right kind, we have shown exactly what we
    wanted to show.
  id: totrans-169
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç”±äº n0 æ˜¯ä¸€ç§é€šç”¨çš„ã€æ­£ç¡®çš„ç±»å‹çš„æ•°å­—ï¼Œæˆ‘ä»¬å·²ç»è¯æ˜äº†æˆ‘ä»¬æƒ³è¦è¯æ˜çš„ä¸œè¥¿ã€‚
- en: 'Usually you find bigEnough and c by working your way backward through such
    an argument. While this kind of mathematical reasoning is fascinating, we leave
    it to a course on algorithms.The definition of O also explains with mathematical
    rigor why we donâ€™t have to pay attention to specific constants in our comparisons
    of abstract running times. Say we can make each basic step of prog-linear go twice
    as fast so that we have:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œä½ ä¼šé€šè¿‡é€†å‘æ¨ç†æ‰¾åˆ° bigEnough å’Œ cã€‚è™½ç„¶è¿™ç§æ•°å­¦æ¨ç†å¾ˆæœ‰è¶£ï¼Œä½†æˆ‘ä»¬å°†å…¶ç•™ç»™ç®—æ³•è¯¾ç¨‹ã€‚O çš„å®šä¹‰ä¹Ÿç”¨æ•°å­¦çš„ä¸¥è°¨æ€§è§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨æˆ‘ä»¬æ¯”è¾ƒæŠ½è±¡è¿è¡Œæ—¶é—´æ—¶ä¸å¿…å…³æ³¨ç‰¹å®šçš„å¸¸æ•°ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¯ä¸ªåŸºæœ¬æ­¥éª¤çš„
    prog-linear è¿è¡Œé€Ÿåº¦æé«˜ä¸¤å€ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ï¼š
- en: '![image](../Images/d1d04ed0d7c6258b06256e155bfff852.png)'
  id: totrans-171
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d1d04ed0d7c6258b06256e155bfff852.png)'
- en: and
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: å’Œ
- en: '![image](../Images/70f1ba8139ede729e10e30d71781a7e8.png)'
  id: totrans-173
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/70f1ba8139ede729e10e30d71781a7e8.png)'
- en: The above argument goes through by doubling bigEnough to 2000.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å°† bigEnough åŠ å€åˆ° 2000ï¼Œä¸Šè¿°è®ºç‚¹æˆç«‹ã€‚
- en: Finally, most people use O together with a short-hand for stating functions.
    Thus they say how-manyâ€™s running time is O(n)â€”<wbr>because they tend to think
    of n as an abbreviation of the (mathematical) function id(n) = n. Similarly, this
    use yields the claim that [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)â€™s
    worst-case running time is O(n2) and incâ€™s is O(2n)â€”<wbr>again because n2 is short-hand
    for the function sqr(n) = n2 and 2n is short for expt(n) = 2n.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå¤§å¤šæ•°äººä½¿ç”¨ O ä¸è¡¨ç¤ºå‡½æ•°çš„ç¼©å†™ä¸€èµ·ä½¿ç”¨ã€‚å› æ­¤ï¼Œä»–ä»¬ä¼šè¯´ how-many çš„è¿è¡Œæ—¶é—´æ˜¯ O(n)â€”â€”<wbr>å› ä¸ºä»–ä»¬å€¾å‘äºå°† n è§†ä¸º (æ•°å­¦)
    å‡½æ•° id(n) = n çš„ç¼©å†™ã€‚åŒæ ·ï¼Œè¿™ç§ç”¨æ³•äº§ç”Ÿäº† [sort](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sort%29%29)
    çš„æœ€åæƒ…å†µè¿è¡Œæ—¶é—´æ˜¯ O(n2) å’Œ inc çš„è¿è¡Œæ—¶é—´æ˜¯ O(2n)â€”â€”<wbr>å†æ¬¡æ˜¯å› ä¸º n2 æ˜¯å‡½æ•° sqr(n) = n2 çš„ç¼©å†™ï¼Œè€Œ 2n æ˜¯
    expt(n) = 2n çš„ç¼©å†™ã€‚
- en: Stop! What does it mean to say that a functionâ€™s performance is O(1)?
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¯´ä¸€ä¸ªå‡½æ•°çš„æ€§èƒ½æ˜¯ O(1) æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ
- en: ExerciseÂ 486\. In the first subsection, we stated that the function f(n) = n2
    + n belongs to the class O(n2). Determine the pair of numbers c and bigEnough
    that verify this claim.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  486ã€‚åœ¨ç¬¬ä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬æŒ‡å‡ºå‡½æ•° f(n) = n2 + n å±äº O(n2) ç±»ã€‚ç¡®å®šéªŒè¯æ­¤å£°æ˜çš„æ•°å­—å¯¹ c å’Œ bigEnoughã€‚
- en: ExerciseÂ 487\. Consider the functions f(n) = 2n and g(n) = 1000 n. Show that
    g belongs to O(f), which means that f is, abstractly speaking, more (or at least
    equally) expensive than g. If the input size is guaranteed to be between 3 and
    12, which function is better?
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  487ã€‚è€ƒè™‘å‡½æ•° f(n) = 2n å’Œ g(n) = 1000nã€‚è¯æ˜ g å±äº O(f)ï¼Œè¿™æ„å‘³ç€åœ¨æŠ½è±¡æ„ä¹‰ä¸Šï¼Œf æ¯” g æ›´è´µï¼ˆæˆ–è€…è‡³å°‘ä¸
    g ç›¸å½“ï¼‰ã€‚å¦‚æœè¾“å…¥å¤§å°ä¿è¯åœ¨ 3 åˆ° 12 ä¹‹é—´ï¼Œå“ªä¸ªå‡½æ•°æ›´å¥½ï¼Ÿ
- en: ExerciseÂ 488\. Compare ![image](../Images/358b0d099d2024a7ba8c30e181b09235.png)
    and ![image](../Images/6c3f41526a45a85f9bfde748bdb38152.png). Does f belong to
    O(g) or g to O(f)?
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  488ã€‚æ¯”è¾ƒ ![image](../Images/358b0d099d2024a7ba8c30e181b09235.png) å’Œ ![image](../Images/6c3f41526a45a85f9bfde748bdb38152.png)ã€‚f
    å±äº O(g) è¿˜æ˜¯ g å±äº O(f)ï¼Ÿ
- en: Why Do Programs Use Predicates and Selectors?[ğŸ”—](#(part._.Why_.Do_.Programs_.Use_.Predicates_and_.Selectors_)
    "Link to here")
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä¸ºä»€ä¹ˆç¨‹åºä½¿ç”¨è°“è¯å’Œé€‰æ‹©å™¨ï¼Ÿ[ğŸ”—](#(part._.Why_.Do_.Programs_.Use_.Predicates_and_.Selectors_)
    "é“¾æ¥åˆ°è¿™é‡Œ")
- en: 'The notion of â€œon the order ofâ€ explains why the design recipes produce both
    well-organized and â€œperformantâ€ programs. We illustrate this insight with a single
    example, the design of a program that searches for a number in a list of numbers.
    Here are the signature, the purpose statement, and examples formulated as tests:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: â€œæ•°é‡çº§â€çš„æ¦‚å¿µè§£é‡Šäº†ä¸ºä»€ä¹ˆè®¾è®¡é£Ÿè°±èƒ½äº§ç”Ÿæ—¢ç»„ç»‡è‰¯å¥½åˆâ€œé«˜æ•ˆâ€çš„ç¨‹åºã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜è¿™ä¸ªè§è§£ï¼Œå³è®¾è®¡ä¸€ä¸ªåœ¨æ•°å­—åˆ—è¡¨ä¸­æœç´¢æ•°å­—çš„ç¨‹åºã€‚ä»¥ä¸‹æ˜¯ç­¾åã€ç›®çš„é™ˆè¿°å’Œä½œä¸ºæµ‹è¯•çš„ç¤ºä¾‹ï¼š
- en: '| ;Â [Number](part_one.html#%28tech._number%29) [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-182
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](part_one.html#%28tech._number%29) [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [Boolean](part_one.html#%28tech._boolean%29)'
- en: '| ;Â is x in l |'
  id: totrans-183
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â xæ˜¯å¦åœ¨lä¸­'
- en: '| Â  |'
  id: totrans-184
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (searchÂ 0Â ''(3Â 2Â 1Â 0))Â #true)
    |'
  id: totrans-185
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [[check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)]Â (searchÂ 0Â ''(3Â 2Â 1Â 0))Â #true'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (searchÂ 4Â ''(3Â 2Â 1Â 0))Â #false)
    |'
  id: totrans-186
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '[[check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)]Â (searchÂ 4Â ''(3Â 2Â 1Â 0))Â #false'
- en: 'Here are two definitions that live up to these expectations:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸¤ä¸ªå®šä¹‰ç¬¦åˆè¿™äº›æœŸæœ›ï¼š
- en: '|'
  id: totrans-188
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-189
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (searchLÂ xÂ l)
    &#124;'
  id: totrans-190
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)]Â (searchLÂ xÂ l)'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-191
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)]'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]
    &#124;'
  id: totrans-192
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â #false]]'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-193
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    [[searchL](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._searchL%29%29)]]'
- en: '&#124; Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â x)
    &#124;'
  id: totrans-194
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)]Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â x)'
- en: '&#124; Â Â Â Â Â Â Â Â Â (searchL &#124;'
  id: totrans-195
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[searchL](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._searchL%29%29)]'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â xÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-196
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)]Â xÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l))]'
- en: ''
  id: totrans-197
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-198
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-199
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (searchSÂ xÂ l)
    &#124;'
  id: totrans-200
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (searchSÂ xÂ l)
    [[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)]]'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-201
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)]'
- en: '&#124; Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â (lengthÂ l)Â 0)Â #false]
    &#124;'
  id: totrans-202
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â (lengthÂ l)Â 0)Â #false]]'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-203
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)]'
- en: '&#124; Â Â Â Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â x)
    &#124;'
  id: totrans-204
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([æˆ–è€…](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)
    ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)
    ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    l) x)) &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â (searchS &#124;'
  id: totrans-205
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([searchS](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._searchS%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â Â Â xÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)))]))
    &#124;'
  id: totrans-206
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([x](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    l))]))) &#124;'
- en: ''
  id: totrans-207
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-208
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: The design of the program on the left follows the design recipe. In particular,
    the development of the template calls for the use of structural predicates per
    clause in the data definition. Following this advice yields a conditional program
    whose first [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    line deals with empty lists and whose second one deals with all others. The question
    in the first [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    line uses [empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    and the second one uses [cons?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)
    or [else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29).
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: å·¦ä¾§ç¨‹åºçš„ç¼–å†™éµå¾ªäº†è®¾è®¡é…æ–¹ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ¨¡æ¿çš„å¼€å‘éœ€è¦ä½¿ç”¨æ•°æ®å®šä¹‰ä¸­æ¯ä¸ªå­å¥çš„ç»“æ„æ€§è°“è¯ã€‚éµå¾ªè¿™ä¸€å»ºè®®ä¼šäº§ç”Ÿä¸€ä¸ªæ¡ä»¶ç¨‹åºï¼Œå…¶ç¬¬ä¸€ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    è¡Œå¤„ç†ç©ºåˆ—è¡¨ï¼Œè€Œç¬¬äºŒä¸ªåˆ™å¤„ç†æ‰€æœ‰å…¶ä»–æƒ…å†µã€‚ç¬¬ä¸€ä¸ª [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    è¡Œä¸­çš„é—®é¢˜ä½¿ç”¨äº† [empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)ï¼Œç¬¬äºŒä¸ªåˆ™ä½¿ç”¨äº†
    [cons?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)
    æˆ– [else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)ã€‚
- en: The design of searchS fails to live up to the structural designIt really uses
    generative recursion. recipe. It instead takes inspiration from the idea that
    lists are containers that have a size. Hence, a program can check this size for
    0, which is equivalent to checking for emptiness.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: searchS çš„è®¾è®¡æœªèƒ½æ»¡è¶³ç»“æ„åŒ–è®¾è®¡é…æ–¹ã€‚å®ƒå®é™…ä¸Šä½¿ç”¨äº†ç”Ÿæˆé€’å½’ã€‚å®ƒä»åˆ—è¡¨æ˜¯å…·æœ‰å¤§å°çš„å®¹å™¨è¿™ä¸€æƒ³æ³•ä¸­æ±²å–çµæ„Ÿã€‚å› æ­¤ï¼Œç¨‹åºå¯ä»¥æ£€æŸ¥è¿™ä¸ªå¤§å°ä¸º 0ï¼Œè¿™ç›¸å½“äºæ£€æŸ¥ç©ºåˆ—è¡¨ã€‚
- en: Although this idea is functionally correct, it makes the assumption that the
    cost of *SL-provided operations is a fixed constant. If length is more like how-many,
    however, searchS is going to be slower than searchL. Using our new terminology,
    searchL is using O(n) recursive steps while searchS needs O(n2) steps for a list
    of n items. In short, using arbitrary *SL operations to formulate conditions may
    shift performance from one class of functions to one that is much worse.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶è¿™ä¸ªæƒ³æ³•åœ¨åŠŸèƒ½ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä½†å®ƒå‡è®¾ *SL æä¾›çš„æ“ä½œæˆæœ¬æ˜¯ä¸€ä¸ªå›ºå®šçš„å¸¸æ•°ã€‚ç„¶è€Œï¼Œå¦‚æœé•¿åº¦æ›´åƒæ˜¯ how-manyï¼Œé‚£ä¹ˆ searchS å°†ä¼šæ¯” searchL
    æ…¢ã€‚ä½¿ç”¨æˆ‘ä»¬æ–°çš„æœ¯è¯­ï¼ŒsearchL ä½¿ç”¨ O(n) çš„é€’å½’æ­¥éª¤ï¼Œè€Œ searchS å¯¹äº n ä¸ªå…ƒç´ çš„åˆ—è¡¨éœ€è¦ O(n^2) çš„æ­¥éª¤ã€‚ç®€è€Œè¨€ä¹‹ï¼Œä½¿ç”¨ä»»æ„çš„
    *SL æ“ä½œæ¥åˆ¶å®šæ¡ä»¶å¯èƒ½ä¼šå°†æ€§èƒ½ä»ä¸€ç±»å‡½æ•°è½¬ç§»åˆ°ä¸€ç±»æ€§èƒ½æ›´å·®çš„å‡½æ•°ã€‚
- en: 'Letâ€™s wrap up this intermezzo with an experiment that checks whether length
    is a constant-time function or whether it consumes time proportionally to the
    length of the given list. The easiest way is to define a program that creates
    a long list and determines how much time each version of the search program takes:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªå®éªŒæ¥ç»“æŸè¿™ä¸ªå°æ’æ›²ï¼Œè¿™ä¸ªå®éªŒæ£€æŸ¥é•¿åº¦æ˜¯å¦æ˜¯ä¸€ä¸ªå¸¸æ•°æ—¶é—´çš„å‡½æ•°ï¼Œæˆ–è€…å®ƒæ˜¯å¦æ¶ˆè€—çš„æ—¶é—´ä¸ç»™å®šåˆ—è¡¨çš„é•¿åº¦æˆæ¯”ä¾‹ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯å®šä¹‰ä¸€ä¸ªç¨‹åºï¼Œå®ƒåˆ›å»ºä¸€ä¸ªé•¿åˆ—è¡¨å¹¶ç¡®å®šæ¯ä¸ªç‰ˆæœ¬çš„æœç´¢ç¨‹åºéœ€è¦å¤šå°‘æ—¶é—´ï¼š
- en: '| ;Â [N](part_two.html#%28tech._n%29) -> [[List](part_three.html#%28tech._sim-dd._list%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-213
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29) -> [[List](part_three.html#%28tech._sim-dd._list%29)  [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â how long do searchS and searchL take |'
  id: totrans-214
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â how long do searchS and searchL take |'
- en: '| ;Â to look for n in ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  0  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)  n  1))
    |'
  id: totrans-215
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â to look for n in ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 
    0  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â 
    nÂ  1)) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (timingÂ n)
    |'
  id: totrans-216
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (timingÂ n)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â long-list
    |'
  id: totrans-217
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â long-list
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)Â nÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x))))
    |'
  id: totrans-218
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([build-list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._build-list%29%29)Â nÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â x))))
    |'
- en: '| Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
  id: totrans-219
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
- en: '| Â Â Â Â Â Â ([time](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (searchSÂ nÂ long-list))
    |'
  id: totrans-220
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â ([time](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (searchSÂ nÂ long-list))
    |'
- en: '| Â Â Â Â Â Â ([time](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (searchLÂ nÂ long-list)))))
    |'
  id: totrans-221
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â ([time](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (searchLÂ nÂ long-list)))))
    |'
- en: Now run this program on 10000 and 20000. If length is like [empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29),
    the times for the second run will be roughly twice those of the first one; otherwise,
    the time for searchS will increase dramatically.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è¿è¡Œè¿™ä¸ªç¨‹åºå¯¹10000å’Œ20000è¿›è¡Œæµ‹è¯•ã€‚å¦‚æœé•¿åº¦åƒ[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)ä¸€æ ·ï¼Œç¬¬äºŒæ¬¡è¿è¡Œçš„æ—¶é—´å°†å¤§çº¦æ˜¯ç¬¬ä¸€æ¬¡çš„ä¸¤å€ï¼›å¦åˆ™ï¼ŒsearchSçš„æ—¶é—´å°†æ˜¾è‘—å¢åŠ ã€‚
- en: Stop! Conduct the experiment.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¿›è¡Œå®éªŒã€‚
- en: Assuming you have completed the experiment, you now know that length takes time
    proportionally to the size of the given list. The â€œSâ€ in searchS stands for â€œsquaredâ€
    because its running time is O(n2). But donâ€™t jump to the conclusion that thisSee
    [Data Representations with Accumulators](part_six.html#%28part._sec~3amore-accu-mc%29)
    for how other languages track the size of a container. kind of reasoning holds
    for every programming language you will encounter. Many deal with containers differently
    than *SL. Understanding how this is done requires one more design concept, accumulators,
    the concern of the final part of this book.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ å·²ç»å®Œæˆäº†å®éªŒï¼Œä½ ç°åœ¨çŸ¥é“é•¿åº¦ä¸ç»™å®šåˆ—è¡¨çš„å¤§å°æˆæ¯”ä¾‹ã€‚åœ¨searchSä¸­çš„â€œSâ€ä»£è¡¨â€œå¹³æ–¹â€ï¼Œå› ä¸ºå®ƒçš„è¿è¡Œæ—¶é—´æ˜¯O(n^2)ã€‚ä½†ä¸è¦æ€¥äºå¾—å‡ºè¿™ç§æ¨ç†é€‚ç”¨äºä½ å°†é‡åˆ°çš„æ¯ä¸€ç§ç¼–ç¨‹è¯­è¨€çš„ç»“è®ºã€‚è®¸å¤šè¯­è¨€å¤„ç†å®¹å™¨çš„æ–¹å¼ä¸*SLä¸åŒã€‚äº†è§£è¿™æ˜¯å¦‚ä½•åšåˆ°çš„è¿˜éœ€è¦ä¸€ä¸ªé¢å¤–çš„è®¾è®¡æ¦‚å¿µï¼Œå³ç´¯åŠ å™¨ï¼Œè¿™æ˜¯æœ¬ä¹¦æœ€åä¸€éƒ¨åˆ†çš„å†…å®¹ã€‚
- en: '[ğŸ”—](#(part._i5-6-fake) "Link to here")'
  id: totrans-225
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[ğŸ”—](#(part._i5-6-fake) "é“¾æ¥åˆ°æ­¤å¤„")'
