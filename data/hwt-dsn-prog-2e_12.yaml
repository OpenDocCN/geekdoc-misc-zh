- en: VÂ Generative RecursionğŸ”—
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: V ç”Ÿæˆé€’å½’ğŸ”—
- en: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/part_five.html](https://htdp.org/2024-11-6/Book/part_five.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://htdp.org/2024-11-6/Book/part_five.html](https://htdp.org/2024-11-6/Book/part_five.html)
- en: '| Â Â Â Â [25Â Non-standard Recursion](#%28part._ch~3astrange-recursions%29) |'
  id: totrans-2
  prefs: []
  type: TYPE_TB
  zh: '| [25 éæ ‡å‡†é€’å½’](#%28part._ch~3astrange-recursions%29) |'
- en: '| Â Â Â Â Â Â [25.1Â Recursion without Structure](#%28part._sec~3abundle%29) |'
  id: totrans-3
  prefs: []
  type: TYPE_TB
  zh: '| [25.1 æ— ç»“æ„çš„é€’å½’](#%28part._sec~3abundle%29) |'
- en: '| Â Â Â Â Â Â [25.2Â Recursion that Ignores Structure](#%28part._sec~3aquick-sort%29)
    |'
  id: totrans-4
  prefs: []
  type: TYPE_TB
  zh: '| [25.2 å¿½ç•¥ç»“æ„çš„é€’å½’](#%28part._sec~3aquick-sort%29) |'
- en: '| Â Â Â Â [26Â Designing Algorithms](#%28part._ch~3adesign-algo%29) |'
  id: totrans-5
  prefs: []
  type: TYPE_TB
  zh: '| [26 è®¾è®¡ç®—æ³•](#%28part._ch~3adesign-algo%29) |'
- en: '| Â Â Â Â Â Â [26.1Â Adapting the Design Recipe](#%28part._.Adapting_the_.Design_.Recipe%29)
    |'
  id: totrans-6
  prefs: []
  type: TYPE_TB
  zh: '| [26.1 é€‚åº”è®¾è®¡é£Ÿè°±](#%28part._.Adapting_the_.Design_.Recipe%29) |'
- en: '| Â Â Â Â Â Â [26.2Â Termination](#%28part._.Termination%29) |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
  zh: '| [26.2 ç»ˆæ­¢](#%28part._.Termination%29) |'
- en: '| Â Â Â Â Â Â [26.3Â Structural versus Generative Recursion](#%28part._sec~3astruct-gen-rec%29)
    |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: '| [26.3 ç»“æ„åŒ–é€’å½’ä¸ç”Ÿæˆé€’å½’](#%28part._sec~3astruct-gen-rec%29) |'
- en: '| Â Â Â Â Â Â [26.4Â Making Choices](#%28part._sec~3achoice%29) |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: '| [26.4 åšå‡ºé€‰æ‹©](#%28part._sec~3achoice%29) |'
- en: '| Â Â Â Â [27Â Variations on the Theme](#%28part._ch~3agen-rec-samples%29) |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: '| [27 ä¸»é¢˜å˜å¥](#%28part._ch~3agen-rec-samples%29) |'
- en: '| Â Â Â Â Â Â [27.1Â Fractals, a First Taste](#%28part._sec~3afractal%29) |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '| [27.1 åˆ†å½¢ï¼Œåˆå°](#%28part._sec~3afractal%29) |'
- en: '| Â Â Â Â Â Â [27.2Â Binary Search](#%28part._sec~3abinary-search%29) |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: '| [27.2 äºŒåˆ†æœç´¢](#%28part._sec~3abinary-search%29) |'
- en: '| Â Â Â Â Â Â [27.3Â A Glimpse at Parsing](#%28part._sec~3afiles-lines%29) |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '| [27.3 ä¸€ç¥è§£æ](#%28part._sec~3afiles-lines%29) |'
- en: '| Â Â Â Â [28Â Mathematical Examples](#%28part._ch~3agen-rec-math%29) |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '| [28 æ•°å­¦ç¤ºä¾‹](#%28part._ch~3agen-rec-math%29) |'
- en: '| Â Â Â Â Â Â [28.1Â Newtonâ€™s Method](#%28part._sec~3anewton%29) |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| [28.1 ç‰›é¡¿æ³•](#%28part._sec~3anewton%29) |'
- en: '| Â Â Â Â Â Â [28.2Â Numeric Integration](#%28part._sec~3aintegrate%29) |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| [28.2 æ•°å€¼ç§¯åˆ†](#%28part._sec~3aintegrate%29) |'
- en: '| Â Â Â Â Â Â [28.3Â Project: Gaussian Elimination](#%28part._sec~3aproj-gauss%29)
    |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| [28.3 é¡¹ç›®ï¼šé«˜æ–¯æ¶ˆå…ƒ](#%28part._sec~3aproj-gauss%29) |'
- en: '| Â Â Â Â [29Â Algorithms that Backtrack](#%28part._ch~3abacktrack%29) |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '| [29 å›æº¯ç®—æ³•](#%28part._ch~3abacktrack%29) |'
- en: '| Â Â Â Â Â Â [29.1Â Traversing Graphs](#%28part._fsm._sec~3atraverse-graph1%29) |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| [29.1 éå†å›¾](#%28part._fsm._sec~3atraverse-graph1%29) |'
- en: '| Â Â Â Â Â Â [29.2Â Project: Backtracking](#%28part._sec~3aproj-backtrack%29) |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| [29.2 é¡¹ç›®ï¼šå›æº¯](#%28part._sec~3aproj-backtrack%29) |'
- en: '| Â Â Â Â [30Â Summary](#%28part._ch~3asummary5%29) |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| [30 æ¦‚è¿°](#%28part._ch~3asummary5%29) |'
- en: If you follow the design recipe of the first four parts, either you turn domain
    knowledge into code or you exploit the structure of the data definition to organize
    your code.Some functions merely compose such functions; we group those with the
    â€œstructuralâ€ group. The latter functions typically decompose their arguments into
    their immediate structural components and then process those components. If one
    of these immediate components belongs to the same class of data as the input,
    the function is structurally recursive. While structurally designed functions
    make up the vast majority of code in the world, some problems cannot be solved
    with a structural approach to design.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ éµå¾ªå‰å››éƒ¨åˆ†çš„è®¾è®¡é£Ÿè°±ï¼Œè¦ä¹ˆå°†é¢†åŸŸçŸ¥è¯†è½¬åŒ–ä¸ºä»£ç ï¼Œè¦ä¹ˆåˆ©ç”¨æ•°æ®å®šä¹‰çš„ç»“æ„æ¥ç»„ç»‡ä½ çš„ä»£ç ã€‚ä¸€äº›å‡½æ•°ä»…ä»…ç»„åˆè¿™æ ·çš„å‡½æ•°ï¼›æˆ‘ä»¬å°†è¿™äº›å‡½æ•°å½’ç±»ä¸ºâ€œç»“æ„â€ç»„ã€‚åè€…çš„å‡½æ•°é€šå¸¸å°†å®ƒä»¬çš„å‚æ•°åˆ†è§£ä¸ºå…¶ç›´æ¥çš„ç»“æ„ç»„ä»¶ï¼Œç„¶åå¤„ç†è¿™äº›ç»„ä»¶ã€‚å¦‚æœè¿™äº›ç›´æ¥ç»„ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªå±äºä¸è¾“å…¥ç›¸åŒçš„æ•°æ®ç±»åˆ«ï¼Œåˆ™è¯¥å‡½æ•°æ˜¯ç»“æ„é€’å½’çš„ã€‚è™½ç„¶ç»“æ„åŒ–è®¾è®¡çš„å‡½æ•°æ„æˆäº†ä¸–ç•Œä¸Šå¤§éƒ¨åˆ†ä»£ç ï¼Œä½†æœ‰äº›é—®é¢˜ä¸èƒ½é€šè¿‡ç»“æ„åŒ–è®¾è®¡æ–¹æ³•æ¥è§£å†³ã€‚
- en: To solve such complicated problems, programmers use generative recursion, a
    form of recursion that is strictly more powerful than structural recursion. The
    study of generative recursion is as old as mathematics and is often called the
    study of algorithms. The inputs of an algorithm represent a problem. An algorithm
    tends to rearrange a problem into a set of several problems, solve those, and
    combine their solutions into one overall solution. Often some of these newly generated
    problems are the same kind of problem as the given one, in which case the algorithm
    can be reused to solve them. In these cases, the algorithm is recursive, but its
    recursion uses newly generated data not immediate parts of the input data.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è§£å†³è¿™æ ·çš„å¤æ‚é—®é¢˜ï¼Œç¨‹åºå‘˜ä½¿ç”¨ç”Ÿæˆé€’å½’ï¼Œè¿™æ˜¯ä¸€ç§æ¯”ç»“æ„é€’å½’æ›´å¼ºå¤§çš„é€’å½’å½¢å¼ã€‚ç”Ÿæˆé€’å½’çš„ç ”ç©¶ä¸æ•°å­¦ä¸€æ ·å¤è€ï¼Œé€šå¸¸è¢«ç§°ä¸ºç®—æ³•ç ”ç©¶ã€‚ç®—æ³•çš„è¾“å…¥ä»£è¡¨ä¸€ä¸ªé—®é¢˜ã€‚ç®—æ³•å€¾å‘äºå°†é—®é¢˜é‡æ–°æ’åˆ—æˆä¸€ç³»åˆ—é—®é¢˜ï¼Œè§£å†³è¿™äº›é—®é¢˜ï¼Œå¹¶å°†å®ƒä»¬çš„è§£å†³æ–¹æ¡ˆç»„åˆæˆä¸€ä¸ªæ•´ä½“è§£å†³æ–¹æ¡ˆã€‚é€šå¸¸ï¼Œè¿™äº›æ–°ç”Ÿæˆçš„é—®é¢˜ä¸ç»™å®šçš„é—®é¢˜ç›¸åŒï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç®—æ³•å¯ä»¥é‡æ–°ä½¿ç”¨æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œç®—æ³•æ˜¯é€’å½’çš„ï¼Œä½†å®ƒçš„é€’å½’ä½¿ç”¨çš„æ˜¯æ–°ç”Ÿæˆæ•°æ®ï¼Œè€Œä¸æ˜¯è¾“å…¥æ•°æ®çš„ç›´æ¥éƒ¨åˆ†ã€‚
- en: From the very description of generative recursion, you can tell that designing
    a generative recursive function is more of an ad hoc activity than designing a
    structurally recursive function. Still, many elements of the general design recipe
    apply to the design of algorithms, too, and this part of the book illustrates
    how and how much the design recipe helps. The key to designing algorithms is the
    â€œgenerationâ€ step, which often means dividing up the problem. And figuring out
    a novel way of dividing a problem requires insight.In Greek, itâ€™s â€œeureka!â€ Sometimes
    very little insight is required. For example, it might just require a bit of commonsense
    knowledge about breaking up sequences of letters. At other times, it may rely
    on deep mathematical theorems about numbers. In practice, programmers design simple
    algorithms on their own and rely on domain specialists for their complex brethren.
    For either kind, programmers must thoroughly understand the underlying ideas so
    that they can code up algorithms and have the program communicate with future
    readers. The best way to get acquainted with the idea is to study a wide range
    of examples and to develop a sense for the kinds of generative recursions that
    may show up in the real world.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç”Ÿæˆé€’å½’çš„æè¿°æœ¬èº«ï¼Œä½ å¯ä»¥çœ‹å‡ºè®¾è®¡ä¸€ä¸ªç”Ÿæˆé€’å½’å‡½æ•°æ¯”è®¾è®¡ä¸€ä¸ªç»“æ„é€’å½’å‡½æ•°æ›´å…·æœ‰å³å…´åˆ›ä½œçš„æ€§è´¨ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè®¸å¤šé€šç”¨è®¾è®¡é…æ–¹ä¸­çš„å…ƒç´ ä¹Ÿé€‚ç”¨äºç®—æ³•è®¾è®¡ï¼Œæœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†å±•ç¤ºäº†è®¾è®¡é…æ–¹å¦‚ä½•ä»¥åŠå¤šå¤§ç¨‹åº¦ä¸Šæœ‰åŠ©äºè®¾è®¡ã€‚è®¾è®¡ç®—æ³•çš„å…³é”®æ˜¯â€œç”Ÿæˆâ€æ­¥éª¤ï¼Œè¿™é€šå¸¸æ„å‘³ç€å°†é—®é¢˜åˆ†è§£ã€‚è€Œæ‰¾å‡ºä¸€ç§æ–°é¢–çš„é—®é¢˜åˆ†è§£æ–¹æ³•éœ€è¦æ´å¯ŸåŠ›ã€‚åœ¨å¸Œè…Šè¯­ä¸­ï¼Œè¿™è¢«ç§°ä¸ºâ€œeurekaï¼â€æœ‰æ—¶å¯èƒ½åªéœ€è¦ä¸€ç‚¹å…³äºåˆ†è§£å­—æ¯åºåˆ—çš„å¸¸è¯†çŸ¥è¯†ã€‚åœ¨å…¶ä»–æ—¶å€™ï¼Œå®ƒå¯èƒ½ä¾èµ–äºå…³äºæ•°å­—çš„æ·±å¥¥æ•°å­¦å®šç†ã€‚åœ¨å®è·µä¸­ï¼Œç¨‹åºå‘˜ä¼šç‹¬ç«‹è®¾è®¡ç®€å•çš„ç®—æ³•ï¼Œå¹¶ä¾èµ–é¢†åŸŸä¸“å®¶æ¥å¤„ç†å¤æ‚çš„å…„å¼Ÿã€‚å¯¹äºä»»ä½•ä¸€ç§æƒ…å†µï¼Œç¨‹åºå‘˜éƒ½å¿…é¡»å½»åº•ç†è§£åº•å±‚æ€æƒ³ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥ç¼–å†™ç®—æ³•ï¼Œå¹¶è®©ç¨‹åºä¸æœªæ¥çš„è¯»è€…è¿›è¡Œæ²Ÿé€šã€‚äº†è§£è¿™ä¸€æƒ³æ³•çš„æœ€å¥½æ–¹å¼æ˜¯ç ”ç©¶å¹¿æ³›çš„å„ç§ç¤ºä¾‹ï¼Œå¹¶åŸ¹å…»å¯¹ç°å®ä¸–ç•Œä¸­å¯èƒ½å‡ºç°çš„å„ç§ç”Ÿæˆé€’å½’çš„æ„Ÿè§‰ã€‚
- en: 25Non-standard Recursion[ğŸ”—](#(part._ch~3astrange-recursions) "Link to here")
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 25 éæ ‡å‡†é€’å½’[ğŸ”—](#(part._ch~3astrange-recursions) "é“¾æ¥è‡³æ­¤")
- en: At this point you have designed numerous functions that employ structural recursion.
    When you design a function, you know you need to look at the data definition for
    its major input. If this input is described by a self-referential data definition,
    you end up with a function that refers to itself basically where the data definition
    refers to itself.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªé˜¶æ®µï¼Œä½ å·²ç»è®¾è®¡äº†å¤šä¸ªä½¿ç”¨ç»“æ„é€’å½’çš„å‡½æ•°ã€‚å½“ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä½ çŸ¥é“ä½ éœ€è¦æŸ¥çœ‹å…¶ä¸»è¦è¾“å…¥çš„æ•°æ®å®šä¹‰ã€‚å¦‚æœè¿™ä¸ªè¾“å…¥ç”±ä¸€ä¸ªè‡ªå¼•ç”¨çš„æ•°æ®å®šä¹‰æ¥æè¿°ï¼Œä½ æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒåœ¨æ•°æ®å®šä¹‰è‡ªå¼•ç”¨çš„åœ°æ–¹åŸºæœ¬ä¸Šä¹Ÿå¼•ç”¨äº†è‡ªå·±ã€‚
- en: This chapter presents two sample programs that use recursion differently. They
    are illustrative of the problems that require some â€œeureka,â€ ranging from the
    obvious idea to the sophisticated insight.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« ä»‹ç»äº†ä¸¤ä¸ªä½¿ç”¨é€’å½’æ–¹å¼ä¸åŒçš„ç¤ºä¾‹ç¨‹åºã€‚å®ƒä»¬å±•ç¤ºäº†éœ€è¦ä¸€äº›â€œçµæ„Ÿâ€çš„é—®é¢˜ï¼Œä»æ˜æ˜¾æƒ³æ³•åˆ°å¤æ‚æ´å¯Ÿã€‚
- en: 25.1Recursion without Structure[ğŸ”—](#(part._sec~3abundle) "Link to here")
  id: totrans-28
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 25.1 æ— ç»“æ„é€’å½’[ğŸ”—](#(part._sec~3abundle) "é“¾æ¥è‡³æ­¤")
- en: Imagine you have joined the DrRacket team. The team is working on a sharing
    service to support collaborations among programmers. Concretely, the next revision
    of DrRacket is going to enable ISL programmers to share the content of their DrRacketâ€™s
    definitions area across several computers. Each time one programmer modifies the
    buffer, the revised DrRacket broadcasts the content of the definitions area to
    the instances of DrRacket that participate in the sharing session.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ å·²ç»åŠ å…¥äº† DrRacket å›¢é˜Ÿã€‚è¯¥å›¢é˜Ÿæ­£åœ¨å¼€å‘ä¸€ä¸ªå…±äº«æœåŠ¡ï¼Œä»¥æ”¯æŒç¨‹åºå‘˜ä¹‹é—´çš„åä½œã€‚å…·ä½“æ¥è¯´ï¼ŒDrRacket çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬å°†ä½¿ ISL ç¨‹åºå‘˜èƒ½å¤Ÿè·¨å¤šå°è®¡ç®—æœºå…±äº«
    DrRacket çš„å®šä¹‰åŒºåŸŸå†…å®¹ã€‚æ¯æ¬¡ä¸€ä¸ªç¨‹åºå‘˜ä¿®æ”¹ç¼“å†²åŒºæ—¶ï¼Œä¿®è®¢åçš„ DrRacket å°†å°†å®šä¹‰åŒºåŸŸçš„å†…å®¹å¹¿æ’­ç»™å‚ä¸å…±äº«ä¼šè¯çš„ DrRacket å®ä¾‹ã€‚
- en: Sample Problem Your task is to design the function bundle, which prepares the
    content of the definitions area for broadcasting. DrRacket hands over the content
    as a list of [1String](part_one.html#%28tech._1string%29)s. The functionâ€™s task
    is to bundle up chunks of individual â€œlettersâ€ into chunks and to thus produce
    a list of stringsâ€”<wbr>called chunksâ€”<wbr>of a given length, called chunk size.
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹é—®é¢˜ ä½ çš„ä»»åŠ¡æ˜¯è®¾è®¡å‡½æ•°åŒ…ï¼Œè¯¥å‡½æ•°åŒ…ä¸ºå¹¿æ’­å‡†å¤‡å®šä¹‰åŒºåŸŸçš„å†…å®¹ã€‚DrRacket å°†å†…å®¹ä½œä¸º [1String](part_one.html#%28tech._1string%29)
    åˆ—è¡¨ä¼ é€’ã€‚å‡½æ•°çš„ä»»åŠ¡æ˜¯å°†å•ä¸ªâ€œå­—æ¯â€å—æ†ç»‘æˆå—ï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨â€”â€”ç§°ä¸ºå—â€”â€”å…¶é•¿åº¦ç§°ä¸ºå—å¤§å°ã€‚
- en: 'As you can see, the problem basically spells out the signature and there is
    no need for any problem-specific data definition:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œé—®é¢˜åŸºæœ¬ä¸Šå·²ç»æŒ‡å‡ºäº†ç­¾åï¼Œå› æ­¤ä¸éœ€è¦ä»»ä½•ç‰¹å®šé—®é¢˜çš„æ•°æ®å®šä¹‰ï¼š
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)]
    [N](part_two.html#%28tech._n%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
    |'
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [[åˆ—è¡¨-of](part_three.html#%28tech._sim-dd._list._of%29) [1String](part_one.html#%28tech._1string%29)]
    [N](part_two.html#%28tech._n%29) -> [[åˆ—è¡¨-of](part_three.html#%28tech._sim-dd._list._of%29)
    [String](part_one.html#%28tech._string%29)] |'
- en: '| ;Â bundles chunks of s into strings of length n |'
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; å°† s çš„å—æ†ç»‘æˆé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸² |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (æ†ç»‘ s n)) |'
- en: '| Â Â ''()) |'
  id: totrans-35
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ''()) |'
- en: 'The purpose statement reformulates a sentence fragment from the problem statement
    and uses the parameters from the dummy function header.The third step calls for
    function examples. Here is a list of [1String](part_one.html#%28tech._1string%29)s:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®çš„å£°æ˜é‡æ–°è¡¨è¿°äº†é—®é¢˜é™ˆè¿°ä¸­çš„ä¸€ä¸ªå¥å­ç‰‡æ®µï¼Œå¹¶ä½¿ç”¨äº†è™šæ‹Ÿå‡½æ•°å¤´ä¸­çš„å‚æ•°ã€‚ç¬¬ä¸‰æ­¥è¦æ±‚æä¾›å‡½æ•°ç¤ºä¾‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª [1String](part_one.html#%28tech._1string%29)
    çš„åˆ—è¡¨ï¼š
- en: ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c"Â "d"Â "e"Â "f"Â "g"Â "h")
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "a" "b" "c" "d" "e" "f" "g" "h")
- en: 'If we tell bundle to bundle this list into pairsâ€”<wbr>that is, n is 2â€”<wbr>then
    the following list is the expected result:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬å‘Šè¯‰æ†ç»‘å°†è¿™ä¸ªåˆ—è¡¨æ†ç»‘æˆå¯¹â€”â€”<wbr>ä¹Ÿå°±æ˜¯è¯´ï¼Œn æ˜¯ 2â€”â€”<wbr>é‚£ä¹ˆä»¥ä¸‹åˆ—è¡¨æ˜¯é¢„æœŸçš„ç»“æœï¼š
- en: ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "ab"Â "cd"Â "ef"Â "gh")
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "ab" "cd" "ef" "gh")
- en: 'Now if n is 3 instead, there is a left-over â€œletter.â€ Since the problem statement
    does not tell us which of the characters is left over, we can imagine at least
    two valid scenarios:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å¦‚æœ n æ˜¯ 3ï¼Œé‚£ä¹ˆä¼šå‰©ä¸‹ä¸€ä¸ªâ€œå­—æ¯ã€‚â€ç”±äºé—®é¢˜é™ˆè¿°æ²¡æœ‰å‘Šè¯‰æˆ‘ä»¬å“ªä¸ªå­—ç¬¦è¢«ç•™ä¸‹äº†ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡è‡³å°‘ä¸¤ç§æœ‰æ•ˆçš„åœºæ™¯ï¼š
- en: The function produces ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  "abc"  "def"  "g");
    that is, it considers the last letter as the left-over one.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‡½æ•°äº§ç”Ÿ ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "abc" "def" "g")ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå°†æœ€åä¸€ä¸ªå­—æ¯è§†ä¸ºå‰©ä½™çš„ä¸€ä¸ªã€‚
- en: Or, it produces ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  "a"  "bcd"  "efg"),
    which packs the lead character into a string by itself.
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œå®ƒäº§ç”Ÿ ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "a" "bcd" "efg")ï¼Œå®ƒå°†é¦–å­—ç¬¦æ‰“åŒ…æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚
- en: 'Stop! Come up with at least one other choice.To make things simple, we pick
    the first choice as the desired result and say so by writing down a corresponding
    test:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è‡³å°‘æƒ³å‡ºå¦ä¸€ä¸ªé€‰æ‹©ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰æ‹©ä½œä¸ºæœŸæœ›çš„ç»“æœï¼Œå¹¶é€šè¿‡å†™ä¸‹ç›¸åº”çš„æµ‹è¯•æ¥è¯´æ˜ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (bundleÂ ([explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â "abcdefg")Â 3)
    |'
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    (æ†ç»‘ ([çˆ†ç‚¸](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)
    "abcdefg") 3)) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "abc"Â "def"Â "g"))
    |'
  id: totrans-45
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "abc" "def" "g")) |'
- en: 'Note the use of [explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29);
    it makes the test readable.Examples and tests must also describe what happens
    at the boundary of data definitions. In this context, boundary clearly means bundle
    is given a list that is too short for the given chunk size:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„åˆ°ä½¿ç”¨äº† [explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)ï¼›è¿™ä½¿å¾—æµ‹è¯•æ›´æ˜“è¯»ã€‚ç¤ºä¾‹å’Œæµ‹è¯•è¿˜å¿…é¡»æè¿°åœ¨æ•°æ®å®šä¹‰è¾¹ç•Œå¤„å‘ç”Ÿçš„æƒ…å†µã€‚åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­ï¼Œè¾¹ç•Œæ˜æ˜¾æ˜¯æŒ‡ç»™å®šçš„åŒ…åˆ—è¡¨é•¿åº¦å°äºç»™å®šçš„å—å¤§å°ï¼š
- en: ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (bundleÂ '("a"Â "b")Â 3)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "ab"))
  id: totrans-47
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (bundleÂ '("a"Â "b")Â 3)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "ab"))
- en: 'It also means we must consider what happens when bundle is given ''(). For
    simplicity, we choose ''() as the desired result:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬å¿…é¡»è€ƒè™‘å½“ç»™å®šçš„åŒ…æ˜¯ '() æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬é€‰æ‹© '()' ä½œä¸ºæœŸæœ›çš„ç»“æœï¼š
- en: ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (bundleÂ '()Â 3)Â '())
  id: totrans-49
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (bundleÂ '()Â 3)Â '())
- en: One natural alternative is to ask for '(""). Can you see others?
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªè‡ªç„¶çš„æ›¿ä»£æ–¹æ¡ˆæ˜¯è¯·æ±‚ '""ã€‚ä½ èƒ½çœ‹åˆ°å…¶ä»–æ–¹æ¡ˆå—ï¼Ÿ
- en: '| ;Â [N](part_two.html#%28tech._n%29) as compound, s considered atomic ; ([Processing
    Two Lists Simultaneously: Case 1](part_four.html#%28part._sec~3atwo-inputs~3acase1%29))
    |'
  id: totrans-51
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29) ä½œä¸ºå¤åˆå…ƒç´ ï¼Œs è¢«è§†ä¸ºåŸå­å…ƒç´  ; ([åŒæ—¶å¤„ç†ä¸¤ä¸ªåˆ—è¡¨ï¼šæƒ…å†µ 1](part_four.html#%28part._sec~3atwo-inputs~3acase1%29))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
  id: totrans-52
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-53
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
  id: totrans-54
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â nÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (bundleÂ sÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    |'
  id: totrans-55
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â nÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (bundleÂ sÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    |'
- en: '| Â  |'
  id: totrans-56
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)]
    as compound, n atomic ; ([Processing Two Lists Simultaneously: Case 1](part_four.html#%28part._sec~3atwo-inputs~3acase1%29))
    |'
  id: totrans-57
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [1å­—ç¬¦ä¸²](part_one.html#%28tech._1string%29)]
    ä½œä¸ºå¤åˆå…ƒç´ ï¼Œn ä¸ºåŸå­å…ƒç´  ; ([åŒæ—¶å¤„ç†ä¸¤ä¸ªåˆ—è¡¨ï¼šæƒ…å†µ 1](part_four.html#%28part._sec~3atwo-inputs~3acase1%29))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
  id: totrans-58
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (åŒ…
    s n) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-59
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
  id: totrans-60
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â nÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (bundleÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â s)Â n))]))
    |'
  id: totrans-61
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â nÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (åŒ…
    ([å‰©ä½™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â s)Â n))]))
    |'
- en: '| Â  |'
  id: totrans-62
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)]
    and [N](part_two.html#%28tech._n%29) are on equal footing ; ([Processing Two Lists
    Simultaneously: Case 2](part_four.html#%28part._sec~3atwo-inputs~3acase2%29))
    |'
  id: totrans-63
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [1å­—ç¬¦ä¸²](part_one.html#%28tech._1string%29)]
    å’Œ [N](part_two.html#%28tech._n%29) å¤„äºåŒç­‰åœ°ä½ ; ([åŒæ—¶å¤„ç†ä¸¤ä¸ªåˆ—è¡¨ï¼šæƒ…å†µ2](part_four.html#%28part._sec~3atwo-inputs~3acase2%29))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
  id: totrans-64
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (åŒ…
    s n) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-65
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n))Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
  id: totrans-66
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ([é›¶ï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n))Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â nÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (bundleÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â s)Â ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    |'
  id: totrans-67
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â sÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â nÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â ([åŒ…](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._bundle%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â s)Â ([å‡1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    |'
- en: '| Â  |'
  id: totrans-68
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â consider all possibilities ; ([Processing Two Lists Simultaneously: Case
    3](part_four.html#%28part._sec~3atwo-inputs~3acase3%29)) |'
  id: totrans-69
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è€ƒè™‘æ‰€æœ‰å¯èƒ½æ€§ ; ([åŒæ—¶å¤„ç†ä¸¤ä¸ªåˆ—è¡¨ï¼šæƒ…å†µ3](part_four.html#%28part._sec~3atwo-inputs~3acase3%29))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
  id: totrans-70
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sÂ n)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-71
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n))Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
  id: totrans-72
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([ç©ºé›†åˆï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ([é›¶ï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n))Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([cons?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)Â s)Â ([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n))Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
  id: totrans-73
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å¹¶ä¸”](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([åˆ—è¡¨ï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)Â s)Â ([é›¶ï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n))Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ([positive?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._positive~3f%29%29)Â n))Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
  id: totrans-74
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...] ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    s) ([positive?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._positive~3f%29%29)
    n)) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (bundleÂ sÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-75
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...] [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    (bundle s ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)
    n) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    | '
- en: '| Â Â Â Â Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (bundleÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â s)Â n)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]))
    |'
  id: totrans-76
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...]([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    (bundle ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    s) n) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)))
    |'
- en: ''
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 146: Useless templates for breaking up strings into chunks'
  id: totrans-78
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 146ï¼šå°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå—çš„æ— ç”¨æ¨¡æ¿
- en: The template step reveals that a structural approach cannot work. [FigureÂ 146](#%28counter._%28figure._fig~3abundle-template-bad%29%29)
    shows four possible templates. Since both arguments to bundle are complex, the
    first two consider one of the arguments atomic. That clearly cannot be the case
    because the function has to take apart each argument. The third template is based
    on the assumption that the two arguments are processed in lockstep, which is closeâ€”<wbr>except
    that bundle clearly has to reset the chunk size to its original value at regular
    intervals. The final template says that the two arguments are processed independently,
    meaning there are four possibilities to proceed at each stage. This final design
    decouples the arguments too much because the list and the counting number must
    be processed together. In short, we must admit that the structural templates appear
    to be useless for this design problem.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨¡æ¿æ­¥éª¤æ­ç¤ºäº†ä¸€ç§ç»“æ„åŒ–æ–¹æ³•æ— æ³•å·¥ä½œã€‚å›¾ 146 å±•ç¤ºäº†å››ç§å¯èƒ½çš„æ¨¡æ¿ã€‚ç”±äºæ†ç»‘çš„å‚æ•°éƒ½å¾ˆå¤æ‚ï¼Œå‰ä¸¤ç§è€ƒè™‘å…¶ä¸­ä¸€ä¸ªå‚æ•°æ˜¯åŸå­çš„ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºå‡½æ•°å¿…é¡»åˆ†è§£æ¯ä¸ªå‚æ•°ã€‚ç¬¬ä¸‰ä¸ªæ¨¡æ¿åŸºäºä¸¤ä¸ªå‚æ•°åŒæ­¥å¤„ç†çš„å‡è®¾ï¼Œè¿™å¾ˆæ¥è¿‘â€”â€”<wbr>é™¤äº†æ†ç»‘æ˜¾ç„¶éœ€è¦åœ¨å›ºå®šçš„æ—¶é—´é—´éš”å°†å—å¤§å°é‡ç½®ä¸ºå…¶åŸå§‹å€¼ã€‚æœ€åçš„æ¨¡æ¿è¡¨æ˜ä¸¤ä¸ªå‚æ•°æ˜¯ç‹¬ç«‹å¤„ç†çš„ï¼Œè¿™æ„å‘³ç€åœ¨æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å››ç§å¯èƒ½çš„è¿›å±•ã€‚è¿™ç§æœ€ç»ˆè®¾è®¡å°†å‚æ•°è§£è€¦å¾—å¤ªå‰å®³ï¼Œå› ä¸ºåˆ—è¡¨å’Œè®¡æ•°æ•°å­—å¿…é¡»ä¸€èµ·å¤„ç†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¿è®¤ç»“æ„åŒ–æ¨¡æ¿å¯¹äºè¿™ä¸ªè®¾è®¡é—®é¢˜ä¼¼ä¹æ˜¯æ— ç”¨çš„ã€‚
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)]
    [N](part_two.html#%28tech._n%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
    |'
  id: totrans-80
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [[List-of](part_three.html#%28tech._sim-dd._list._of%29) [1String](part_one.html#%28tech._1string%29)]
    [N](part_two.html#%28tech._n%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)
    [String](part_one.html#%28tech._string%29)] |'
- en: '| ;Â bundles chunks of s into strings of length n |'
  id: totrans-81
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ; å°† s çš„å—æ†ç»‘æˆé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸² |'
- en: '| ;Â idea take n items and drop n at a time |'
  id: totrans-82
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ; ç†å¿µï¼šæ¯æ¬¡å– n ä¸ªå…ƒç´ ï¼Œç„¶åä¸¢å¼ƒ n ä¸ªå…ƒç´  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
  id: totrans-83
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-84
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ''()]
    |'
  id: totrans-85
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â s)Â ''()]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-86
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)Â (takeÂ sÂ n))Â (bundleÂ (dropÂ sÂ n)Â n))]))
    |'
  id: totrans-87
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)Â (takeÂ sÂ n))Â (bundleÂ (dropÂ sÂ n)Â n))]))
    |'
- en: '| Â  |'
  id: totrans-88
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] [N](part_two.html#%28tech._n%29)
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] |'
  id: totrans-89
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ; [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] [N](part_two.html#%28tech._n%29)
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] |'
- en: '| ;Â keeps the first n items from l if possible or everything |'
  id: totrans-90
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ; å¦‚æœå¯èƒ½ï¼Œä¿ç•™ l çš„å‰ n ä¸ªå…ƒç´ ï¼Œå¦åˆ™ä¿ç•™æ‰€æœ‰å…ƒç´  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (takeÂ lÂ n)
    |'
  id: totrans-91
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (takeÂ lÂ n)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-92
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n)Â ''()]
    |'
  id: totrans-93
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n)Â ''()]
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    |'
  id: totrans-94
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â (takeÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    |'
  id: totrans-95
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â (takeÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)))]))
    |'
- en: '| Â  |'
  id: totrans-96
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] [N](part_two.html#%28tech._n%29)
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] |'
  id: totrans-97
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ;   [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] [N](part_two.html#%28tech._n%29)
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] |'
- en: '| ;Â removes the first n items from l if possible or everything |'
  id: totrans-98
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ;   å¦‚æœå¯èƒ½ï¼Œä»lä¸­åˆ é™¤å‰nä¸ªå…ƒç´ ï¼Œæˆ–è€…åˆ é™¤æ‰€æœ‰å…ƒç´  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dropÂ lÂ n)
    |'
  id: totrans-99
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (dropÂ lÂ n)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-100
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n)Â l]
    |'
  id: totrans-101
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([zero?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._zero~3f%29%29)Â n)Â l]
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â l]
    |'
  id: totrans-102
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ;   [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â l]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (dropÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n))]))
    |'
  id: totrans-103
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (dropÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n))]))
    |'
- en: ''
  id: totrans-104
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 147: Generative recursion'
  id: totrans-105
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾147ï¼šç”Ÿæˆé€’å½’
- en: '[FigureÂ 147](#%28counter._%28figure._fig~3abundle%29%29) shows a complete definition
    for bundle. The definition uses the drop and take functions requested in [exerciseÂ 395](part_four.html#%28counter._%28exercise._ex~3adrop-take%29%29);
    these functions are also available in standard libraries. For completeness, the
    figure comes with their definitions: drop eliminates up to n items from the front
    of the list, take returns up to that many items. Using these functions, it is
    quite straightforward to define bundle:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾147](#%28counter._%28figure._fig~3abundle%29%29)å±•ç¤ºäº†`bundle`çš„å®Œæ•´å®šä¹‰ã€‚è¯¥å®šä¹‰ä½¿ç”¨äº†åœ¨[ç»ƒä¹ 395](part_four.html#%28counter._%28exercise._ex~3adrop-take%29%29)ä¸­è¯·æ±‚çš„`drop`å’Œ`take`å‡½æ•°ï¼›è¿™äº›å‡½æ•°ä¹Ÿå­˜åœ¨äºæ ‡å‡†åº“ä¸­ã€‚ä¸ºäº†å®Œæ•´æ€§ï¼Œå›¾ä¸­è¿˜åŒ…å«äº†å®ƒä»¬çš„å®šä¹‰ï¼š`drop`ä»åˆ—è¡¨çš„å‰ç«¯åˆ é™¤æœ€å¤šnä¸ªå…ƒç´ ï¼Œ`take`è¿”å›æœ€å¤šé‚£ä¹ˆå¤šä¸ªå…ƒç´ ã€‚ä½¿ç”¨è¿™äº›å‡½æ•°ï¼Œå®šä¹‰`bundle`ç›¸å½“ç›´æ¥ï¼š'
- en: if the given list is '(), the result is '() as decided upon;
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœç»™å®šçš„åˆ—è¡¨æ˜¯'()ï¼Œåˆ™ç»“æœä¹Ÿæ˜¯'()ï¼Œè¿™æ˜¯æ ¹æ®å†³å®šç¡®å®šçš„ï¼›
- en: otherwise bundle uses take to grab the first n [1String](part_one.html#%28tech._1string%29)s
    from s and [implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)s
    them into a plain [String](part_one.html#%28tech._string%29);
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦åˆ™ï¼Œä½¿ç”¨`take`å‡½æ•°ä»`s`ä¸­è·å–å‰nä¸ª[1String](part_one.html#%28tech._1string%29)ï¼Œç„¶åä½¿ç”¨[implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæ™®é€šçš„[String](part_one.html#%28tech._string%29)ï¼›
- en: it then recurs with a list that is shortened by n items, which is accomplished
    with drop; and
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç„¶åå®ƒé€šè¿‡`drop`ç¼©çŸ­nä¸ªå…ƒç´ çš„åˆ—è¡¨è¿›è¡Œé€’å½’ï¼›å¹¶ä¸”
- en: finally, [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    combines the string from 2 with the list of strings from 3 to create the result
    for the complete list.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œ[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)å°†2ä¸­çš„å­—ç¬¦ä¸²ä¸3ä¸­çš„å­—ç¬¦ä¸²åˆ—è¡¨åˆå¹¶ï¼Œä»¥åˆ›å»ºå®Œæ•´åˆ—è¡¨çš„ç»“æœã€‚
- en: List item 3 highlights the key difference between bundle and any function in
    the first four parts of this book. Because the definition of [List-of](part_three.html#%28tech._sim-dd._list._of%29)
    [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)es
    an item onto a list to create another one, all functions in the first four parts
    use [first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    and [rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    to deconstruct a non-empty list. In contrast, bundle uses drop, which removes
    not just one but n items at once.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ—è¡¨é¡¹3çªå‡ºäº†`bundle`ä¸æœ¬ä¹¦å‰å››éƒ¨åˆ†ä¸­ä»»ä½•å‡½æ•°ä¹‹é—´çš„å…³é”®åŒºåˆ«ã€‚å› ä¸º[List-of](part_three.html#%28tech._sim-dd._list._of%29)
    [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)çš„å®šä¹‰æ˜¯å°†ä¸€ä¸ªé¡¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­åˆ›å»ºå¦ä¸€ä¸ªåˆ—è¡¨ï¼Œæ‰€ä»¥æœ¬ä¹¦å‰å››éƒ¨åˆ†ä¸­çš„æ‰€æœ‰å‡½æ•°éƒ½ä½¿ç”¨[first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)å’Œ[rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)æ¥è§£æ„éç©ºåˆ—è¡¨ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`bundle`ä½¿ç”¨`drop`ï¼Œå®ƒä¸€æ¬¡ç§»é™¤nä¸ªé¡¹ã€‚
- en: While the definition of bundle is unusual, the underlying ideas are intuitive
    and not too different from the functions seen so far. Indeed, if the chunk size
    n is 1, bundle specializes to a structurally recursive definition. Also, drop
    is guaranteed to produce an integral part of the given list, not some arbitrarily
    rearranged version. And this idea is precisely what the next section presents.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶`bundle`çš„å®šä¹‰ä¸å¯»å¸¸ï¼Œä½†å…¶åŸºæœ¬æ€æƒ³æ˜¯ç›´è§‚çš„ï¼Œå¹¶ä¸”ä¸ä¹‹å‰çœ‹åˆ°çš„å‡½æ•°æ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚ç¡®å®ï¼Œå¦‚æœå—å¤§å°`n`ä¸º1ï¼Œ`bundle`ä¼šä¸“é—¨åŒ–ä¸ºä¸€ä¸ªç»“æ„é€’å½’å®šä¹‰ã€‚æ­¤å¤–ï¼Œ`drop`ä¿è¯äº§ç”Ÿç»™å®šåˆ—è¡¨çš„ä¸€ä¸ªæ•´ä½“éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯ä»»æ„é‡æ–°æ’åˆ—çš„ç‰ˆæœ¬ã€‚è¿™æ­£æ˜¯ä¸‹ä¸€èŠ‚è¦ä»‹ç»çš„å†…å®¹ã€‚
- en: ExerciseÂ 421\. Is (bundle  '("a"  "b"  "c")  0) a proper use of the bundle function?
    What does it produce? Why?
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 421ã€‚ä½¿ç”¨`bundle`å‡½æ•°çš„`(bundle '("a" "b" "c") 0)`æ˜¯å¦æ­£ç¡®ï¼Ÿå®ƒä¼šäº§ç”Ÿä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
- en: ExerciseÂ 422\. Define the function list->chunks. It consumes a list l of arbitrary
    data and a natural number n. The functionâ€™s result is a list of list chunks of
    size n. Each chunk represents a sub-sequence of items in l.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 422ã€‚å®šä¹‰`list->chunks`å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªä»»æ„æ•°æ®ç±»å‹çš„åˆ—è¡¨`l`å’Œä¸€ä¸ªè‡ªç„¶æ•°`n`ã€‚è¯¥å‡½æ•°çš„ç»“æœæ˜¯ä¸€ä¸ªå¤§å°ä¸º`n`çš„åˆ—è¡¨å—åˆ—è¡¨ã€‚æ¯ä¸ªå—ä»£è¡¨`l`ä¸­çš„é¡¹ç›®å­åºåˆ—ã€‚
- en: Use list->chunks to define bundle via function composition.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨`list->chunks`é€šè¿‡å‡½æ•°ç»„åˆå®šä¹‰`bundle`ã€‚
- en: ExerciseÂ 423\. Define partition. It consumes a [String](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._.String%29%29)
    s and a natural number n. The function produces a list of string chunks of size
    n.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 423ã€‚å®šä¹‰`partition`å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ª[String](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._.String%29%29)ç±»å‹çš„`s`å’Œä¸€ä¸ªè‡ªç„¶æ•°`n`ã€‚è¯¥å‡½æ•°äº§ç”Ÿä¸€ä¸ªå¤§å°ä¸º`n`çš„å­—ç¬¦ä¸²å—åˆ—è¡¨ã€‚
- en: For non-empty strings s and positive natural numbers n,
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºéç©ºå­—ç¬¦ä¸²`s`å’Œæ­£è‡ªç„¶æ•°`n`ï¼Œ
- en: ([equal?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â (partitionÂ sÂ n)Â (bundleÂ ([explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â s)Â n))
  id: totrans-118
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([equal?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._equal~3f%29%29)Â (partitionÂ sÂ n)Â (bundleÂ ([explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â s)Â n))
- en: 'is #true. But donâ€™t use this equality as the definition for partition; use
    [substring](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._substring%29%29)
    instead.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯`#true`ã€‚ä½†ä¸è¦å°†è¿™ä¸ªç­‰å¼ç”¨ä½œ`partition`çš„å®šä¹‰ï¼›è€Œæ˜¯ä½¿ç”¨[substring](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._substring%29%29)ã€‚
- en: Hint Have partition produce its natural result for the empty string. For the
    case where n is 0, see [exerciseÂ 421](#%28counter._%28exercise._ex~3abundle-loops%29%29).
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šè®©`partition`åœ¨ç©ºå­—ç¬¦ä¸²çš„æƒ…å†µä¸‹äº§ç”Ÿå…¶è‡ªç„¶ç»“æœã€‚å¯¹äº`n`ä¸º0çš„æƒ…å†µï¼Œè¯·å‚è§[ç»ƒä¹ 421](#%28counter._%28exercise._ex~3abundle-loops%29%29)ã€‚
- en: Note The partition function is somewhat closer to what a cooperative DrRacket
    environment would need than bundle.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼š`partition`å‡½æ•°ä¸DrRacketåä½œç¯å¢ƒçš„éœ€æ±‚æ›´ä¸ºæ¥è¿‘ï¼Œè€Œä¸æ˜¯`bundle`ã€‚
- en: 25.2Recursion that Ignores Structure[ğŸ”—](#(part._sec~3aquick-sort) "Link to here")
  id: totrans-122
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 25.2å¿½ç•¥ç»“æ„çš„é€’å½’[ğŸ”—](#(part._sec~3aquick-sort) "é“¾æ¥åˆ°æ­¤å¤„")
- en: Recall that the sort> function from [Design by Composition](part_two.html#%28part._ch~3alist-sort%29)
    consumes a list of numbers and rearranges it in some order, typically ascending
    or descending. It proceeds by inserting the first number into the appropriate
    position of the sorted rest of the list. Put differently, it is a structurally
    recursive function that reprocesses the result of the natural recursions.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹ï¼Œæ¥è‡ª[é€šè¿‡ç»„åˆè®¾è®¡](part_two.html#%28part._ch~3alist-sort%29)çš„sort>å‡½æ•°æ¶ˆè€—ä¸€ä¸ªæ•°å­—åˆ—è¡¨ï¼Œå¹¶ä»¥æŸç§é¡ºåºé‡æ–°æ’åˆ—å®ƒï¼Œé€šå¸¸æ˜¯å‡åºæˆ–é™åºã€‚å®ƒæ˜¯é€šè¿‡å°†ç¬¬ä¸€ä¸ªæ•°å­—æ’å…¥åˆ°æ’åºåçš„åˆ—è¡¨çš„é€‚å½“ä½ç½®æ¥è¿›è¡Œçš„ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»“æ„é€’å½’å‡½æ•°ï¼Œå®ƒé‡æ–°å¤„ç†è‡ªç„¶é€’å½’çš„ç»“æœã€‚
- en: 'Hoareâ€™s quick-sort algorithm goes about sorting lists in a radically different
    manner and has become the classic example of generative recursion. The underlying
    generative step uses the time-honored strategy of divide-and-conquer. That is,
    it divides the nontrivial instances of the problem into two smaller, related problems;
    solves those smaller problems; and combines their solutions into a solution for
    the original problem. In the case of the quick-sort algorithm, the intermediate
    goal is to divide the list of numbers into two lists:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: éœå°”çš„å¿«é€Ÿæ’åºç®—æ³•ä»¥æˆªç„¶ä¸åŒçš„æ–¹å¼å¤„ç†åˆ—è¡¨æ’åºï¼Œå¹¶å·²æˆä¸ºç”Ÿæˆé€’å½’çš„ç»å…¸ä¾‹å­ã€‚å…¶èƒŒåçš„ç”Ÿæˆæ­¥éª¤ä½¿ç”¨äº†æ—¶é—´ä¹…è¿œçš„åˆ’åˆ†ä¸å¾æœç­–ç•¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå°†é—®é¢˜çš„éå¹³å‡¡å®ä¾‹åˆ’åˆ†ä¸ºä¸¤ä¸ªæ›´å°çš„ã€ç›¸å…³çš„é—®é¢˜ï¼›è§£å†³è¿™äº›è¾ƒå°çš„é—®é¢˜ï¼›å¹¶å°†å®ƒä»¬çš„è§£å†³æ–¹æ¡ˆç»„åˆæˆåŸå§‹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨å¿«é€Ÿæ’åºç®—æ³•çš„æƒ…å†µä¸‹ï¼Œä¸­é—´ç›®æ ‡æ˜¯æŠŠæ•°å­—åˆ—è¡¨åˆ’åˆ†ä¸ºä¸¤ä¸ªåˆ—è¡¨ï¼š
- en: one that contains all the numbers that are strictly smaller than the first
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¸¥æ ¼å°äºç¬¬ä¸€ä¸ªæ•°çš„æ•°
- en: and another one with all those items that are strictly larger.
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦ä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¸¥æ ¼å¤§äºè¿™äº›æ•°çš„é¡¹ã€‚
- en: Then the two smaller lists are sorted via the quick-sort algorithm. Once the
    two lists are sorted, the results are composed with the first item placed in the
    middle. Owing to its special role, the first item on the list is called the pivot
    item.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œé€šè¿‡å¿«é€Ÿæ’åºç®—æ³•å¯¹è¿™ä¸¤ä¸ªè¾ƒå°çš„åˆ—è¡¨è¿›è¡Œæ’åºã€‚ä¸€æ—¦ä¸¤ä¸ªåˆ—è¡¨è¢«æ’åºï¼Œç»“æœå°±ä¼šç»„åˆèµ·æ¥ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ”¾åœ¨ä¸­é—´ã€‚ç”±äºå…¶ç‰¹æ®Šä½œç”¨ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¢«ç§°ä¸ºæ¢è½´å…ƒç´ ã€‚
- en: '![image](../Images/00cc8d6c64e1b8df2847d8a6950b4c4e.png)'
  id: totrans-128
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/00cc8d6c64e1b8df2847d8a6950b4c4e.png)'
- en: ''
  id: totrans-129
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 148: A graphical illustration of the quick-sort algorithm'
  id: totrans-130
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾148ï¼šå¿«é€Ÿæ’åºç®—æ³•çš„å›¾å½¢è¯´æ˜
- en: To develop an understanding of how the quick-sort algorithm works, letâ€™s walk
    through an example, quick-sorting ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  11  8  14  7).
    [FigureÂ 148](#%28counter._%28figure._fig~3asort-ill%29%29) illustrates the process
    in a graphical way. The figure consists of a top half, the divide phase, and the
    bottom half, the conquer phase.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ç†è§£å¿«é€Ÿæ’åºç®—æ³•çš„å·¥ä½œåŸç†ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºï¼Œå¿«é€Ÿæ’åº([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    11 8 14 7)ã€‚[å›¾148](#%28counter._%28figure._fig~3asort-ill%29%29)ä»¥å›¾å½¢æ–¹å¼å±•ç¤ºäº†è¿™ä¸ªè¿‡ç¨‹ã€‚è¯¥å›¾ç”±ä¸ŠåŠéƒ¨åˆ†ï¼Œåˆ’åˆ†é˜¶æ®µï¼Œå’Œä¸‹åŠéƒ¨åˆ†ï¼Œå¾æœé˜¶æ®µç»„æˆã€‚
- en: 'The partition phase is represented with boxes and solid arrows. Three arrows
    emerge from each boxed list and go to a box with three pieces: the circled pivot
    element in the middle, to its left the boxed list of numbers smaller than the
    pivot, and to its right the boxed list of those numbers that are larger than the
    pivot. Each of these steps isolates at least one number as the pivot, meaning
    the two neighboring lists are shorter than the given list. Consequently, the overall
    process terminates too.'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ’åˆ†é˜¶æ®µç”¨æ–¹æ¡†å’Œå®çº¿ç®­å¤´è¡¨ç¤ºã€‚æ¯ä¸ªæ–¹æ¡†åˆ—è¡¨ä»æ¯ä¸ªæ–¹æ¡†ä¸­å»¶ä¼¸å‡ºä¸‰æ¡ç®­å¤´ï¼ŒæŒ‡å‘ä¸€ä¸ªæœ‰ä¸‰ä¸ªéƒ¨åˆ†çš„æ–¹æ¡†ï¼šä¸­é—´çš„åœ†åœˆæ¢è½´å…ƒç´ ï¼Œå·¦ä¾§æ˜¯å°äºæ¢è½´å…ƒç´ çš„æ–¹æ¡†åˆ—è¡¨ï¼Œå³ä¾§æ˜¯å¤§äºæ¢è½´å…ƒç´ çš„æ–¹æ¡†åˆ—è¡¨ã€‚è¿™äº›æ­¥éª¤ä¸­çš„æ¯ä¸€ä¸ªéƒ½è‡³å°‘éš”ç¦»å‡ºä¸€ä¸ªæ•°ä½œä¸ºæ¢è½´ï¼Œè¿™æ„å‘³ç€ç›¸é‚»çš„ä¸¤ä¸ªåˆ—è¡¨æ¯”ç»™å®šçš„åˆ—è¡¨çŸ­ã€‚å› æ­¤ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¹Ÿä¼šç»ˆæ­¢ã€‚
- en: Consider the first step where the input is ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  11  8  14  7).
    The pivot item is 11. Partitioning the list into items larger and smaller than
    11 produces ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  8  7)
    and ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  14).
    The remaining steps of the partitioning phase work in an analogous way. Partitioning
    ends when all numbers have been isolated as pivot elements. At this point, you
    can already read off the final result by reading the pivots from left to right.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç¬¬ä¸€æ­¥ï¼Œè¾“å…¥ä¸º([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  11  8  14  7)ã€‚æ¢è½´é¡¹æ˜¯11ã€‚å°†åˆ—è¡¨åˆ†ä¸ºå¤§äº11å’Œå°äº11çš„é¡¹ï¼Œäº§ç”Ÿ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  8  7)å’Œ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  14)ã€‚åˆ†åŒºé˜¶æ®µçš„å‰©ä½™æ­¥éª¤ä»¥ç±»ä¼¼çš„æ–¹å¼å·¥ä½œã€‚åˆ†åŒºç»“æŸæ—¶ï¼Œæ‰€æœ‰æ•°å­—éƒ½å·²ä½œä¸ºæ¢è½´å…ƒç´ éš”ç¦»ã€‚æ­¤æ—¶ï¼Œæ‚¨å·²ç»å¯ä»¥é€šè¿‡ä»å·¦åˆ°å³è¯»å–æ¢è½´æ¥è¯»å–æœ€ç»ˆç»“æœã€‚
- en: 'The conquering phase is represented with dashed arrows and boxed lists. Three
    arrows enter each result box: the middle one from a pivot, the left one from the
    boxed result of sorting the smaller numbers, and the right one from the boxed
    result of sorting the larger ones. Each step adds at least one number to the result
    list, the pivot, meaning the lists grow toward the bottom of the diagram. The
    box at the bottom is a sorted variant of the given list at the top.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: æ§åˆ¶é˜¶æ®µç”¨è™šçº¿ç®­å¤´å’Œæ¡†åˆ—è¡¨è¡¨ç¤ºã€‚æ¯ä¸ªç»“æœæ¡†ä¸­è¿›å…¥ä¸‰æ¡ç®­å¤´ï¼šä¸­é—´çš„ä¸€æ¡æ¥è‡ªæ¢è½´ï¼Œå·¦è¾¹çš„ä¸€æ¡æ¥è‡ªå¯¹è¾ƒå°æ•°å­—è¿›è¡Œæ’åºçš„æ¡†å¼ç»“æœï¼Œå³è¾¹çš„ä¸€æ¡æ¥è‡ªå¯¹è¾ƒå¤§æ•°å­—è¿›è¡Œæ’åºçš„æ¡†å¼ç»“æœã€‚æ¯ä¸€æ­¥è‡³å°‘å°†ä¸€ä¸ªæ•°å­—æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ï¼Œå³æ¢è½´ï¼Œè¿™æ„å‘³ç€åˆ—è¡¨å‘å›¾çš„ä¸‹éƒ¨å¢é•¿ã€‚åº•éƒ¨çš„æ¡†æ˜¯é¡¶éƒ¨ç»™å®šåˆ—è¡¨çš„æ’åºå˜ä½“ã€‚
- en: Take a look at the left-most, upper-most conquer step. It combines the pivot
    7 with two empty lists, resulting in '(7). The next one down corresponds to the
    partitioning step that isolated 8 and thus yields '(7  8). Each level in the conquering
    phase mirrors a corresponding level from the partitioning phase. After all, the
    overall process is recursive.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹çœ‹æœ€å·¦ä¸Šè§’çš„å¾æœæ­¥éª¤ã€‚å®ƒå°†æ¢è½´7ä¸ä¸¤ä¸ªç©ºåˆ—è¡¨ç»„åˆï¼Œå¾—åˆ°'(7)ã€‚ä¸‹ä¸€ä¸ªå¯¹åº”çš„æ˜¯éš”ç¦»8çš„åˆ†åŒºæ­¥éª¤ï¼Œå› æ­¤äº§ç”Ÿ'(7  8)ã€‚å¾æœé˜¶æ®µçš„æ¯ä¸€çº§éƒ½å¯¹åº”äºåˆ†åŒºé˜¶æ®µçš„ç›¸åº”çº§åˆ«ã€‚æ¯•ç«Ÿï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯é€’å½’çš„ã€‚
- en: ExerciseÂ 424\. Draw a quick-sort diagram like the one in [figureÂ 148](#%28counter._%28figure._fig~3asort-ill%29%29)
    for ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  11  9  2  18  12  14  4  1).
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 424ã€‚ä¸º([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  11  9  2  18  12  14  4  1))ç»˜åˆ¶ä¸€ä¸ªç±»ä¼¼äº[å›¾148](#%28counter._%28figure._fig~3asort-ill%29%29)çš„å¿«é€Ÿæ’åºå›¾ã€‚
- en: 'Now that we have a good understanding of the quick-sort idea, we can translate
    it into ISL+. Clearly, quick-sort< distinguishes two cases. If the input is ''(),
    it produces ''() because this list is sorted already; otherwise, it performs a
    generative recursion. This case split suggests the following [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    expression:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å·²ç»å¾ˆå¥½åœ°ç†è§£äº†å¿«é€Ÿæ’åºçš„æƒ³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç¿»è¯‘æˆISL+ã€‚æ˜¾ç„¶ï¼Œquick-sort<åŒºåˆ†ä¸¤ç§æƒ…å†µã€‚å¦‚æœè¾“å…¥æ˜¯'()ï¼Œå®ƒäº§ç”Ÿ'()ï¼Œå› ä¸ºæ­¤åˆ—è¡¨å·²ç»æ’åºï¼›å¦åˆ™ï¼Œå®ƒæ‰§è¡Œç”Ÿæˆæ€§é€’å½’ã€‚è¿™ç§æƒ…å†µåˆ’åˆ†æš—ç¤ºäº†ä»¥ä¸‹[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)è¡¨è¾¾å¼ï¼š
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-138
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â produces a sorted version of alon |'
  id: totrans-139
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â produces a sorted version of alon |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (quick-sort<Â alon)
    |'
  id: totrans-140
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (quick-sort<Â alon)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-141
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ''()]
    |'
  id: totrans-142
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon]Â ''()
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]))
    |'
  id: totrans-143
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]))
    |'
- en: 'The answer for the first case is given. For the second case, when quick-sort<â€™s
    input is a non-empty list, the algorithm uses the first item to partition the
    rest of the list into two sublists: a list with all items smaller than the pivot
    item and another one with those larger than the pivot item.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªæƒ…å†µä¸‹çš„ç­”æ¡ˆå·²ç»ç»™å‡ºã€‚å¯¹äºç¬¬äºŒä¸ªæƒ…å†µï¼Œå½“å¿«é€Ÿæ’åºçš„è¾“å…¥æ˜¯ä¸€ä¸ªéç©ºåˆ—è¡¨æ—¶ï¼Œç®—æ³•ä½¿ç”¨ç¬¬ä¸€ä¸ªå…ƒç´ å°†åˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†åˆ’åˆ†ä¸ºä¸¤ä¸ªå­åˆ—è¡¨ï¼šä¸€ä¸ªåŒ…å«æ‰€æœ‰å°äºæ¢è½´å…ƒç´ çš„å…ƒç´ åˆ—è¡¨ï¼Œå¦ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¤§äºæ¢è½´å…ƒç´ çš„å…ƒç´ åˆ—è¡¨ã€‚
- en: 'Since the rest of the list is of unknown size, we leave the task of partitioning
    the list to two auxiliary functions: smallers and largers. They process the list
    and filter out those items that are smaller and larger, respectively, than the
    pivot. Hence each auxiliary function accepts two arguments, namely, a list of
    numbers and a number. Designing these two functions is an exercise in structural
    recursion. Try on your own or read the definitions shown in [figureÂ 149](#%28counter._%28figure._fig~3aquick-sort%29%29).'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºåˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†çš„å¤§å°æœªçŸ¥ï¼Œæˆ‘ä»¬å°†å°†åˆ—è¡¨åˆ’åˆ†ä¸ºä¸¤ä¸ªå­åˆ—è¡¨çš„ä»»åŠ¡ç•™ç»™ä¸¤ä¸ªè¾…åŠ©å‡½æ•°ï¼šsmallerså’Œlargersã€‚å®ƒä»¬å¤„ç†åˆ—è¡¨å¹¶è¿‡æ»¤å‡ºå°äºå’Œå¤§äºæ¢è½´çš„å…ƒç´ ã€‚å› æ­¤ï¼Œæ¯ä¸ªè¾…åŠ©å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå³æ•°å­—åˆ—è¡¨å’Œä¸€ä¸ªæ•°å­—ã€‚è®¾è®¡è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯ç»“æ„é€’å½’ç»ƒä¹ ã€‚è‡ªå·±å°è¯•æˆ–é˜…è¯»[å›¾149](#%28counter._%28figure._fig~3aquick-sort%29%29)ä¸­æ˜¾ç¤ºçš„å®šä¹‰ã€‚
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-146
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ; [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â produces a sorted version of alon |'
  id: totrans-147
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ; ç”Ÿæˆalonçš„æ’åºç‰ˆæœ¬ |'
- en: '| ;Â assume the numbers are all distinct |'
  id: totrans-148
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ; å‡è®¾æ‰€æœ‰çš„æ•°å­—éƒ½æ˜¯ä¸åŒçš„ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (quick-sort<Â alon)
    |'
  id: totrans-149
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (quick-sort<Â alon)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-150
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ''()]
    |'
  id: totrans-151
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon]Â ''()
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â pivotÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)))
    |'
  id: totrans-152
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â pivotÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â (quick-sort<Â (smallersÂ alonÂ pivot))
    |'
  id: totrans-153
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â (å¿«é€Ÿæ’åº<Â (å°äºÂ alonÂ æ¢è½´))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â pivot)
    |'
  id: totrans-154
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â æ¢è½´)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (quick-sort<Â (largersÂ alonÂ pivot))))])) |'
  id: totrans-155
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (å¿«é€Ÿæ’åº<Â (å¤§äºÂ alonÂ æ¢è½´))))])) |'
- en: '| Â  |'
  id: totrans-156
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-157
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29) -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (largersÂ alonÂ n)
    |'
  id: totrans-158
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (å¤§äºÂ alonÂ n)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-159
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ''()]
    |'
  id: totrans-160
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ''()]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â n)
    |'
  id: totrans-161
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â n)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â (largersÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)Â n))
    |'
  id: totrans-162
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â (å¤§äºÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)Â n))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (largersÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)Â n))]))
    |'
  id: totrans-163
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (å¤§äºÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)Â n))]))
    |'
- en: '| Â  |'
  id: totrans-164
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-165
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29) -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (smallersÂ alonÂ n)
    |'
  id: totrans-166
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (smallers alon n) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-167
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)ï¼‰|'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â alon)Â ''()]
    |'
  id: totrans-168
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    alon) ''()]ï¼‰|'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â n)
    |'
  id: totrans-169
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)
    ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    alon) n) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon)Â (smallersÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)Â n))
    |'
  id: totrans-170
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    alon) ([smallers](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._smallers%29%29)
    ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    alon) n))ï¼‰|'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (smallersÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â alon)Â n))]))
    |'
  id: totrans-171
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆå°è€…([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29%29)
    alon) n))ï¼‰|'
- en: ''
  id: totrans-172
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 149: The quick-sort algorithm'
  id: totrans-173
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾149ï¼šå¿«é€Ÿæ’åºç®—æ³•
- en: 'Each of these lists is sorted separately, using quick-sort<, which implies
    the use of recursion, specifically the following two expressions:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªè¿™äº›åˆ—è¡¨éƒ½æ˜¯åˆ†åˆ«ä½¿ç”¨å¿«é€Ÿæ’åº<è¿›è¡Œæ’åºçš„ï¼Œè¿™æš—ç¤ºäº†é€’å½’çš„ä½¿ç”¨ï¼Œå…·ä½“å¦‚ä¸‹ä¸¤ä¸ªè¡¨è¾¾å¼ï¼š
- en: (quick-sort<  (smallers  alon  pivot)), which sorts the list of items smaller
    than the pivot; and
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: (quick-sort<  (smallers  alon  pivot)), which sorts the list of items smaller
    than the pivot; and
- en: (quick-sort<  (largers  alon  pivot)), which sorts the list of items larger
    than the pivot.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: (quick-sort< (largers alon pivot)), which sorts the list of items larger than
    the pivot.
- en: 'Once quick-sort< has the sorted versions of the two lists, it must combine
    the two lists and the pivot in the proper order: first all those items smaller
    than pivot, then pivot, and finally all those that are larger. Since the first
    and last list are already sorted, quick-sort< can simply use [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29):'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦quick-sort<è·å¾—äº†ä¸¤ä¸ªåˆ—è¡¨çš„æ’åºç‰ˆæœ¬ï¼Œå®ƒå¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºåˆå¹¶è¿™ä¸¤ä¸ªåˆ—è¡¨å’Œæ¢è½´ï¼šé¦–å…ˆæ˜¯æ‰€æœ‰å°äºæ¢è½´çš„é¡¹ç›®ï¼Œç„¶åæ˜¯æ¢è½´ï¼Œæœ€åæ˜¯æ‰€æœ‰å¤§äºæ¢è½´çš„é¡¹ç›®ã€‚ç”±äºç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªåˆ—è¡¨å·²ç»æ’åºï¼Œquick-sort<å¯ä»¥ç®€å•åœ°ä½¿ç”¨[append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)ï¼š
- en: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â (quick-sort<Â (smallersÂ alonÂ pivot))
    |'
  id: totrans-178
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    (quick-sort< (smallers alon pivot)) |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â alon))
    |'
  id: totrans-179
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ([ç¬¬ä¸€ä¸ª](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    alon)))|'
- en: '| Â Â Â Â Â Â Â Â (quick-sort<Â (largersÂ alonÂ pivot))) |'
  id: totrans-180
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  (å¿«é€Ÿæ’åº< (largers alon pivot))) |'
- en: '[FigureÂ 149](#%28counter._%28figure._fig~3aquick-sort%29%29) contains the full
    program; read it before proceeding.Now that we have an actual function definition,
    we can evaluate the example from above by hand:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾149](#%28counter._%28figure._fig~3aquick-sort%29%29) åŒ…å«äº†å®Œæ•´çš„ç¨‹åºï¼›åœ¨ç»§ç»­ä¹‹å‰è¯·å…ˆé˜…è¯»å®ƒã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†å®é™…çš„åŠŸèƒ½å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è¯„ä¼°ä¸Šé¢çš„ä¾‹å­ï¼š'
- en: '| (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11Â 8Â 14Â 7))
    |'
  id: totrans-182
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (å¿«é€Ÿæ’åº< ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    11 8 14 7)) |'
- en: '| == |'
  id: totrans-183
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8Â 7))
    |'
  id: totrans-184
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([è¿½åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    ï¼ˆå¿«é€Ÿæ’åº< ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    8 7)ï¼‰|'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
  id: totrans-185
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29%29)
    11ï¼‰|'
- en: '| Â Â Â Â Â Â Â Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
  id: totrans-186
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  (å¿«é€Ÿæ’åº< ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    14)))|'
- en: '| == |'
  id: totrans-187
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 7))
    |'
  id: totrans-188
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([è¿½åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    ([è¿½åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    (å¿«é€Ÿæ’åº< ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    7)) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8)
    |'
  id: totrans-189
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    8)|'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (quick-sort<Â ''())) |'
  id: totrans-190
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  (å¿«é€Ÿæ’åº< ''())) |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
  id: totrans-191
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    11) |'
- en: '| Â Â Â Â Â Â Â Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
  id: totrans-192
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  Â Â  (å¿«é€Ÿæ’åº< ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    14))) |'
- en: '| == |'
  id: totrans-193
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â (quick-sort<Â ''())
    |'
  id: totrans-194
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([é™„åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([é™„åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([é™„åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â (å¿«é€Ÿæ’åº<Â ''())
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 7)
    |'
  id: totrans-195
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 7)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (quick-sort<Â ''())) |'
  id: totrans-196
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (å¿«é€Ÿæ’åº<Â ''())) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8)
    |'
  id: totrans-197
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (quick-sort<Â ''())) |'
  id: totrans-198
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (å¿«é€Ÿæ’åº<Â ''())) |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
  id: totrans-199
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
- en: '| Â Â Â Â Â Â Â Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
  id: totrans-200
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â (å¿«é€Ÿæ’åº<Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
- en: '| == |'
  id: totrans-201
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ''()
    |'
  id: totrans-202
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([é™„åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([é™„åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([é™„åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ''()
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 7)
    |'
  id: totrans-203
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 7)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''()) |'
  id: totrans-204
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''()) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8)
    |'
  id: totrans-205
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''()) |'
  id: totrans-206
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''()) |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
  id: totrans-207
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
- en: '| Â Â Â Â Â Â Â Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
  id: totrans-208
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â (å¿«é€Ÿæ’åº<Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
- en: '| == |'
  id: totrans-209
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 7)
    |'
  id: totrans-210
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 7)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8)
    |'
  id: totrans-211
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 8)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''()) |'
  id: totrans-212
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''()) |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
  id: totrans-213
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 11)
    |'
- en: '| Â Â Â Â Â Â Â Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
  id: totrans-214
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 14)))
    |'
- en: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-215
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: The calculation shows the essential steps of the sorting process, that is, the
    partitioning steps, the recursive sorting steps, and the concatenation of the
    three parts. From this calculation, it is easy to see how quick-sort< implements
    the process illustrated in [figureÂ 148](#%28counter._%28figure._fig~3asort-ill%29%29).
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æ˜¾ç¤ºäº†æ’åºè¿‡ç¨‹çš„åŸºæœ¬æ­¥éª¤ï¼Œå³åˆ†åŒºæ­¥éª¤ã€é€’å½’æ’åºæ­¥éª¤å’Œä¸‰ä¸ªéƒ¨åˆ†çš„è¿æ¥ã€‚ä»è¿™ä¸ªè®¡ç®—ä¸­ï¼Œå¾ˆå®¹æ˜“çœ‹å‡º quick-sort< å¦‚ä½•å®ç° [å›¾ 148](#%28counter._%28figure._fig~3asort-ill%29%29)
    ä¸­å±•ç¤ºçš„è¿‡ç¨‹ã€‚
- en: Both [figureÂ 148](#%28counter._%28figure._fig~3asort-ill%29%29) and the calculation
    also show how quick-sort< completely ignores the structure of the given list.
    The first recursion works on two distant numbers from the originally given list
    and the second one on the listâ€™s third item. These recursions arenâ€™t random, but
    they are certainly not relying on the structure of the data definition.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤è€… [å›¾ 148](#%28counter._%28figure._fig~3asort-ill%29%29) å’Œè®¡ç®—éƒ½æ˜¾ç¤ºäº† quick-sort<
    å®Œå…¨å¿½ç•¥äº†ç»™å®šåˆ—è¡¨çš„ç»“æ„ã€‚ç¬¬ä¸€æ¬¡é€’å½’å¤„ç†åŸå§‹ç»™å®šåˆ—è¡¨ä¸­çš„ä¸¤ä¸ªè¿œç¦»çš„æ•°å­—ï¼Œç¬¬äºŒæ¬¡é€’å½’å¤„ç†åˆ—è¡¨çš„ç¬¬ä¸‰é¡¹ã€‚è¿™äº›é€’å½’ä¸æ˜¯éšæœºçš„ï¼Œä½†å®ƒä»¬ç¡®å®ä¸æ˜¯ä¾èµ–äºæ•°æ®å®šä¹‰çš„ç»“æ„ã€‚
- en: Contrast quick-sort<â€™s organization with that of the sort> function from [Design
    by Composition](part_two.html#%28part._ch~3alist-sort%29). The design of the latter
    follows the structural design recipe, yielding a program that processes a list
    item by item. By splitting the list, quick-sort< can speed up the process of sorting
    the list, though at the cost of not using plain [first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    and [rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29).
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: å°† quick-sort< çš„ç»„ç»‡ç»“æ„ä¸ [è®¾è®¡ç»„åˆ](part_two.html#%28part._ch~3alist-sort%29) ä¸­çš„ sort
    å‡½æ•°è¿›è¡Œæ¯”è¾ƒã€‚åè€…çš„è®¾è®¡éµå¾ªç»“æ„åŒ–è®¾è®¡é£Ÿè°±ï¼Œç”Ÿæˆä¸€ä¸ªé€ä¸ªå¤„ç†åˆ—è¡¨é¡¹çš„ç¨‹åºã€‚é€šè¿‡åˆ†å‰²åˆ—è¡¨ï¼Œquick-sort< å¯ä»¥åŠ å¿«æ’åºåˆ—è¡¨çš„è¿‡ç¨‹ï¼Œå°½ç®¡ä»£ä»·æ˜¯ä¸ä½¿ç”¨æ™®é€šçš„
    [first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)
    å’Œ [rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)ã€‚
- en: ExerciseÂ 425\. Articulate purpose statements for smallers and largers in [figureÂ 149](#%28counter._%28figure._fig~3aquick-sort%29%29).
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  425ï¼šä¸º [å›¾ 149](#%28counter._%28figure._fig~3aquick-sort%29%29) ä¸­çš„è¾ƒå°å’Œè¾ƒå¤§éƒ¨åˆ†é˜è¿°ç›®çš„é™ˆè¿°ã€‚
- en: ExerciseÂ 426\. Complete the hand-evaluation from above. A close inspection of
    the evaluation suggests an additional trivial case for quick-sort<. Every time
    quick-sort< consumes a list of one item, it returns it as is. After all, the sorted
    version of a list of one item is the list itself.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  426. å®Œæˆä¸Šè¿°çš„æ‰‹åŠ¨è¯„ä¼°ã€‚ä»”ç»†æ£€æŸ¥è¯„ä¼°ç»“æœï¼Œå¯ä»¥å‘ç° quick-sort< ç®—æ³•çš„ä¸€ä¸ªé¢å¤–ç®€å•æƒ…å†µã€‚æ¯å½“ quick-sort< ç®—æ³•å¤„ç†ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå…ƒç´ çš„åˆ—è¡¨æ—¶ï¼Œå®ƒå°±åŸæ ·è¿”å›è¯¥åˆ—è¡¨ã€‚æ¯•ç«Ÿï¼Œåªæœ‰ä¸€ä¸ªå…ƒç´ çš„åˆ—è¡¨çš„æ’åºç‰ˆæœ¬å°±æ˜¯åˆ—è¡¨æœ¬èº«ã€‚
- en: Modify quick-sort< to take advantage of this observation. Evaluate the example
    again. How many steps does the revised algorithm save?
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: ä¿®æ”¹ quick-sort< ç®—æ³•ä»¥åˆ©ç”¨è¿™ä¸€è§‚å¯Ÿç»“æœã€‚å†æ¬¡è¯„ä¼°ç¤ºä¾‹ã€‚æ”¹è¿›åçš„ç®—æ³•èŠ‚çœäº†å¤šå°‘æ­¥éª¤ï¼Ÿ
- en: ExerciseÂ 427\. While quick-sort< quickly reduces the size of the problem in
    many cases, it is inappropriately slow for small problems. Hence people use quick-sort<
    to reduce the size of the problem and switch to a different sort function when
    the list is small enough.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  427. è™½ç„¶ quick-sort< ç®—æ³•åœ¨è®¸å¤šæƒ…å†µä¸‹å¯ä»¥å¿«é€Ÿå‡å°‘é—®é¢˜çš„å¤§å°ï¼Œä½†å¯¹äºå°é—®é¢˜æ¥è¯´ï¼Œå®ƒçš„é€Ÿåº¦ä¸åˆé€‚ã€‚å› æ­¤ï¼Œå½“åˆ—è¡¨è¶³å¤Ÿå°çš„æ—¶å€™ï¼Œäººä»¬ä½¿ç”¨
    quick-sort< ç®—æ³•æ¥å‡å°‘é—®é¢˜çš„å¤§å°ï¼Œå¹¶åˆ‡æ¢åˆ°ä¸åŒçš„æ’åºå‡½æ•°ã€‚
- en: Develop a version of quick-sort< that uses sort< (an appropriately adapted variant
    of sort> from [Auxiliary Functions that Recur](part_two.html#%28part._sec~3asort.I%29))
    if the length of the input is below some threshold.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœè¾“å…¥çš„é•¿åº¦ä½äºæŸä¸ªé˜ˆå€¼ï¼Œå¼€å‘ä¸€ä¸ª quick-sort< ç®—æ³•çš„ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬ä½¿ç”¨ sort<ï¼ˆæ¥è‡ª [è¾…åŠ©é€’å½’å‡½æ•°](part_two.html#%28part._sec~3asort.I%29)
    çš„é€‚å½“è°ƒæ•´ç‰ˆæœ¬ï¼‰ã€‚
- en: ExerciseÂ 428\. If the input to quick-sort< contains the same number several
    times, the algorithm returns a list that is strictly shorter than the input. Why?
    Fix the problem so that the output is as long as the input.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  428. å¦‚æœ quick-sort< ç®—æ³•çš„è¾“å…¥åŒ…å«ç›¸åŒæ•°é‡çš„å…ƒç´ ï¼Œè¯¥ç®—æ³•è¿”å›çš„åˆ—è¡¨å°†ä¸¥æ ¼çŸ­äºè¾“å…¥åˆ—è¡¨ã€‚ä¸ºä»€ä¹ˆï¼Ÿä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œä»¥ä¾¿è¾“å‡ºåˆ—è¡¨çš„é•¿åº¦ä¸è¾“å…¥åˆ—è¡¨ç›¸åŒã€‚
- en: ExerciseÂ 429\. Use [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    to define smallers and largers.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  429. ä½¿ç”¨ [filter](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29)
    å®šä¹‰ smallers å’Œ largersã€‚
- en: ExerciseÂ 430\. Develop a variant of quick-sort< that uses only one comparison
    function, say, [<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29).
    Its partitioning step divides the given list alon into a list that contains the
    items of alon smaller than the pivot and another one with those that are not smaller.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  430. å¼€å‘ä¸€ä¸ª quick-sort< ç®—æ³•çš„å˜ä½“ï¼Œè¯¥å˜ä½“åªä½¿ç”¨ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œä¾‹å¦‚ï¼Œ[<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)ã€‚å®ƒçš„åˆ†åŒºæ­¥éª¤å°†ç»™å®šçš„åˆ—è¡¨
    alon åˆ†å‰²æˆä¸€ä¸ªåŒ…å«å°äºæ¢è½´çš„å…ƒç´ çš„åˆ—è¡¨ï¼Œä»¥åŠå¦ä¸€ä¸ªåŒ…å«ä¸å°äºæ¢è½´çš„å…ƒç´ çš„åˆ—è¡¨ã€‚
- en: Use [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    to package up the program as a single function. Abstract this function so that
    it consumes a list and a comparison function.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    å°†ç¨‹åºæ‰“åŒ…æˆä¸€ä¸ªå•ä¸€å‡½æ•°ã€‚æŠ½è±¡è¿™ä¸ªå‡½æ•°ï¼Œä½¿å…¶æ¥å—ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ã€‚
- en: 26Designing Algorithms[ğŸ”—](#(part._ch~3adesign-algo) "Link to here")
  id: totrans-228
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 26 è®¾è®¡ç®—æ³•[ğŸ”—](#(part._ch~3adesign-algo) "é“¾æ¥åˆ°æ­¤å¤„")
- en: The overview for this part already explains that the design of generative recursion
    functions is more ad hoc than structural design. As the first chapter shows, two
    generative recursions can radically differ in how they process functions. Both
    bundle and quick-sort< process lists, but while the former at least respects the
    sequencing in the given list, the latter rearranges its given list at will. The
    question is whether a single design recipe can help with the creation of such
    widely differing functions.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬éƒ¨åˆ†æ¦‚è¿°å·²ç»è§£é‡Šè¯´ï¼Œç”Ÿæˆé€’å½’å‡½æ•°çš„è®¾è®¡æ¯”ç»“æ„è®¾è®¡æ›´éšæ„ã€‚æ­£å¦‚ç¬¬ä¸€ç« æ‰€ç¤ºï¼Œä¸¤ä¸ªç”Ÿæˆé€’å½’åœ¨å¤„ç†å‡½æ•°çš„æ–¹å¼ä¸Šå¯èƒ½ä¼šæœ‰æ ¹æœ¬æ€§çš„å·®å¼‚ã€‚ä¸¤è€…éƒ½å¤„ç†åˆ—è¡¨ï¼Œä½†å‰è€…è‡³å°‘å°Šé‡ç»™å®šåˆ—è¡¨çš„é¡ºåºï¼Œè€Œåè€…å¯ä»¥éšæ„é‡æ–°æ’åˆ—å…¶ç»™å®šåˆ—è¡¨ã€‚é—®é¢˜æ˜¯æ˜¯å¦æœ‰ä¸€ä¸ªå•ä¸€çš„è®¾è®¡é…æ–¹å¯ä»¥å¸®åŠ©åˆ›å»ºè¿™æ ·å¹¿æ³›ä¸åŒçš„å‡½æ•°ã€‚
- en: 'The first section shows how to adapt the process dimension of the design recipe
    to generative recursion. The second section homes in on another new phenomenon:
    an algorithm may fail to produce an answer for some of its inputs. Programmers
    must therefore analyze their programs and supplement the design information with
    a comment on termination. The remaining sections contrast structural and generative
    recursion.'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€éƒ¨åˆ†å±•ç¤ºäº†å¦‚ä½•å°†è®¾è®¡é£Ÿè°±çš„è¿‡ç¨‹ç»´åº¦é€‚åº”ç”Ÿæˆé€’å½’ã€‚ç¬¬äºŒéƒ¨åˆ†èšç„¦äºå¦ä¸€ä¸ªæ–°ç°è±¡ï¼šä¸€ä¸ªç®—æ³•å¯èƒ½æ— æ³•ä¸ºå…¶æŸäº›è¾“å…¥ç”Ÿæˆç­”æ¡ˆã€‚å› æ­¤ï¼Œç¨‹åºå‘˜å¿…é¡»åˆ†æä»–ä»¬çš„ç¨‹åºï¼Œå¹¶åœ¨è®¾è®¡ä¿¡æ¯ä¸­æ·»åŠ å…³äºç»ˆæ­¢çš„æ³¨é‡Šã€‚å…¶ä½™éƒ¨åˆ†å¯¹æ¯”äº†ç»“æ„å’Œç”Ÿæˆé€’å½’ã€‚
- en: 26.1Adapting the Design Recipe[ğŸ”—](#(part._.Adapting_the_.Design_.Recipe) "Link
    to here")
  id: totrans-231
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 26.1 é€‚åº”è®¾è®¡é£Ÿè°±[ğŸ”—](#(part._.Adapting_the_.Design_.Recipe) "é“¾æ¥è‡³æ­¤")
- en: 'Letâ€™s examine the six general steps of our structural design recipe in light
    of the examples in the preceding chapter:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ ¹æ®å‰ä¸€ç« ä¸­çš„ç¤ºä¾‹æ¥æ£€æŸ¥æˆ‘ä»¬ç»“æ„è®¾è®¡é£Ÿè°±çš„å…­ä¸ªä¸€èˆ¬æ­¥éª¤ï¼š
- en: As before, we must represent the problem information as data in our chosen programming
    language. The choice of a data representation for a problem affects our thinking
    about the computational process, so some planning ahead is necessary. Alternatively,
    be prepared to backtrack and to explore different data representations. Regardless,
    we must analyze the problem information and define data collections.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å¿…é¡»å°†é—®é¢˜ä¿¡æ¯è¡¨ç¤ºä¸ºæˆ‘ä»¬é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€ä¸­çš„æ•°æ®ã€‚å¯¹äºé—®é¢˜çš„æ•°æ®è¡¨ç¤ºçš„é€‰æ‹©ä¼šå½±å“æˆ‘ä»¬å¯¹è®¡ç®—è¿‡ç¨‹çš„æ€è€ƒï¼Œå› æ­¤éœ€è¦æå‰åšä¸€äº›è§„åˆ’ã€‚æˆ–è€…ï¼Œå‡†å¤‡å¥½å›æº¯å¹¶æ¢ç´¢ä¸åŒçš„æ•°æ®è¡¨ç¤ºã€‚æ— è®ºå¦‚ä½•ï¼Œæˆ‘ä»¬å¿…é¡»åˆ†æé—®é¢˜ä¿¡æ¯å¹¶å®šä¹‰æ•°æ®é›†åˆã€‚
- en: We also need a signature, a function header, and a purpose statement. Since
    the generative step has no connection to the structure of the data definition,
    the purpose statement must go beyond what the function is to compute and also
    explain how the function computes its result.
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªç­¾åã€ä¸€ä¸ªå‡½æ•°å¤´å’Œä¸€ä¸ªç›®çš„è¯´æ˜ã€‚ç”±äºç”Ÿæˆæ­¥éª¤ä¸æ•°æ®å®šä¹‰çš„ç»“æ„æ— å…³ï¼Œç›®çš„è¯´æ˜å¿…é¡»è¶…å‡ºå‡½æ•°è®¡ç®—çš„å†…å®¹ï¼Œè¿˜è¦è§£é‡Šå‡½æ•°æ˜¯å¦‚ä½•è®¡ç®—å…¶ç»“æœçš„ã€‚
- en: It is useful to explain the â€œhowâ€ with function examples, the way we explained
    bundle and quick-sort< in the previous chapter. That is, while function examples
    in the structural world merely specify which output the function is to produce
    for which input, the purpose of examples in the world of generative recursion
    is to explain the underlying idea behind the computational process.
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å‡½æ•°ç¤ºä¾‹è§£é‡Šâ€œå¦‚ä½•â€ï¼Œå°±åƒæˆ‘ä»¬åœ¨ä¸Šä¸€ç« ä¸­è§£é‡Šæ†ç»‘å’Œå¿«é€Ÿæ’åº<é‚£æ ·ï¼Œæ˜¯æœ‰ç”¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç»“æ„ä¸–ç•Œä¸­ï¼Œå‡½æ•°ç¤ºä¾‹ä»…æŒ‡å®šå‡½æ•°å¯¹äºå“ªä¸ªè¾“å…¥åº”è¯¥äº§ç”Ÿå“ªä¸ªè¾“å‡ºï¼Œè€Œåœ¨ç”Ÿæˆé€’å½’çš„ä¸–ç•Œä¸­ï¼Œç¤ºä¾‹çš„ç›®çš„æ˜¯è§£é‡Šè®¡ç®—è¿‡ç¨‹èƒŒåçš„åŸºæœ¬æ€æƒ³ã€‚
- en: For bundle, the examples specify how the function acts in general and in certain
    boundary cases. For quick-sort<, the example in [figureÂ 148](#%28counter._%28figure._fig~3asort-ill%29%29)
    illustrates how the function partitions the given list with respect to the pivot
    item. By adding such worked examples to the purpose statement, weâ€”<wbr>the designersâ€”<wbr>gain
    an improved understanding of the desired process, and we communicate this understanding
    to future readers of this code.
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºæ†ç»‘ï¼Œç¤ºä¾‹æŒ‡å®šäº†å‡½æ•°åœ¨ä¸€èˆ¬æƒ…å†µå’ŒæŸäº›è¾¹ç•Œæƒ…å†µä¸‹çš„è¡Œä¸ºã€‚å¯¹äºå¿«é€Ÿæ’åº<ï¼Œ[å›¾148](#%28counter._%28figure._fig~3asort-ill%29%29)ä¸­çš„ç¤ºä¾‹è¯´æ˜äº†å‡½æ•°å¦‚ä½•æ ¹æ®æ¢è½´é¡¹å¯¹ç»™å®šçš„åˆ—è¡¨è¿›è¡Œåˆ†åŒºã€‚é€šè¿‡å°†è¿™äº›å·¥ä½œç¤ºä¾‹æ·»åŠ åˆ°ç›®çš„è¯´æ˜ä¸­ï¼Œæˆ‘ä»¬â€”â€”<wbr>ä½œä¸ºè®¾è®¡è€…â€”â€”<wbr>å¯¹æ‰€éœ€è¿‡ç¨‹æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ï¼Œå¹¶å°†è¿™ç§ç†è§£ä¼ è¾¾ç»™æœªæ¥é˜…è¯»æ­¤ä»£ç çš„è¯»è€…ã€‚
- en: 'Our discussion suggests a general template for algorithms. Roughly speaking,
    the design of an algorithm distinguishes two kinds of problems: those that are
    trivially solvable and those that are not.For this part of the book, â€œtrivialâ€
    is a technical term. If a given problem is trivially solvable, an algorithm produces
    the matching solution. For example, the problems of sorting an empty list or a
    one-item list are trivially solvable. A list with many items is a nontrivial problem.
    For these nontrivial problems, algorithms commonly generate new problems of the
    same kind as the given one, solve those recursively, and combine the solutions
    into an overall solution.'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„è®¨è®ºæå‡ºäº†ä¸€ç§ç®—æ³•çš„ä¸€èˆ¬æ¨¡æ¿ã€‚å¤§è‡´æ¥è¯´ï¼Œç®—æ³•çš„è®¾è®¡åŒºåˆ†äº†ä¸¤ç§ç±»å‹çš„é—®é¢˜ï¼šé‚£äº›å¯ä»¥è½»æ˜“è§£å†³çš„é—®é¢˜å’Œé‚£äº›ä¸èƒ½è½»æ˜“è§£å†³çš„é—®é¢˜ã€‚â€œè½»æ˜“â€åœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªæŠ€æœ¯æœ¯è¯­ã€‚å¦‚æœç»™å®šçš„é—®é¢˜å¯ä»¥è½»æ˜“è§£å†³ï¼Œç®—æ³•å°†äº§ç”ŸåŒ¹é…çš„è§£å†³æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œå¯¹ç©ºåˆ—è¡¨æˆ–å•å…ƒç´ åˆ—è¡¨è¿›è¡Œæ’åºçš„é—®é¢˜æ˜¯è½»æ˜“å¯è§£å†³çš„ã€‚åŒ…å«è®¸å¤šå…ƒç´ çš„åˆ—è¡¨æ˜¯ä¸€ä¸ªéè½»æ˜“è§£å†³çš„é—®é¢˜ã€‚å¯¹äºè¿™äº›éè½»æ˜“è§£å†³çš„é—®é¢˜ï¼Œç®—æ³•é€šå¸¸ç”Ÿæˆä¸ç»™å®šé—®é¢˜ç›¸åŒç±»å‹çš„æ–°é—®é¢˜ï¼Œé€’å½’åœ°è§£å†³è¿™äº›é—®é¢˜ï¼Œå¹¶å°†è§£å†³æ–¹æ¡ˆç»„åˆæˆä¸€ä¸ªæ•´ä½“è§£å†³æ–¹æ¡ˆã€‚
- en: 'Based on this sketch, all algorithms have roughly this organization:'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åŸºäºæ­¤è‰å›¾ï¼Œæ‰€æœ‰ç®—æ³•å¤§è‡´å…·æœ‰ä»¥ä¸‹ç»„ç»‡ç»“æ„ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (generative-recursive-funÂ problem)
    |'
  id: totrans-239
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (generative-recursive-funÂ problem)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-240
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [(trivially-solvable?Â problem) |'
  id: totrans-241
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [(trivially-solvable?Â problem) |'
- en: '| Â Â Â Â Â (determine-solutionÂ problem)] |'
  id: totrans-242
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â (determine-solutionÂ problem)] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-243
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â (combine-solutions |'
  id: totrans-244
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â (combine-solutions |'
- en: '| Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â problemÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-245
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â é—®é¢˜Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â Â Â Â (generative-recursive-fun |'
  id: totrans-246
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â (generative-recursive-fun |'
- en: '| Â Â Â Â Â Â Â Â Â (generate-problem-1Â problem)) |'
  id: totrans-247
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (generate-problem-1Â problem)) |'
- en: '| Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-248
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â Â Â Â (generative-recursive-fun |'
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â (generative-recursive-fun |'
- en: '| Â Â Â Â Â Â Â Â Â (generate-problem-nÂ problem)))])) |'
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (generate-problem-nÂ problem)))])) |'
- en: The original problem is occasionally needed to combine the solutions for the
    newly generated problems, which is why it is handed over to combine-solutions.
  id: totrans-251
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åŸå§‹é—®é¢˜æœ‰æ—¶éœ€è¦ç»“åˆæ–°ç”Ÿæˆé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒè¢«äº¤ç»™ç»„åˆè§£å†³æ–¹æ¡ˆã€‚
- en: 'This template is only a suggestive blueprint, not a definitive shape. Each
    piece of the template is to remind us to think about the following four questions:'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ¨¡æ¿åªæ˜¯ä¸€ä¸ªå¯å‘æ€§çš„è“å›¾ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç¡®å®šçš„å½¢çŠ¶ã€‚æ¨¡æ¿çš„æ¯ä¸€éƒ¨åˆ†éƒ½æ˜¯ä¸ºäº†æé†’æˆ‘ä»¬æ€è€ƒä»¥ä¸‹å››ä¸ªé—®é¢˜ï¼š
- en: What is a trivially solvable problem?
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯ç®€å•å¯è§£é—®é¢˜ï¼Ÿ
- en: How are trivial problems solved?
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚ä½•è§£å†³ç®€å•é—®é¢˜ï¼Ÿ
- en: How does the algorithm generate new problems that are more easily solvable than
    the original one? Is there one new problem that we generate or are there several?
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç®—æ³•å¦‚ä½•ç”Ÿæˆæ¯”åŸå§‹é—®é¢˜æ›´å®¹æ˜“è§£å†³çš„é—®é¢˜ï¼Ÿæˆ‘ä»¬ç”Ÿæˆçš„æ˜¯ä¸€ä¸ªæ–°é—®é¢˜ï¼Œè¿˜æ˜¯æœ‰å¤šä¸ªï¼Ÿ
- en: Is the solution of the given problem the same as the solution of (one of) the
    new problems? Or, do we need to combine the solutions to create a solution for
    the original problem? And, if so, do we need anything from the original problem
    data?
  id: totrans-256
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»™å®šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ˜¯å¦ä¸ï¼ˆä¸€ä¸ªï¼‰æ–°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆç›¸åŒï¼Ÿæˆ–è€…ï¼Œæˆ‘ä»¬éœ€è¦ç»„åˆè§£å†³æ–¹æ¡ˆæ¥ä¸ºåŸå§‹é—®é¢˜åˆ›å»ºè§£å†³æ–¹æ¡ˆï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬æ˜¯å¦éœ€è¦åŸå§‹é—®é¢˜æ•°æ®ä¸­çš„ä»»ä½•å†…å®¹ï¼Ÿ
- en: To define the algorithm as a function, we must express the answers to these
    four questions as functions and expressions in terms of the chosen data representation.
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ä¸ºäº†å°†ç®—æ³•å®šä¹‰ä¸ºå‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»å°†è¿™äº›å››ä¸ªé—®é¢˜çš„ç­”æ¡ˆè¡¨è¾¾ä¸ºå…³äºæ‰€é€‰æ•°æ®è¡¨ç¤ºçš„å‡½æ•°å’Œè¡¨è¾¾å¼ã€‚
- en: For this step, the table-driven attempt from [Designing with Self-Referential
    Data Definitions](part_two.html#%28part._ch~3adesign-lists%29) might help again.
    Reconsider the quick-sort< example from [Recursion that Ignores Structure](#%28part._sec~3aquick-sort%29).
    The central idea behind quick-sort< is to divide a given list into a list of smaller
    items and larger items and to sort those separately. [FigureÂ 150](#%28counter._%28figure._fig~3aquick-sort-table%29%29)
    spells out how some simple numeric examples work out for the nontrivial cases.
    From these examples it is straightforward to guess that the answer to the fourth
    question is to append the sorted list of smaller numbers, the pivot number, and
    the sorted list of larger numbers, which can easily be translated into code.
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸€æ­¥éª¤ï¼Œä»[ä½¿ç”¨è‡ªå¼•ç”¨æ•°æ®å®šä¹‰è¿›è¡Œè®¾è®¡](part_two.html#%28part._ch~3adesign-lists%29)ä¸­å¾—åˆ°çš„è¡¨æ ¼é©±åŠ¨å°è¯•å¯èƒ½å†æ¬¡æœ‰æ‰€å¸®åŠ©ã€‚é‡æ–°è€ƒè™‘[å¿½ç•¥ç»“æ„çš„é€’å½’](#%28part._sec~3aquick-sort%29)ä¸­çš„å¿«é€Ÿæ’åºç¤ºä¾‹ã€‚å¿«é€Ÿæ’åºçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ç»™å®šçš„åˆ—è¡¨åˆ†æˆä¸€ä¸ªè¾ƒå°çš„å…ƒç´ åˆ—è¡¨å’Œä¸€ä¸ªè¾ƒå¤§çš„å…ƒç´ åˆ—è¡¨ï¼Œå¹¶åˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œæ’åºã€‚[å›¾150](#%28counter._%28figure._fig~3aquick-sort-table%29%29)è¯´æ˜äº†æŸäº›ç®€å•çš„æ•°å€¼ç¤ºä¾‹åœ¨éå¹³å‡¡æƒ…å†µä¸‹çš„å·¥ä½œåŸç†ã€‚ä»è¿™äº›ç¤ºä¾‹ä¸­å¯ä»¥å¾ˆå®¹æ˜“åœ°çŒœæµ‹ï¼Œç¬¬å››ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯é™„åŠ æ’åºåçš„è¾ƒå°æ•°å­—åˆ—è¡¨ã€æ¢è½´æ•°å­—å’Œæ’åºåçš„è¾ƒå¤§æ•°å­—åˆ—è¡¨ï¼Œè¿™å¯ä»¥å¾ˆå®¹æ˜“åœ°è½¬æ¢ä¸ºä»£ç ã€‚
- en: Once the function is complete, it is time to test it. As before, the goal of
    testing is to discover and eliminate bugs.
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‡½æ•°å®Œæˆåï¼Œå°±æ˜¯æ—¶å€™å¯¹å…¶è¿›è¡Œæµ‹è¯•äº†ã€‚å’Œä¹‹å‰ä¸€æ ·ï¼Œæµ‹è¯•çš„ç›®çš„æ˜¯å‘ç°å’Œæ¶ˆé™¤é”™è¯¯ã€‚
- en: '| alon |  | pivot |  | sorted, smaller |  | sorted, larger |  | expected |'
  id: totrans-260
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| alon |  | pivot |  | sorted, smaller |  | sorted, larger |  | expected |'
- en: '| ''(2  3  1  4) |  | 2 |  | ''(1) |  | ''(3  4) |  | ''(1  2  3  4) |'
  id: totrans-261
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ''(2  3  1  4) |  | 2 |  | ''(1) |  | ''(3  4) |  | ''(1  2  3  4) |'
- en: '| ''(2  0  1  4) |  | 2 |  | ''(0  1) |  | ''(4) |  | ''(0  1  2  4) |'
  id: totrans-262
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ''(2  0  1  4) |  | 2 |  | ''(0  1) |  | ''(4) |  | ''(0  1  2  4) |'
- en: '| ''(3  0  1  4) |  | 3 |  | ''(0  1) |  | ''(4) |  | ''(0  1  3  4) |'
  id: totrans-263
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ''(3  0  1  4) |  | 3 |  | ''(0  1) |  | ''(4) |  | ''(0  1  3  4) |'
- en: ''
  id: totrans-264
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 150: The table-based guessing approach for combining solutions'
  id: totrans-265
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾150ï¼šåŸºäºè¡¨çš„ç»„åˆè§£å†³æ–¹æ¡ˆçš„çŒœæµ‹æ–¹æ³•
- en: ExerciseÂ 431\. Answer the four key questions for the bundle problem and the
    first three questions for the quick-sort< problem. How many instances of generate-problem
    are needed?
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 431ã€‚å›ç­”bundleé—®é¢˜ä¸­çš„å››ä¸ªå…³é”®é—®é¢˜ä»¥åŠquick-sort<é—®é¢˜ä¸­çš„å‰ä¸‰ä¸ªé—®é¢˜ã€‚éœ€è¦å¤šå°‘ä¸ªgenerate-problemå®ä¾‹ï¼Ÿ
- en: ExerciseÂ 432\. [ExerciseÂ 219](part_two.html#%28counter._%28exercise._ex~3aworm5%29%29)
    introduces the function food-create, which consumes a [Posn](part_one.html#%28tech._posn%29)
    and produces a randomly chosen [Posn](part_one.html#%28tech._posn%29) that is
    guaranteed to be distinct from the given one. First reformulate the two functions
    as a single definition, using [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29);
    then justify the design of food-create.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 432ã€‚ [ç»ƒä¹ 219](part_two.html#%28counter._%28exercise._ex~3aworm5%29%29)ä»‹ç»äº†å‡½æ•°food-createï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ª[Posn](part_one.html#%28tech._posn%29)å¹¶äº§ç”Ÿä¸€ä¸ªéšæœºé€‰æ‹©çš„[Posn](part_one.html#%28tech._posn%29)ï¼Œä¿è¯å®ƒä¸ç»™å®šçš„ä¸åŒã€‚é¦–å…ˆå°†ä¸¤ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„å®šä¹‰é‡æ–°è¡¨è¿°ï¼Œä½¿ç”¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)ï¼›ç„¶åè¯æ˜food-createçš„è®¾è®¡æ˜¯åˆç†çš„ã€‚
- en: 26.2Termination[ğŸ”—](#(part._.Termination) "Link to here")
  id: totrans-268
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 26.2ç»ˆæ­¢æ€§[ğŸ”—](#(part._.Termination) "é“¾æ¥è‡³æ­¤")
- en: 'Generative recursion adds an entirely new aspect to computations: non-termination.
    A function such as bundle may never produce a value or signal an error for certain
    inputs. [ExerciseÂ 421](#%28counter._%28exercise._ex~3abundle-loops%29%29) asks
    what the result of (bundle  ''("a"  "b"  "c")  0) is, and here is an explanation
    of why it does not have a result:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: ç”Ÿæˆé€’å½’ä¸ºè®¡ç®—æ·»åŠ äº†ä¸€ä¸ªå…¨æ–°çš„æ–¹é¢ï¼šéç»ˆæ­¢æ€§ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°bundleå¯èƒ½å¯¹äºæŸäº›è¾“å…¥æ°¸è¿œä¸ä¼šäº§ç”Ÿä¸€ä¸ªå€¼æˆ–æŠ¥å‘Šä¸€ä¸ªé”™è¯¯ã€‚[ç»ƒä¹ 421](#%28counter._%28exercise._ex~3abundle-loops%29%29)è¯¢é—®äº†(bundle
    '("a" "b" "c") 0)çš„ç»“æœï¼Œä»¥ä¸‹æ˜¯ä¸ºä»€ä¹ˆå®ƒæ²¡æœ‰ç»“æœçš„åŸå› è§£é‡Šï¼š
- en: '| (bundleÂ ''("a"Â "b"Â "c")Â 0) |'
  id: totrans-270
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (bundleÂ ''("a"Â "b"Â "c")Â 0) |'
- en: '| == |'
  id: totrans-271
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)Â (takeÂ Â ''("a"Â "b"Â "c")Â 0))
    |'
  id: totrans-272
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)Â (takeÂ Â ''("a"Â "b"Â "c")Â 0))
    |'
- en: '| Â Â Â Â Â Â (bundleÂ (dropÂ Â ''("a"Â "b"Â "c")Â 0)Â 0)) |'
  id: totrans-273
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â (bundleÂ (dropÂ Â ''("a"Â "b"Â "c")Â 0)Â 0)) |'
- en: '| == |'
  id: totrans-274
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)Â ''())
    |'
  id: totrans-275
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([implode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._implode%29%29)Â ''())
    |'
- en: '| Â Â Â Â Â Â Â (bundleÂ (dropÂ Â ''("a"Â "b"Â "c")Â 0)Â 0)) |'
  id: totrans-276
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â (bundleÂ (dropÂ Â ''("a"Â "b"Â "c")Â 0)Â 0)) |'
- en: '| ==Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ""Â (bundleÂ (dropÂ Â ''("a"Â "b"Â "c")Â 0)Â 0))
    |'
  id: totrans-277
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ""Â (bundleÂ (dropÂ Â ''("a"Â "b"Â "c")Â 0)Â 0))
    |'
- en: '| ==Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ""Â (bundle  ''("a"  "b"  "c")  0))
    |'
  id: totrans-278
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ""Â (bundle  ''("a"Â "b"Â "c")  0))
    |'
- en: The calculation shows how evaluating (bundle  '("a"  "b"  "c")  0) requires
    having a result for the very same expression. In the context of ISL+ this means
    the evaluation does not stop. Computer scientists say that bundle does not terminate
    when the second argument is 0; they also say that the function loops or that the
    computation is stuck in an infinite loop.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æ˜¾ç¤ºäº†è¯„ä¼°`(bundle '("a" "b" "c") 0)`éœ€è¦å¯¹è¯¥è¡¨è¾¾å¼æœ‰ç»“æœã€‚åœ¨ISL+çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè¿™æ„å‘³ç€è¯„ä¼°ä¸ä¼šåœæ­¢ã€‚è®¡ç®—æœºç§‘å­¦å®¶è¯´ï¼Œå½“ç¬¬äºŒä¸ªå‚æ•°ä¸º0æ—¶ï¼Œbundleä¸ä¼šç»ˆæ­¢ï¼›ä»–ä»¬è¿˜è¯´è¯¥å‡½æ•°å¾ªç¯æˆ–è®¡ç®—é™·å…¥æ— é™å¾ªç¯ã€‚
- en: Contrast this insight with the designs presented in the first four parts. Every
    function designed according to the recipe either produces an answer or raises
    an error signal for every input. After all, the recipe dictates that each natural
    recursion consumes an immediate piece of the input, not the input itself. Because
    data is constructed in a hierarchical manner, input shrinks at every stage. Eventually
    the function is applied to an atomic piece of data, and the recursion stops.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è¿™ä¸€è§è§£ä¸ç¬¬ä¸€éƒ¨åˆ†ä¸­æå‡ºçš„æ–¹æ¡ˆè¿›è¡Œå¯¹æ¯”ã€‚æ ¹æ®æ–¹æ¡ˆè®¾è®¡çš„æ¯ä¸ªå‡½æ•°è¦ä¹ˆä¸ºæ¯ä¸ªè¾“å…¥ç”Ÿæˆç­”æ¡ˆï¼Œè¦ä¹ˆäº§ç”Ÿé”™è¯¯ä¿¡å·ã€‚æ¯•ç«Ÿï¼Œæ–¹æ¡ˆè§„å®šæ¯ä¸ªè‡ªç„¶é€’å½’æ¶ˆè€—çš„æ˜¯è¾“å…¥çš„ä¸€ä¸ªç›´æ¥éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯è¾“å…¥æœ¬èº«ã€‚å› ä¸ºæ•°æ®æ˜¯ä»¥åˆ†å±‚æ–¹å¼æ„å»ºçš„ï¼Œæ‰€ä»¥è¾“å…¥åœ¨æ¯ä¸€é˜¶æ®µéƒ½ä¼šç¼©å°ã€‚æœ€ç»ˆï¼Œå‡½æ•°è¢«åº”ç”¨äºä¸€ä¸ªåŸå­æ•°æ®éƒ¨åˆ†ï¼Œé€’å½’åœæ­¢ã€‚
- en: This reminder also explains why generative recursive functions may diverge.
    According to the design recipe for generative recursion, an algorithm may generate
    new problems without any limitations. If the design recipe required a guarantee
    that the new problems were â€œsmallerâ€ than the given one, it would terminate.The
    theory of computation actually shows that we must lift these restrictions eventually.
    But, imposing such a restriction would needlessly complicate the design of functions
    such as bundle.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæé†’è¿˜è§£é‡Šäº†ä¸ºä»€ä¹ˆç”Ÿæˆé€’å½’å‡½æ•°å¯èƒ½ä¼šå‘æ•£ã€‚æ ¹æ®ç”Ÿæˆé€’å½’çš„è®¾è®¡æ–¹æ¡ˆï¼Œä¸€ä¸ªç®—æ³•å¯èƒ½ç”Ÿæˆæ–°çš„é—®é¢˜è€Œæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚å¦‚æœè®¾è®¡æ–¹æ¡ˆè¦æ±‚ä¿è¯æ–°é—®é¢˜â€œå°äºâ€ç»™å®šé—®é¢˜ï¼Œå®ƒå°±ä¼šç»ˆæ­¢ã€‚è®¡ç®—ç†è®ºå®é™…ä¸Šè¡¨æ˜æˆ‘ä»¬æœ€ç»ˆå¿…é¡»å–æ¶ˆè¿™äº›é™åˆ¶ã€‚ä½†æ˜¯ï¼Œå¯¹åƒbundleè¿™æ ·çš„å‡½æ•°çš„è®¾è®¡æ–½åŠ è¿™ç§é™åˆ¶æ˜¯ä¸å¿…è¦çš„ï¼Œä¼šä½¿è®¾è®¡å¤æ‚åŒ–ã€‚
- en: 'In this book, we therefore keep the first six steps of the design recipe mostly
    intact and supplement them with a seventh step: the termination argument. [FigureÂ 151](#%28counter._%28figure._fig~3adesign7%29%29)
    presents the first part of the design recipe for generative recursion, and [figureÂ 152](#%28counter._%28figure._fig~3adesign7b%29%29)
    the second one. They show the design recipe in the conventional tabular form.
    The unmodified steps come with a dash in the activity column. Others come with
    comments on how the design recipe for generative recursion differs from the one
    for structural recursion. The last row in [figureÂ 152](#%28counter._%28figure._fig~3adesign7b%29%29)
    is completely new.'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œåœ¨è¿™æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šä¿ç•™äº†è®¾è®¡æ–¹æ¡ˆçš„å‰å…­æ­¥ï¼Œå¹¶è¡¥å……äº†ç¬¬ä¸ƒæ­¥ï¼šç»ˆæ­¢è®ºè¯ã€‚[å›¾151](#%28counter._%28figure._fig~3adesign7%29%29)å±•ç¤ºäº†ç”Ÿæˆé€’å½’è®¾è®¡æ–¹æ¡ˆçš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œ[å›¾152](#%28counter._%28figure._fig~3adesign7b%29%29)å±•ç¤ºäº†ç¬¬äºŒéƒ¨åˆ†ã€‚å®ƒä»¬ä»¥ä¼ ç»Ÿçš„è¡¨æ ¼å½¢å¼å±•ç¤ºäº†è®¾è®¡æ–¹æ¡ˆã€‚æœªä¿®æ”¹çš„æ­¥éª¤åœ¨æ´»åŠ¨æ ä¸­å¸¦æœ‰ç ´æŠ˜å·ã€‚å…¶ä»–æ­¥éª¤å¸¦æœ‰å…³äºç”Ÿæˆé€’å½’è®¾è®¡æ–¹æ¡ˆä¸ç»“æ„é€’å½’è®¾è®¡æ–¹æ¡ˆçš„å·®å¼‚çš„æ³¨é‡Šã€‚å›¾152ä¸­çš„æœ€åä¸€è¡Œæ˜¯å®Œå…¨æ–°çš„ã€‚
- en: A termination argument comes in one of two forms. The first one argues why each
    recursive call works on a problem that is smaller than the given one. Often this
    argument is straightforward; on rare occasions, you will need to work with a mathematician
    to prove a theorem for such arguments. The second kind illustrates with an example
    that the function may not terminate.You cannot define a predicate for this class;
    otherwise you could modify the function and ensure that it always terminates.
    Ideally it should also describe the class of data for which the function may loop.
    In rare cases, you may not be able to make either argument because computer science
    does not know enough yet.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ˆæ­¢è®ºè¯æœ‰ä¸¤ç§å½¢å¼ã€‚ç¬¬ä¸€ç§è®ºè¯ä¸ºä»€ä¹ˆæ¯ä¸ªé€’å½’è°ƒç”¨éƒ½åœ¨ä¸€ä¸ªæ¯”ç»™å®šé—®é¢˜æ›´å°çš„é—®é¢˜ä¸Šå·¥ä½œã€‚é€šå¸¸è¿™ç§è®ºè¯å¾ˆç®€å•ï¼›åœ¨ç½•è§çš„æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦ä¸æ•°å­¦å®¶åˆä½œæ¥è¯æ˜è¿™ç±»è®ºè¯çš„å®šç†ã€‚ç¬¬äºŒç§ç±»å‹é€šè¿‡ä¾‹å­è¯´æ˜å‡½æ•°å¯èƒ½ä¸ä¼šç»ˆæ­¢ã€‚ä½ ä¸èƒ½ä¸ºè¿™ç±»å‡½æ•°å®šä¹‰ä¸€ä¸ªè°“è¯ï¼›å¦åˆ™ä½ å¯ä»¥ä¿®æ”¹å‡½æ•°å¹¶ç¡®ä¿å®ƒæ€»æ˜¯ç»ˆæ­¢ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå®ƒè¿˜åº”æè¿°å‡½æ•°å¯èƒ½æ— é™å¾ªç¯çš„æ•°æ®ç±»ã€‚åœ¨ç½•è§çš„æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æ— æ³•æå‡ºä»»ä½•ä¸€ç§è®ºè¯ï¼Œå› ä¸ºè®¡ç®—æœºç§‘å­¦è¿˜äº†è§£å¾—ä¸å¤Ÿã€‚
- en: '| steps |  | outcome |  | activity |'
  id: totrans-284
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ­¥éª¤ |  | ç»“æœ |  | æ´»åŠ¨ |'
- en: '| problem analysis |  | data representation and definition |  | â€”<wbr> |'
  id: totrans-285
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| é—®é¢˜åˆ†æ |  | æ•°æ®è¡¨ç¤ºå’Œå®šä¹‰ |  | â€”<wbr> |'
- en: '| header |  | a purpose statement concerning the â€œhowâ€ of the function |  |
    supplement the explanation of what the function computes with a one-liner on how
    it computes the result |'
  id: totrans-286
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ ‡é¢˜ |  | å…³äºå‡½æ•°â€œå¦‚ä½•â€çš„ç›®çš„å£°æ˜ |  | ç”¨ä¸€è¡Œè¯è¡¥å……å‡½æ•°è®¡ç®—ç»“æœçš„è§£é‡Š |'
- en: '| examples |  | examples and tests |  | work through the â€œhowâ€ with several
    examples |'
  id: totrans-287
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç¤ºä¾‹ |  | ç¤ºä¾‹å’Œæµ‹è¯• |  | é€šè¿‡å‡ ä¸ªç¤ºä¾‹æ¥æ¢è®¨â€œå¦‚ä½•â€ |'
- en: '| template |  | fixed template |  | â€”<wbr> |'
  id: totrans-288
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ¨¡æ¿ |  | å›ºå®šæ¨¡æ¿ |  | â€”<wbr> |'
- en: ''
  id: totrans-289
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 151: Designing algorithms (part 1)'
  id: totrans-290
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 151ï¼šè®¾è®¡ç®—æ³•ï¼ˆç¬¬ä¸€éƒ¨åˆ†ï¼‰
- en: '| steps |  | outcome |  | activity |'
  id: totrans-291
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æ­¥éª¤ |  | ç»“æœ |  | æ´»åŠ¨ |'
- en: '| definition |  | full-fledged function definition |  | formulate conditions
    for trivially solvable problems; formulate answers for these trivial cases; determine
    how to generate new problems for nontrivial problems, possibly using auxiliary
    functions; determine how to combine the solutions of the generated problems into
    a solution for the given problem |'
  id: totrans-292
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| å®šä¹‰ |  | å®Œæ•´çš„å‡½æ•°å®šä¹‰ |  | ä¸ºç®€å•å¯è§£é—®é¢˜åˆ¶å®šæ¡ä»¶ï¼›ä¸ºè¿™äº›ç®€å•æƒ…å†µåˆ¶å®šç­”æ¡ˆï¼›ç¡®å®šå¦‚ä½•ä¸ºéç®€å•é—®é¢˜ç”Ÿæˆæ–°é—®é¢˜ï¼Œå¯èƒ½ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼›ç¡®å®šå¦‚ä½•å°†ç”Ÿæˆé—®é¢˜çš„è§£å†³æ–¹æ¡ˆç»„åˆä¸ºç»™å®šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆ
    |'
- en: '| tests |  | discover mistakes |  | â€”<wbr> |'
  id: totrans-293
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| æµ‹è¯• |  | å‘ç°é”™è¯¯ |  | â€”<wbr> |'
- en: '| termination |  | (1) a size argument for each recursive call or (2) examples
    of exceptions to termination |  | investigate whether the problem data for each
    recursive data is smaller than the given data; find examples that cause the function
    to loop |'
  id: totrans-294
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ç»ˆæ­¢ |  | (1) æ¯æ¬¡é€’å½’è°ƒç”¨çš„å¤§å°å‚æ•°æˆ– (2) ç»ˆæ­¢å¼‚å¸¸çš„ç¤ºä¾‹ |  | è°ƒæŸ¥æ¯ä¸ªé€’å½’æ•°æ®çš„é—®é¢˜æ•°æ®æ˜¯å¦å°äºç»™å®šæ•°æ®ï¼›æ‰¾åˆ°å¯¼è‡´å‡½æ•°å¾ªç¯çš„ç¤ºä¾‹
    |'
- en: ''
  id: totrans-295
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 152: Designing algorithms (part 2)'
  id: totrans-296
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 152ï¼šè®¾è®¡ç®—æ³•ï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰
- en: 'Letâ€™s illustrate the two kinds of termination arguments with examples. For
    the bundle function, it suffices to warn readers about chunk size 0:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æ¥è¯´æ˜ä¸¤ç§ç»ˆæ­¢è®ºè¯ã€‚å¯¹äºæ‰“åŒ…å‡½æ•°ï¼Œåªéœ€è­¦å‘Šè¯»è€…å…³äºå—å¤§å°ä¸º 0 çš„æƒ…å†µï¼š
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)]
    [N](part_two.html#%28tech._n%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
    |'
  id: totrans-298
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)]
    [N](part_two.html#%28tech._n%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [String](part_one.html#%28tech._string%29)]
    |'
- en: '| ;Â bundles sub-sequences of s into strings of length n |'
  id: totrans-299
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| å°† s çš„å­åºåˆ—æ‰“åŒ…æˆé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸² |'
- en: '| ;Â termination  (bundle  s  0) loops unless s is ''() |'
  id: totrans-300
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»ˆæ­¢  (bundle  s  0) é™¤é s æ˜¯ ''() |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-301
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (bundleÂ sÂ n)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: 'In this case, it is possible to define a predicate that precisely describes
    when bundle terminates. For quick-sort<, the key observation is that each recursive
    use of quick-sort< receives a list that is shorter than alon:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªè°“è¯ï¼Œç²¾ç¡®åœ°æè¿°ä½•æ—¶æ‰“åŒ…ç»ˆæ­¢ã€‚å¯¹äº quick-sort<ï¼Œå…³é”®è§‚å¯Ÿæ˜¯æ¯ä¸ª quick-sort< çš„é€’å½’ä½¿ç”¨éƒ½æ¥æ”¶ä¸€ä¸ªæ¯” alon
    çŸ­çš„åˆ—è¡¨ï¼š
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-303
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â creates a sorted variant of alon |'
  id: totrans-304
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ›å»º alon çš„æ’åºå˜ä½“ |'
- en: '| ;Â termination both recursive calls to quick-sort< |'
  id: totrans-305
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¿«é€Ÿæ’åºçš„é€’å½’è°ƒç”¨ç»ˆæ­¢ |'
- en: '| ;Â receive list that miss the pivot item |'
  id: totrans-306
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ¥æ”¶ç¼ºå°‘æ¢è½´é¡¹çš„åˆ—è¡¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (quick-sort<Â alon)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-307
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (quick-sort<Â alon)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: In one case, the list consists of the numbers that are strictly smaller than
    the pivot; the other one is for numbers strictly larger.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸€ç§æƒ…å†µä¸‹ï¼Œåˆ—è¡¨ç”±ä¸¥æ ¼å°äºæ¢è½´çš„æ•°å­—ç»„æˆï¼›å¦ä¸€ç§æƒ…å†µæ˜¯ä¸¥æ ¼å¤§äºæ¢è½´çš„æ•°å­—ã€‚
- en: ExerciseÂ 433\. Develop a checked version of bundle that is guaranteed to terminate
    for all inputs. It may signal an error for those cases where the original version
    loops.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 433ã€‚å¼€å‘ä¸€ä¸ªç»è¿‡æ£€æŸ¥çš„bundleç‰ˆæœ¬ï¼Œç¡®ä¿å¯¹äºæ‰€æœ‰è¾“å…¥éƒ½èƒ½ç»ˆæ­¢ã€‚å¯¹äºåŸå§‹ç‰ˆæœ¬å¯èƒ½é™·å…¥å¾ªç¯çš„æƒ…å†µï¼Œå®ƒå¯èƒ½ä¼šå‘å‡ºé”™è¯¯ä¿¡å·ã€‚
- en: 'ExerciseÂ 434\. Consider the following definition of smallers, one of the two
    â€œproblem generatorsâ€ for quick-sort<:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 434ã€‚è€ƒè™‘ä»¥ä¸‹smallersçš„å®šä¹‰ï¼Œå®ƒæ˜¯å¿«é€Ÿæ’åºçš„â€œé—®é¢˜ç”Ÿæˆå™¨â€ä¹‹ä¸€ï¼š
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-311
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (smallersÂ lÂ n)
    |'
  id: totrans-312
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (smallersÂ lÂ n)ï¼‰|'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-313
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)ï¼‰|'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]
    |'
  id: totrans-314
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â l)Â ''()]ï¼‰|'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â n)
    |'
  id: totrans-315
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â n)ï¼‰|'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â (smallersÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â n))
    |'
  id: totrans-316
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â l)Â ([smallers](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._smallers%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â n)ï¼‰|'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â (smallersÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â n))]))
    |'
  id: totrans-317
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆè¾ƒå°çš„([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â l)Â n))ï¼‰|'
- en: What can go wrong when this version is used with the quick-sort< definition
    from [Recursion that Ignores Structure](#%28part._sec~3aquick-sort%29)?
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½¿ç”¨[å¿½ç•¥ç»“æ„çš„é€’å½’](#%28part._sec~3aquick-sort%29)ä¸­çš„quick-sort<å®šä¹‰æ—¶ï¼Œè¿™ä¸ªç‰ˆæœ¬å¯èƒ½ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- en: ExerciseÂ 435\. When you worked on [exerciseÂ 430](#%28counter._%28exercise._ex~3aquick-sort-abstract%29%29)
    or [exerciseÂ 428](#%28counter._%28exercise._ex~3aquick-sort-drop%29%29), you may
    have produced looping solutions. Similarly, [exerciseÂ 434](#%28counter._%28exercise._ex~3aquick-sort-non-terminate%29%29)
    actually reveals how brittle the termination argument is for quick-sort<. In all
    cases, the argument relies on the idea that smallers and largers produce lists
    that are maximally as long as the given list, and on our understanding that neither
    includes the given pivot in the result.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 435ã€‚å½“ä½ å¤„ç†[ç»ƒä¹ 430](#%28counter._%28exercise._ex~3aquick-sort-abstract%29%29)æˆ–[ç»ƒä¹ 428](#%28counter._%28exercise._ex~3aquick-sort-drop%29%29)æ—¶ï¼Œä½ å¯èƒ½å·²ç»äº§ç”Ÿäº†å¾ªç¯è§£å†³æ–¹æ¡ˆã€‚åŒæ ·ï¼Œ[ç»ƒä¹ 434](#%28counter._%28exercise._ex~3aquick-sort-non-terminate%29%29)å®é™…ä¸Šæ­ç¤ºäº†quick-sort<çš„ç»ˆæ­¢æ€§è®ºè¯æ˜¯å¤šä¹ˆè„†å¼±ã€‚åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œè®ºè¯ä¾èµ–äºè¾ƒå°çš„å’Œè¾ƒå¤§çš„åˆ—è¡¨äº§ç”Ÿä¸ç»™å®šåˆ—è¡¨æœ€å¤§é•¿åº¦ç›¸åŒçš„åˆ—è¡¨çš„æƒ³æ³•ï¼Œä»¥åŠæˆ‘ä»¬ç†è§£è¿™ä¸¤ä¸ªåˆ—è¡¨éƒ½ä¸åŒ…æ‹¬ç»™å®šçš„æ¢è½´ã€‚
- en: Based on this explanation, modify the definition of quick-sort< so that both
    functions receive lists that are shorter than the given one.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®è¿™ä¸ªè§£é‡Šï¼Œä¿®æ”¹quick-sort<çš„å®šä¹‰ï¼Œä»¥ä¾¿ä¸¤ä¸ªå‡½æ•°éƒ½æ¥æ”¶æ¯”ç»™å®šåˆ—è¡¨æ›´çŸ­çš„åˆ—è¡¨ã€‚
- en: ExerciseÂ 436\. Formulate a termination argument for food-create from [exerciseÂ 432](#%28counter._%28exercise._ex~3aworm5-explained%29%29).
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 436ã€‚ä¸ºfood-createä»[ç»ƒä¹ 432](#%28counter._%28exercise._ex~3aworm5-explained%29%29)åˆ¶å®šä¸€ä¸ªç»ˆæ­¢æ€§è®ºè¯ã€‚
- en: 26.3Structural versus Generative Recursion[ğŸ”—](#(part._sec~3astruct-gen-rec)
    "Link to here")
  id: totrans-322
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 26.3 ç»“æ„é€’å½’ä¸ç”Ÿæˆé€’å½’[ğŸ”—](#(part._sec~3astruct-gen-rec) "é“¾æ¥è‡³æ­¤")
- en: The template for algorithms is so general that it includes structurally recursive
    functions. Consider the left side of [figureÂ 153](#%28counter._%28figure._fig~3agenerative-vs-structural%29%29).
    This template is specialized to deal with one trivial clause and one generative
    step. If we replace trivial? with [empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    and generate with [rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29),
    we get a template for list-processing functions; see the right side of [figureÂ 153](#%28counter._%28figure._fig~3agenerative-vs-structural%29%29).
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: ç®—æ³•æ¨¡æ¿éå¸¸é€šç”¨ï¼Œä»¥è‡³äºå®ƒåŒ…æ‹¬ç»“æ„é€’å½’å‡½æ•°ã€‚è€ƒè™‘[å›¾153](#%28counter._%28figure._fig~3agenerative-vs-structural%29%29)çš„å·¦ä¾§ã€‚è¿™ä¸ªæ¨¡æ¿è¢«ä¸“é—¨åŒ–ä»¥å¤„ç†ä¸€ä¸ªå¹³å‡¡å­å¥å’Œä¸€ä¸ªç”Ÿæˆæ­¥éª¤ã€‚å¦‚æœæˆ‘ä»¬ç”¨[empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)æ›¿æ¢trivial?å¹¶ç”¨[rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)ç”Ÿæˆï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªç”¨äºåˆ—è¡¨å¤„ç†å‡½æ•°çš„æ¨¡æ¿ï¼›å‚è§[å›¾153](#%28counter._%28figure._fig~3agenerative-vs-structural%29%29)çš„å³ä¾§ã€‚
- en: '|'
  id: totrans-324
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-325
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (generalÂ P)
    &#124;'
  id: totrans-326
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (general P) &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-327
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [(trivial?Â P)Â (solveÂ P)] &#124;'
  id: totrans-328
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (trivial? P) (solve P)] &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-329
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â (combine-solutions &#124;'
  id: totrans-330
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (combine-solutions &#124;'
- en: '&#124; Â Â Â Â Â Â Â P &#124;'
  id: totrans-331
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; P &#124;'
- en: '&#124; Â Â Â Â Â Â Â (general &#124;'
  id: totrans-332
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (general &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â (generateÂ P)))])) &#124;'
  id: totrans-333
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; (generate P)))])) &#124;'
- en: ''
  id: totrans-334
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-335
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-336
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (specialÂ P)
    &#124;'
  id: totrans-337
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (special P) &#124;'
- en: '&#124; Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
  id: totrans-338
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    &#124;'
- en: '&#124; Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â P)Â (solveÂ P)]
    &#124;'
  id: totrans-339
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)
    P) (solve P)] &#124;'
- en: '&#124; Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
  id: totrans-340
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    &#124;'
- en: '&#124; Â Â Â Â Â (combine-solutions &#124;'
  id: totrans-341
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â (combine-solutions &#124;'
- en: '&#124; Â Â Â Â Â Â Â P &#124;'
  id: totrans-342
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â P &#124;'
- en: '&#124; Â Â Â Â Â Â Â (specialÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â P)))]))
    &#124;'
  id: totrans-343
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124;Â Â Â (specialÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â P)))]))
    &#124;'
- en: ''
  id: totrans-344
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-345
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-346
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 153: From generative to structural recursion'
  id: totrans-347
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 153ï¼šä»ç”Ÿæˆå¼é€’å½’åˆ°ç»“æ„åŒ–é€’å½’
- en: ExerciseÂ 437\. Define solve and combine-solutions so that
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ Â 437ã€‚å®šä¹‰solveå’Œcombine-solutionsï¼Œä»¥ä¾¿
- en: special computes the length of its input,
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: special computes the length of its input,
- en: special negates each number on the given list of numbers, and
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: special negates each number on the given list of numbers, and
- en: special uppercases the given list of strings.
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: special uppercases the given list of strings.
- en: What do you conclude from these exercises?
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ä»è¿™äº›ç»ƒä¹ ä¸­å¾—å‡ºä»€ä¹ˆç»“è®ºï¼Ÿ
- en: Now you may wonder whether there is a real difference between structural recursive
    design and the one for generative recursion. Our answer is â€œit depends.â€ Of course,
    we could say that all functions using structural recursion are just special cases
    of generative recursion. This â€œeverything is equalâ€ attitude, however, is of no
    help if we wish to understand the process of designing functions. It confuses
    two kinds of design that require different forms of knowledge and that have different
    consequences. One relies on a systematic data analysis and not much more; the
    other requires a deep, often mathematical, insight into the problem-solving process
    itself. One leads programmers to naturally terminating functions; the other requires
    a termination argument. Conflating these two approaches is unhelpful.
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å¯èƒ½æƒ³çŸ¥é“ç»“æ„åŒ–é€’å½’è®¾è®¡å’Œæ–¹æ³•ç”Ÿæˆé€’å½’è®¾è®¡ä¹‹é—´æ˜¯å¦æœ‰çœŸæ­£çš„åŒºåˆ«ã€‚æˆ‘ä»¬çš„ç­”æ¡ˆæ˜¯â€œè¿™å–å†³äºã€‚â€å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥è¯´æ‰€æœ‰ä½¿ç”¨ç»“æ„åŒ–é€’å½’çš„å‡½æ•°éƒ½æ˜¯ç”Ÿæˆå¼é€’å½’çš„ç‰¹æ®Šæƒ…å†µã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ç†è§£è®¾è®¡å‡½æ•°çš„è¿‡ç¨‹ï¼Œè¿™ç§â€œä¸€åˆ‡çš†ç­‰â€çš„æ€åº¦å¹¶æ— å¸®åŠ©ã€‚å®ƒæ··æ·†äº†ä¸¤ç§éœ€è¦ä¸åŒå½¢å¼çŸ¥è¯†å’Œä¸åŒåæœçš„è®¾è®¡ã€‚ä¸€ç§ä¾èµ–äºç³»ç»Ÿæ€§çš„æ•°æ®åˆ†æï¼Œè€Œå¦ä¸€ç§åˆ™éœ€è¦æ·±å…¥ã€é€šå¸¸æ˜¯æ•°å­¦çš„æ´å¯ŸåŠ›ï¼Œä»¥äº†è§£è§£å†³é—®é¢˜çš„è¿‡ç¨‹æœ¬èº«ã€‚ä¸€ç§å¼•å¯¼ç¨‹åºå‘˜ç¼–å†™è‡ªç„¶ç»ˆæ­¢çš„å‡½æ•°ï¼›å¦ä¸€ç§åˆ™éœ€è¦ç»ˆæ­¢è®ºè¯ã€‚æ··æ·†è¿™ä¸¤ç§æ–¹æ³•å¹¶æ— ç›Šå¤„ã€‚
- en: 26.4Making Choices[ğŸ”—](#(part._sec~3achoice) "Link to here")
  id: totrans-354
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 26.4åšå‡ºé€‰æ‹©[ğŸ”—](#(part._sec~3achoice) "é“¾æ¥åˆ°æ­¤å¤„")
- en: When you interact with a function f that sorts lists of numbers, it is impossible
    for you to know whether f is sort< or quick-sort<. The two functions behave in
    an observably equivalent way.Observable equivalence is a central concept from
    the study of programming languages. This raises the question of which of the two
    a programming language should provide. More generally, when we can design a function
    using structural recursion and generative recursion, we must figure out which
    one to pick.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ ä¸ä¸€ä¸ªæ’åºæ•°å­—åˆ—è¡¨çš„å‡½æ•°fäº¤äº’æ—¶ï¼Œä½ æ— æ³•çŸ¥é“fæ˜¯sort<è¿˜æ˜¯quick-sort<ã€‚è¿™ä¸¤ä¸ªå‡½æ•°çš„è¡Œä¸ºåœ¨å¯è§‚å¯Ÿä¸Šæ˜¯ç­‰æ•ˆçš„ã€‚å¯è§‚å¯Ÿç­‰æ•ˆæ˜¯ç¼–ç¨‹è¯­è¨€ç ”ç©¶ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚è¿™å¼•å‘äº†è¿™æ ·çš„é—®é¢˜ï¼šç¼–ç¨‹è¯­è¨€åº”è¯¥æä¾›å“ªä¸€ç§ã€‚æ›´æ™®éåœ°è¯´ï¼Œå½“æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–é€’å½’å’Œç”Ÿæˆå¼é€’å½’æ¥è®¾è®¡ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å¼„æ¸…æ¥šé€‰æ‹©å“ªä¸€ç§ã€‚
- en: 'To illustrate the consequences of this choice, we discuss a classical example
    from mathematics: the problem of finding the greatest common divisor (gcd) of
    two positive natural numbers.John Stone suggested the greatest common divisor
    as a suitable example. All such numbers have 1 as divisor in common. On occasionâ€”<wbr>say,
    2 and 3â€”<wbr>this is also the only common divisor. Both 6 and 25 are numbers with
    several divisors:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è¯´æ˜è¿™ç§é€‰æ‹©å¸¦æ¥çš„åæœï¼Œæˆ‘ä»¬è®¨è®ºä¸€ä¸ªæ•°å­¦ä¸­çš„ç»å…¸ä¾‹å­ï¼šå¯»æ‰¾ä¸¤ä¸ªæ­£è‡ªç„¶æ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆgcdï¼‰é—®é¢˜ã€‚çº¦ç¿°Â·æ–¯é€šå»ºè®®å°†æœ€å¤§å…¬çº¦æ•°ä½œä¸ºä¸€ä¸ªåˆé€‚çš„ä¾‹å­ã€‚æ‰€æœ‰è¿™äº›æ•°éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„å› æ•°1ã€‚æœ‰æ—¶â€”â€”æ¯”å¦‚è¯´ï¼Œ2å’Œ3â€”â€”è¿™åŒæ—¶ä¹Ÿæ˜¯å”¯ä¸€çš„å…±åŒå› æ•°ã€‚6å’Œ25éƒ½æ˜¯æœ‰å¤šé‡å› æ•°çš„æ•°ï¼š
- en: 6 is evenly divisible by 1, 2, 3, and 6;
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 6 is evenly divisible by 1, 2, 3, and 6;
- en: 25 is evenly divisible by 1, 5, and 25.
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 25 is evenly divisible by 1, 5, and 25.
- en: 'And yet, their greatest common divisor is 1\. In contrast, 18 and 24 have many
    common divisors and their greatest common divisor is 6:'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œå®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°æ˜¯1ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ18å’Œ24æœ‰å¤šä¸ªå…±åŒå› æ•°ï¼Œå®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°æ˜¯6ï¼š
- en: 18 is evenly divisible by 1, 2, 3, 6, 9, and 18;
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 18æ˜¯1ã€2ã€3ã€6ã€9å’Œ18çš„å€æ•°ï¼›
- en: 24 is evenly divisible by 1, 2, 3, 4, 6, 8, 12, and 24.
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 24 is evenly divisible by 1, 2, 3, 4, 6, 8, 12, and 24.
- en: 'Completing the first three steps of the design recipe is straightforward:'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 'Completing the first three steps of the design recipe is straightforward:'
- en: '| ;Â [N](part_two.html#%28tech._n%29)[>= 1] [N](part_two.html#%28tech._n%29)[>=
    1] -> [N](part_two.html#%28tech._n%29) |'
  id: totrans-363
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29)[>= 1] [N](part_two.html#%28tech._n%29)[>=
    1] -> [N](part_two.html#%28tech._n%29) |'
- en: '| ;Â finds the greatest common divisor of n and m |'
  id: totrans-364
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ‰¾åˆ°nå’Œmçš„æœ€å¤§å…¬çº¦æ•° |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â 6Â 25)Â 1)
    |'
  id: totrans-365
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â 6Â 25)Â 1)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â 18Â 24)Â 6)
    |'
  id: totrans-366
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â 18Â 24)Â 6)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â nÂ m)Â 42)
    |'
  id: totrans-367
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â nÂ m)Â 42)
    |'
- en: The signature specifies the inputs as natural numbers greater than or equal
    to 1.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: ç­¾åæŒ‡å®šè¾“å…¥ä¸ºå¤§äºæˆ–ç­‰äº1çš„è‡ªç„¶æ•°ã€‚
- en: From here we design both a structural and a generative recursive solution. Since
    this part of the book is about generative recursion, we merely present a structural
    solution in [figureÂ 154](#%28counter._%28figure._fig~3astructural-gcd%29%29) and
    leave the design ideas to exercises. Just note that ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)  ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  n  i)  ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  m  i)  0)
    encodes the idea that both n and m are â€œevenly divisibleâ€ by i.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™é‡Œæˆ‘ä»¬è®¾è®¡äº†ç»“æ„æ€§å’Œç”Ÿæˆæ€§é€’å½’çš„è§£å†³æ–¹æ¡ˆã€‚ç”±äºæœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†æ˜¯å…³äºç”Ÿæˆæ€§é€’å½’ï¼Œæˆ‘ä»¬ä»…åœ¨[å›¾154](#%28counter._%28figure._fig~3astructural-gcd%29%29)ä¸­å±•ç¤ºäº†ç»“æ„è§£å†³æ–¹æ¡ˆï¼Œå¹¶å°†è®¾è®¡æ€è·¯ç•™ç»™ç»ƒä¹ ã€‚åªéœ€æ³¨æ„ï¼Œ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)  ([ä½™æ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  n  i)  ([ä½™æ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  m  i)  0)
    è¡¨ç¤ºnå’Œméƒ½èƒ½è¢«iâ€œå‡åŒ€åœ°é™¤å°½â€ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gcd-structuralÂ nÂ m)
    |'
  id: totrans-370
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gcd-structuralÂ nÂ m)
    |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [N](part_two.html#%28tech._n%29)
    -> [N](part_two.html#%28tech._n%29) |'
  id: totrans-371
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [N](part_two.html#%28tech._n%29)
    -> [N](part_two.html#%28tech._n%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â determines the gcd of n and m less than i |'
  id: totrans-372
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ;Â ç¡®å®šnå’Œmå°äºiçš„gcd |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (greatest-divisor-<=Â i)
    |'
  id: totrans-373
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (greatest-divisor-<=Â i)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-374
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â iÂ 1)Â 1]
    |'
  id: totrans-375
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â iÂ 1)Â 1]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-376
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â nÂ i)Â ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â mÂ i)Â 0)
    |'
  id: totrans-377
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â nÂ i)Â ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â mÂ i)Â 0)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â i |'
  id: totrans-378
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â i |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (greatest-divisor-<=Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â iÂ 1)))])))
    |'
  id: totrans-379
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (greatest-divisor-<=Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â iÂ 1)))])))
    |'
- en: '| Â Â Â Â (greatest-divisor-<=Â ([min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29)Â nÂ m))))
    |'
  id: totrans-380
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (greatest-divisor-<=Â ([min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29)Â nÂ m))))
    |'
- en: ''
  id: totrans-381
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 154: Finding the greatest common divisor via structural recursion'
  id: totrans-382
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾154ï¼šé€šè¿‡ç»“æ„é€’å½’æ‰¾åˆ°æœ€å¤§å…¬çº¦æ•°
- en: 'ExerciseÂ 438\. In your words: how does greatest-divisor-<= work? Use the design
    recipe to find the right words. Why does the locally defined greatest-divisor-<=
    recur on ([min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29)  n  m)?'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 438ã€‚ç”¨ä½ è‡ªå·±çš„è¯æ¥è¯´ï¼šæœ€å¤§å…¬çº¦æ•°å‡½æ•°greatest-divisor-<=æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä½¿ç”¨è®¾è®¡é£Ÿè°±æ‰¾åˆ°åˆé€‚çš„è¯è¯­ã€‚ä¸ºä»€ä¹ˆå±€éƒ¨å®šä¹‰çš„greatest-divisor-<=åœ¨([min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29)
    n m)ä¸Šé€’å½’ï¼Ÿ
- en: 'Although the design of gcd-structural is rather straightforward, it is also
    naive. It simply tests for every number between the smaller of n and m and 1 whether
    it divides both n and m evenly and returns the first such number. For small n
    and m, this works just fine. Consider the following example, however:'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶gcd-structuralçš„è®¾è®¡ç›¸å½“ç›´æ¥ï¼Œä½†ä¹Ÿç›¸å½“ç®€å•ã€‚å®ƒåªæ˜¯æµ‹è¯•nå’Œmä¸­è¾ƒå°çš„ä¸€ä¸ªå’Œ1ä¹‹é—´çš„æ¯ä¸€ä¸ªæ•°ï¼Œçœ‹å®ƒæ˜¯å¦èƒ½åŒæ—¶æ•´é™¤nå’Œmï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªè¿™æ ·çš„æ•°ã€‚å¯¹äºè¾ƒå°çš„nå’Œmï¼Œè¿™å·¥ä½œå¾—å¾ˆå¥½ã€‚ç„¶è€Œï¼Œè€ƒè™‘ä»¥ä¸‹ä¾‹å­ï¼š
- en: (gcd-structuralÂ 101135853Â 45014640)
  id: totrans-385
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (gcd-structuralÂ 101135853Â 45014640)
- en: The result is 177. To get there, gcd-structural checks the â€œevenly divisibleâ€
    condition for 45014640, that is, it checks 45014640 - 177 remainders. Checking
    that many [remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)sâ€”<wbr>twice!â€”<wbr>is
    a large effort, and even reasonably fast computers need time to complete this
    task.ExerciseÂ 439\. Copy gcd-structural into DrRacket and evaluate
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœæ˜¯177ã€‚ä¸ºäº†å¾—åˆ°è¿™ä¸ªç»“æœï¼Œgcd-structuralæ£€æŸ¥äº†45014640çš„â€œèƒ½æ•´é™¤â€æ¡ä»¶ï¼Œå³å®ƒæ£€æŸ¥äº†45014640 - 177çš„ä½™æ•°ã€‚æ£€æŸ¥è¿™ä¹ˆå¤šçš„[remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)sâ€”â€”ä¸¤æ¬¡ï¼â€”â€”è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å·¥ä½œé‡ï¼Œå³ä½¿æ˜¯ç›¸å½“å¿«çš„è®¡ç®—æœºä¹Ÿéœ€è¦æ—¶é—´æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚ç»ƒä¹ 439ã€‚å°†gcd-structuralå¤åˆ¶åˆ°DrRacketä¸­å¹¶è¯„ä¼°
- en: ([time](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (gcd-structuralÂ 101135853Â 45014640))
  id: totrans-387
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([time](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (gcd-structuralÂ 101135853Â 45014640))
- en: in the interactions area.Since mathematicians recognized the inefficiency of
    this structural function a long time ago, they studied the problem of finding
    divisors in depth. The essential insight is that
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨äº¤äº’åŒºåŸŸã€‚ç”±äºæ•°å­¦å®¶ä»¬å¾ˆæ—©å°±è®¤è¯†åˆ°è¿™ç§ç»“æ„å‡½æ•°çš„ä½æ•ˆæ€§ï¼Œä»–ä»¬æ·±å…¥ç ”ç©¶äº†å¯»æ‰¾å› æ•°çš„é—®é¢˜ã€‚åŸºæœ¬çš„æ´è§æ˜¯
- en: for two natural numbers, L for large and S for small, the greatest common divisor
    is equal to the greatest common divisor of S and the remainder of L divided by
    S.
  id: totrans-389
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¯¹äºä¸¤ä¸ªè‡ªç„¶æ•°ï¼ŒL ä»£è¡¨å¤§æ•°ï¼ŒS ä»£è¡¨å°æ•°ï¼Œæœ€å¤§å…¬çº¦æ•°ç­‰äº S å’Œ L é™¤ä»¥ S çš„ä½™æ•°çš„æœ€å¤§å…¬çº¦æ•°ã€‚
- en: 'Here is how we can articulate this insight as an equation:'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯å¦‚ä½•å°†è¿™ä¸ªæ´è§è¡¨è¿°ä¸ºä¸€ä¸ªç­‰å¼ï¼š
- en: ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â LÂ S)Â ==Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â SÂ ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â LÂ S))
  id: totrans-391
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)
    L S) == ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)
    S ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)
    L S))
- en: 'Since ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  L  S)
    is smaller than both L and S, the right-hand side use of [gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)
    consumes S first.Here is how this insight applies to our small example:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äº ([ä½™æ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)
    L S) å°äº L å’Œ Sï¼Œæ‰€ä»¥ [gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)
    çš„å³ä¾§ä½¿ç”¨é¦–å…ˆæ¶ˆè€— Sã€‚ä»¥ä¸‹æ˜¯è¿™ä¸ªæ´è§å¦‚ä½•åº”ç”¨äºæˆ‘ä»¬çš„å°ä¾‹å­ï¼š
- en: The given numbers are 18 and 24.
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»™å®šçš„æ•°å­—æ˜¯ 18 å’Œ 24ã€‚
- en: According to the insight, they have the same gcd as 18 and 6.
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ ¹æ®æ´è§ï¼Œå®ƒä»¬ä¸ 18 å’Œ 6 æœ‰ç›¸åŒçš„æœ€å¤§å…¬çº¦æ•°ã€‚
- en: And these two have the same greatest common divisor as 6 and 0.
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™ä¸¤ä¸ªæ•°ä¸ 6 å’Œ 0 æœ‰ç›¸åŒçš„æœ€å¤§å…¬çº¦æ•°ã€‚
- en: 'Now we seem stuck because 0 is unexpected. But, 0 can be evenly divided by
    every number, meaning we have found our answer: 6.Working through the example
    not only validates the basic insight but also suggests how to turn the insight
    into an algorithm:'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬ä¼¼ä¹é™·å…¥äº†å›°å¢ƒï¼Œå› ä¸º 0 æ˜¯æ„å¤–çš„ã€‚ä½†æ˜¯ï¼Œ0 å¯ä»¥è¢«æ¯ä¸ªæ•°æ•´é™¤ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†ç­”æ¡ˆï¼š6ã€‚é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œä¸ä»…éªŒè¯äº†åŸºæœ¬çš„æ´è§ï¼Œè¿˜æå‡ºäº†å¦‚ä½•å°†æ´è§è½¬åŒ–ä¸ºç®—æ³•ï¼š
- en: when the smaller of the numbers is 0, we face a trivial case;
  id: totrans-397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“è¾ƒå°çš„æ•°å­—ä¸º 0 æ—¶ï¼Œæˆ‘ä»¬é¢ä¸´ä¸€ä¸ªå¹³å‡¡çš„æƒ…å†µï¼›
- en: the larger of the two numbers is the solution in the trivial case;
  id: totrans-398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¾ƒå¤§çš„æ•°å­—æ˜¯å¹³å‡¡æƒ…å†µä¸‹çš„è§£ï¼›
- en: generating a new problem requires one [remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)
    operation; and
  id: totrans-399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”Ÿæˆä¸€ä¸ªæ–°çš„é—®é¢˜éœ€è¦ä¸€æ¬¡ [ä½™æ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)
    æ“ä½œï¼›å¹¶ä¸”
- en: the above equation tells us that the answer to the newly generated problem is
    also the answer to the originally given problem.
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸Šè¿°ç­‰å¼å‘Šè¯‰æˆ‘ä»¬ï¼Œæ–°ç”Ÿæˆé—®é¢˜çš„ç­”æ¡ˆä¹Ÿæ˜¯åŸå§‹ç»™å®šé—®é¢˜çš„ç­”æ¡ˆã€‚
- en: In short, the answers for the four design-recipe questions fall out.
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œå››ä¸ªè®¾è®¡é…æ–¹é—®é¢˜çš„ç­”æ¡ˆè‡ªç„¶è€Œç„¶åœ°å‡ºç°äº†ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gcd-generativeÂ nÂ m)
    |'
  id: totrans-402
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (gcd-generative n m) |'
- en: '| Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (;Â [N](part_two.html#%28tech._n%29)[>=
    1] [N](part_two.html#%28tech._n%29) -> [N](part_two.html#%28tech._n%29) |'
  id: totrans-403
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    (; [N](part_two.html#%28tech._n%29)[>= 1] [N](part_two.html#%28tech._n%29) ->
    [N](part_two.html#%28tech._n%29) |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â generative recursion |'
  id: totrans-404
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â ; ç”Ÿæˆæ€§é€’å½’ |'
- en: '| Â Â Â Â Â Â Â Â Â Â ;Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)  L  S)  ==  ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)  S  ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  L  S))
    |'
  id: totrans-405
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â ;Â ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â LÂ S)Â ==  ([gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)Â SÂ ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â LÂ S))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (clever-gcdÂ LÂ S)
    |'
  id: totrans-406
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (clever-gcdÂ LÂ S)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-407
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â SÂ 0)Â L]
    |'
  id: totrans-408
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â [([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â SÂ 0)Â L]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (clever-gcdÂ SÂ ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â LÂ S))])))
    |'
  id: totrans-409
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (clever-gcdÂ SÂ ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)Â LÂ S)))))
    |'
- en: '| Â Â Â Â (clever-gcdÂ ([max](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._max%29%29)Â mÂ n)Â ([min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29)Â mÂ n))))
    |'
  id: totrans-410
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â (clever-gcdÂ ([max](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._max%29%29)Â mÂ n)Â ([min](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._min%29%29)Â mÂ n))))
    |'
- en: ''
  id: totrans-411
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 155: Finding the greatest common divisor via generative recursion'
  id: totrans-412
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾155ï¼šé€šè¿‡ç”Ÿæˆé€’å½’æ‰¾åˆ°æœ€å¤§å…¬çº¦æ•°
- en: '[FigureÂ 155](#%28counter._%28figure._fig~3agenerative-gcd%29%29) presents the
    definition of the algorithm. The [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    definition introduces the workhorse of the function: clever-gcd. Its first [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    line discovers the trivial case by comparing smaller to 0 and produces the matching
    solution. The generative step uses smaller as the new first argument and ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  large  small)
    as the new second argument to clever-gcd.'
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾155](#%28counter._%28figure._fig~3agenerative-gcd%29%29) å±•ç¤ºäº†ç®—æ³•çš„å®šä¹‰ã€‚å±€éƒ¨å®šä¹‰å¼•å…¥äº†å‡½æ•°çš„å·¥ä½œæ ¸å¿ƒï¼šclever-gcdã€‚å®ƒçš„ç¬¬ä¸€è¡Œ
    cond é€šè¿‡æ¯”è¾ƒè¾ƒå°å€¼ä¸ 0 æ¥å‘ç°å¹³å‡¡æƒ…å†µï¼Œå¹¶äº§ç”ŸåŒ¹é…çš„è§£ã€‚ç”Ÿæˆæ­¥éª¤ä½¿ç”¨è¾ƒå°å€¼ä½œä¸ºæ–°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»¥åŠ ([remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)  large  small)
    ä½œä¸ºæ–°çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™ clever-gcdã€‚'
- en: If we now use gcd-generative with our above example,
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬ç°åœ¨ä½¿ç”¨ gcd-generative ä¸ä¸Šé¢çš„ä¾‹å­ï¼Œ
- en: (gcd-generativeÂ 101135853Â 45014640)
  id: totrans-415
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (gcd-generativeÂ 101135853Â 45014640)
- en: 'we see that the response is nearly instantaneous. A hand-evaluation shows that
    clever-gcd recurs only nine times before it produces the solution:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å“åº”å‡ ä¹æ˜¯ç¬é—´çš„ã€‚æ‰‹åŠ¨è¯„ä¼°æ˜¾ç¤º clever-gcd åœ¨äº§ç”Ÿè§£ä¹‹å‰ä»…é€’å½’äº†ä¹æ¬¡ï¼š
- en: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-417
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| ==Â (clever-gcdÂ 101135853Â 45014640) |'
  id: totrans-418
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 101135853Â 45014640) |'
- en: '| ==Â (clever-gcdÂ 45014640Â 11106573) |'
  id: totrans-419
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 45014640Â 11106573) |'
- en: '| ==Â (clever-gcdÂ 11106573Â 588348) |'
  id: totrans-420
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 11106573Â 588348) |'
- en: '| ==Â (clever-gcdÂ 588348Â 516309) |'
  id: totrans-421
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 588348Â 516309) |'
- en: '| ==Â (clever-gcdÂ 516309Â 72039) |'
  id: totrans-422
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 516309Â 72039) |'
- en: '| ==Â (clever-gcdÂ 72039Â 12036) |'
  id: totrans-423
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 72039Â 12036) |'
- en: '| ==Â (clever-gcdÂ 12036Â 11859) |'
  id: totrans-424
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 12036Â 11859) |'
- en: '| ==Â (clever-gcdÂ 11859Â 177) |'
  id: totrans-425
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 11859Â 177) |'
- en: '| ==Â (clever-gcdÂ 177Â 0) |'
  id: totrans-426
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â (clever-gcdÂ 177Â 0) |'
- en: This also means that it checks only nine [remainder](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)
    conditions, clearly a much smaller effort than gcd-structural expends.ExerciseÂ 440\.
    Copy gcd-generative into the definitions area of DrRacket and evaluate
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¹Ÿæ„å‘³ç€å®ƒåªæ£€æŸ¥äº†ä¹ä¸ª[ä½™æ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remainder%29%29)æ¡ä»¶ï¼Œè¿™æ˜¾ç„¶æ¯”gcd-structuralæ¶ˆè€—çš„ç²¾åŠ›å°å¾—å¤šã€‚ç»ƒä¹ Â 440.
    å°†gcd-generativeå¤åˆ¶åˆ°DrRacketçš„å®šä¹‰åŒºåŸŸå¹¶è®¡ç®—
- en: ([time](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (gcd-generativeÂ 101135853Â 45014640))
  id: totrans-428
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æ—¶é—´](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._time%29%29)Â (gcd-generativeÂ 101135853Â 45014640))
- en: in the interactions area.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨äº¤äº’åŒºåŸŸä¸­ã€‚
- en: You may now think that generative recursion design has discovered a much faster
    solution to the [gcd](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)
    problem, and you may conclude that generative recursion is always the right way
    to go. This judgment is too rash for three reasons. First, even a well-designed
    algorithm isnâ€™t always faster than an equivalent structurally recursive function.
    For example, quick-sort< wins only for large lists; for small ones, the standard
    sort< function is faster. Worse, a badly designed algorithm can wreak havoc on
    the performance of a program. Second, it is typically easier to design a function
    using the recipe for structural recursion. Conversely, designing an algorithm
    requires an idea of how to generate new problems, a step that often requires some
    deep insight. Finally, programmers who read functions can easily understand structurally
    recursive functions, even without much documentation. The generative step of an
    algorithm, though, is based on a â€œeureka!â€ and, without a good explanation, is
    difficult to understand for future readersâ€”<wbr>and that includes older versions
    of yourself.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ç°åœ¨å¯èƒ½ä¼šè®¤ä¸ºç”Ÿæˆæ€§é€’å½’è®¾è®¡å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªæ›´å¿«è§£å†³[æœ€å¤§å…¬çº¦æ•°](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._gcd%29%29)é—®é¢˜çš„æ–¹æ¡ˆï¼Œä½ å¯èƒ½ä¼šå¾—å‡ºç»“è®ºï¼Œç”Ÿæˆæ€§é€’å½’æ€»æ˜¯æ­£ç¡®çš„é€‰æ‹©ã€‚è¿™ç§åˆ¤æ–­è¿‡äºè‰ç‡ï¼Œæœ‰ä¸‰ä¸ªåŸå› ã€‚é¦–å…ˆï¼Œå³ä½¿æ˜¯ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ç®—æ³•ä¹Ÿä¸ä¸€å®šæ¯”ç­‰ä»·çš„ç»“æ„åŒ–é€’å½’å‡½æ•°æ›´å¿«ã€‚ä¾‹å¦‚ï¼Œquick-sort<
    åªåœ¨å¤§åˆ—è¡¨ä¸­è·èƒœï¼›å¯¹äºå°åˆ—è¡¨ï¼Œæ ‡å‡†çš„sort<å‡½æ•°æ›´å¿«ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œä¸€ä¸ªè®¾è®¡ä¸è‰¯çš„ç®—æ³•å¯èƒ½ä¼šå¯¹ç¨‹åºçš„æ€§èƒ½é€ æˆç ´åã€‚å…¶æ¬¡ï¼Œä½¿ç”¨ç»“æ„åŒ–é€’å½’çš„é…æ–¹è®¾è®¡å‡½æ•°é€šå¸¸æ›´å®¹æ˜“ã€‚ç›¸åï¼Œè®¾è®¡ç®—æ³•éœ€è¦æœ‰ä¸€ä¸ªå¦‚ä½•ç”Ÿæˆæ–°é—®é¢˜çš„æƒ³æ³•ï¼Œè¿™ä¸€æ­¥é€šå¸¸éœ€è¦ä¸€äº›æ·±åˆ»çš„æ´å¯ŸåŠ›ã€‚æœ€åï¼Œé˜…è¯»å‡½æ•°çš„ç¨‹åºå‘˜å¯ä»¥å¾ˆå®¹æ˜“åœ°ç†è§£ç»“æ„åŒ–é€’å½’å‡½æ•°ï¼Œå³ä½¿æ²¡æœ‰å¾ˆå¤šæ–‡æ¡£ã€‚ç„¶è€Œï¼Œç®—æ³•çš„ç”Ÿæˆæ­¥éª¤åŸºäºä¸€ä¸ªâ€œå•Šå“ˆï¼â€çš„æƒ³æ³•ï¼Œå¦‚æœæ²¡æœ‰å¾ˆå¥½çš„è§£é‡Šï¼Œå¯¹äºæœªæ¥çš„è¯»è€…â€”â€”<wbr>åŒ…æ‹¬ä½ è‡ªå·±çš„æ—§ç‰ˆæœ¬â€”â€”æ¥è¯´ï¼Œå¾ˆéš¾ç†è§£ã€‚
- en: Experience shows that most functions in a program employ structural design;
    only a few exploit generative recursion. When we encounter a situation where a
    design could use the recipe for either structural or generative recursion, the
    best approach is to start with a structural version. If the result turns out to
    be too slow for the task at handâ€”<wbr>and only thenâ€”<wbr>it is time to explore
    the use of generative recursion.
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: ç»éªŒè¡¨æ˜ï¼Œç¨‹åºä¸­çš„å¤§å¤šæ•°å‡½æ•°éƒ½é‡‡ç”¨ç»“æ„åŒ–è®¾è®¡ï¼›åªæœ‰å°‘æ•°å‡½æ•°åˆ©ç”¨ç”Ÿæˆæ€§é€’å½’ã€‚å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ç»“æ„åŒ–æˆ–ç”Ÿæˆæ€§é€’å½’è®¾è®¡çš„æƒ…å†µæ—¶ï¼Œæœ€ä½³åšæ³•æ˜¯ä»ç»“æ„åŒ–ç‰ˆæœ¬å¼€å§‹ã€‚å¦‚æœç»“æœå¯¹äºå½“å‰ä»»åŠ¡æ¥è¯´å¤ªæ…¢â€”â€”<wbr>å¹¶ä¸”åªæœ‰åœ¨è¿™ç§æƒ…å†µä¸‹â€”â€”<wbr>é‚£ä¹ˆæ˜¯æ—¶å€™æ¢ç´¢ä½¿ç”¨ç”Ÿæˆæ€§é€’å½’äº†ã€‚
- en: ExerciseÂ 441\. Evaluate
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ Â 441. è®¡ç®—
- en: (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 10Â 6Â 8Â 9Â 14Â 12Â 3Â 11Â 14Â 16Â 2))
  id: totrans-433
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (quick-sort<Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 10Â 6Â 8Â 9Â 14Â 12Â 3Â 11Â 14Â 16Â 2))
- en: by hand. Show only those lines that introduce a new recursive call to quick-sort<.
    How many recursive applications of quick-sort< are required? How many recursive
    applications of the [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    function? Suggest a general rule for a list of length n.Evaluate
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨è¿›è¡Œã€‚åªæ˜¾ç¤ºå¼•å…¥æ–° quick-sort< é€’å½’è°ƒç”¨çš„é‚£äº›è¡Œã€‚éœ€è¦å¤šå°‘æ¬¡ quick-sort< çš„é€’å½’åº”ç”¨ï¼Ÿéœ€è¦å¤šå°‘æ¬¡ [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib.__lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    å‡½æ•°çš„é€’å½’åº”ç”¨ï¼Ÿä¸ºé•¿åº¦ä¸º n çš„åˆ—è¡¨æå‡ºä¸€ä¸ªä¸€èˆ¬è§„åˆ™ã€‚Evaluate
- en: (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8Â 9Â 10Â 11Â 12Â 13Â 14))
  id: totrans-435
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: (quick-sort<Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8Â 9Â 10Â 11Â 12Â 13Â 14))
- en: by hand. How many recursive applications of quick-sort< are required? How many
    recursive applications of [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)?
    Does this contradict the first part of the exercise?
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨è¿›è¡Œã€‚é—®ï¼šéœ€è¦å¤šå°‘æ¬¡ quick-sort< çš„é€’å½’åº”ç”¨ï¼Ÿéœ€è¦å¤šå°‘æ¬¡ [append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib.__lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)
    å‡½æ•°çš„é€’å½’åº”ç”¨ï¼Ÿè¿™æ˜¯å¦ä¸ç»ƒä¹ çš„ç¬¬ä¸€éƒ¨åˆ†çŸ›ç›¾ï¼Ÿ
- en: ExerciseÂ 442\. Add sort< and quick-sort< to the definitions area. Run tests
    on the functions to ensure that they work on basic examples. Also develop create-tests,
    a function that creates large test cases randomly. Then explore how fast each
    works on various lists.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  442\. å°† sort< å’Œ quick-sort< æ·»åŠ åˆ°å®šä¹‰åŒºåŸŸã€‚å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•ä»¥ç¡®ä¿å®ƒä»¬åœ¨åŸºæœ¬ç¤ºä¾‹ä¸Šèƒ½æ­£å¸¸å·¥ä½œã€‚åŒæ—¶å¼€å‘ create-tests
    å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥éšæœºåˆ›å»ºå¤§æµ‹è¯•ç”¨ä¾‹ã€‚ç„¶åæ¢ç´¢å®ƒä»¬åœ¨å„ä¸ªåˆ—è¡¨ä¸Šçš„è¿è¡Œé€Ÿåº¦ã€‚
- en: Does the experiment confirm the claim that the plain sort< function often wins
    over quick-sort< for short lists and vice versa?
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: å®éªŒæ˜¯å¦è¯å®äº†æ™®é€š sort< å‡½æ•°é€šå¸¸åœ¨çŸ­åˆ—è¡¨ä¸Šèƒœè¿‡ quick-sort<ï¼Œåä¹‹äº¦ç„¶ï¼Ÿ
- en: Determine the cross-over point. Use it to build a clever-sort function that
    behaves like quick-sort< for large lists and like sort< for lists below this cross-over
    point. Compare with [exerciseÂ 427](#%28counter._%28exercise._ex~3aquick-sort-switch%29%29).
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®å®šäº¤å‰ç‚¹ã€‚ä½¿ç”¨å®ƒæ„å»ºä¸€ä¸ª clever-sort å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯¹äºå¤§åˆ—è¡¨çš„è¡Œä¸ºç±»ä¼¼äº quick-sort<ï¼Œè€Œå¯¹äºå°äºæ­¤äº¤å‰ç‚¹çš„åˆ—è¡¨åˆ™ç±»ä¼¼äº sort<ã€‚ä¸
    [ç»ƒä¹  427](#%28counter._%28exercise._ex~3aquick-sort-switch%29%29) è¿›è¡Œæ¯”è¾ƒã€‚
- en: 'ExerciseÂ 443\. Given the header material for gcd-structural, a naive use of
    the design recipe might use the following template or some variant:'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  443\. ç»™å®š gcd-structural çš„å¤´ææ–™ï¼Œä¸€ä¸ªç®€å•çš„ä½¿ç”¨è®¾è®¡é£Ÿè°±å¯èƒ½ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿æˆ–æŸç§å˜ä½“ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gcd-structuralÂ nÂ m)
    |'
  id: totrans-441
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gcd-structuralÂ nÂ m)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-442
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â nÂ 1)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â mÂ 1))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
  id: totrans-443
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â nÂ 1)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â mÂ 1))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â nÂ 1)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â mÂ 1))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
  id: totrans-444
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[([å’Œ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    ([å¤§äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)
    n 1) ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)
    m 1)) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â nÂ 1)Â ([>](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)Â mÂ 1))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
  id: totrans-445
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   ([([å’Œ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)
    ([ç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)
    n 1) ([å¤§äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3e%29%29)
    m 1)) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-446
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (gcd-structuralÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)Â ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â m))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-447
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    (gcd-structural ([å‡1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)
    n) ([å‡1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)
    m)) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (gcd-structuralÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â n)Â m)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-448
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    (gcd-structural ([å‡1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)
    n) m) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (gcd-structuralÂ nÂ ([sub1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â m))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]))
    |'
  id: totrans-449
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (gcd-structuralÂ nÂ ([å‡1](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sub1%29%29)Â m))Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]))
    |'
- en: Why is it impossible to find a divisor with this strategy?
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ç§ç­–ç•¥æ— æ³•æ‰¾åˆ°ä¸€ä¸ªé™¤æ•°ï¼Ÿ
- en: ExerciseÂ 444\. [ExerciseÂ 443](#%28counter._%28exercise._ex~3agcd-structural1%29%29)
    means that the design for gcd-structural calls for some planning and a design-by-composition
    approach.
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 444ã€‚[ç»ƒä¹ 443](#%28counter._%28exercise._ex~3agcd-structural1%29%29)æ„å‘³ç€gcd-structuralçš„è®¾è®¡éœ€è¦ä¸€äº›è§„åˆ’å’Œç»„åˆè®¾è®¡æ–¹æ³•ã€‚
- en: 'The very explanation of â€œgreatest common denominatorâ€ suggests a two-stage
    approach. First design a function that can compute the listIdeally, you should
    use sets not lists. of divisors of a natural number. Second, design a function
    that picks the largest common number in the list of divisors of n and the list
    of divisors of m. The overall function would look like this:'
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: â€œæœ€å¤§å…¬çº¦æ•°â€çš„è§£é‡Šæœ¬èº«æš—ç¤ºäº†ä¸€ç§ä¸¤é˜¶æ®µæ–¹æ³•ã€‚é¦–å…ˆè®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥è®¡ç®—è‡ªç„¶æ•°çš„é™¤æ•°åˆ—è¡¨ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥ä½¿ç”¨é›†åˆè€Œä¸æ˜¯åˆ—è¡¨ã€‚å…¶æ¬¡ï¼Œè®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œä»nå’Œmçš„é™¤æ•°åˆ—è¡¨ä¸­é€‰æ‹©æœ€å¤§çš„å…¬çº¦æ•°ã€‚æ•´ä½“å‡½æ•°çœ‹èµ·æ¥åƒè¿™æ ·ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gcd-structuralÂ SÂ L)
    |'
  id: totrans-453
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (gcd-structuralÂ SÂ L)
    |'
- en: '| Â Â (largest-commonÂ (divisorsÂ SÂ S)Â (divisorsÂ SÂ L))) |'
  id: totrans-454
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (largest-commonÂ (divisorsÂ SÂ S)Â (divisorsÂ SÂ L))) |'
- en: '| Â  |'
  id: totrans-455
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [N](part_two.html#%28tech._n%29)[>= 1] [N](part_two.html#%28tech._n%29)[>=
    1] -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [N](part_two.html#%28tech._n%29)]
    |'
  id: totrans-456
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29)[>= 1] [N](part_two.html#%28tech._n%29)[>=
    1] -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29) [N](part_two.html#%28tech._n%29)]
    |'
- en: '| ;Â computes the divisors of l smaller or equal to k |'
  id: totrans-457
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è®¡ç®—å°äºæˆ–ç­‰äºkçš„lçš„é™¤æ•° |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (divisorsÂ kÂ l)
    |'
  id: totrans-458
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (divisorsÂ kÂ l)
    |'
- en: '| Â Â ''()) |'
  id: totrans-459
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ''()) |'
- en: '| Â  |'
  id: totrans-460
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [N](part_two.html#%28tech._n%29)]
    [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [N](part_two.html#%28tech._n%29)]
    -> [N](part_two.html#%28tech._n%29) |'
  id: totrans-461
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29) [N](part_two.html#%28tech._n%29)]
    [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29) [N](part_two.html#%28tech._n%29)]
    -> [N](part_two.html#%28tech._n%29) |'
- en: '| ;Â finds the largest number common to both k and l |'
  id: totrans-462
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ‰¾åˆ°kå’Œlçš„æœ€å¤§å…¬çº¦æ•° |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (largest-commonÂ kÂ l)
    |'
  id: totrans-463
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (largest-commonÂ kÂ l)
    |'
- en: '| Â Â 1) |'
  id: totrans-464
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â 1) |'
- en: Why do you think divisors consumes two numbers? Why does it consume S as the
    first argument in both uses?
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ä¸ºä»€ä¹ˆè®¤ä¸ºé™¤æ•°æ¶ˆè€—äº†ä¸¤ä¸ªæ•°å­—ï¼Ÿä¸ºä»€ä¹ˆå®ƒä¸¤æ¬¡éƒ½ä½¿ç”¨Sä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Ÿ
- en: 27Variations on the Theme[ğŸ”—](#(part._ch~3agen-rec-samples) "Link to here")
  id: totrans-466
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 27ä¸»é¢˜å˜å¥[ğŸ”—](#(part._ch~3agen-rec-samples) "é“¾æ¥è‡³æ­¤")
- en: The design of an algorithm starts with an informal description of a process
    of how to create a problem that is more easily solvable than the given one and
    whose solution contributes to the solution of the given problem. Coming up with
    this kind of idea requires inspiration, immersion in an application domain, and
    experience with many different kinds of examples.
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: ç®—æ³•çš„è®¾è®¡å§‹äºå¯¹å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ¯”ç»™å®šé—®é¢˜æ›´å®¹æ˜“è§£å†³çš„é—®é¢˜çš„æµç¨‹çš„éæ­£å¼æè¿°ï¼Œå…¶è§£å†³æ–¹æ¡ˆæœ‰åŠ©äºè§£å†³ç»™å®šé—®é¢˜ã€‚æå‡ºè¿™ç±»æƒ³æ³•éœ€è¦çµæ„Ÿã€æ²‰æµ¸åœ¨åº”ç”¨é¢†åŸŸä»¥åŠä¸è®¸å¤šä¸åŒç±»å‹çš„ç¤ºä¾‹çš„ç»éªŒã€‚
- en: 'This chapter presents several illustrative examples of algorithms. Some are
    directly drawn from mathematics, which is the source of many ideas; others come
    from computational settings. The first example is a graphical illustration of
    our principle: the Sierpinski triangle. The second one explains the divide-and-conquer
    principle with the simple mathematical example of finding the root of a function.
    It then shows how to turn this idea into a fast algorithm for searching sequences,
    a widely used application. The third section concerns â€œparsingâ€ of sequences of
    [1String](part_one.html#%28tech._1string%29)s, also a common problem in real-world
    programming.'
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« ä»‹ç»äº†å‡ ä¸ªç®—æ³•çš„ç¤ºä¾‹ã€‚å…¶ä¸­ä¸€äº›ç›´æ¥æ¥æºäºæ•°å­¦ï¼Œè¿™æ˜¯è®¸å¤šæƒ³æ³•çš„æºæ³‰ï¼›å…¶ä»–åˆ™æ¥è‡ªè®¡ç®—ç¯å¢ƒã€‚ç¬¬ä¸€ä¸ªç¤ºä¾‹æ˜¯å¯¹æˆ‘ä»¬åŸåˆ™çš„å›¾å½¢è¯´æ˜ï¼šSierpinski ä¸‰è§’å½¢ã€‚ç¬¬äºŒä¸ªç¤ºä¾‹é€šè¿‡å¯»æ‰¾å‡½æ•°æ ¹çš„ç®€å•æ•°å­¦ä¾‹å­è§£é‡Šäº†åˆ†è€Œæ²»ä¹‹çš„åŸåˆ™ã€‚ç„¶åå±•ç¤ºäº†å¦‚ä½•å°†è¿™ä¸ªæƒ³æ³•è½¬åŒ–ä¸ºå¿«é€Ÿæœç´¢åºåˆ—çš„ç®—æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªå¹¿æ³›åº”ç”¨çš„ä¾‹å­ã€‚ç¬¬ä¸‰éƒ¨åˆ†å…³æ³¨çš„æ˜¯å¯¹[1String](part_one.html#%28tech._1string%29)åºåˆ—çš„â€œè§£æâ€ï¼Œè¿™ä¹Ÿæ˜¯ç°å®ä¸–ç•Œä¸­ç¼–ç¨‹çš„å¸¸è§é—®é¢˜ã€‚
- en: 27.1Fractals, a First Taste[ğŸ”—](#(part._sec~3afractal) "Link to here")
  id: totrans-469
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 27.1 åˆ†å½¢ï¼Œåˆå°[ğŸ”—](#(part._sec~3afractal) "é“¾æ¥è‡³æ­¤")
- en: Fractals play an important role in computational geometry. Flake writes in The
    Computational Beauty of Nature (The MIT Press, 1998) that â€œgeometry can be extended
    to account for objects with a fractional dimension. Such objects, known as fractals,
    come very close to capturing the richness and variety of forms found in nature.
    Fractals possess structural self-similarity on multiple ... scales, meaning that
    a piece of a fractal will often look like the whole.â€
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ†å½¢åœ¨è®¡ç®—å‡ ä½•ä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚Flake åœ¨ã€Šè‡ªç„¶çš„è®¡ç®—ä¹‹ç¾ã€‹ï¼ˆMIT å‡ºç‰ˆç¤¾ï¼Œ1998 å¹´ï¼‰ä¸­å†™é“ï¼šâ€œå‡ ä½•å¯ä»¥æ‰©å±•ä»¥è§£é‡Šå…·æœ‰åˆ†æ•°ç»´åº¦çš„å¯¹è±¡ã€‚è¿™ç±»å¯¹è±¡è¢«ç§°ä¸ºåˆ†å½¢ï¼Œå®ƒä»¬éå¸¸æ¥è¿‘æ•æ‰è‡ªç„¶ç•Œä¸­å‘ç°çš„ä¸°å¯Œå¤šæ ·çš„å½¢å¼ã€‚åˆ†å½¢åœ¨å¤šä¸ª...å°ºåº¦ä¸Šå…·æœ‰ç»“æ„è‡ªç›¸ä¼¼æ€§ï¼Œè¿™æ„å‘³ç€åˆ†å½¢çš„ä¸€éƒ¨åˆ†é€šå¸¸ä¼šçœ‹èµ·æ¥åƒæ•´ä½“ã€‚â€
- en: '![image](../Images/f368a845d56e8533ebc6def472a52842.png)Â Â Â Â Â ![image](../Images/6bbae7d7653c237b5c07a8fdc515c6f4.png)Â Â Â Â Â ![image](../Images/fcdd7d22418fe7ccd19b5e17fcc53c87.png)'
  id: totrans-471
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/f368a845d56e8533ebc6def472a52842.png)Â Â Â Â Â ![image](../Images/6bbae7d7653c237b5c07a8fdc515c6f4.png)Â Â Â Â Â ![image](../Images/fcdd7d22418fe7ccd19b5e17fcc53c87.png)'
- en: ''
  id: totrans-472
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 156: The Sierpinski triangle'
  id: totrans-473
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 156ï¼šSierpinski ä¸‰è§’å½¢
- en: '[FigureÂ 156](#%28counter._%28figure._fig~3asiepic%29%29) displays an example
    of a fractal shape, known as the Sierpinski triangle. The basic shape is an (equilateral)
    triangle, like the one in the center. When this triangle is composed sufficiently
    many times in a triangular fashion, we get the left-most shape.'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾ 156](#%28counter._%28figure._fig~3asiepic%29%29) å±•ç¤ºäº†ä¸€ä¸ªåˆ†å½¢å½¢çŠ¶çš„ä¾‹å­ï¼Œç§°ä¸º Sierpinski
    ä¸‰è§’å½¢ã€‚åŸºæœ¬å½¢çŠ¶æ˜¯ä¸€ä¸ªï¼ˆç­‰è¾¹ï¼‰ä¸‰è§’å½¢ï¼Œå°±åƒä¸­å¿ƒçš„é‚£ä¸ªã€‚å½“è¿™ä¸ªä¸‰è§’å½¢ä»¥ä¸‰è§’å½¢çš„å½¢å¼è¶³å¤Ÿå¤šæ¬¡åœ°ç»„åˆæ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°æœ€å·¦è¾¹çš„å½¢çŠ¶ã€‚'
- en: The right-most image in [figureÂ 156](#%28counter._%28figure._fig~3asiepic%29%29)
    explains the generative step. When taken by itself, it says that, given a triangle,
    find the midpoint of each side and connect them to each other. This step yields
    four triangles; repeat the process for each of the outer of these three triangles
    unless these triangles are too small.
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾ 156](#%28counter._%28figure._fig~3asiepic%29%29) ä¸­æœ€å³ä¾§çš„å›¾åƒè§£é‡Šäº†ç”Ÿæˆæ­¥éª¤ã€‚å½“å•ç‹¬è€ƒè™‘æ—¶ï¼Œå®ƒè¯´ï¼Œç»™å®šä¸€ä¸ªä¸‰è§’å½¢ï¼Œæ‰¾åˆ°æ¯æ¡è¾¹çš„ä¸­ç‚¹å¹¶å°†å®ƒä»¬è¿æ¥èµ·æ¥ã€‚è¿™ä¸€æ­¥ä¼šäº§ç”Ÿå››ä¸ªä¸‰è§’å½¢ï¼›å¯¹äºè¿™ä¸‰ä¸ªä¸‰è§’å½¢çš„å¤–éƒ¨ä¸‰è§’å½¢ä¸­çš„æ¯ä¸€ä¸ªé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œé™¤éè¿™äº›ä¸‰è§’å½¢å¤ªå°ã€‚'
- en: 'An alternative explanation, well suited for the shape composition functions
    in the 2htdp/image teachpack,We owe this solution to Marc Smith. is based on the
    transition from the image in the center to the image on the right. By juxtaposing
    two of the center triangles and then placing one copy above these two, we also
    get the shape on the right:'
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ç§è§£é‡Šï¼Œéå¸¸é€‚åˆ 2htdp/image æ•™å­¦åŒ…ä¸­çš„å½¢çŠ¶ç»„åˆå‡½æ•°ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªè§£å†³æ–¹æ¡ˆå½’åŠŸäº Marc Smithã€‚å®ƒåŸºäºä»ä¸­å¿ƒå›¾åƒåˆ°å³ä¾§å›¾åƒçš„è½¬æ¢ã€‚é€šè¿‡å¹¶ç½®ä¸¤ä¸ªä¸­å¿ƒä¸‰è§’å½¢ï¼Œç„¶åå°†ä¸€ä¸ªå‰¯æœ¬æ”¾åœ¨è¿™ä¸¤ä¸ªä¸‰è§’å½¢ä¹‹ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¾—åˆ°äº†å³ä¾§çš„å½¢çŠ¶ï¼š
- en: '| > (s-triangleÂ 3) |'
  id: totrans-477
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (s-triangleÂ 3) |'
- en: '| ![image](../Images/63ca48523bb7356b25b574627364b470.png) |'
  id: totrans-478
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/63ca48523bb7356b25b574627364b470.png) |'
- en: '| > ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â (s-triangleÂ 3)Â (s-triangleÂ 3))
    |'
  id: totrans-479
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â (s-triangleÂ 3)Â (s-triangleÂ 3))
    |'
- en: '| ![image](../Images/b2b4e57cf1e5128c121ad4266964a367.png) |'
  id: totrans-480
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/b2b4e57cf1e5128c121ad4266964a367.png) |'
- en: '|'
  id: totrans-481
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-482
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; > ([above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â (s-triangleÂ 3)
    &#124;'
  id: totrans-483
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; > ([above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â (s-triangleÂ 3)
    &#124;'
- en: '&#124; Â Â Â Â Â Â Â Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â (s-triangleÂ 3)Â (s-triangleÂ 3)))
    &#124;'
  id: totrans-484
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| &#124; Â Â Â Â Â Â Â Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â (s-triangleÂ 3)Â (s-triangleÂ 3)))
    &#124;'
- en: ''
  id: totrans-485
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-486
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: '| ![image](../Images/241eac471c2ba525d5d500a8c6831402.png) |'
  id: totrans-487
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/241eac471c2ba525d5d500a8c6831402.png) |'
- en: 'This section uses the alternative description to design the Sierpinski algorithm;
    [Accumulators as Results](part_six.html#%28part._sec~3afractal-acc%29) deals with
    the first description. Given that the goal is to generate the image of an equilateral
    triangle, we encode the problem with a (positive) number, the length of the triangleâ€™s
    side. This decision yields a signature, a purpose statement, and a header:'
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬èŠ‚ä½¿ç”¨æ›¿ä»£æè¿°æ¥è®¾è®¡ Sierpinski ç®—æ³•ï¼›[ç´¯åŠ å™¨ä½œä¸ºç»“æœ](part_six.html#%28part._sec~3afractal-acc%29)å¤„ç†ç¬¬ä¸€ç§æè¿°ã€‚é‰´äºç›®æ ‡æ˜¯ç”Ÿæˆç­‰è¾¹ä¸‰è§’å½¢çš„å›¾åƒï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªï¼ˆæ­£æ•°ï¼‰æ¥ç¼–ç é—®é¢˜ï¼Œå³ä¸‰è§’å½¢çš„è¾¹é•¿ã€‚è¿™ä¸ªå†³å®šäº§ç”Ÿäº†ä¸€ä¸ªç­¾åã€ä¸€ä¸ªç›®çš„å£°æ˜å’Œä¸€ä¸ªæ ‡é¢˜ï¼š
- en: '| ;Â [Number](part_one.html#%28tech._number%29) -> [Image](part_one.html#%28tech._image%29)
    |'
  id: totrans-489
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](part_one.html#%28tech._number%29) -> [Image](part_one.html#%28tech._image%29)
    |'
- en: '| ;Â creates Sierpinski triangle of size side |'
  id: totrans-490
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ›å»ºè¾¹é•¿ä¸º side çš„ Sierpinski ä¸‰è§’å½¢ |'
- en: '| Â  |'
  id: totrans-491
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sierpinskiÂ side)
    |'
  id: totrans-492
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sierpinskiÂ side)
    |'
- en: '| Â Â ([triangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)Â sideÂ ''outlineÂ ''red))
    |'
  id: totrans-493
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([triangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)Â sideÂ ''outlineÂ ''red))
    |'
- en: 'Now it is time to address the four questions of generative recursion:'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ˜¯æ—¶å€™è§£å†³ç”Ÿæˆé€’å½’çš„å››ä¸ªé—®é¢˜ï¼š
- en: When the given number is so small that drawing triangles inside of it is pointless,
    the problem is trivial.
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ç»™å®šçš„æ•°å­—å¦‚æ­¤ä¹‹å°ï¼Œä»¥è‡³äºåœ¨å…¶ä¸­ç»˜åˆ¶ä¸‰è§’å½¢æ¯«æ— æ„ä¹‰æ—¶ï¼Œé—®é¢˜å°±å˜å¾—ç®€å•äº†ã€‚
- en: In that case, it suffices to generate a triangle.
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œç”Ÿæˆä¸€ä¸ªä¸‰è§’å½¢å°±è¶³å¤Ÿäº†ã€‚
- en: Otherwise, the algorithm must generate a Sierpinski triangle of size side /
    2 because juxtaposing two such triangles in either direction yields one of size
    side.
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦åˆ™ï¼Œç®—æ³•å¿…é¡»ç”Ÿæˆä¸€ä¸ªè¾¹é•¿ä¸º side / 2 çš„ Sierpinski ä¸‰è§’å½¢ï¼Œå› ä¸ºå°†ä¸¤ä¸ªè¿™æ ·çš„ä¸‰è§’å½¢å¹¶æ’æ”¾ç½®åœ¨ä»»ä¸€æ–¹å‘ä¸Šä¼šäº§ç”Ÿä¸€ä¸ªè¾¹é•¿ä¸º side
    çš„ä¸‰è§’å½¢ã€‚
- en: If half-sized is the Sierpinski triangle of size side / 2, then
  id: totrans-498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœ half-sized æ˜¯è¾¹é•¿ä¸º side / 2 çš„ Sierpinski ä¸‰è§’å½¢ï¼Œé‚£ä¹ˆ
- en: '| ([above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â half-sized
    |'
  id: totrans-499
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â half-sized
    |'
- en: '| Â Â Â Â Â Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â half-sizedÂ half-sized))
    |'
  id: totrans-500
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â half-sizedÂ half-sized))
    |'
- en: is a Sierpinski triangle of size side.
  id: totrans-501
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æ˜¯ä¸€ä¸ªè¾¹é•¿ä¸º side çš„ Sierpinski ä¸‰è§’å½¢ã€‚
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â SMALLÂ 4)Â ;Â a
    size measure in terms of pixels |'
  id: totrans-502
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â SMALLÂ 4)Â ;Â ä»¥åƒç´ ä¸ºå•ä½çš„å°ºå¯¸åº¦é‡
    |'
- en: '| Â  |'
  id: totrans-503
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â small-triangleÂ ([triangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)Â SMALLÂ ''outlineÂ ''red))
    |'
  id: totrans-504
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â small-triangleÂ ([triangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)Â SMALLÂ ''outlineÂ ''red))
    |'
- en: '| Â  |'
  id: totrans-505
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Number](part_one.html#%28tech._number%29) -> [Image](part_one.html#%28tech._image%29)
    |'
  id: totrans-506
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Number](part_one.html#%28tech._number%29) -> [Image](part_one.html#%28tech._image%29)
    |'
- en: '| ;Â generative creates Sierpinski Î” of size side by generating |'
  id: totrans-507
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”Ÿæˆè¾¹é•¿ä¸º side çš„ Sierpinski Î” |'
- en: '| ;Â one for ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â sideÂ 2)
    and placing one copy above two copies |'
  id: totrans-508
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªç”¨äº ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â sideÂ 2)
    å¹¶å°†ä¸€ä¸ªå‰¯æœ¬æ”¾ç½®åœ¨ä¸¤ä¸ªå‰¯æœ¬ä¸Šæ–¹ |'
- en: '| Â  |'
  id: totrans-509
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sierpinskiÂ SMALL)Â small-triangle)
    |'
  id: totrans-510
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sierpinskiÂ SMALL)Â small-triangle)
    |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sierpinskiÂ ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 2Â SMALL))
    |'
  id: totrans-511
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (sierpinskiÂ ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 2Â SMALL)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â small-triangle
    |'
  id: totrans-512
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([ä¸Šæ–¹](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â small-triangle
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â small-triangleÂ small-triangle)))
    |'
  id: totrans-513
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([æ—è¾¹](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â small-triangleÂ small-triangle)))
    |'
- en: '| Â  |'
  id: totrans-514
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sierpinskiÂ side)
    |'
  id: totrans-515
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (sierpinskiÂ side)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-516
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â sideÂ SMALL)Â ([triangle](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)Â sideÂ ''outlineÂ ''red)]
    |'
  id: totrans-517
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â sideÂ SMALL)Â ([ä¸‰è§’å½¢](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._triangle%29%29)Â sideÂ ''outlineÂ ''red)])
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-518
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â half-sizedÂ (sierpinskiÂ ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â sideÂ 2))))
    |'
  id: totrans-519
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â half-sizedÂ (sierpinskiÂ ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â sideÂ 2))))
    |'
- en: '| Â Â Â Â Â Â Â ([above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â half-sizedÂ ([beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â half-sizedÂ half-sized)))]))
    |'
  id: totrans-520
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([ä¸Šæ–¹](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)Â half-sizedÂ ([æ—è¾¹](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)Â half-sizedÂ half-sized)))]))
    |'
- en: ''
  id: totrans-521
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 157: The Sierpinski algorithm'
  id: totrans-522
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾157ï¼šSierpinskiç®—æ³•
- en: With these answers, it is straightforward to define the function. [FigureÂ 157](#%28counter._%28figure._fig~3asierpinski-code%29%29)
    spells out the details. The â€œtriviality conditionâ€ translates to ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  side  SMALL)
    for some constant SMALL. For the trivial answer, the function returns a triangle
    of the given size. In the recursive case, a [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    expression introduces the name half-sized for the Sierpinski triangle that is
    half as big as the specified size. Once the recursive call has generated the small
    Sierpinski triangle, it composes this image via [above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)
    and [beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29).
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: å¾—åˆ°è¿™äº›ç­”æ¡ˆåï¼Œå®šä¹‰å‡½æ•°å°±å¾ˆç®€å•äº†ã€‚[å›¾157](#%28counter._%28figure._fig~3asierpinski-code%29%29)è¯¦ç»†è¯´æ˜äº†è¿™äº›ç»†èŠ‚ã€‚"å¹³å‡¡æ€§æ¡ä»¶"å¯¹åº”äº([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)
    side SMALL)å¯¹äºæŸä¸ªå¸¸æ•°SMALLã€‚å¯¹äºå¹³å‡¡ç­”æ¡ˆï¼Œå‡½æ•°è¿”å›ç»™å®šå¤§å°çš„ä¸‰è§’å½¢ã€‚åœ¨é€’å½’æƒ…å†µä¸‹ï¼Œä¸€ä¸ª[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)è¡¨è¾¾å¼å¼•å…¥äº†åä¸ºhalf-sizedçš„Sierpinskiä¸‰è§’å½¢ï¼Œå…¶å¤§å°æ˜¯æŒ‡å®šå¤§å°çš„ä¸€åŠã€‚ä¸€æ—¦é€’å½’è°ƒç”¨ç”Ÿæˆäº†å°çš„Sierpinskiä¸‰è§’å½¢ï¼Œå®ƒå°±é€šè¿‡[above](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29)å’Œ[beside](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._beside%29%29)ç»„åˆè¿™ä¸ªå›¾åƒã€‚
- en: The figure highlights two other points. First, the purpose statement is articulated
    as an explanation of what the function accomplishes
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥å›¾çªå‡ºäº†ä¸¤ä¸ªå…¶ä»–ç‚¹ã€‚é¦–å…ˆï¼Œç›®çš„å£°æ˜è¢«é˜è¿°ä¸ºå¯¹å‡½æ•°æ‰€å®Œæˆçš„ä»»åŠ¡çš„è§£é‡Š
- en: ;Â creates Sierpinski triangle of size side by ...
  id: totrans-525
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â åˆ›å»ºè¾¹é•¿ä¸º...çš„Sierpinskiä¸‰è§’å½¢
- en: 'and how it accomplishes this goal:'
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠå®ƒæ˜¯å¦‚ä½•å®ç°è¿™ä¸ªç›®æ ‡çš„ï¼š
- en: '| ;Â ... generating one of size ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â sideÂ 2)
    and |'
  id: totrans-527
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ... ç”Ÿæˆä¸€ä¸ªå¤§å°ä¸º([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)
    side 2)çš„ä¸‰è§’å½¢ |'
- en: '| ;Â placing one copy above two composed copies |'
  id: totrans-528
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨ä¸¤ä¸ªç»„åˆçš„å‰¯æœ¬ä¸Šæ–¹æ”¾ç½®ä¸€ä¸ªå‰¯æœ¬ |'
- en: 'Second, the examples illustrate the two possible cases: one if the given size
    is small enough, and one for a size that is too large still. In the latter case,
    the expression that computes the expected value explains exactly the meaning of
    the purpose statement.'
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶æ¬¡ï¼Œç¤ºä¾‹è¯´æ˜äº†ä¸¤ç§å¯èƒ½çš„æƒ…å†µï¼šä¸€ç§æ˜¯ç»™å®šçš„å¤§å°è¶³å¤Ÿå°ï¼Œå¦ä¸€ç§æ˜¯å¤§å°ä»ç„¶å¤ªå¤§ã€‚åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œè®¡ç®—æœŸæœ›å€¼çš„è¡¨è¾¾å¼ç²¾ç¡®åœ°è§£é‡Šäº†ç›®çš„å£°æ˜çš„å«ä¹‰ã€‚
- en: Since sierpinski is based on generative recursion, defining the function and
    testing it is not the last step. We must also consider why the algorithm terminates
    for any given legal input. The input of sierpinski is a single positive number.
    If the number is smaller than SMALL, the algorithm terminates. Otherwise, the
    recursive call uses a number that is half as large as the given one. Hence, the
    algorithm must terminate for all positive sides, assuming SMALL is positive, too.
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºsierpinskiåŸºäºç”Ÿæˆé€’å½’ï¼Œå®šä¹‰å‡½æ•°å’Œæµ‹è¯•å®ƒå¹¶ä¸æ˜¯æœ€åä¸€æ­¥ã€‚æˆ‘ä»¬è¿˜å¿…é¡»è€ƒè™‘ä¸ºä»€ä¹ˆç®—æ³•å¯¹äºä»»ä½•ç»™å®šçš„åˆæ³•è¾“å…¥éƒ½ä¼šç»ˆæ­¢ã€‚sierpinskiçš„è¾“å…¥æ˜¯ä¸€ä¸ªæ­£æ•°ã€‚å¦‚æœè¿™ä¸ªæ•°å°äºSMALLï¼Œç®—æ³•å°±ä¼šç»ˆæ­¢ã€‚å¦åˆ™ï¼Œé€’å½’è°ƒç”¨å°†ä½¿ç”¨ä¸€ä¸ªå¤§å°æ˜¯ç»™å®šæ•°ä¸€åŠçš„æ•°ã€‚å› æ­¤ï¼Œå‡è®¾SMALLä¹Ÿæ˜¯æ­£æ•°ï¼Œç®—æ³•å¿…é¡»å¯¹æ‰€æœ‰æ­£è¾¹é•¿ç»ˆæ­¢ã€‚
- en: One view of the Sierpinski process is that it divides its problem in half until
    it is immediately solvable. With a little imagination, you can see that the process
    can be used to search for numbers with certain properties. The next section explains
    this idea in detail.
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: Sierpinskiè¿‡ç¨‹çš„ä¸€ä¸ªè§‚ç‚¹æ˜¯å®ƒå°†å…¶é—®é¢˜åˆ†æˆä¸¤åŠï¼Œç›´åˆ°å®ƒç«‹å³å¯è§£ã€‚ç¨åŠ æƒ³è±¡ï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç”¨æ¥å¯»æ‰¾å…·æœ‰æŸäº›ç‰¹æ€§çš„æ•°å­—ã€‚ä¸‹ä¸€èŠ‚å°†è¯¦ç»†è§£é‡Šè¿™ä¸ªæƒ³æ³•ã€‚
- en: 27.2Binary Search[ğŸ”—](#(part._sec~3abinary-search) "Link to here")
  id: totrans-532
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 27.2 äºŒåˆ†æŸ¥æ‰¾[ğŸ”—](#(part._sec~3abinary-search) "é“¾æ¥è‡³æ­¤")
- en: Applied mathematicians model the real world with nonlinear equations and then
    try to solve them. Specifically, they translate problems into a function f from
    numbers to numbers and look for some number r such that
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: åº”ç”¨æ•°å­¦å®¶ç”¨éçº¿æ€§æ–¹ç¨‹æ¨¡æ‹Ÿç°å®ä¸–ç•Œï¼Œç„¶åå°è¯•è§£å†³å®ƒä»¬ã€‚å…·ä½“æ¥è¯´ï¼Œä»–ä»¬å°†é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªä»æ•°å­—åˆ°æ•°å­—çš„å‡½æ•°fï¼Œå¹¶å¯»æ‰¾æŸä¸ªæ•°rï¼Œä½¿å¾—
- en: f(r) = 0.
  id: totrans-534
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: f(r) = 0.
- en: The value r is called the root of f.
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: å€¼rè¢«ç§°ä¸ºfçš„æ ¹ã€‚
- en: '![image](../Images/a2c05a3b0d8a9fe504efd1e3a2398b45.png)'
  id: totrans-536
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/a2c05a3b0d8a9fe504efd1e3a2398b45.png)'
- en: ''
  id: totrans-537
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 158: A numeric function f with root in interval [a,b] (stage 1)'
  id: totrans-538
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 158ï¼šå…·æœ‰åŒºé—´ [a,b] å†…æ ¹çš„æ•°å€¼å‡½æ•° fï¼ˆé˜¶æ®µ 1ï¼‰
- en: 'Here is a problem from the physical domain:'
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªæ¥è‡ªç‰©ç†é¢†åŸŸçš„é—®é¢˜ï¼š
- en: Sample Problem A rocket is flying at the constant speed of v miles per hour
    on a straight line toward some target, d0 miles away. It then accelerates at the
    rate of a miles per hour squared for t hours. When will it hit its target?
  id: totrans-540
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ ä¸€æšç«ç®­ä»¥æ¯å°æ—¶ v è‹±é‡Œçš„æ’å®šé€Ÿåº¦æ²¿ç›´çº¿å‘æŸä¸ªè·ç¦» d0 è‹±é‡Œå¤–çš„ç›®æ ‡é£è¡Œã€‚ç„¶åå®ƒä»¥æ¯å°æ—¶ a è‹±é‡Œå¹³æ–¹çš„é€Ÿåº¦åŠ é€Ÿ t å°æ—¶ã€‚å®ƒä½•æ—¶ä¼šå‡»ä¸­ç›®æ ‡ï¼Ÿ
- en: 'Physics tells us that the distance covered is the following function of time:'
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰©ç†å­¦å‘Šè¯‰æˆ‘ä»¬ï¼Œè¦†ç›–çš„è·ç¦»æ˜¯æ—¶é—´çš„ä»¥ä¸‹å‡½æ•°ï¼š
- en: d(t) = (v * t + 1/2 * a * t2)
  id: totrans-542
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: d(t) = (v * t + 1/2 * a * t^2)
- en: 'The question of when it hits the target asks us to find the time t0 such that
    the object reaches the desired goal:'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: å½“å®ƒå‡»ä¸­ç›®æ ‡æ—¶çš„é—®é¢˜è¦æ±‚æˆ‘ä»¬æ‰¾åˆ°æ—¶é—´ t0ï¼Œä½¿å¾—ç‰©ä½“è¾¾åˆ°é¢„æœŸçš„ç›®æ ‡ï¼š
- en: d0 = (v * t0 + 1/2 * a * t02)
  id: totrans-544
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: d0 = (v * t0 + 1/2 * a * t0^2)
- en: From algebra we know that this is a quadratic equation and that it is possible
    to solve such equations if d0, a, and v satisfy certain conditions.
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ä»£æ•°æˆ‘ä»¬çŸ¥é“è¿™æ˜¯ä¸€ä¸ªäºŒæ¬¡æ–¹ç¨‹ï¼Œå¹¶ä¸”å¦‚æœ d0ã€a å’Œ v æ»¡è¶³æŸäº›æ¡ä»¶ï¼Œå°±å¯ä»¥è§£è¿™æ ·çš„æ–¹ç¨‹ã€‚
- en: Generally such problems call for more complexity than quadratic equations. In
    response, mathematicians have spent the last few centuries developing root-finding
    methods for different types of functions. In this section, we study a solution
    that is based on the Intermediate Value Theorem (IVT), an early result of analysis.
    The resulting algorithm is a primary example of generative recursion based on
    a mathematical theorem. Computer scientists have generalized it to the binary
    search algorithm.
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸è¿™ç±»é—®é¢˜æ¯”äºŒæ¬¡æ–¹ç¨‹æ›´å¤æ‚ã€‚ä½œä¸ºå›åº”ï¼Œæ•°å­¦å®¶åœ¨è¿‡å»å‡ ä¸ªä¸–çºªä¸­ä¸ºä¸åŒç±»å‹çš„å‡½æ•°å¼€å‘äº†æ±‚æ ¹æ–¹æ³•ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶ä¸€ä¸ªåŸºäºä»‹å€¼å®šç†ï¼ˆIVTï¼‰çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™æ˜¯åˆ†æçš„ä¸€ä¸ªæ—©æœŸç»“æœã€‚ç”±æ­¤äº§ç”Ÿçš„ç®—æ³•æ˜¯åŸºäºæ•°å­¦å®šç†çš„ç”Ÿæˆé€’å½’çš„ä¸»è¦ä¾‹å­ã€‚è®¡ç®—æœºç§‘å­¦å®¶å°†å…¶æ¨å¹¿ä¸ºäºŒåˆ†æœç´¢ç®—æ³•ã€‚
- en: The Intermediate Value Theorem says that a continuous function f has a root
    in an interval [a,b] if f(a) and f(b) are on opposite sides of the x-axis. By
    continuous we mean a function that doesnâ€™t â€œjump,â€ that doesnâ€™t have gaps, and
    that proceeds on a â€œsmoothâ€ path.
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: ä»‹å€¼å®šç†æŒ‡å‡ºï¼Œå¦‚æœè¿ç»­å‡½æ•° f åœ¨åŒºé—´ [a,b] å†…çš„ f(a) å’Œ f(b) åˆ†åˆ«ä½äº x è½´çš„ä¸¤ä¾§ï¼Œé‚£ä¹ˆ f åœ¨åŒºé—´ [a,b] å†…æœ‰ä¸€ä¸ªæ ¹ã€‚æˆ‘ä»¬æ‰€è¯´çš„è¿ç»­æ˜¯æŒ‡ä¸€ä¸ªæ²¡æœ‰â€œè·³è·ƒâ€ï¼Œæ²¡æœ‰é—´éš™ï¼Œå¹¶ä¸”æ²¿ç€â€œå¹³æ»‘â€è·¯å¾„è¿›è¡Œçš„å‡½æ•°ã€‚
- en: '[FigureÂ 158](#%28counter._%28figure._fig~3aroot%29%29) illustrates the Intermediate
    Value Theorem. The function f is a continuous function, as suggested by the uninterrupted,
    smooth graph. It is below the x-axis at a and above at b, and indeed, it intersects
    the x-axis somewhere in this interval, labeled â€œrange 1â€ in the figure.'
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾Â 158](#%28counter._%28figure._fig~3aroot%29%29) å±•ç¤ºäº†ä»‹å€¼å®šç†ã€‚å‡½æ•° f æ˜¯ä¸€ä¸ªè¿ç»­å‡½æ•°ï¼Œæ­£å¦‚ä¸é—´æ–­ã€å¹³æ»‘çš„å›¾å½¢æ‰€æš—ç¤ºçš„é‚£æ ·ã€‚å®ƒåœ¨
    a ç‚¹ä½äº x è½´ä¸‹æ–¹ï¼Œåœ¨ b ç‚¹ä½äº x è½´ä¸Šæ–¹ï¼Œå¹¶ä¸”ç¡®å®åœ¨è¿™ä¸ªåŒºé—´å†…çš„æŸä¸ªåœ°æ–¹ä¸ x è½´ç›¸äº¤ï¼Œå¦‚å›¾ä¸­æ ‡æ³¨çš„â€œèŒƒå›´ 1â€ã€‚'
- en: 'Now take a look at the midpoint between a and b:'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨çœ‹çœ‹ a å’Œ b ä¹‹é—´çš„ä¸­ç‚¹ï¼š
- en: m = (a+b) / 2
  id: totrans-550
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: m = (a+b) / 2
- en: 'It partitions the interval [a,b] into two smaller, equally sized intervals.
    We can now compute the value of f at m and see whether it is below 0 or above.
    Here f(m) > 0, so, according to the Intermediate Value Theorem, the root is in
    the left interval: [a,m]. Our picture confirms this because the root is in the
    left half of the interval, labeled â€œrange 2â€ in [figureÂ 158](#%28counter._%28figure._fig~3aroot%29%29).We
    now have a description of the key step in the root-finding process. Next, we translate
    this description into an ISL+ algorithm. Our first task is to state its purpose.
    Clearly the algorithm consumes a function and the boundaries of the interval in
    which we expect to find a root:'
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå°†åŒºé—´ [a,b] åˆ’åˆ†ä¸ºä¸¤ä¸ªæ›´å°ã€å¤§å°ç›¸ç­‰çš„åŒºé—´ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥è®¡ç®— f åœ¨ m å¤„çš„å€¼ï¼Œå¹¶æŸ¥çœ‹å®ƒæ˜¯å¦ä½äº 0 æˆ–é«˜äº 0ã€‚è¿™é‡Œ f(m) > 0ï¼Œå› æ­¤ï¼Œæ ¹æ®ä»‹å€¼å®šç†ï¼Œæ ¹åœ¨å·¦åŒºé—´ï¼š[a,m]ã€‚æˆ‘ä»¬çš„å›¾ä¹Ÿè¯å®äº†è¿™ä¸€ç‚¹ï¼Œå› ä¸ºæ ¹åœ¨åŒºé—´çš„å·¦åŠéƒ¨åˆ†ï¼Œå¦‚å›¾
    [å›¾Â 158](#%28counter._%28figure._fig~3aroot%29%29) ä¸­æ ‡æ³¨çš„â€œèŒƒå›´ 2â€ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»æè¿°äº†æ±‚æ ¹è¿‡ç¨‹ä¸­çš„å…³é”®æ­¥éª¤ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæè¿°è½¬æ¢ä¸º
    ISL+ ç®—æ³•ã€‚æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯é™ˆè¿°å…¶ç›®çš„ã€‚æ˜¾ç„¶ï¼Œè¯¥ç®—æ³•æ¶ˆè€—ä¸€ä¸ªå‡½æ•°ä»¥åŠæˆ‘ä»¬æœŸæœ›åœ¨å…¶ä¸­æ‰¾åˆ°æ ¹çš„åŒºé—´çš„è¾¹ç•Œï¼š
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> ... |'
  id: totrans-552
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> ... |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-rootÂ fÂ leftÂ right)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-553
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-rootÂ fÂ leftÂ right)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: 'The three parameters canâ€™t be just any function and numbers. For find-root
    to work, we must assume that the following holds:'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‰ä¸ªå‚æ•°ä¸èƒ½æ˜¯ä»»ä½•å‡½æ•°å’Œæ•°å­—ã€‚ä¸ºäº†ä½¿ find-root èƒ½å¤Ÿå·¥ä½œï¼Œæˆ‘ä»¬å¿…é¡»å‡è®¾ä»¥ä¸‹æ¡ä»¶æˆç«‹ï¼š
- en: '| ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â (fÂ right))
    |'
  id: totrans-555
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â (fÂ right)))
    |'
- en: '| Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â (fÂ left)))
    |'
  id: totrans-556
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â (fÂ left)))
    |'
- en: 'that is, (f  left) and (f  right) must be on opposite sides of the x-axis.Next
    we need to fix the functionâ€™s result and formulate a purpose statement. Simply
    put, find-root finds an interval that contains a root. The search divides the
    interval until its size, ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)  right  left),
    is tolerably small, say, smaller than some constant Îµ.DrRacket allows the use
    of Greek symbols such as Îµ. But you can also write EPSILON instead. At that point,
    the function could produce one of three results: the left boundary, the right
    one, or a representation of the interval. Any one of them completely identifies
    the interval, and since it is simpler to return numbers, we pick the left boundary.
    Here is the complete header material:'
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: å³ï¼Œ(f  left) å’Œ (f  right) å¿…é¡»ä½äº x è½´çš„ä¸¤ä¾§ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šå‡½æ•°çš„ç»“æœå¹¶åˆ¶å®šä¸€ä¸ªç›®çš„å£°æ˜ã€‚ç®€å•æ¥è¯´ï¼Œfind-root
    æ‰¾åˆ°ä¸€ä¸ªåŒ…å«æ ¹çš„åŒºé—´ã€‚æœç´¢å°†åŒºé—´åˆ’åˆ†ï¼Œç›´åˆ°å…¶å¤§å°ï¼Œ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)  right  left)ï¼Œå¯ä»¥å®¹å¿åœ°å°ï¼Œæ¯”å¦‚è¯´ï¼Œå°äºæŸä¸ªå¸¸æ•°
    Îµã€‚DrRacket å…è®¸ä½¿ç”¨å¸Œè…Šç¬¦å·ï¼Œå¦‚ Îµã€‚ä½†æ‚¨ä¹Ÿå¯ä»¥å†™ EPSILONã€‚åˆ°é‚£æ—¶ï¼Œå‡½æ•°å¯ä»¥äº§ç”Ÿä¸‰ç§ç»“æœä¹‹ä¸€ï¼šå·¦è¾¹ç•Œã€å³è¾¹ç•Œæˆ–åŒºé—´çš„è¡¨ç¤ºã€‚ä»»ä½•ä¸€ç§éƒ½å¯ä»¥å®Œå…¨ç¡®å®šåŒºé—´ï¼Œå¹¶ä¸”ç”±äºè¿”å›æ•°å­—æ›´ç®€å•ï¼Œæˆ‘ä»¬é€‰æ‹©å·¦è¾¹ç•Œã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å¤´ææ–™ï¼š
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29) |'
  id: totrans-558
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)
    [æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â determines R such that f has a root in [R,([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  R  Îµ)]
    |'
  id: totrans-559
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç¡®å®š Rï¼Œä½¿å¾— f åœ¨ [R,([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  R  Îµ)]
    æœ‰æ ¹ |'
- en: '| ;Â assume  f is continuous |'
  id: totrans-560
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‡è®¾ f æ˜¯è¿ç»­çš„ |'
- en: '| ;Â (2) ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  left)  0  (f  right))  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  right)  0  (f  left)))
    |'
  id: totrans-561
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â (2) ([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  left)  0  (f  right))  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  right)  0  (f  left))))
    |'
- en: '| ;Â generative divides interval in half, the root is in |'
  id: totrans-562
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”Ÿæˆæ€§åˆ’åˆ†åŒºé—´ä¸ºäºŒåˆ†ä¹‹ä¸€ï¼Œæ ¹åœ¨å…¶ä¸­ |'
- en: '| ;Â one of the two halves, picks according to (2) |'
  id: totrans-563
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸¤ä¸ªåŒºé—´ä¹‹ä¸€ï¼Œæ ¹æ® (2) é€‰æ‹© |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-rootÂ fÂ leftÂ right)
    |'
  id: totrans-564
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-rootÂ fÂ leftÂ right)
    |'
- en: '| Â Â 0) |'
  id: totrans-565
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â 0) |'
- en: 'ExerciseÂ 445\. Consider the following function definition:'
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 445ã€‚è€ƒè™‘ä»¥ä¸‹å‡½æ•°å®šä¹‰ï¼š
- en: '| ;Â [Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-567
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (polyÂ x)
    |'
  id: totrans-568
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (polyÂ x)
    |'
- en: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 2)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 4)))
    |'
  id: totrans-569
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 2)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 4)))
    |'
- en: 'It defines a binomial for which we can determine its roots by hand:'
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå®šä¹‰äº†ä¸€ä¸ªäºŒé¡¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ç¡®å®šå…¶æ ¹ï¼š
- en: '| > (polyÂ 2) |'
  id: totrans-571
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (polyÂ 2) |'
- en: '| 0 |'
  id: totrans-572
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0 |'
- en: '| > (polyÂ 4) |'
  id: totrans-573
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (polyÂ 4) |'
- en: '| 0 |'
  id: totrans-574
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0 |'
- en: 'Use poly to formulate a [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    or [check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)
    test for find-root.Also use poly to illustrate the root-finding process. Start
    with the interval [3,6] and tabulate the information as follows for Îµ = 0:'
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨polyæ¥åˆ¶å®š[check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)æˆ–[check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)æµ‹è¯•æ–¹æ¡ˆï¼Œç”¨äºfind-rootã€‚åŒæ—¶ä½¿ç”¨polyæ¥å±•ç¤ºæ±‚æ ¹è¿‡ç¨‹ã€‚ä»åŒºé—´[3,6]å¼€å§‹ï¼Œå¯¹äºÎµ
    = 0ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š
- en: '| step |  | left |  | f left |  | right |  | f right |  | mid |  | f mid |  |  |'
  id: totrans-576
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| step |  | left |  | f left |  | right |  | f right |  | mid |  | f mid |  |  |'
- en: '| n=1 |  | 3 |  | -1 |  | 6.00 |  | 8.00 |  | 4.50 |  | 1.25 |  |  |'
  id: totrans-577
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| n=1 |  | 3 |  | -1 |  | 6.00 |  | 8.00 |  | 4.50 |  | 1.25 |  |  |'
- en: '| n=2 |  | 3 |  | -1 |  | 4.50 |  | 1.25 |  | ? |  | ? |  |  |'
  id: totrans-578
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| n=2 |  | 3 |  | -1 |  | 4.50 |  | 1.25 |  | ? |  | ? |  |  |'
- en: 'Our next task is to address the four questions of algorithm design:'
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ¥ä¸‹æ¥çš„ä»»åŠ¡æ˜¯è§£å†³ç®—æ³•è®¾è®¡çš„å››ä¸ªé—®é¢˜ï¼š
- en: 'We need a condition that describes when the problem is solved and a matching
    answer. Given our discussion so far, this is straightforward:'
  id: totrans-580
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¡ä»¶æ¥æè¿°ä½•æ—¶é—®é¢˜å¾—åˆ°è§£å†³ä»¥åŠåŒ¹é…çš„ç­”æ¡ˆã€‚æ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„è®¨è®ºï¼Œè¿™å¾ˆç®€å•ï¼š
- en: ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â rightÂ left)Â Îµ)
  id: totrans-581
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â rightÂ left)Â Îµ)
- en: The matching result in the trivial case is left.
  id: totrans-582
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨å¹³å‡¡æƒ…å†µä¸‹ï¼ŒåŒ¹é…ç»“æœæ˜¯leftã€‚
- en: 'For the generative case, we need an expression that generates new problems
    for find-root. According to our informal description, this step requires determining
    the midpoint and its function value:'
  id: totrans-583
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¯¹äºç”Ÿæˆæƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¡¨è¾¾å¼æ¥ä¸ºfind-rootç”Ÿæˆæ–°çš„é—®é¢˜ã€‚æ ¹æ®æˆ‘ä»¬çš„éæ­£å¼æè¿°ï¼Œè¿™ä¸€æ­¥éœ€è¦ç¡®å®šä¸­ç‚¹å’Œå…¶å‡½æ•°å€¼ï¼š
- en: '| ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â midÂ ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â leftÂ right)Â 2))
    |'
  id: totrans-584
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â midÂ ([é™¤ä»¥](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â ([åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â leftÂ right)Â 2)))
    |'
- en: '| Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â f@mÂ (fÂ mid)))
    |'
  id: totrans-585
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â  [([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â f@mÂ (fÂ mid)))
    |'
- en: '| Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-586
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: The midpoint is then used to pick the next interval. Following IVT, the interval
    [left,mid] is the next candidate if
  id: totrans-587
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ç„¶åä½¿ç”¨ä¸­ç‚¹æ¥é€‰æ‹©ä¸‹ä¸€ä¸ªåŒºé—´ã€‚æ ¹æ®IVTï¼ˆä¸­å€¼å®šç†ï¼‰ï¼Œå¦‚æœ
- en: ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â f@m)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ left)))
  id: totrans-588
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â f@m)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ left)))
- en: while [mid,right] is used for the recursive call if
  id: totrans-589
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å½“ä½¿ç”¨[mid,right]è¿›è¡Œé€’å½’è°ƒç”¨æ—¶
- en: ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ right))Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â f@m))
  id: totrans-590
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ right)))Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â f@m))
- en: 'Translated into code, the body of [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    must be a conditional:'
  id: totrans-591
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: å°†å…¶ç¿»è¯‘æˆä»£ç ï¼Œ[å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)çš„éƒ¨åˆ†ä½“å¿…é¡»æ˜¯ä¸€ä¸ªæ¡ä»¶è¯­å¥ï¼š
- en: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-592
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29))
    |'
- en: '| Â Â [([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â f@m)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ left)))
    |'
  id: totrans-593
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â f@m)Â ([å°äºç­‰äº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ left))))
    |'
- en: '| Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (find-rootÂ fÂ leftÂ mid)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
  id: totrans-594
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (find-rootÂ fÂ leftÂ mid)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]
    |'
- en: '| Â Â [([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ right))Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â f@m))
    |'
  id: totrans-595
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â [([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@mÂ 0Â (fÂ right))Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â f@m))
    |'
- en: '| Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (find-rootÂ fÂ midÂ right)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))])
    |'
  id: totrans-596
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â (find-rootÂ fÂ midÂ right)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))])
    |'
- en: In both clauses, we use find-root to continue the search.
  id: totrans-597
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åœ¨ä¸¤ä¸ªå­å¥ä¸­ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨find-rootæ¥ç»§ç»­æœç´¢ã€‚
- en: The answer to the final question is obvious. Since the recursive call to find-root
    finds the root of f, there is nothing else to do.
  id: totrans-598
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€ç»ˆé—®é¢˜çš„ç­”æ¡ˆå¾ˆæ˜æ˜¾ã€‚ç”±äºé€’å½’è°ƒç”¨find-rootæ‰¾åˆ°äº†fçš„æ ¹ï¼Œæ‰€ä»¥æ²¡æœ‰å…¶ä»–äº‹æƒ…è¦åšã€‚
- en: The completed function is displayed in [figureÂ 159](#%28counter._%28figure._fig~3aroot-of-f%29%29);
    the following exercises elaborate on its design.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæˆçš„å‡½æ•°æ˜¾ç¤ºåœ¨[å›¾159](#%28counter._%28figure._fig~3aroot-of-f%29%29)ï¼›ä»¥ä¸‹ç»ƒä¹ è¯¦ç»†è¯´æ˜äº†å…¶è®¾è®¡ã€‚
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29) |'
  id: totrans-600
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> [æ•°å­—](part_one.html#%28tech._number%29) |'
- en: '| ;Â determines R such that f has a root in [R,([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  R  Îµ)]
    |'
  id: totrans-601
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç¡®å®šRï¼Œä½¿å¾—fåœ¨[R,([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  R  Îµ)]
    |'
- en: '| ;Â assume  f is continuous |'
  id: totrans-602
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‡è®¾fæ˜¯è¿ç»­çš„ |'
- en: '| ;Â assume  ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  left)  0  (f  right))  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  right)  0  (f  left)))
    |'
  id: totrans-603
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‡è®¾  ([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  left)  0  (f  right))  ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  right)  0  (f  left)))
    |'
- en: '| ;Â generative divides interval in half, the root is in one of the two |'
  id: totrans-604
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”Ÿæˆæ€§åœ°å°†åŒºé—´åˆ†æˆä¸€åŠï¼Œæ ¹åœ¨ä¸¤ä¸ªå­åŒºé—´ä¹‹ä¸€ |'
- en: '| ;Â halves, picks according to assumption |'
  id: totrans-605
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â äºŒåˆ†ï¼Œæ ¹æ®å‡è®¾é€‰æ‹© |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-rootÂ fÂ leftÂ right)
    |'
  id: totrans-606
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-rootÂ fÂ leftÂ right)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-607
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â rightÂ left)Â Îµ)Â left]
    |'
  id: totrans-608
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   [([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â rightÂ left)Â Îµ)Â left]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-609
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â midÂ ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â leftÂ right)Â 2))
    |'
  id: totrans-610
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â midÂ ([/](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2F%29%29)Â ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)Â leftÂ right)Â 2))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â f@midÂ (fÂ mid)))
    |'
  id: totrans-611
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   |   ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â f@midÂ (fÂ mid)))
    |'
- en: '| Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-612
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â [([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â f@mid)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@midÂ 0Â (fÂ left)))
    |'
  id: totrans-613
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   [([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ left)Â 0Â f@mid)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@midÂ 0Â (fÂ left)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â (find-rootÂ fÂ leftÂ mid)] |'
  id: totrans-614
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   |   (find-rootÂ fÂ leftÂ mid)] |'
- en: '| Â Â Â Â Â Â Â Â Â Â [([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@midÂ 0Â (fÂ right))Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â f@mid))
    |'
  id: totrans-615
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   [([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â f@midÂ 0Â (fÂ right))Â ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â (fÂ right)Â 0Â f@mid))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â (find-rootÂ fÂ midÂ right)]))])) |'
  id: totrans-616
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |   |   (find-rootÂ fÂ midÂ right)]))])) |'
- en: ''
  id: totrans-617
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 159: The find-root algorithm'
  id: totrans-618
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 'å›¾ 159: æ±‚æ ¹ç®—æ³•'
- en: ExerciseÂ 446\. Add the test from [exerciseÂ 445](#%28counter._%28exercise._ex~3afind-root-example%29%29)
    to the program in [figureÂ 159](#%28counter._%28figure._fig~3aroot-of-f%29%29).
    Experiment with different values for Îµ.
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  446. å°† [ç»ƒä¹  445](#%28counter._%28exercise._ex~3afind-root-example%29%29) ä¸­çš„æµ‹è¯•æ·»åŠ åˆ°
    [å›¾ 159](#%28counter._%28figure._fig~3aroot-of-f%29%29) ä¸­çš„ç¨‹åºä¸­ã€‚å°è¯•ä¸åŒçš„ Îµ å€¼è¿›è¡Œå®éªŒã€‚
- en: ExerciseÂ 447\. The poly function has two roots. Use find-root with poly and
    an interval that contains both roots.
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  447. å¤šé¡¹å¼å‡½æ•°æœ‰ä¸¤ä¸ªæ ¹ã€‚ä½¿ç”¨ `find-root` å‡½æ•°å’ŒåŒ…å«ä¸¤ä¸ªæ ¹çš„åŒºé—´æ¥æ±‚è§£ã€‚
- en: ExerciseÂ 448\. The find-root algorithm terminates for all (continuous) f, left,
    and right for which the assumption holds. Why? Formulate a termination argument.
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 448ã€‚å¯¹äºæ‰€æœ‰æ»¡è¶³å‡è®¾çš„(è¿ç»­)å‡½æ•°fã€å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œfind-rootç®—æ³•éƒ½ä¼šç»ˆæ­¢ã€‚ä¸ºä»€ä¹ˆï¼Ÿæå‡ºä¸€ä¸ªç»ˆæ­¢æ€§è®ºè¯ã€‚
- en: Hint Suppose the arguments of find-root describe an interval of size S1. How
    large is the distance between left and right for the first and second recursive
    call to find-root? After how many steps is ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)  right  left)
    smaller than or equal to Îµ?
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šå‡è®¾find-rootçš„å‚æ•°æè¿°äº†ä¸€ä¸ªå¤§å°ä¸ºS1çš„åŒºé—´ã€‚ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡é€’å½’è°ƒç”¨find-rootæ—¶ï¼Œå·¦è¾¹ç•Œå’Œå³è¾¹ç•Œä¹‹é—´çš„è·ç¦»æœ‰å¤šå¤§ï¼Ÿç»è¿‡å¤šå°‘æ­¥åï¼Œ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)  right  left)å°äºæˆ–ç­‰äºÎµï¼Ÿ
- en: ExerciseÂ 449\. As presented in [figureÂ 159](#%28counter._%28figure._fig~3aroot-of-f%29%29),
    find-root computes the value of f for each boundary value twice to generate the
    next interval. Use [local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    to avoid this recomputation.
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 449ã€‚å¦‚å›¾159æ‰€ç¤ºï¼Œfind-rootå‡½æ•°å¯¹æ¯ä¸ªè¾¹ç•Œå€¼è®¡ç®—fçš„å€¼ä¸¤æ¬¡ä»¥ç”Ÿæˆä¸‹ä¸€ä¸ªåŒºé—´ã€‚ä½¿ç”¨[local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)æ¥é¿å…è¿™ç§é‡å¤è®¡ç®—ã€‚
- en: In addition, find-root recomputes the value of a boundary across recursive calls.
    For example, (find-root  f  left  right) computes (f  left) and, if [left,mid]
    is chosen as the next interval, find-root computes (f  left) again. Introduce
    a helper function that is like find-root but consumes not only left and right
    but also (f  left) and (f  right) at each recursive stage.
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œfind-rootåœ¨é€’å½’è°ƒç”¨ä¸­é‡æ–°è®¡ç®—è¾¹ç•Œå€¼ã€‚ä¾‹å¦‚ï¼Œ(find-root  f  left  right)è®¡ç®—(f  left)ï¼Œå¦‚æœ[left,mid]è¢«é€‰ä¸ºä¸‹ä¸€ä¸ªåŒºé—´ï¼Œfind-rootå†æ¬¡è®¡ç®—(f  left)ã€‚å¼•å…¥ä¸€ä¸ªç±»ä¼¼äºfind-rootä½†æ¶ˆè€—ä¸ä»…å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œè¿˜åœ¨æ¯ä¸ªé€’å½’é˜¶æ®µæ¶ˆè€—(f  left)å’Œ(f  right)çš„è¾…åŠ©å‡½æ•°ã€‚
- en: How many recomputations of (f  left) does this design maximally avoid? Note
    The two additional arguments to this helper function change at each recursive
    stage, but the change is related to the change in the numeric arguments. These
    arguments are so-called accumulators, which are the topic of [Accumulators](part_six.html).
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§è®¾è®¡æœ€å¤§èƒ½é¿å…å¤šå°‘æ¬¡(f  left)çš„é‡å¤è®¡ç®—ï¼Ÿæ³¨æ„ï¼šæ­¤è¾…åŠ©å‡½æ•°çš„ä¸¤ä¸ªé¢å¤–å‚æ•°åœ¨æ¯æ¬¡é€’å½’é˜¶æ®µéƒ½ä¼šæ”¹å˜ï¼Œä½†è¿™ç§æ”¹å˜ä¸æ•°å€¼å‚æ•°çš„æ”¹å˜æœ‰å…³ã€‚è¿™äº›å‚æ•°è¢«ç§°ä¸ºç´¯åŠ å™¨ï¼Œå®ƒä»¬æ˜¯[ç´¯åŠ å™¨](part_six.html)çš„ä¸»é¢˜ã€‚
- en: ExerciseÂ 450\. A function f is monotonically increasing if ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  a)  (f  b))
    holds whenever ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  a  b)
    holds. Simplify find-root assuming the given function is not only continuous but
    also monotonically increasing.
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 450ã€‚å¦‚æœå¯¹äºæ‰€æœ‰æ»¡è¶³([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  a  b)çš„aå’Œbï¼Œå‡½æ•°f([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  (f  a)  (f  b))æˆç«‹ï¼Œåˆ™å‡½æ•°fæ˜¯å•è°ƒé€’å¢çš„ã€‚åœ¨å‡è®¾ç»™å®šå‡½æ•°ä¸ä»…æ˜¯è¿ç»­çš„è€Œä¸”æ˜¯å•è°ƒé€’å¢çš„æƒ…å†µä¸‹ï¼Œç®€åŒ–find-rootå‡½æ•°ã€‚
- en: 'ExerciseÂ 451\. A table is a structure of two fields: the natural number length
    and a function array,Many programming languages, including Racket, support arrays
    and vectors, which are similar to tables. which consumes natural numbers and,
    for those between 0 and length (exclusive), produces answers:'
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 451ã€‚è¡¨æ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªå­—æ®µçš„è®°å½•ï¼šè‡ªç„¶æ•°é•¿åº¦å’Œä¸€ä¸ªå‡½æ•°æ•°ç»„ï¼Œè®¸å¤šç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬Racketï¼Œæ”¯æŒæ•°ç»„å’Œå‘é‡ï¼Œå®ƒä»¬ä¸è¡¨ç±»ä¼¼ã€‚è¿™äº›æ•°ç»„æ¶ˆè€—è‡ªç„¶æ•°ï¼Œå¯¹äºä»‹äº0å’Œé•¿åº¦ï¼ˆä¸åŒ…æ‹¬ï¼‰ä¹‹é—´çš„æ•°ï¼Œäº§ç”Ÿç­”æ¡ˆï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â tableÂ [lengthÂ array])
    |'
  id: totrans-628
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â tableÂ [lengthÂ array])
    |'
- en: '| ;Â A Table is a structure: |'
  id: totrans-629
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A Table is a structure: |'
- en: '| ;Â Â Â (make-table  [N](part_two.html#%28tech._n%29)  [[N](part_two.html#%28tech._n%29)  [->](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-~3e%29%29)  [Number](part_one.html#%28tech._number%29)])
    |'
  id: totrans-630
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-table  [N](part_two.html#%28tech._n%29)  [[N](part_two.html#%28tech._n%29)  [->](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-~3e%29%29)  [Number](part_one.html#%28tech._number%29)])
    |'
- en: 'Since this data structure is somewhat unusual, it is critical to illustrate
    it with examples:'
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè¿™ç§æ•°æ®ç»“æ„æœ‰äº›ä¸å¯»å¸¸ï¼Œå› æ­¤ç”¨ç¤ºä¾‹æ¥è¯´æ˜å®ƒæ˜¯è‡³å…³é‡è¦çš„ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â table1Â (make-tableÂ 3Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (i)Â i)))
    |'
  id: totrans-632
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â table1Â (make-tableÂ 3Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (i)Â i)))
    |'
- en: '| Â  |'
  id: totrans-633
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [N](part_two.html#%28tech._n%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-634
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29) -> [Number](part_one.html#%28tech._number%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (a2Â i)
    |'
  id: totrans-635
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (a2Â i)
    |'
- en: '| Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â iÂ 0)
    |'
  id: totrans-636
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([if](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._if%29%29)Â ([=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3d%29%29)Â iÂ 0)
    |'
- en: '| Â Â Â Â Â Â [pi](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._pi%29%29)
    |'
  id: totrans-637
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â [pi](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._pi%29%29)
    |'
- en: '| Â Â Â Â Â Â ([error](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._error%29%29)Â "table2
    is not defined for i =!= 0"))) |'
  id: totrans-638
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([error](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._error%29%29)Â "table2
    is not defined for i =!= 0"))) |'
- en: '| Â  |'
  id: totrans-639
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â table2Â (make-tableÂ 1Â a2))
    |'
  id: totrans-640
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â table2Â (make-tableÂ 1Â a2))
    |'
- en: 'Here table1â€™s array function is defined for more inputs than its length field
    allows; table2 is defined for just one input, namely 0. Finally, we also define
    a useful function for looking up values in tables:'
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œ table1 çš„æ•°ç»„å‡½æ•°å®šä¹‰çš„è¾“å…¥æ¯”å…¶é•¿åº¦å­—æ®µå…è®¸çš„æ›´å¤šï¼›table2 åªä¸º 0 è¿™ä¸€ä¸ªè¾“å…¥å®šä¹‰ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ªç”¨äºåœ¨è¡¨ä¸­æŸ¥æ‰¾å€¼çš„å®ç”¨å‡½æ•°ï¼š
- en: '| ;Â [Table](#%28tech._table%29)  [N](part_two.html#%28tech._n%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-642
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Table](#%28tech._table%29)  [N](part_two.html#%28tech._n%29) -> [Number](part_one.html#%28tech._number%29)
    |'
- en: '| ;Â looks up the ith value in array of t |'
  id: totrans-643
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; åœ¨ t çš„æ•°ç»„ä¸­æŸ¥æ‰¾ç¬¬ i ä¸ªå€¼ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (table-refÂ tÂ i)
    |'
  id: totrans-644
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (table-refÂ tÂ i)
    |'
- en: '| Â Â ((table-arrayÂ t)Â i)) |'
  id: totrans-645
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ((table-arrayÂ t)Â i)) |'
- en: The root of a table t is a number in (table-array  t) that is close to 0. A
    root index is a natural number i such that (table-ref  t  i) is a root of table
    t. A table t is monotonically increasing if (table-ref  t  0) is less than (table-ref  t  1),
    (table-ref  t  1) is less than (table-ref  t  2), and so on.
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: è¡¨ t çš„æ ¹æ˜¯ (table-array t) ä¸­æ¥è¿‘ 0 çš„ä¸€ä¸ªæ•°ã€‚æ ¹ç´¢å¼•æ˜¯ä¸€ä¸ªè‡ªç„¶æ•° iï¼Œä½¿å¾— (table-ref t i) æ˜¯è¡¨ t çš„æ ¹ã€‚å¦‚æœ
    (table-ref t 0) å°äº (table-ref t 1)ï¼Œ(table-ref t 1) å°äº (table-ref t 2)ï¼Œä¾æ­¤ç±»æ¨ï¼Œåˆ™è¡¨
    t æ˜¯å•è°ƒé€’å¢çš„ã€‚
- en: Design find-linear. The function consumes a monotonically increasing table and
    finds the smallest index for a root of the table. Use the structural recipe for
    [N](part_two.html#%28tech._n%29), proceeding from 0 through 1, 2, and so on to
    the array-length of the given table. This kind of root-finding process is often
    called a linear search.
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ find-linear å‡½æ•°ã€‚è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå•è°ƒé€’å¢çš„è¡¨ï¼Œå¹¶æ‰¾åˆ°è¯¥è¡¨æ ¹çš„æœ€å°ç´¢å¼•ã€‚ä½¿ç”¨ [N](part_two.html#%28tech._n%29)
    çš„ç»“æ„åŒ–é…æ–¹ï¼Œä» 0 å¼€å§‹ï¼Œç»è¿‡ 1ã€2 ç­‰ç­‰ï¼Œç›´åˆ°ç»™å®šè¡¨çš„æ•°ç»„é•¿åº¦ã€‚è¿™ç§æ ¹æŸ¥æ‰¾è¿‡ç¨‹é€šå¸¸è¢«ç§°ä¸ºçº¿æ€§æœç´¢ã€‚
- en: Design find-binary, which also finds the smallest index for the root of a monotonically
    increasing table but uses generative recursion to do so. Like ordinary binary
    search, the algorithm narrows an interval down to the smallest possible size and
    then chooses the index. Donâ€™t forget to formulate a termination argument.
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡find-binaryï¼Œå®ƒä¹Ÿæ‰¾åˆ°å•è°ƒé€’å¢è¡¨çš„æ ¹çš„æœ€å°ç´¢å¼•ï¼Œä½†ä½¿ç”¨ç”Ÿæˆé€’å½’æ¥å®ç°ã€‚åƒæ™®é€šçš„äºŒåˆ†æœç´¢ä¸€æ ·ï¼Œç®—æ³•å°†åŒºé—´ç¼©å°åˆ°å¯èƒ½çš„æœ€å°å¤§å°ï¼Œç„¶åé€‰æ‹©ç´¢å¼•ã€‚åˆ«å¿˜äº†åˆ¶å®šä¸€ä¸ªç»ˆæ­¢è®ºè¯ã€‚
- en: Hint The key problem is that a table index is a natural number, not a plain
    number. Hence the interval boundary arguments for find must be natural numbers.
    Consider how this observation changes (1) the nature of trivially solvable problem
    instances, (2) the midpoint computation, (3) and the decision as to which interval
    to generate next. To make this concrete, imagine a table with 1024 slots and the
    root at 1023\. How many calls to find are needed in find-linear and find-binary,
    respectively?
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šå…³é”®é—®é¢˜æ˜¯è¡¨ç´¢å¼•æ˜¯ä¸€ä¸ªè‡ªç„¶æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ™®é€šæ•°ã€‚å› æ­¤ï¼Œfindçš„åŒºé—´è¾¹ç•Œå‚æ•°å¿…é¡»æ˜¯è‡ªç„¶æ•°ã€‚è€ƒè™‘è¿™ä¸ªè§‚å¯Ÿå¦‚ä½•æ”¹å˜ï¼ˆ1ï¼‰å¯ä»¥è½»æ˜“è§£å†³çš„é—®é¢˜å®ä¾‹çš„æ€§è´¨ï¼Œï¼ˆ2ï¼‰ä¸­ç‚¹è®¡ç®—ï¼Œï¼ˆ3ï¼‰ä»¥åŠå†³å®šç”Ÿæˆä¸‹ä¸€ä¸ªåŒºé—´çš„å†³ç­–ã€‚ä¸ºäº†å…·ä½“è¯´æ˜ï¼Œæƒ³è±¡ä¸€ä¸ªæœ‰1024ä¸ªæ§½ä½çš„è¡¨ï¼Œæ ¹èŠ‚ç‚¹åœ¨1023ã€‚åœ¨find-linearå’Œfind-binaryä¸­ï¼Œåˆ†åˆ«éœ€è¦å¤šå°‘æ¬¡findè°ƒç”¨ï¼Ÿ
- en: 27.3A Glimpse at Parsing[ğŸ”—](#(part._sec~3afiles-lines) "Link to here")
  id: totrans-650
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 27.3å¯¹è§£æçš„ç®€è¦äº†è§£[ğŸ”—](#(part._sec~3afiles-lines) "é“¾æ¥åˆ°æ­¤å¤„")
- en: 'As mentioned in [Iterative Refinement](part_four.html#%28part._ch~3afiles%29),
    computers come with files, which provide a form of permanent memory. From our
    perspective a file is just a list of [1String](part_one.html#%28tech._1string%29)s,The
    exact convention differs from one operating system to another, but for our purposes
    this is irrelevant. though interrupted by a special string:'
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚åŒåœ¨[è¿­ä»£ä¼˜åŒ–](part_four.html#%28part._ch~3afiles%29)ä¸­æåˆ°çš„ï¼Œè®¡ç®—æœºå¸¦æœ‰æ–‡ä»¶ï¼Œè¿™æä¾›äº†ä¸€ç§æ°¸ä¹…å­˜å‚¨çš„å½¢å¼ã€‚ä»æˆ‘ä»¬çš„è§’åº¦æ¥çœ‹ï¼Œä¸€ä¸ªæ–‡ä»¶åªæ˜¯ä¸€ä¸ª[1String](part_one.html#%28tech._1string%29)çš„åˆ—è¡¨ï¼Œå…·ä½“çš„çº¦å®šå› æ“ä½œç³»ç»Ÿè€Œå¼‚ï¼Œä½†å¯¹æˆ‘ä»¬æ¥è¯´è¿™å¹¶ä¸é‡è¦ã€‚å°½ç®¡å®ƒè¢«ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²ä¸­æ–­ï¼š
- en: '| ;Â A File is one of: |'
  id: totrans-652
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A File is one of: |'
- en: '| ;Â â€“  ''() |'
  id: totrans-653
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ''() |'
- en: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  "\n"  [File](#%28tech._file%29))
    |'
  id: totrans-654
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  "\n"  [File](#%28tech._file%29))
    |'
- en: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [1String](part_one.html#%28tech._1string%29)  [File](#%28tech._file%29))
    |'
  id: totrans-655
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â â€“  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)  [1String](part_one.html#%28tech._1string%29)  [File](#%28tech._file%29))
    |'
- en: '| ;Â interpretation represents the content of a file |'
  id: totrans-656
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation represents the content of a file |'
- en: '| ;Â "\n" is the newline character |'
  id: totrans-657
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â "\n" is the newline character |'
- en: 'The idea is that [File](#%28tech._file%29)s are broken into lines, where "\n"
    represents the so-called newline character, which indicates the end of a line.
    Letâ€™s also introduce lines before we move on:'
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³æ³•æ˜¯[File](#%28tech._file%29)è¢«åˆ†æˆè¡Œï¼Œå…¶ä¸­"\n"ä»£è¡¨æ‰€è°“çš„æ¢è¡Œç¬¦ï¼Œå®ƒè¡¨ç¤ºè¡Œçš„ç»“æŸã€‚åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè®©æˆ‘ä»¬ä¹Ÿä»‹ç»è¡Œï¼š
- en: ;Â A Line is a [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)].
  id: totrans-659
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â A Line is a [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)].
- en: Many functions need to process files as list of lines. The [read-lines](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-lines%29%29)
    from the 2htdp/batch-io teachpack is one of them. Concretely, the function turns
    the file
  id: totrans-660
  prefs: []
  type: TYPE_NORMAL
  zh: è®¸å¤šå‡½æ•°éœ€è¦å°†æ–‡ä»¶ä½œä¸ºè¡Œåˆ—è¡¨è¿›è¡Œå¤„ç†ã€‚[read-lines](http://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._read-lines%29%29)æ˜¯ä»2htdp/batch-ioæ•™å­¦åŒ…ä¸­çš„ä¸€ä¸ªã€‚å…·ä½“æ¥è¯´ï¼Œè¯¥å‡½æ•°å°†æ–‡ä»¶
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
  id: totrans-661
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
- en: '| Â Â "h"Â "o"Â "w"Â " "Â "a"Â "r"Â "e"Â " "Â "y"Â "o"Â "u"Â "\n" |'
  id: totrans-662
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â "h"Â "o"Â "w"Â " "Â "a"Â "r"Â "e"Â " "Â "y"Â "o"Â "u"Â "\n" |'
- en: '| Â Â "d"Â "o"Â "i"Â "n"Â "g"Â "?"Â "\n" |'
  id: totrans-663
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â "d"Â "o"Â "i"Â "n"Â "g"Â "?"Â "\n" |'
- en: '| Â Â "a"Â "n"Â "y"Â " "Â "p"Â "r"Â "o"Â "g"Â "r"Â "e"Â "s"Â "s"Â "?") |'
  id: totrans-664
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â "a"Â "n"Â "y"Â " "Â "p"Â "r"Â "o"Â "g"Â "r"Â "e"Â "s"Â "s"Â "?") |'
- en: 'into a list of three lines:'
  id: totrans-665
  prefs: []
  type: TYPE_NORMAL
  zh: å°†å…¶è½¬æ¢æˆä¸‰è¡Œçš„åˆ—è¡¨ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
  id: totrans-666
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "h"Â "o"Â "w"Â "
    "Â "a"Â "r"Â "e"Â " "Â "y"Â "o"Â "u") |'
  id: totrans-667
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "h"Â "o"Â "w"Â "
    "Â "a"Â "r"Â "e"Â " "Â "y"Â "o"Â "u") |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "o"Â "i"Â "n"Â "g"Â "?")
    |'
  id: totrans-668
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "o"Â "i"Â "n"Â "g"Â "?")
    |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "n"Â "y"Â "
    "Â "p"Â "r"Â "o"Â "g"Â "r"Â "e" |'
  id: totrans-669
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "n"Â "y"Â "
    "Â "p"Â "r"Â "o"Â "g"Â "r"Â "e" |'
- en: '| Â Â Â Â Â Â Â Â "s"Â "s"Â "?")) |'
  id: totrans-670
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â "s"Â "s"Â "?")) |'
- en: Similarly, the file
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»ä¼¼åœ°ï¼Œæ–‡ä»¶
- en: ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c"Â "\n"Â "d"Â "e"Â "\n"Â "f"Â "g"Â "h"Â "\n")
  id: totrans-672
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c"Â "\n"Â "d"Â "e"Â "\n"Â "f"Â "g"Â "h"Â "\n")
- en: 'also corresponds to a list of three lines:'
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: ä¹Ÿå¯¹åº”äºä¸‰ä¸ªè¡Œçš„åˆ—è¡¨ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
  id: totrans-674
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e")
    |'
  id: totrans-675
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e")
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "f"Â "g"Â "h"))
    |'
  id: totrans-676
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "f"Â "g"Â "h"))
    |'
- en: 'Stop! What are the list-of-lines representations for these three cases: ''(),
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  "\n"),
    and ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  "\n"  "\n")?
    Why are these examples important test cases?'
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¿™ä¸‰ä¸ªæƒ…å†µï¼ˆ'(), ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  "\n"),
    å’Œ ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  "\n"  "\n")ï¼‰çš„è¡Œåˆ—è¡¨è¡¨ç¤ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¿™äº›ä¾‹å­æ˜¯é‡è¦çš„æµ‹è¯•ç”¨ä¾‹ï¼Ÿ
- en: The problem of turning a sequence of [1String](part_one.html#%28tech._1string%29)s
    into a list of lines is called the parsing problem. Many programming languages
    provide functions that retrieve lines, words, numbers, and other kinds of so-called
    tokens from files. But even if they do, it is common that programs need to parse
    these tokens even further. This section provides a glimpse at a parsing technique.
    Parsing is so complex and so central to the creation of full-fledged software
    applications, however, that most undergraduate curricula come with at least one
    course on parsing. So do not think you can tackle real parsing problems properly
    even after mastering this section.
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ä¸€ç³»åˆ— [1String](part_one.html#%28tech._1string%29) è½¬æ¢ä¸ºè¡Œåˆ—è¡¨çš„é—®é¢˜è¢«ç§°ä¸ºè§£æé—®é¢˜ã€‚è®¸å¤šç¼–ç¨‹è¯­è¨€æä¾›äº†ä»æ–‡ä»¶ä¸­æ£€ç´¢è¡Œã€å•è¯ã€æ•°å­—å’Œå…¶ä»–æ‰€è°“æ ‡è®°çš„å‡½æ•°ã€‚å³ä½¿å¦‚æ­¤ï¼Œç¨‹åºé€šå¸¸è¿˜éœ€è¦è¿›ä¸€æ­¥è§£æè¿™äº›æ ‡è®°ã€‚æœ¬èŠ‚æä¾›äº†ä¸€ä¸ªè§£ææŠ€æœ¯çš„æ¦‚è§ˆã€‚ç„¶è€Œï¼Œè§£æå¦‚æ­¤å¤æ‚ï¼Œå¯¹äºåˆ›å»ºå®Œæ•´çš„è½¯ä»¶åº”ç”¨ç¨‹åºåˆæ˜¯å¦‚æ­¤æ ¸å¿ƒï¼Œä»¥è‡³äºå¤§å¤šæ•°æœ¬ç§‘è¯¾ç¨‹è‡³å°‘åŒ…å«ä¸€é—¨å…³äºè§£æçš„è¯¾ç¨‹ã€‚å› æ­¤ï¼Œä¸è¦ä»¥ä¸ºæŒæ¡äº†è¿™ä¸€èŠ‚åå°±èƒ½æ­£ç¡®å¤„ç†å®é™…çš„è§£æé—®é¢˜ã€‚
- en: 'We start by stating the obviousâ€”<wbr>a signature, a purpose statement, one
    of the above examples, and a headerâ€”<wbr>for a function that turns a [File](#%28tech._file%29)
    into a list of [Line](#%28tech._line%29)s:'
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¦–å…ˆé™ˆè¿°æ˜¾è€Œæ˜“è§çš„äº‹æƒ…â€”â€”<wbr>ä¸€ä¸ªç­¾åï¼Œä¸€ä¸ªç›®çš„å£°æ˜ï¼Œä¸Šè¿°ç¤ºä¾‹ä¹‹ä¸€ï¼Œä»¥åŠä¸€ä¸ªæ ‡é¢˜â€”â€”<wbr>ç”¨äºå°†[æ–‡ä»¶](#%28tech._file%29)è½¬æ¢ä¸º[è¡Œ](#%28tech._line%29)åˆ—è¡¨çš„å‡½æ•°ï¼š
- en: '| ;Â [File](#%28tech._file%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Line](#%28tech._line%29)]
    |'
  id: totrans-680
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ–‡ä»¶](#%28tech._file%29) -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [è¡Œ](#%28tech._line%29)]
    |'
- en: '| ;Â converts a file into a list of lines |'
  id: totrans-681
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†æ–‡ä»¶è½¬æ¢ä¸ºè¡Œåˆ—è¡¨ |'
- en: '| Â  |'
  id: totrans-682
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (file->list-of-lines
    |'
  id: totrans-683
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (file->list-of-lines
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c"Â "\n"
    |'
  id: totrans-684
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c"Â "\n"
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "d"Â "e"Â "\n" |'
  id: totrans-685
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "d"Â "e"Â "\n" |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "f"Â "g"Â "h"Â "\n")) |'
  id: totrans-686
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "f"Â "g"Â "h"Â "\n")) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
  id: totrans-687
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e")
    |'
  id: totrans-688
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e")
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "f"Â "g"Â "h")))
    |'
  id: totrans-689
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "f"Â "g"Â "h")))
    |'
- en: '| Â  |'
  id: totrans-690
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (file->list-of-linesÂ afile)Â ''())
    |'
  id: totrans-691
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (file->list-of-linesÂ afile)Â ''())
    |'
- en: 'It is also easy to describe the parsing process, given our experience with
    [Recursion without Structure](#%28part._sec~3abundle%29):'
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°æˆ‘ä»¬å¯¹[æ— ç»“æ„é€’å½’](#%28part._sec~3abundle%29)çš„ç»éªŒï¼Œæè¿°è§£æè¿‡ç¨‹ä¹Ÿå¾ˆå®¹æ˜“ï¼š
- en: The problem is trivially solvable if the file is '().
  id: totrans-693
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœæ–‡ä»¶æ˜¯'()ï¼Œåˆ™é—®é¢˜å¯ä»¥è½»æ˜“è§£å†³ã€‚
- en: In that case, the file doesnâ€™t contain a line.
  id: totrans-694
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œæ–‡ä»¶ä¸åŒ…å«ä»»ä½•è¡Œã€‚
- en: Otherwise, the file contains at least one "\n" or some other [1String](part_one.html#%28tech._1string%29).
    These itemsâ€”<wbr>up to and including the first "\n", if anyâ€”<wbr>must be separated
    from the rest of the [File](#%28tech._file%29). The remainder is a new problem
    of the same kind that file->list-of-lines can solve.
  id: totrans-695
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦åˆ™ï¼Œæ–‡ä»¶è‡³å°‘åŒ…å«ä¸€ä¸ª"\n"æˆ–å…¶ä»–[1å­—ç¬¦ä¸²](part_one.html#%28tech._1string%29)ã€‚è¿™äº›é¡¹ç›®â€”â€”<wbr>åŒ…æ‹¬ç¬¬ä¸€ä¸ª"\n"ï¼Œå¦‚æœæœ‰çš„è¯â€”â€”<wbr>å¿…é¡»ä¸æ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†åˆ†å¼€ã€‚å…¶ä½™éƒ¨åˆ†æ˜¯æ–‡ä»¶->list-of-lineså¯ä»¥è§£å†³çš„ç›¸åŒç±»å‹çš„æ–°é—®é¢˜ã€‚
- en: It then suffices to [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    the initial segment as a single line to the list of [Line](#%28tech._line%29)s
    that result from the rest of the [File](#%28tech._file%29).
  id: totrans-696
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ƒç„¶åå°†åˆå§‹æ®µä½œä¸ºå•ç‹¬çš„ä¸€è¡Œæ·»åŠ åˆ°ç”±æ–‡ä»¶å…¶ä½™éƒ¨åˆ†ç”Ÿæˆçš„[è¡Œ](#%28tech._line%29)åˆ—è¡¨ä¸­ã€‚
- en: 'The four questions suggest a straightforward instantiation of the template
    for generative recursive functions. Because the separation of the initial segment
    from the rest of the file requires a scan of an arbitrarily long list of [1String](part_one.html#%28tech._1string%29)s,
    we put two auxiliary functions on our wish list: first-line, which collects all
    [1String](part_one.html#%28tech._1string%29)s up to, but excluding, the first
    occurrence of "\n" or the end of the list; and remove-first-line, which removes
    the very same items that first-line collects.'
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: å››ä¸ªé—®é¢˜å»ºè®®äº†ä¸€ä¸ªç”Ÿæˆé€’å½’å‡½æ•°æ¨¡æ¿çš„ç›´æ¥å®ä¾‹åŒ–ã€‚å› ä¸ºå°†åˆå§‹æ®µä¸æ–‡ä»¶å…¶ä½™éƒ¨åˆ†åˆ†ç¦»éœ€è¦æ‰«æä¸€ä¸ªä»»æ„é•¿åº¦çš„ [1String](part_one.html#%28tech._1string%29)
    åˆ—è¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠä¸¤ä¸ªè¾…åŠ©å‡½æ•°åˆ—å…¥æˆ‘ä»¬çš„æ„¿æœ›æ¸…å•ï¼šfirst-lineï¼Œå®ƒæ”¶é›†æ‰€æœ‰ [1String](part_one.html#%28tech._1string%29)
    ç›´åˆ°ä½†ä¸åŒ…æ‹¬ç¬¬ä¸€ä¸ª "\n" æˆ–åˆ—è¡¨æœ«å°¾çš„å‡ºç°ï¼›ä»¥åŠ remove-first-lineï¼Œå®ƒç§»é™¤ first-line æ”¶é›†çš„ç›¸åŒé¡¹ç›®ã€‚
- en: '| ;Â [File](#%28tech._file%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Line](#%28tech._line%29)]
    |'
  id: totrans-698
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [File](#%28tech._file%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Line](#%28tech._line%29)]
    |'
- en: '| ;Â converts a file into a list of lines |'
  id: totrans-699
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å°†æ–‡ä»¶è½¬æ¢ä¸ºè¡Œåˆ—è¡¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (file->list-of-linesÂ afile)
    |'
  id: totrans-700
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (file->list-of-linesÂ afile)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-701
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â afile)Â ''()]
    |'
  id: totrans-702
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â afile)Â ''()]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-703
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â (first-lineÂ afile)
    |'
  id: totrans-704
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â (first-lineÂ afile)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â (file->list-of-linesÂ (remove-first-lineÂ afile)))])) |'
  id: totrans-705
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â (file->list-of-linesÂ (remove-first-lineÂ afile)))])) |'
- en: '| Â  |'
  id: totrans-706
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [File](#%28tech._file%29) -> [Line](#%28tech._line%29) |'
  id: totrans-707
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [File](#%28tech._file%29) -> [Line](#%28tech._line%29) |'
- en: '| ;Â retrieves the prefix of afile up to the first occurrence of NEWLINE |'
  id: totrans-708
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â retrieves the prefix of afile up to the first occurrence of NEWLINE |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (first-lineÂ afile)
    |'
  id: totrans-709
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (first-lineÂ afile)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-710
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â afile)Â ''()]
    |'
  id: totrans-711
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â afile)Â ''()]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â afile)Â NEWLINE)Â ''()]
    |'
  id: totrans-712
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â afile)Â NEWLINE)Â ''()]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â afile)Â (first-lineÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â afile)))]))
    |'
  id: totrans-713
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â afile)Â (first-lineÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â afile)))]))
    |'
- en: '| Â  |'
  id: totrans-714
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ;Â [File](#%28tech._file%29) -> [File](#%28tech._file%29) |'
  id: totrans-715
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; [æ–‡ä»¶](#%28tech._file%29) -> [æ–‡ä»¶](#%28tech._file%29) |'
- en: '| ;Â drops the prefix of afile up to the first occurrence of NEWLINE |'
  id: totrans-716
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ; åˆ é™¤æ–‡ä»¶å‰ç¼€ç›´åˆ°ç¬¬ä¸€ä¸ªå‡ºç°NEWLINE |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (remove-first-lineÂ afile)
    |'
  id: totrans-717
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (remove-first-lineÂ afile)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-718
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â afile)Â ''()]
    |'
  id: totrans-719
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â afile)Â ''()]
    |'
- en: '| Â Â Â Â [([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â afile)Â NEWLINE)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â afile)]
    |'
  id: totrans-720
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [([string=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string~3d~3f%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â afile)Â NEWLINE)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â afile)]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (remove-first-lineÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â afile))]))
    |'
  id: totrans-721
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (remove-first-lineÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â afile))]))
    |'
- en: '| Â  |'
  id: totrans-722
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â NEWLINEÂ "\n")Â ;Â the
    [1String](part_one.html#%28tech._1string%29) |'
  id: totrans-723
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â NEWLINEÂ "\n")Â ;
    1å­—ç¬¦ä¸² |'
- en: ''
  id: totrans-724
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 160: Translating a file into a list of lines'
  id: totrans-725
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾160ï¼šå°†æ–‡ä»¶è½¬æ¢ä¸ºè¡Œåˆ—è¡¨
- en: From here, it is easy to create the rest of the program. In file->list-of-lines,
    the answer in the first clause must be '() because an empty file does not contain
    any lines. The answer in the second clause must [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    the value of (first-line  afile) onto the value (file->list-of-lines  (remove-first-line  afile)),
    because the first expression computes the first line and the second one computes
    the rest of the lines. Finally, the auxiliary functions traverse their inputs
    in a structurally recursive manner; their development is a straightforward exercise.
    [FigureÂ 160](#%28counter._%28figure._fig~3afile2list%29%29) presents the complete
    program code.
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™é‡Œï¼Œåˆ›å»ºç¨‹åºçš„å…¶ä½™éƒ¨åˆ†å°±å¾ˆå®¹æ˜“äº†ã€‚åœ¨`file->list-of-lines`ä¸­ï¼Œç¬¬ä¸€ä¸ªå­å¥çš„ç­”æ¡ˆå¿…é¡»æ˜¯`()`ï¼Œå› ä¸ºç©ºæ–‡ä»¶ä¸åŒ…å«ä»»ä½•è¡Œã€‚ç¬¬äºŒä¸ªå­å¥çš„ç­”æ¡ˆå¿…é¡»åœ¨`(file->list-of-lines
    (remove-first-line afile))`ä¸Š`cons`ï¼ˆè¿æ¥ï¼‰`(first-line afile)`çš„å€¼ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªè¡¨è¾¾å¼è®¡ç®—ç¬¬ä¸€è¡Œï¼Œç¬¬äºŒä¸ªè¡¨è¾¾å¼è®¡ç®—å…¶ä½™çš„è¡Œã€‚æœ€åï¼Œè¾…åŠ©å‡½æ•°ä»¥ç»“æ„é€’å½’çš„æ–¹å¼éå†å®ƒä»¬çš„è¾“å…¥ï¼›å®ƒä»¬çš„å‘å±•æ˜¯ä¸€ä¸ªç›´æ¥çš„ç»ƒä¹ ã€‚[å›¾Â 160](#(counter.figure.fig~3afile2list))å±•ç¤ºäº†å®Œæ•´çš„ç¨‹åºä»£ç ã€‚
- en: 'Here is how file->list-of-lines processes the second test:'
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯`file->list-of-lines`å¤„ç†ç¬¬äºŒä¸ªæµ‹è¯•çš„æ–¹æ³•ï¼š
- en: '| (file->list-of-lines |'
  id: totrans-728
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  (file->list-of-lines |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c"Â "\n"Â "d"Â "e"Â "\n"Â "f"Â "g"Â "h"Â "\n"))
    |'
  id: totrans-729
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "a" "b" "c" "\n" "d" "e" "\n" "f" "g" "h" "\n")) |'
- en: '| == |'
  id: totrans-730
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    |'
  id: totrans-731
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
  id: totrans-732
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "a" "b" "c") |'
- en: '| Â Â (file->list-of-lines |'
  id: totrans-733
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  (file->list-of-lines |'
- en: '| Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e"Â "\n"Â "f"Â "g"Â "h"Â "\n")))
    |'
  id: totrans-734
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "d" "e" "\n" "f" "g" "h" "\n"))) |'
- en: '| == |'
  id: totrans-735
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    |'
  id: totrans-736
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
  id: totrans-737
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "a" "b" "c") |'
- en: '| Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e")
    |'
  id: totrans-738
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "d" "e")) |'
- en: '| Â Â Â Â Â Â Â Â (file->list-of-lines |'
  id: totrans-739
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â  (file->list-of-lines |'
- en: '| Â Â Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "f"Â "g"Â "h"Â "\n"))))
    |'
  id: totrans-740
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "f" "g" "h" "\n")))) |'
- en: '| == |'
  id: totrans-741
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
  id: totrans-742
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "a" "b" "c") |'
- en: '| Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e")
    |'
  id: totrans-743
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "d" "e") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "f"Â "g"Â "h")
    |'
  id: totrans-744
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "f" "g" "h") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (file->list-of-linesÂ ''())))) |'
  id: totrans-745
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆfile->list-of-lines ''())))) |'
- en: '| == |'
  id: totrans-746
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| == |'
- en: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "a"Â "b"Â "c")
    |'
  id: totrans-747
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "a" "b" "c") |'
- en: '| Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "d"Â "e")
    |'
  id: totrans-748
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "d" "e") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â "f"Â "g"Â "h")
    |'
  id: totrans-749
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)
    [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    "f" "g" "h") |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''()))) |'
  id: totrans-750
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ''()))) |'
- en: This evaluation is another reminder that the argument of the recursive application
    of file->list-of-lines is almost never the rest of the given file. It also shows
    why this generative recursion is guaranteed to terminate for every given [File](#%28tech._file%29).
    Every recursive application consumes a list that is shorter than the given one,
    meaning the recursive process stops when the process reaches '().
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ¬¡è¯„ä¼°å†æ¬¡æé†’æˆ‘ä»¬ï¼Œ`file->list-of-lines`çš„é€’å½’åº”ç”¨çš„å‚æ•°å‡ ä¹æ°¸è¿œä¸ä¼šæ˜¯ç»™å®šæ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†ã€‚è¿™ä¹Ÿè¯´æ˜äº†ä¸ºä»€ä¹ˆè¿™ç§ç”Ÿæˆæ€§é€’å½’å¯¹äºæ¯ä¸ªç»™å®šçš„[æ–‡ä»¶](#%28tech._file%29)éƒ½æœ‰ä¿è¯èƒ½å¤Ÿç»ˆæ­¢ã€‚æ¯æ¬¡é€’å½’åº”ç”¨éƒ½ä¼šæ¶ˆè€—ä¸€ä¸ªæ¯”ç»™å®šåˆ—è¡¨çŸ­çš„åˆ—è¡¨ï¼Œè¿™æ„å‘³ç€é€’å½’è¿‡ç¨‹ä¼šåœ¨è¾¾åˆ°'()`æ—¶åœæ­¢ã€‚
- en: ExerciseÂ 452\. Both first-line and remove-first-line are missing purpose statements.
    Articulate proper statements.
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 452ã€‚`first-line`å’Œ`remove-first-line`éƒ½ç¼ºå°‘ç›®çš„è¯´æ˜ã€‚è¯·é˜è¿°é€‚å½“çš„ç›®çš„è¯´æ˜ã€‚
- en: ExerciseÂ 453\. Design the function tokenize. It turns a [Line](#%28tech._line%29)
    into a list of tokens. Here a token is either a [1String](part_one.html#%28tech._1string%29)
    or a [String](part_one.html#%28tech._string%29) that consists of lower-case letters
    and nothing else. That is, all white-space [1String](part_one.html#%28tech._1string%29)s
    are dropped; all other non-letters remain as is; and all consecutive letters are
    bundled into â€œwords.â€ Hint Read up on the [string-whitespace?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-whitespace~3f%29%29)
    function.
  id: totrans-753
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  453ã€‚è®¾è®¡ tokenize å‡½æ•°ã€‚å®ƒå°†ä¸€ä¸ª [Line](#%28tech._line%29) è½¬æ¢ä¸ºæ ‡è®°åˆ—è¡¨ã€‚åœ¨è¿™é‡Œï¼Œä¸€ä¸ªæ ‡è®°è¦ä¹ˆæ˜¯ä¸€ä¸ª [1String](part_one.html#%28tech._1string%29)
    æˆ–ä¸€ä¸ª [String](part_one.html#%28tech._string%29)ï¼Œå®ƒåªåŒ…å«å°å†™å­—æ¯å’Œæ²¡æœ‰å…¶ä»–å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ç©ºç™½ [1String](part_one.html#%28tech._1string%29)
    éƒ½è¢«åˆ é™¤ï¼›æ‰€æœ‰å…¶ä»–éå­—æ¯å­—ç¬¦ä¿æŒåŸæ ·ï¼›æ‰€æœ‰è¿ç»­çš„å­—æ¯éƒ½è¢«æ†ç»‘æˆâ€œå•è¯â€ã€‚æç¤ºï¼šé˜…è¯»æœ‰å…³ [string-whitespace?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._string-whitespace~3f%29%29)
    å‡½æ•°çš„å†…å®¹ã€‚
- en: 'ExerciseÂ 454\. Design create-matrix. The function consumes a number n and a
    list of n2 numbers. It produces an ![image](../Images/80af2ae13788ea66e71a8e4cd0cedb24.png)
    matrix, for example:'
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  454ã€‚è®¾è®¡ create-matrix å‡½æ•°ã€‚è¯¥å‡½æ•°æ¶ˆè€—ä¸€ä¸ªæ•°å­— n å’Œä¸€ä¸ª n^2 ä¸ªæ•°å­—çš„åˆ—è¡¨ã€‚å®ƒäº§ç”Ÿä¸€ä¸ª ![image](../Images/80af2ae13788ea66e71a8e4cd0cedb24.png)
    çŸ©é˜µï¼Œä¾‹å¦‚ï¼š
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
  id: totrans-755
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    |'
- en: '| Â Â (create-matrixÂ 2Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2Â 3Â 4))
    |'
  id: totrans-756
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   (create-matrix 2 ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 2 3 4)) |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 1Â 2)
    |'
  id: totrans-757
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|       ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 2))) |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â 4)))
    |'
  id: totrans-758
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|       ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 4))) |'
- en: Make up a second example.
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³å‡ºä¸€ä¸ªç¬¬äºŒä¸ªä¾‹å­ã€‚
- en: 28Mathematical Examples[ğŸ”—](#(part._ch~3agen-rec-math) "Link to here")
  id: totrans-760
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 28 æ•°å­¦ç¤ºä¾‹[ğŸ”—](#(part._ch~3agen-rec-math) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: Many solutions to mathematical problems employ generative recursion. A future
    programmer must get to know such solutions for two reasons. On the one hand, a
    fair number of programming tasks are essentially about turning these kinds of
    mathematical ideas into programs. On the other hand, practicing with such mathematical
    problems often proves inspirational for the design of algorithms. This chapter
    deals with three such problems.
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
  zh: è®¸å¤šæ•°å­¦é—®é¢˜çš„è§£å†³æ–¹æ¡ˆéƒ½é‡‡ç”¨äº†ç”Ÿæˆé€’å½’ã€‚æœªæ¥çš„ç¨‹åºå‘˜å¿…é¡»äº†è§£è¿™ç±»è§£å†³æ–¹æ¡ˆï¼ŒåŸå› æœ‰ä¸¤ä¸ªã€‚ä¸€æ–¹é¢ï¼Œç›¸å½“å¤šçš„ç¼–ç¨‹ä»»åŠ¡æœ¬è´¨ä¸Šæ˜¯å°†è¿™ç±»æ•°å­¦æ€æƒ³è½¬åŒ–ä¸ºç¨‹åºã€‚å¦ä¸€æ–¹é¢ï¼Œé€šè¿‡è¿™ç±»æ•°å­¦é—®é¢˜çš„ç»ƒä¹ ï¼Œå¾€å¾€èƒ½æ¿€å‘ç®—æ³•è®¾è®¡çš„çµæ„Ÿã€‚æœ¬ç« å°†è®¨è®ºä¸‰ä¸ªè¿™æ ·çš„é—®é¢˜ã€‚
- en: 28.1Newtonâ€™s Method[ğŸ”—](#(part._sec~3anewton) "Link to here")
  id: totrans-762
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 28.1 ç‰›é¡¿æ³•[ğŸ”—](#(part._sec~3anewton) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: '[Binary Search](#%28part._sec~3abinary-search%29) introduces one method for
    finding the root of a mathematical function. As the exercises in the same section
    sketch, the method naturally generalizes to computational problems, such as finding
    certain values in tables, vectors, and arrays. In mathematical applications, programmers
    tend to employ methods that originate from analytical mathematics. A prominent
    one is due to Newton. Like binary search, the so-called Newton method repeatedly
    improves an approximation to the root until it is â€œclose enough.â€ Starting from
    a guess, say, r1, the essence of the process is to construct the tangent of f
    at r1 and to determine its root. While the tangent approximates the function,
    it is also straightforward to determine its root. By repeating this process sufficiently
    often,Newton proved this fact. an algorithm can find a root r for which (f r)
    is close enough to 0.'
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: '[äºŒåˆ†æŸ¥æ‰¾](#%28part._sec~3abinary-search%29)ä»‹ç»äº†ä¸€ç§å¯»æ‰¾æ•°å­¦å‡½æ•°æ ¹çš„æ–¹æ³•ã€‚æ­£å¦‚åŒä¸€èŠ‚ä¸­çš„ç»ƒä¹ æ‰€æ¦‚è¿°çš„ï¼Œè¯¥æ–¹æ³•è‡ªç„¶åœ°æ¨å¹¿åˆ°è®¡ç®—é—®é¢˜ï¼Œä¾‹å¦‚åœ¨è¡¨æ ¼ã€å‘é‡å’Œæ•°ç»„ä¸­æŸ¥æ‰¾æŸäº›å€¼ã€‚åœ¨æ•°å­¦åº”ç”¨ä¸­ï¼Œç¨‹åºå‘˜å€¾å‘äºé‡‡ç”¨æºè‡ªåˆ†ææ•°å­¦çš„æ–¹æ³•ã€‚å…¶ä¸­æœ€è‘—åçš„æ˜¯ç‰›é¡¿çš„æ–¹æ³•ã€‚ä¸äºŒåˆ†æŸ¥æ‰¾ç±»ä¼¼ï¼Œæ‰€è°“çš„ç‰›é¡¿æ–¹æ³•åå¤æ”¹è¿›å¯¹æ ¹çš„è¿‘ä¼¼ï¼Œç›´åˆ°è¶³å¤Ÿæ¥è¿‘ã€‚ä»ä¸€ä¸ªçŒœæµ‹å€¼å¼€å§‹ï¼Œæ¯”å¦‚r1ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„æ ¸å¿ƒæ˜¯æ„é€ fåœ¨r1å¤„çš„åˆ‡çº¿å¹¶ç¡®å®šå…¶æ ¹ã€‚å½“åˆ‡çº¿è¿‘ä¼¼å‡½æ•°æ—¶ï¼Œç¡®å®šå…¶æ ¹ä¹Ÿå¾ˆç®€å•ã€‚é€šè¿‡è¶³å¤Ÿå¤šæ¬¡åœ°é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç‰›é¡¿è¯æ˜äº†è¿™ä¸€äº‹å®ã€‚ä¸€ä¸ªç®—æ³•å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªæ ¹rï¼Œä½¿å¾—(f
    r)è¶³å¤Ÿæ¥è¿‘0ã€‚'
- en: 'Clearly, this process relies on two pieces of domain knowledge about tangents:
    their slopes and roots. Informally, a tangent of f at some point r1 is the line
    that goes through the point (r1, f(r1)) and has the same slope as f. One mathematical
    way to obtain the tangentâ€™s slope is to pick two close points on the x-axis that
    are equidistant from r1 and to use the slope of the line determined by f at those
    two points. The convention is to choose a small number Îµ and to work with r1 +
    Îµ and r1 - Îµ. That is, the points are (r1 - Îµ, f(r1 - Îµ)) and (r1 + Îµ, f(r1 +
    Îµ)), which determine a line and a slope:'
  id: totrans-764
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¾ç„¶ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¾èµ–äºå…³äºåˆ‡çº¿çš„ä¸¤å—é¢†åŸŸçŸ¥è¯†ï¼šå®ƒä»¬çš„æ–œç‡å’Œæ ¹ã€‚éæ­£å¼åœ°è¯´ï¼Œfåœ¨æŸä¸ªç‚¹r1å¤„çš„åˆ‡çº¿æ˜¯é€šè¿‡ç‚¹(r1, f(r1))å¹¶ä¸”å…·æœ‰ä¸fç›¸åŒæ–œç‡çš„ç›´çº¿ã€‚ä¸€ç§è·å–åˆ‡çº¿æ–œç‡çš„æ•°å­¦æ–¹æ³•æ˜¯é€‰æ‹©ä¸¤ä¸ªä¸r1ç­‰è·ç¦»çš„xè½´ä¸Šçš„æ¥è¿‘ç‚¹ï¼Œå¹¶ä½¿ç”¨ç”±fåœ¨è¿™ä¸¤ä¸ªç‚¹ç¡®å®šçš„ç›´çº¿çš„æ–œç‡ã€‚æƒ¯ä¾‹æ˜¯é€‰æ‹©ä¸€ä¸ªå°çš„æ•°Îµï¼Œå¹¶ä½¿ç”¨r1
    + Îµå’Œr1 - Îµã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›ç‚¹æ˜¯(r1 - Îµ, f(r1 - Îµ))å’Œ(r1 + Îµ, f(r1 + Îµ))ï¼Œå®ƒä»¬ç¡®å®šäº†ä¸€æ¡çº¿å’Œä¸€æ¡æ–œç‡ï¼š
- en: '![image](../Images/8d906916eed4811a36a8445fa57d69f1.png)'
  id: totrans-765
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/8d906916eed4811a36a8445fa57d69f1.png)'
- en: ExerciseÂ 455\. Translate this mathematical formula into the ISL+ function slope,
    which maps function f and a number r1 to the slope of f at r1. Assume that Îµ is
    a global constant. For your examples, use functions whose exact slope you can
    figure out, say, horizontal lines, linear functions, and perhaps polynomials if
    you know some calculus.
  id: totrans-766
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 455ã€‚å°†è¿™ä¸ªæ•°å­¦å…¬å¼ç¿»è¯‘æˆISL+å‡½æ•°æ–œç‡ï¼Œè¯¥æ–œç‡å°†å‡½æ•°få’Œæ•°å­—r1æ˜ å°„åˆ°fåœ¨r1å¤„çš„æ–œç‡ã€‚å‡è®¾Îµæ˜¯ä¸€ä¸ªå…¨å±€å¸¸æ•°ã€‚åœ¨ä½ çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨ä½ å¯ä»¥ç¡®å®šç¡®åˆ‡æ–œç‡çš„å‡½æ•°ï¼Œæ¯”å¦‚æ°´å¹³çº¿ã€çº¿æ€§å‡½æ•°ï¼Œå¦‚æœä½ çŸ¥é“ä¸€äº›å¾®ç§¯åˆ†ï¼Œä¹Ÿè®¸è¿˜å¯ä»¥æ˜¯å¤šé¡¹å¼ã€‚
- en: The second piece of domain knowledge concerns the root of a tangent, which is
    just a line or a linear function. The tangent goes through (r1, f(r1)) and has
    the above slope. Mathematically, it is defined as
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒéƒ¨åˆ†é¢†åŸŸçŸ¥è¯†æ¶‰åŠåˆ‡çº¿çš„æ ¹ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç›´çº¿æˆ–çº¿æ€§å‡½æ•°ã€‚åˆ‡çº¿é€šè¿‡(r1, f(r1))ï¼Œå¹¶ä¸”å…·æœ‰ä¸Šè¿°æ–œç‡ã€‚ä»æ•°å­¦ä¸Šè®²ï¼Œå®ƒè¢«å®šä¹‰ä¸º
- en: '![image](../Images/0886147f262ed0327f1c06ff7b448cd5.png)'
  id: totrans-768
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/0886147f262ed0327f1c06ff7b448cd5.png)'
- en: 'Finding the root of tangent means finding a value root-of-tangent so that tangent(root-of-tangent)
    equals 0:'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰¾åˆ°åˆ‡çº¿çš„æ ¹æ„å‘³ç€æ‰¾åˆ°ä¸€ä¸ªå€¼root-of-tangentï¼Œä½¿å¾—tangent(root-of-tangent)ç­‰äº0ï¼š
- en: '![image](../Images/246a53eb0f5e88102c94bd00a1e3f23e.png)'
  id: totrans-770
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/246a53eb0f5e88102c94bd00a1e3f23e.png)'
- en: 'We can solve this equation in a straightforward manner:'
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä»¥ç›´æ¥çš„æ–¹å¼è§£è¿™ä¸ªæ–¹ç¨‹ï¼š
- en: '![image](../Images/c6817d5157a2184bbeccf51d91cd6284.png)'
  id: totrans-772
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/c6817d5157a2184bbeccf51d91cd6284.png)'
- en: ExerciseÂ 456\. Design root-of-tangent, a function that maps f and r1 to the
    root of the tangent through (r1,(f  r1)).
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 456ã€‚è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç§°ä¸ºåˆ‡çº¿æ ¹ï¼Œå®ƒå°†få’Œr1æ˜ å°„åˆ°é€šè¿‡(r1, f(r1))çš„åˆ‡çº¿çš„æ ¹ã€‚
- en: 'Now we can use the design recipe to translate the description of Newtonâ€™s process
    into an ISL+ program. The functionâ€”<wbr>letâ€™s call it newton in honor of its inventorâ€”<wbr>consumes
    a function f and a number r1:'
  id: totrans-774
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¾è®¡é£Ÿè°±å°†ç‰›é¡¿è¿‡ç¨‹çš„æè¿°ç¿»è¯‘æˆISL+ç¨‹åºã€‚è¿™ä¸ªå‡½æ•°â€”â€”è®©æˆ‘ä»¬ç§°å®ƒä¸ºnewtonï¼Œä»¥çºªå¿µå…¶å‘æ˜è€…â€”â€”æ¥å—ä¸€ä¸ªå‡½æ•°få’Œä¸€ä¸ªæ•°å­—r1ï¼š
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-775
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)
    |'
- en: '| ;Â finds a number r such that (f  r) is small |'
  id: totrans-776
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ‰¾åˆ°ä¸€ä¸ªæ•°rï¼Œä½¿å¾—(fÂ r)å¾ˆå° |'
- en: '| ;Â generative repeatedly generates improved guesses |'
  id: totrans-777
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç”Ÿæˆé‡å¤ç”Ÿæˆæ”¹è¿›çš„çŒœæµ‹ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (newtonÂ fÂ r1)Â 1.0)
    |'
  id: totrans-778
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (newtonÂ fÂ r1)Â 1.0)
    |'
- en: 'For the template of newton, we turn to the central four questions of the design
    recipe for generative recursion:'
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç‰›é¡¿æ³•çš„æ¨¡æ¿ï¼Œæˆ‘ä»¬è½¬å‘ç”Ÿæˆé€’å½’è®¾è®¡é£Ÿè°±çš„ä¸­å¿ƒå››ä¸ªé—®é¢˜ï¼š
- en: 'If (f  r1) is close enough to 0, the problem is solved. Close to 0 could mean
    (f  r1) is a small positive number or a small negative number. Hence we check
    its absolute value:'
  id: totrans-780
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœ(fÂ r1)è¶³å¤Ÿæ¥è¿‘0ï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚æ¥è¿‘0å¯èƒ½æ„å‘³ç€(fÂ r1)æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ­£æ•°æˆ–å¾ˆå°çš„è´Ÿæ•°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ£€æŸ¥å®ƒçš„ç»å¯¹å€¼ï¼š
- en: ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([abs](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._abs%29%29)Â (fÂ r1))Â Îµ)
  id: totrans-781
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([abs](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._abs%29%29)Â (fÂ r1))Â Îµ))
- en: The solution is r1.
  id: totrans-782
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è§£æ˜¯r1ã€‚
- en: The generative step of the algorithm consists of finding the root of the tangent
    of f at r1, which generates the next guess. By applying newton to f and this new
    guess, we resume the process.
  id: totrans-783
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç®—æ³•çš„ç”Ÿæˆæ­¥éª¤åŒ…æ‹¬åœ¨r1å¤„æ‰¾åˆ°fçš„åˆ‡çº¿çš„æ ¹ï¼Œè¿™ç”Ÿæˆäº†ä¸‹ä¸€ä¸ªçŒœæµ‹ã€‚é€šè¿‡å°†ç‰›é¡¿åº”ç”¨äºfå’Œè¿™ä¸ªæ–°çŒœæµ‹ï¼Œæˆ‘ä»¬ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ã€‚
- en: The answer of the recursion is also the answer of the original problem.
  id: totrans-784
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€’å½’çš„ç­”æ¡ˆæ˜¯åŸå§‹é—®é¢˜çš„ç­”æ¡ˆã€‚
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-785
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)
    |'
- en: '| ;Â finds a number r such that ([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  ([abs](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._abs%29%29)  (f  r))  Îµ)
    |'
  id: totrans-786
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ‰¾åˆ°ä¸€ä¸ªæ•°rï¼Œä½¿å¾—([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)  ([abs](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._abs%29%29)  (fÂ 
    r)))  Îµ)'
- en: '| Â  |'
  id: totrans-787
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (newtonÂ polyÂ 1)Â 2Â Îµ)
    |'
  id: totrans-788
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (newtonÂ polyÂ 1)Â 2Â Îµ))'
- en: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (newtonÂ polyÂ 3.5)Â 4Â Îµ)
    |'
  id: totrans-789
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (newtonÂ polyÂ 3.5)Â 4Â Îµ))'
- en: '| Â  |'
  id: totrans-790
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (newtonÂ fÂ r1)
    |'
  id: totrans-791
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (newtonÂ fÂ r1)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-792
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([abs](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._abs%29%29)Â (fÂ r1))Â Îµ)Â r1]
    |'
  id: totrans-793
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([<=](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c~3d%29%29)Â ([abs](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._abs%29%29)Â (fÂ r1))Â Îµ)Â r1]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (newtonÂ fÂ (root-of-tangentÂ fÂ r1))]))
    |'
  id: totrans-794
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â (newtonÂ fÂ (root-of-tangentÂ fÂ r1))]))
    |'
- en: '| Â  |'
  id: totrans-795
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â see [exerciseÂ 455](#%28counter._%28exercise._ex~3aslope%29%29) |'
  id: totrans-796
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‚è§[ç»ƒä¹ 455](#%28counter._%28exercise._ex~3aslope%29%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (slopeÂ fÂ r)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-797
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (slopeÂ fÂ r)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-798
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â see [exerciseÂ 456](#%28counter._%28exercise._ex~3aroot-of-tangent%29%29)
    |'
  id: totrans-799
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‚è§[ç»ƒä¹ 456](#%28counter._%28exercise._ex~3aroot-of-tangent%29%29) |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (root-of-tangentÂ fÂ r)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-800
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (tangent-rootÂ fÂ r)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: ''
  id: totrans-801
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 161: The Newton process'
  id: totrans-802
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾161ï¼šç‰›é¡¿è¿‡ç¨‹
- en: '[FigureÂ 161](#%28counter._%28figure._fig~3anewton%29%29) displays newton. It
    includes two tests that are derived from the tests in [Binary Search](#%28part._sec~3abinary-search%29)
    for find-root. After all, both functions search for the root of a function, and
    poly has two known roots.'
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾161](#%28counter._%28figure._fig~3anewton%29%29) æ˜¾ç¤ºäº†ç‰›é¡¿æ–¹æ³•ã€‚å®ƒåŒ…æ‹¬ä¸¤ä¸ªæµ‹è¯•ï¼Œè¿™äº›æµ‹è¯•æ˜¯ä»[äºŒåˆ†æŸ¥æ‰¾](#%28part._sec~3abinary-search%29)ä¸­ä¸ºæŸ¥æ‰¾æ ¹è€Œæ´¾ç”Ÿå‡ºæ¥çš„ã€‚æ¯•ç«Ÿï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½åœ¨å¯»æ‰¾å‡½æ•°çš„æ ¹ï¼Œè€Œå¤šé¡¹å¼æœ‰ä¸¤ä¸ªå·²çŸ¥çš„æ ¹ã€‚'
- en: '![image](../Images/f42dab22450baf9f10388f4a8e93e5b0.png)'
  id: totrans-804
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾åƒ](../Images/f42dab22450baf9f10388f4a8e93e5b0.png)'
- en: ''
  id: totrans-805
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 162: The graph of poly on the interval [-1,5]'
  id: totrans-806
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾162ï¼šå¤šé¡¹å¼åœ¨åŒºé—´[-1,5]ä¸Šçš„å›¾åƒ
- en: 'We are not finished with the design of newton. The new, seventh step of the
    design recipe calls for an investigation into the termination behavior of the
    function. For newton, the problem shows up with poly:'
  id: totrans-807
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œæˆç‰›é¡¿çš„è®¾è®¡ã€‚è®¾è®¡é£Ÿè°±ä¸­çš„æ–°ç¬¬ä¸ƒæ­¥è¦æ±‚è°ƒæŸ¥å‡½æ•°çš„ç»ˆæ­¢è¡Œä¸ºã€‚å¯¹äºç‰›é¡¿æ–¹æ³•ï¼Œé—®é¢˜å‡ºç°åœ¨å¤šé¡¹å¼`poly`ä¸Šï¼š
- en: '| ;Â [Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-808
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (polyÂ x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 2)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 4)))
    |'
  id: totrans-809
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (polyÂ x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 2)Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â xÂ 4)))
    |'
- en: 'As mentioned, its roots are 2 and 4. The graph of poly in [figureÂ 162](#%28counter._%28figure._fig~3apoly-root%29%29)
    confirms these roots and also shows that between the two roots the function flattens
    out. For a mathematically inclined person, this shape raises the question of what
    newton computes for an initial guess of 3:'
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œå®ƒçš„æ ¹æ˜¯2å’Œ4ã€‚å›¾162ä¸­çš„å¤šé¡¹å¼å›¾åƒè¯å®äº†è¿™äº›æ ¹ï¼Œå¹¶ä¸”è¿˜æ˜¾ç¤ºåœ¨è¿™ä¸¤ä¸ªæ ¹ä¹‹é—´å‡½æ•°å˜å¾—å¹³å¦ã€‚å¯¹äºä¸€ä¸ªæœ‰æ•°å­¦å€¾å‘çš„äººæ¥è¯´ï¼Œè¿™ç§å½¢çŠ¶ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜ï¼šå¯¹äºåˆå§‹çŒœæµ‹ä¸º3çš„æƒ…å†µï¼Œç‰›é¡¿è®¡ç®—çš„æ˜¯ä»€ä¹ˆï¼š
- en: '| > (polyÂ 3) |'
  id: totrans-811
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (polyÂ 3) |'
- en: '| -1 |'
  id: totrans-812
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| -1 |'
- en: '| > (newtonÂ polyÂ 3) |'
  id: totrans-813
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (newtonÂ polyÂ 3) |'
- en: '| /:division by zero |'
  id: totrans-814
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| /:é™¤ä»¥é›¶ |'
- en: 'The explanation is that slope produces a â€œbadâ€ value and the root-of-tangent
    function turns it into an error:'
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šæ˜¯æ–œç‡å‡½æ•°äº§ç”Ÿäº†ä¸€ä¸ªâ€œåâ€å€¼ï¼Œè€Œåˆ‡çº¿æ ¹å‡½æ•°å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªé”™è¯¯ï¼š
- en: '| > (slopeÂ polyÂ 3) |'
  id: totrans-816
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (slopeÂ polyÂ 3) |'
- en: '| 0 |'
  id: totrans-817
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| 0 |'
- en: '| > (root-of-tangentÂ polyÂ 3) |'
  id: totrans-818
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (tangent-rootÂ polyÂ 3) |'
- en: '| /:division by zero |'
  id: totrans-819
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| /:é™¤ä»¥é›¶ |'
- en: 'In addition to this run-time error, newton exhibits two other problems with
    respect to termination. Fortunately, we can demonstrate both with poly. The first
    one concerns the nature of numbers, which we briefly touched on in [The Arithmetic
    of Numbers](part_one.html#%28part._sec~3aarith-num%29). It is safe to ignore the
    distinction between exact and inexact numbers for many beginner exercises in programming,
    but when it comes to translating mathematics into programs, you need to proceed
    with extreme caution. Consider the following:'
  id: totrans-820
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†è¿™ä¸ªè¿è¡Œæ—¶é”™è¯¯ä¹‹å¤–ï¼Œç‰›é¡¿æ³•åœ¨ç»ˆæ­¢æ–¹é¢è¿˜è¡¨ç°å‡ºä¸¤ä¸ªå…¶ä»–é—®é¢˜ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨polyæ¥è¯æ˜è¿™ä¸¤ä¸ªé—®é¢˜ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜æ¶‰åŠæ•°å­—çš„æ€§è´¨ï¼Œæˆ‘ä»¬åœ¨[æ•°çš„ç®—æœ¯](part_one.html#%28part._sec~3aarith-num%29)ä¸­ç®€è¦æåˆ°äº†è¿™ä¸€ç‚¹ã€‚å¯¹äºè®¸å¤šç¼–ç¨‹åˆå­¦è€…çš„ç»ƒä¹ æ¥è¯´ï¼Œå¿½ç•¥ç²¾ç¡®æ•°å’Œä¸ç²¾ç¡®æ•°ä¹‹é—´çš„åŒºåˆ«æ˜¯å®‰å…¨çš„ï¼Œä½†å½“æ•°å­¦è¢«ç¿»è¯‘æˆç¨‹åºæ—¶ï¼Œä½ éœ€è¦æç«¯è°¨æ…åœ°è¿›è¡Œã€‚è€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼š
- en: '| > (newtonÂ polyÂ 2.9999) |'
  id: totrans-821
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (newton poly 2.9999) |'
- en: 'An ISL+ program treats 2.9999 as an exact number, and the computations in newton
    process it as such, though because the numbers arenâ€™t integers, the computation
    uses exact rational fractions. Since the arithmetic for fractions can get much
    slower than the arithmetic for inexact numbers, the above function call takes
    a significant amount of time in DrRacket. Depending on your computer, it may take
    between a few seconds and a minute or more. If you happen to choose other numbers
    that trigger this form of computation, it may seem as if the call to newton does
    not terminate at all.The second problem concerns non-termination. Here is the
    example:'
  id: totrans-822
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªISL+ç¨‹åºå°†2.9999è§†ä¸ºç²¾ç¡®æ•°ï¼Œå¹¶ä¸”newtonä¸­çš„è®¡ç®—å°†å…¶ä½œä¸ºç²¾ç¡®æ•°å¤„ç†ï¼Œå°½ç®¡å› ä¸ºæ•°å­—ä¸æ˜¯æ•´æ•°ï¼Œè®¡ç®—ä½¿ç”¨ç²¾ç¡®æœ‰ç†åˆ†æ•°ã€‚ç”±äºåˆ†æ•°çš„ç®—æœ¯å¯èƒ½æ¯”ä¸ç²¾ç¡®æ•°çš„ç®—æœ¯æ…¢å¾—å¤šï¼Œå› æ­¤ä¸Šè¿°å‡½æ•°è°ƒç”¨åœ¨DrRacketä¸­éœ€è¦ç›¸å½“é•¿çš„æ—¶é—´ã€‚æ ¹æ®ä½ çš„è®¡ç®—æœºï¼Œè¿™å¯èƒ½éœ€è¦å‡ ç§’é’Ÿåˆ°ä¸€åˆ†é’Ÿæˆ–æ›´é•¿æ—¶é—´ã€‚å¦‚æœä½ æ°å¥½é€‰æ‹©äº†è§¦å‘è¿™ç§è®¡ç®—çš„å…¶ä»–æ•°å­—ï¼Œè¿™å¯èƒ½ä¼šè®©ä½ è§‰å¾—newtonçš„è°ƒç”¨æ ¹æœ¬ä¸ä¼šç»ˆæ­¢ã€‚ç¬¬äºŒä¸ªé—®é¢˜æ¶‰åŠéç»ˆæ­¢ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š
- en: '| > (newtonÂ polyÂ #i3.0) |'
  id: totrans-823
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (newton poly #i3.0) |'
- en: 'It uses the inexact number #i3.0 as the initial guess, which unlike 3 causes
    a different kind of problem. Specifically, the slope function now produces an
    inexact 0 for poly while root-of-tangent jumps to infinity:'
  id: totrans-824
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä½¿ç”¨ä¸ç²¾ç¡®æ•°#i3.0ä½œä¸ºåˆå§‹çŒœæµ‹ï¼Œè¿™ä¸3ä¸åŒï¼Œä¼šå¯¼è‡´ä¸åŒç±»å‹çš„é—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œæ–œç‡å‡½æ•°ç°åœ¨ä¸ºpolyäº§ç”Ÿä¸€ä¸ªä¸ç²¾ç¡®çš„0ï¼Œè€Œåˆ‡çº¿æ ¹è·³åˆ°æ— ç©·å¤§ï¼š
- en: '| > (slopeÂ polyÂ #i3.0) |'
  id: totrans-825
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (slope poly #i3.0) |'
- en: '| #i0.0 |'
  id: totrans-826
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #i0.0 |'
- en: '| > (root-of-tangentÂ polyÂ #i3.0) |'
  id: totrans-827
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| > (root-of-tangent poly #i3.0) |'
- en: '| #i+inf.0 |'
  id: totrans-828
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| #i+inf.0 |'
- en: 'As a result, the evaluation immediately falls into an infinite loop.The calculation
    in newton turns #i+inf.0 into +nan.0, a piece of data that says â€œnot a number.â€
    Most arithmetic operations propagate this value, which explains the behavior of
    newton.'
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœï¼Œè¯„ä¼°ç«‹å³é™·å…¥æ— é™å¾ªç¯ã€‚åœ¨ç‰›é¡¿æ³•ä¸­ï¼Œ#i+inf.0è¢«è½¬æ¢ä¸º+nan.0ï¼Œè¿™æ˜¯ä¸€ç§è¡¨ç¤ºâ€œä¸æ˜¯ä¸€ä¸ªæ•°å­—â€çš„æ•°æ®ã€‚å¤§å¤šæ•°ç®—æœ¯è¿ç®—éƒ½ä¼šä¼ æ’­è¿™ä¸ªå€¼ï¼Œè¿™è§£é‡Šäº†ç‰›é¡¿çš„è¡Œä¸ºã€‚
- en: In short, newton exhibits the full range of problems when it comes to complex
    termination behavior. For some inputs, the function produces a correct result.
    For some others, it signals errors. And for yet others, it goes into infinite
    loop or appears to go into one. The header for newtonâ€”<wbr>or some other piece
    of writingâ€”<wbr>must warn others who wish to use the function and future readers
    of these complexities, and good math libraries in common programming languages
    do so.
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œç‰›é¡¿åœ¨å¤æ‚çš„ç»ˆæ­¢è¡Œä¸ºæ–¹é¢è¡¨ç°å‡ºå…¨é¢çš„é—®é¢˜ã€‚å¯¹äºæŸäº›è¾“å…¥ï¼Œè¯¥å‡½æ•°äº§ç”Ÿæ­£ç¡®çš„ç»“æœã€‚å¯¹äºæŸäº›å…¶ä»–è¾“å…¥ï¼Œå®ƒå‘å‡ºé”™è¯¯ä¿¡å·ã€‚è€Œå¯¹äºå…¶ä»–ä¸€äº›è¾“å…¥ï¼Œå®ƒè¿›å…¥æ— é™å¾ªç¯æˆ–çœ‹ä¼¼è¿›å…¥æ— é™å¾ªç¯ã€‚ç‰›é¡¿çš„æ ‡é¢˜â€”â€”æˆ–è€…æŸäº›å…¶ä»–å†™ä½œâ€”â€”å¿…é¡»è­¦å‘Šå¸Œæœ›ä½¿ç”¨è¯¥å‡½æ•°çš„äººä»¥åŠæœªæ¥çš„è¯»è€…ï¼Œè¿™äº›å¤æ‚æ€§ï¼Œå¹¶ä¸”å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ä¸­çš„è‰¯å¥½æ•°å­¦åº“å°±æ˜¯è¿™æ ·åšçš„ã€‚
- en: ExerciseÂ 457\. Design the function double-amount,This exercise was suggested
    by Adrian German. which computes how many months it takes to double a given amount
    of money when a savings account pays interest at a fixed rate on a monthly basis.
  id: totrans-831
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 457ï¼šè®¾è®¡å‡½æ•°double-amountï¼Œè¿™ä¸ªç»ƒä¹ æ˜¯ç”±Adrian Germanæå‡ºçš„ã€‚è¯¥å‡½æ•°è®¡ç®—åœ¨å‚¨è“„è´¦æˆ·æŒ‰æœˆå›ºå®šåˆ©ç‡æ”¯ä»˜åˆ©æ¯çš„æƒ…å†µä¸‹ï¼Œéœ€è¦å¤šå°‘ä¸ªæœˆæ‰èƒ½ä½¿ç»™å®šé‡‘é¢ç¿»å€ã€‚
- en: Domain Knowledge With a minor algebraic manipulation, you can show that the
    given amount is irrelevant. Only the interest rate matters. Also domain experts
    know that doubling occurs after roughly 72/r month as long as the interest rate
    r is â€œsmall.â€
  id: totrans-832
  prefs: []
  type: TYPE_NORMAL
  zh: é¢†åŸŸçŸ¥è¯†é€šè¿‡å¾®å°çš„ä»£æ•°æ“ä½œï¼Œä½ å¯ä»¥è¯æ˜ç»™å®šçš„é‡‘é¢å¹¶ä¸é‡è¦ã€‚åªæœ‰åˆ©ç‡æ‰æ˜¯å…³é”®ã€‚æ­¤å¤–ï¼Œé¢†åŸŸä¸“å®¶çŸ¥é“ï¼Œåªè¦åˆ©ç‡râ€œå°â€ï¼Œå¤§çº¦åœ¨72/rä¸ªæœˆåå°±ä¼šç¿»å€ã€‚
- en: 28.2Numeric Integration[ğŸ”—](#(part._sec~3aintegrate) "Link to here")
  id: totrans-833
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 28.2æ•°å€¼ç§¯åˆ†[ğŸ”—](#(part._sec~3aintegrate) "é“¾æ¥è‡³æ­¤")
- en: 'Many physics problems boil down to determining the area under a curve:'
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
  zh: è®¸å¤šç‰©ç†é—®é¢˜å¯ä»¥å½’ç»“ä¸ºç¡®å®šæ›²çº¿ä¸‹çš„é¢ç§¯ï¼š
- en: Sample Problem A car drives at a constant speed of v meters per second. How
    far does it travel in 5, 10, 15 seconds?
  id: totrans-835
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜Aä¸€è¾†æ±½è½¦ä»¥æ¯ç§’vç±³çš„æ’å®šé€Ÿåº¦è¡Œé©¶ã€‚å®ƒåœ¨5ç§’ã€10ç§’ã€15ç§’å†…è¡Œé©¶å¤šè¿œï¼Ÿ
- en: ''
  id: totrans-836
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A rocket lifts off at the constant rate of acceleration of ![image](../Images/2b4ffc49abc295bcc6dec9b30c17b233.png).
    What height does it reach after 5, 10, 15 seconds?
  id: totrans-837
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä¸€æšç«ç®­ä»¥![image](../Images/2b4ffc49abc295bcc6dec9b30c17b233.png)çš„æ’å®šåŠ é€Ÿåº¦ç‡èµ·é£ã€‚å®ƒåœ¨5ç§’ã€10ç§’ã€15ç§’åè¾¾åˆ°å¤šé«˜ï¼Ÿ
- en: 'Physics tells us that a vehicle travels ![image](../Images/038e3a0712806375958dcfa83ac3afba.png)
    meters if it moves at a constant speed v for t seconds. For vehicles that accelerate,
    the distance traveled depends on the square of the time t passed:'
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰©ç†å­¦å‘Šè¯‰æˆ‘ä»¬ï¼Œå¦‚æœä¸€è¾†è½¦ä»¥æ’å®šé€Ÿåº¦vè¡Œé©¶tç§’ï¼Œå®ƒå°†è¡Œé©¶![image](../Images/038e3a0712806375958dcfa83ac3afba.png)ç±³ã€‚å¯¹äºåŠ é€Ÿçš„è½¦è¾†ï¼Œè¡Œé©¶çš„è·ç¦»å–å†³äºæ—¶é—´té€šè¿‡å¹³æ–¹ï¼š
- en: '![image](../Images/70b80163005713a810495cfb2a01f115.png)'
  id: totrans-839
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/70b80163005713a810495cfb2a01f115.png)'
- en: In general, the law tells us that the distance corresponds to the area under
    the graph of speed v(t) over time t.
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œå®šå¾‹å‘Šè¯‰æˆ‘ä»¬è·ç¦»å¯¹åº”äºé€Ÿåº¦v(t)éšæ—¶é—´tå˜åŒ–çš„å›¾å½¢ä¸‹çš„é¢ç§¯ã€‚
- en: '![image](../Images/92c4712c141c5f0c31e06803b38781b2.png) Â Â  ![image](../Images/224cfeeee35e3095cf245d40185bde6e.png)'
  id: totrans-841
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/92c4712c141c5f0c31e06803b38781b2.png) Â Â  ![image](../Images/224cfeeee35e3095cf245d40185bde6e.png)'
- en: ''
  id: totrans-842
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 163: Distance traveled with constant vs accelerating speed'
  id: totrans-843
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾163ï¼šæ’å®šé€Ÿåº¦ä¸åŠ é€Ÿé€Ÿåº¦ä¸‹çš„è¡Œé©¶è·ç¦»
- en: '[FigureÂ 163](#%28counter._%28figure._fig~3adistance%29%29) illustrates the
    idea in a graphical manner. On the left, we see an overlay of two graphs: the
    solid flat line is the speed of the vehicle and the rising dashed line is the
    distance traveled. A quick check shows that the latter is indeed the area determined
    by the former and the x-axis at every point in time. Similarly, the graphs on
    the right show the relationship between a rocket moving at constantly increasing
    speed and the height it reaches. Determining this area under the graph of a function
    for some specific interval is called (function) integration.'
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾163](#%28counter._%28figure._fig~3adistance%29%29) ä»¥å›¾å½¢æ–¹å¼å±•ç¤ºäº†è¿™ä¸€æ¦‚å¿µã€‚åœ¨å·¦ä¾§ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸¤ä¸ªå›¾çš„å åŠ ï¼šå®çº¿æ˜¯è½¦è¾†çš„é€Ÿåº¦ï¼Œä¸Šå‡çš„è™šçº¿æ˜¯è¡Œé©¶çš„è·ç¦»ã€‚å¿«é€Ÿæ£€æŸ¥æ˜¾ç¤ºï¼Œåè€…ç¡®å®æ˜¯å‰è€…ä¸æ¯ä¸ªæ—¶é—´ç‚¹çš„xè½´æ‰€ç¡®å®šçš„é¢ç§¯ã€‚åŒæ ·ï¼Œå³ä¾§çš„å›¾æ˜¾ç¤ºäº†ä»¥æ’å®šå¢åŠ é€Ÿåº¦ç§»åŠ¨çš„ç«ç®­ä¸å®ƒè¾¾åˆ°çš„é«˜åº¦ä¹‹é—´çš„å…³ç³»ã€‚ç¡®å®šå‡½æ•°åœ¨æŸä¸ªç‰¹å®šåŒºé—´ä¸‹çš„å›¾å½¢ä¸‹çš„é¢ç§¯ç§°ä¸ºï¼ˆå‡½æ•°ï¼‰ç§¯åˆ†ã€‚'
- en: While mathematicians know formulas for the two sample problems that give precise
    answers, the general problem calls for computational solutions. The problem is
    that curves often come with complex shapes, more like those in [figureÂ 164](#%28counter._%28figure._fig~3afunc-int%29%29),
    which suggests that someone needs to know the area between the x-axis, the vertical
    lines labeled a and b, and the graph of f. Applied mathematicians determine such
    areas in an approximate manner, summing the areas of many small geometric shapes.
    It is therefore natural to develop algorithms that deal with these calculations.
  id: totrans-845
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶æ•°å­¦å®¶çŸ¥é“ä¸¤ä¸ªæ ·æœ¬é—®é¢˜çš„å…¬å¼ï¼Œå¯ä»¥ç»™å‡ºç²¾ç¡®ç­”æ¡ˆï¼Œä½†ä¸€èˆ¬é—®é¢˜éœ€è¦è®¡ç®—è§£å†³æ–¹æ¡ˆã€‚é—®é¢˜æ˜¯æ›²çº¿é€šå¸¸å…·æœ‰å¤æ‚çš„å½¢çŠ¶ï¼Œæ›´åƒæ˜¯[å›¾164](#%28counter._%28figure._fig~3afunc-int%29%29)ä¸­çš„é‚£äº›ï¼Œè¿™è¡¨æ˜æœ‰äººéœ€è¦çŸ¥é“xè½´ã€æ ‡è®°ä¸ºaå’Œbçš„å‚ç›´çº¿ä»¥åŠfçš„å›¾å½¢ä¹‹é—´çš„é¢ç§¯ã€‚åº”ç”¨æ•°å­¦å®¶ä»¥è¿‘ä¼¼çš„æ–¹å¼ç¡®å®šè¿™æ ·çš„é¢ç§¯ï¼Œé€šè¿‡æ±‚å’Œè®¸å¤šå°å‡ ä½•å½¢çŠ¶çš„é¢ç§¯ã€‚å› æ­¤ï¼Œè‡ªç„¶åœ°å¼€å‘å¤„ç†è¿™äº›è®¡ç®—çš„ç®—æ³•ã€‚
- en: '![image](../Images/e5e04b2b4cfd50b0f0c83d766c2e5746.png)'
  id: totrans-846
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/e5e04b2b4cfd50b0f0c83d766c2e5746.png)'
- en: ''
  id: totrans-847
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 164: Integrating a function f between a and b'
  id: totrans-848
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾164ï¼šåœ¨aå’Œbä¹‹é—´å¯¹å‡½æ•°fè¿›è¡Œç§¯åˆ†
- en: 'An integration algorithm consumes three inputs: the function f and two borders,
    a and b. The fourth part, the x-axis, is implied. This suggests the following
    signature:'
  id: totrans-849
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªç§¯åˆ†ç®—æ³•æ¶ˆè€—ä¸‰ä¸ªè¾“å…¥ï¼šå‡½æ•°få’Œä¸¤ä¸ªè¾¹ç•Œï¼Œaå’Œbã€‚ç¬¬å››éƒ¨åˆ†ï¼Œxè½´ï¼Œæ˜¯éšå«çš„ã€‚è¿™è¡¨æ˜ä»¥ä¸‹ç­¾åï¼š
- en: ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29)
  id: totrans-850
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â [[æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> [æ•°å­—](part_one.html#%28tech._number%29)
- en: In order to understand the idea behind integration, it is best to study simple
    examples such as a constant function or a linear one. Thus, consider
  id: totrans-851
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç†è§£ç§¯åˆ†èƒŒåçš„æ¦‚å¿µï¼Œæœ€å¥½ç ”ç©¶ç®€å•çš„ä¾‹å­ï¼Œå¦‚å¸¸æ•°å‡½æ•°æˆ–çº¿æ€§å‡½æ•°ã€‚å› æ­¤ï¼Œè€ƒè™‘
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (constantÂ x)Â 20)
  id: totrans-852
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (constantÂ x)Â 20)
- en: 'Passing constant to integrate, together with 12 and 22, describes a rectangle
    of width 10 and height 20. The area of this rectangle is 200, meaning we get this
    test:'
  id: totrans-853
  prefs: []
  type: TYPE_NORMAL
  zh: å°†å¸¸æ•°ä¼ é€’ç»™ç§¯åˆ†ï¼Œå†åŠ ä¸Š 12 å’Œ 22ï¼Œæè¿°äº†ä¸€ä¸ªå®½åº¦ä¸º 10ã€é«˜åº¦ä¸º 20 çš„çŸ©å½¢ã€‚è¿™ä¸ªçŸ©å½¢çš„é¢ç§¯æ˜¯ 200ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¾—åˆ°äº†è¿™ä¸ªæµ‹è¯•ï¼š
- en: ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (integrateÂ constantÂ 12Â 22)Â 200)
  id: totrans-854
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    (ç§¯åˆ† å¸¸æ•° 12 22) 200)
- en: 'Similarly, letâ€™s use linear to create a second test:'
  id: totrans-855
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨çº¿æ€§æ¥åˆ›å»ºç¬¬äºŒä¸ªæµ‹è¯•ï¼š
- en: ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (linearÂ x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 2Â x))
  id: totrans-856
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (çº¿æ€§ x) ([ä¹˜](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    2 x))
- en: 'If we use linear, 0, and 10 with integrate, the area is a triangle with a base
    width of 10 and a height of 20. Here is the example as a test:'
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬ä½¿ç”¨çº¿æ€§ã€0 å’Œ 10 ä¸ç§¯åˆ†ä¸€èµ·ï¼Œé¢ç§¯å°†æ˜¯ä¸€ä¸ªåº•è¾¹å®½åº¦ä¸º 10ã€é«˜åº¦ä¸º 20 çš„ä¸‰è§’å½¢ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½œä¸ºæµ‹è¯•çš„ä¾‹å­ï¼š
- en: ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (integrateÂ linearÂ 0Â 10)Â 100)
  id: totrans-858
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    (ç§¯åˆ† çº¿æ€§ 0 10) 100)
- en: After all, a triangleâ€™s area is half of the product of its base width and height.For
    a third example, we exploit some domain-specific knowledge. As mentioned, mathematicians
    know how to determine the area under some functions in a precise manner. For example,
    the area under the function
  id: totrans-859
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»çš„æ¥è¯´ï¼Œä¸‰è§’å½¢çš„é¢ç§¯æ˜¯å…¶åº•è¾¹å®½åº¦å’Œé«˜åº¦çš„ä¹˜ç§¯çš„ä¸€åŠã€‚ä½œä¸ºä¸€ä¸ªç¬¬ä¸‰ä¾‹å­ï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸€äº›ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†ã€‚æ­£å¦‚æ‰€æåˆ°çš„ï¼Œæ•°å­¦å®¶çŸ¥é“å¦‚ä½•ç²¾ç¡®åœ°ç¡®å®šæŸäº›å‡½æ•°ä¸‹çš„é¢ç§¯ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°
- en: '![image](../Images/2c2e206d15c6987ee584207950735378.png)'
  id: totrans-860
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾åƒ](../Images/2c2e206d15c6987ee584207950735378.png)'
- en: on the interval [a,b] can be calculated with the following formula
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åŒºé—´ [a,b] ä¸Šçš„é¢ç§¯å¯ä»¥ç”¨ä»¥ä¸‹å…¬å¼è®¡ç®—
- en: '![image](../Images/ac354e5df5ecd7fdba3f8a4450073a27.png)'
  id: totrans-862
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾åƒ](../Images/ac354e5df5ecd7fdba3f8a4450073a27.png)'
- en: 'Here is how to turn this idea into a concrete test:'
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å¦‚ä½•å°†è¿™ä¸ªæƒ³æ³•è½¬åŒ–ä¸ºå…·ä½“æµ‹è¯•çš„æ–¹æ³•ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ([square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 3Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x)))
    |'
  id: totrans-864
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ([å¹³æ–¹](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)
    x) ([ä¹˜](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)
    3 ([å¹³æ–¹](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)
    x))) |'
- en: '| Â  |'
  id: totrans-865
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|   |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (integrateÂ [square](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)Â 0Â 10)
    |'
  id: totrans-866
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æœŸæœ›](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    (ç§¯åˆ† ([å¹³æ–¹](http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29)
    0 10)) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 10Â 3)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 0Â 3)))
    |'
  id: totrans-867
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â ([-](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._-%29%29)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 10Â 3)Â ([expt](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._expt%29%29)Â 0Â 3)))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ÎµÂ 0.1)
    |'
  id: totrans-868
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â ÎµÂ 0.1)
    |'
- en: '| Â  |'
  id: totrans-869
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â  |'
- en: '| ;Â [[Number](part_one.html#%28tech._number%29) -> [Number](part_one.html#%28tech._number%29)]
    [Number](part_one.html#%28tech._number%29)  [Number](part_one.html#%28tech._number%29)
    -> [Number](part_one.html#%28tech._number%29) |'
  id: totrans-870
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[æ•°å­—](part_one.html#%28tech._number%29) -> [æ•°å­—](part_one.html#%28tech._number%29)]
    [æ•°å­—](part_one.html#%28tech._number%29)  [æ•°å­—](part_one.html#%28tech._number%29)
    -> [æ•°å­—](part_one.html#%28tech._number%29) |'
- en: '| ;Â computes the area under the graph of f between a and b |'
  id: totrans-871
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è®¡ç®—å‡½æ•°fåœ¨aå’Œbä¹‹é—´çš„å›¾å½¢ä¸‹çš„é¢ç§¯ |'
- en: '| ;Â assume  ([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)  a  b)
    holds |'
  id: totrans-872
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å‡è®¾([<](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._~3c%29%29)Â aÂ b)æˆç«‹
    |'
- en: '| Â  |'
  id: totrans-873
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â  |'
- en: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (integrateÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â 20)Â 12Â 22)Â 200Â Îµ)
    |'
  id: totrans-874
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (integrateÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â 20)Â 12Â 22)Â 200Â Îµ)
    |'
- en: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (integrateÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 2Â x))Â 0Â 10)Â 100Â Îµ)
    |'
  id: totrans-875
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (integrateÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 2Â x))Â 0Â 10)Â 100Â Îµ)
    |'
- en: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (integrateÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 3Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x)))Â 0Â 10)
    |'
  id: totrans-876
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)Â (integrateÂ ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (x)Â ([*](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2A%29%29)Â 3Â ([sqr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._sqr%29%29)Â x)))Â 0Â 10)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â 1000 |'
  id: totrans-877
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â 1000 |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Îµ) |'
  id: totrans-878
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â Â Â Â Â Â Îµ) |'
- en: '| Â  |'
  id: totrans-879
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â Â Â Â Â Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (integrateÂ fÂ aÂ b)Â #i0.0)
    |'
  id: totrans-880
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (integrateÂ fÂ aÂ b)Â #i0.0)
    |'
- en: ''
  id: totrans-881
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 165: A generic integration function'
  id: totrans-882
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾165ï¼šä¸€ä¸ªé€šç”¨çš„ç§¯åˆ†å‡½æ•°
- en: '[FigureÂ 165](#%28counter._%28figure._fig~3aintegrate-test%29%29) collects the
    result of the first three steps of the design recipe. The figure adds a purpose
    statement and an obvious assumption concerning the two interval boundaries. Instead
    of [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)
    it uses [check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29),
    which anticipates the numerical inaccuracies that come with computational approximations
    in such calculations. Analogously, the header of integrate specifies #i0.0 as
    the return result, signaling that the function is expected to return an inexact
    number.'
  id: totrans-883
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾ 165](#%28counter._%28figure._fig~3aintegrate-test%29%29) æ”¶é›†äº†è®¾è®¡é£Ÿè°±çš„å‰ä¸‰ä¸ªæ­¥éª¤çš„ç»“æœã€‚è¯¥å›¾æ·»åŠ äº†ä¸€ä¸ªç›®çš„å£°æ˜å’Œä¸€ä¸ªå…³äºä¸¤ä¸ªåŒºé—´è¾¹ç•Œçš„æ˜æ˜¾å‡è®¾ã€‚å®ƒä½¿ç”¨
    [check-within](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-within%29%29)
    è€Œä¸æ˜¯ [check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)ï¼Œè¿™é¢„ç¤ºç€è®¡ç®—è¿‘ä¼¼ä¸­çš„æ•°å€¼ä¸å‡†ç¡®æ€§ã€‚ç±»ä¼¼åœ°ï¼Œintegrate
    çš„å¤´éƒ¨æŒ‡å®š #i0.0 ä½œä¸ºè¿”å›ç»“æœï¼Œè¡¨æ˜è¯¥å‡½æ•°é¢„æœŸè¿”å›ä¸€ä¸ªä¸ç²¾ç¡®çš„æ•°å­—ã€‚'
- en: The following two exercises show how to turn domain knowledge into integration
    functions. Both functions compute rather crude approximations. While the design
    of the first uses only mathematical formulas, the second also exploits a bit of
    structural design ideas. Solving these exercises creates the necessary appreciation
    for the core of this section, which presents a generative-recursive integration
    algorithm.
  id: totrans-884
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ä¸¤ä¸ªç»ƒä¹ å±•ç¤ºäº†å¦‚ä½•å°†é¢†åŸŸçŸ¥è¯†è½¬åŒ–ä¸ºç§¯åˆ†å‡½æ•°ã€‚è¿™ä¸¤ä¸ªå‡½æ•°éƒ½è®¡ç®—äº†ç›¸å½“ç²—ç³™çš„è¿‘ä¼¼ã€‚è™½ç„¶ç¬¬ä¸€ä¸ªå‡½æ•°çš„è®¾è®¡ä»…ä½¿ç”¨äº†æ•°å­¦å…¬å¼ï¼Œä½†ç¬¬äºŒä¸ªå‡½æ•°è¿˜åˆ©ç”¨äº†ä¸€äº›ç»“æ„è®¾è®¡æ€æƒ³ã€‚è§£å†³è¿™äº›ç»ƒä¹ å°†æœ‰åŠ©äºç†è§£æœ¬èŠ‚çš„æ ¸å¿ƒï¼Œè¯¥èŠ‚ä»‹ç»äº†ç”Ÿæˆ-é€’å½’ç§¯åˆ†ç®—æ³•ã€‚
- en: 'ExerciseÂ 458\. Kepler suggested a simple integration method. To compute an
    estimateThe method is known as Keplerâ€™s rule. of the area under f between a and
    b, proceed as follows:'
  id: totrans-885
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  458ã€‚å¼€æ™®å‹’æå‡ºäº†ä¸€ç§ç®€å•çš„ç§¯åˆ†æ–¹æ³•ã€‚ä¸ºäº†è®¡ç®— f åœ¨ a å’Œ b ä¹‹é—´çš„é¢ç§¯ä¼°è®¡ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š
- en: divide the interval into half at mid = (a + b) / 2;
  id: totrans-886
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†åŒºé—´åˆ†ä¸ºä¸€åŠï¼Œä¸­ç‚¹ä¸º mid = (a + b) / 2;
- en: 'compute the areas of these two trapezoids:'
  id: totrans-887
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¡ç®—è¿™ä¸¤ä¸ªæ¢¯å½¢çš„é¢ç§¯ï¼š
- en: '[(a,0),(a,f(a)),(mid,0),(mid,f(mid))]'
  id: totrans-888
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[(a,0),(a,f(a)),(mid,0),(mid,f(mid))]'
- en: '[(mid,0),(mid,f(mid)),(b,0),(b,f(b))];'
  id: totrans-889
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[(mid,0),(mid,f(mid)),(b,0),(b,f(b))];'
- en: then add the two areas.
  id: totrans-890
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç„¶åå°†ä¸¤ä¸ªé¢ç§¯ç›¸åŠ ã€‚
- en: 'Domain Knowledge Letâ€™s take a look at these trapezoids. Here are the two possible
    shapes, with minimal annotations to reduce clutter:'
  id: totrans-891
  prefs: []
  type: TYPE_NORMAL
  zh: é¢†åŸŸçŸ¥è¯† è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº›æ¢¯å½¢ã€‚è¿™é‡Œæœ‰ä¸¤ç§å¯èƒ½çš„å½¢çŠ¶ï¼Œå¸¦æœ‰æœ€å°‘çš„æ³¨é‡Šä»¥å‡å°‘æ··ä¹±ï¼š
- en: '![image](../Images/448a5a896ad80c1f4a48608cceec1cca.png) Â Â Â Â  ![image](../Images/945c6d877f4a1a7c0dcf41f5a6aeeb57.png)'
  id: totrans-892
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/448a5a896ad80c1f4a48608cceec1cca.png) ![image](../Images/945c6d877f4a1a7c0dcf41f5a6aeeb57.png)'
- en: 'The left shape assumes f(L) > f(R) while the right one shows the case where
    f(L) < f (R). Despite the asymmetry, it is still possible to calculate the area
    of these trapezoids with a single formula:'
  id: totrans-893
  prefs: []
  type: TYPE_NORMAL
  zh: å·¦è¾¹çš„å½¢çŠ¶å‡è®¾ f(L) > f(R)ï¼Œè€Œå³è¾¹çš„å½¢çŠ¶æ˜¾ç¤ºäº† f(L) < f(R) çš„æƒ…å†µã€‚å°½ç®¡å­˜åœ¨ä¸å¯¹ç§°æ€§ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨å•ä¸ªå…¬å¼è®¡ç®—è¿™äº›æ¢¯å½¢çš„é¢ç§¯ï¼š
- en: '![image](../Images/7b16bc327a708d1bba7d1f45a1ab2da5.png)'
  id: totrans-894
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/7b16bc327a708d1bba7d1f45a1ab2da5.png)'
- en: Stop! Convince yourself that this formula adds the area of the triangle to the
    area of the lower rectangle for the left trapezoid, while it subtracts the triangle
    from the area of the large rectangle for the right one.Also show that the above
    formula is equal to
  id: totrans-895
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¯´æœè‡ªå·±è¿™ä¸ªå…¬å¼ä¸ºå·¦è¾¹çš„æ¢¯å½¢æ·»åŠ äº†ä¸‰è§’å½¢çš„é¢ç§¯å’Œä¸‹æ–¹çŸ©å½¢çš„é¢ç§¯ï¼Œè€Œå¯¹äºå³è¾¹çš„æ¢¯å½¢åˆ™ä»å¤§çŸ©å½¢çš„é¢ç§¯ä¸­å‡å»ä¸‰è§’å½¢ã€‚åŒæ—¶è¯æ˜ä¸Šè¿°å…¬å¼ç­‰äº
- en: '![image](../Images/41525a7fa522abb6a60bd0820eec851f.png)'
  id: totrans-896
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/41525a7fa522abb6a60bd0820eec851f.png)'
- en: This is a mathematical validation of the asymmetry of the formula.
  id: totrans-897
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¯¹å…¬å¼ä¸å¯¹ç§°æ€§çš„æ•°å­¦éªŒè¯ã€‚
- en: Design the function integrate-kepler. That is, turn the mathematical knowledge
    into an ISL+ function. Adapt the test cases from [figureÂ 165](#%28counter._%28figure._fig~3aintegrate-test%29%29)
    to this use. Which of the three tests fails and by how much?
  id: totrans-898
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ integrate-kepler å‡½æ•°ã€‚å³å°†æ•°å­¦çŸ¥è¯†è½¬åŒ–ä¸º ISL+ å‡½æ•°ã€‚å°† [å›¾ 165](#%28counter._%28figure._fig~3aintegrate-test%29%29)
    ä¸­çš„æµ‹è¯•ç”¨ä¾‹é€‚åº”åˆ°è¿™ä¸ªç”¨é€”ã€‚ä¸‰ä¸ªæµ‹è¯•ä¸­å“ªä¸€ä¸ªå¤±è´¥äº†ï¼Œä»¥åŠå¤±è´¥äº†å¤šå°‘ï¼Ÿ
- en: ExerciseÂ 459\. Another simple integration method divides the area into many
    small rectangles. Each rectangle has a fixed width and is as tall as the function
    graph in the middle of the rectangle. Adding up the areas of the rectangles produces
    an estimate of the area under the functionâ€™s graph.
  id: totrans-899
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  459ï¼šå¦ä¸€ç§ç®€å•çš„ç§¯åˆ†æ–¹æ³•æ˜¯å°†é¢ç§¯åˆ†æˆè®¸å¤šå°çŸ©å½¢ã€‚æ¯ä¸ªçŸ©å½¢å…·æœ‰å›ºå®šçš„å®½åº¦ï¼Œé«˜åº¦ä¸çŸ©å½¢ä¸­é—´çš„å‡½æ•°å›¾å½¢ç›¸åŒã€‚å°†çŸ©å½¢çš„é¢ç§¯ç›¸åŠ ï¼Œå¯ä»¥å¾—åˆ°å‡½æ•°å›¾å½¢ä¸‹çš„é¢ç§¯ä¼°è®¡å€¼ã€‚
- en: Letâ€™s use
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä½¿ç”¨
- en: R = 10
  id: totrans-901
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: R = 10
- en: to stand for the number of rectangles to be considered. Hence the width of each
    rectangle is
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: è¡¨ç¤ºè¦è€ƒè™‘çš„çŸ©å½¢æ•°é‡ã€‚å› æ­¤ï¼Œæ¯ä¸ªçŸ©å½¢çš„å®½åº¦æ˜¯
- en: '![image](../Images/9da0a08d6045788fdd1cf4e0690ee57e.png)'
  id: totrans-903
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/9da0a08d6045788fdd1cf4e0690ee57e.png)'
- en: The height of one of these rectangles is the value of f at its midpoint. The
    first midpoint is clearly at a plus half of the width of the rectangle,
  id: totrans-904
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›çŸ©å½¢ä¸­çš„ä¸€ä¸ªçš„é«˜åº¦æ˜¯ f åœ¨å…¶ä¸­ç‚¹çš„å€¼ã€‚ç¬¬ä¸€ä¸ªä¸­ç‚¹æ˜¾ç„¶åœ¨ a åŠ ä¸ŠçŸ©å½¢å®½åº¦çš„ä¸€åŠï¼Œ
- en: '![image](../Images/88f434bb077dd6149abf1bf91a46e145.png)'
  id: totrans-905
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/88f434bb077dd6149abf1bf91a46e145.png)'
- en: which means its area is
  id: totrans-906
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€å…¶é¢ç§¯æ˜¯
- en: '![image](../Images/d84ae566829ba1c227c0ad6ff1cb52c3.png)'
  id: totrans-907
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d84ae566829ba1c227c0ad6ff1cb52c3.png)'
- en: 'To compute the area of the second rectangle, we must add the width of one rectangle
    to the first midpoint:'
  id: totrans-908
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è®¡ç®—ç¬¬äºŒä¸ªçŸ©å½¢çš„é¢ç§¯ï¼Œæˆ‘ä»¬å¿…é¡»å°†ä¸€ä¸ªçŸ©å½¢çš„å®½åº¦åŠ åˆ°ç¬¬ä¸€ä¸ªä¸­ç‚¹ï¼š
- en: '![image](../Images/b09059b4273269ab12568b48ac43e5c5.png)'
  id: totrans-909
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/b09059b4273269ab12568b48ac43e5c5.png)'
- en: For the third one, we get
  id: totrans-910
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç¬¬ä¸‰ä¸ªï¼Œæˆ‘ä»¬å¾—åˆ°
- en: '![image](../Images/a54ba3fa6fbc3ddd744b9290f8d8fa99.png)'
  id: totrans-911
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/a54ba3fa6fbc3ddd744b9290f8d8fa99.png)'
- en: 'In general, we can use the following formula for the ith rectangle:'
  id: totrans-912
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…¬å¼æ¥è¡¨ç¤ºç¬¬ i ä¸ªçŸ©å½¢çš„é¢ç§¯ï¼š
- en: '![image](../Images/f753efb3ddc0f70a8ad4ebb93e92ac00.png)'
  id: totrans-913
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/f753efb3ddc0f70a8ad4ebb93e92ac00.png)'
- en: 'The first rectangle has index 0, the last one R - 1.Using these rectangles,
    we can now determine the area under the graph:'
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªçŸ©å½¢ç´¢å¼•ä¸º 0ï¼Œæœ€åä¸€ä¸ªä¸º R - 1ã€‚ä½¿ç”¨è¿™äº›çŸ©å½¢ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ç¡®å®šå›¾å½¢ä¸‹çš„é¢ç§¯ï¼š
- en: '![image](../Images/a0d55823c3db4ed6c7f36fd396fcd903.png)'
  id: totrans-915
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/a0d55823c3db4ed6c7f36fd396fcd903.png)'
- en: Turn the description of the process into an ISL+ function and call it integrate-rectangles.
    Adapt the test cases from [figureÂ 165](#%28counter._%28figure._fig~3aintegrate-test%29%29)
    to this case.
  id: totrans-916
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è¿‡ç¨‹æè¿°è½¬æ¢ä¸º ISL+ å‡½æ•°å¹¶å‘½åä¸º integrate-rectanglesã€‚å°† [å›¾ 165](#%28counter._%28figure._fig~3aintegrate-test%29%29)
    ä¸­çš„æµ‹è¯•ç”¨ä¾‹é€‚åº”åˆ°è¿™ä¸ªæƒ…å†µã€‚
- en: The more rectangles the algorithm uses, the closer its estimate is to the actual
    area. Make R a top-level constant and increase it by factors of 10 until the algorithmâ€™s
    accuracy eliminates problems with an Îµ value of 0.1.
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: ç®—æ³•ä½¿ç”¨çš„çŸ©å½¢è¶Šå¤šï¼Œå…¶ä¼°è®¡å€¼å°±è¶Šæ¥è¿‘å®é™…é¢ç§¯ã€‚å°† R è®¾ä¸ºä¸€ä¸ªé¡¶çº§å¸¸é‡ï¼Œå¹¶æŒ‰ 10 çš„å€æ•°å¢åŠ ï¼Œç›´åˆ°ç®—æ³•çš„ç²¾åº¦æ¶ˆé™¤äº† Îµ å€¼ä¸º 0.1 çš„é—®é¢˜ã€‚
- en: Decrease Îµ to 0.01 and increase R enough to eliminate any failing test cases
    again. Compare the result to [exerciseÂ 458](#%28counter._%28exercise._ex~3aintegral-kepler%29%29).
  id: totrans-918
  prefs: []
  type: TYPE_NORMAL
  zh: å°† Îµ é™ä½åˆ° 0.01 å¹¶å¢åŠ  Rï¼Œç›´åˆ°æ¶ˆé™¤ä»»ä½•å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹ã€‚å°†ç»“æœä¸ [ç»ƒä¹  458](#%28counter._%28exercise._ex~3aintegral-kepler%29%29)
    è¿›è¡Œæ¯”è¾ƒã€‚
- en: The Kepler method of [exerciseÂ 458](#%28counter._%28exercise._ex~3aintegral-kepler%29%29)
    immediately suggests a divide-and-conquer strategy like binary search introduced
    in [Binary Search](#%28part._sec~3abinary-search%29). Roughly speaking, the algorithm
    would split the interval into two pieces, recursively compute the area of each
    piece, and add the two results.
  id: totrans-919
  prefs: []
  type: TYPE_NORMAL
  zh: '[ç»ƒä¹  458](#%28counter._%28exercise._ex~3aintegral-kepler%29%29) ä¸­çš„å¼€æ™®å‹’æ–¹æ³•ç«‹å³æš—ç¤ºäº†ä¸€ç§ç±»ä¼¼äºåœ¨
    [äºŒåˆ†æŸ¥æ‰¾](#%28part._sec~3abinary-search%29) ä¸­å¼•å…¥çš„äºŒåˆ†æŸ¥æ‰¾ç­–ç•¥çš„åˆ†æ²»ç­–ç•¥ã€‚ç²—ç•¥åœ°è¯´ï¼Œç®—æ³•ä¼šå°†åŒºé—´åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œé€’å½’åœ°è®¡ç®—æ¯éƒ¨åˆ†çš„é¢ç§¯ï¼Œç„¶åå°†ä¸¤ä¸ªç»“æœç›¸åŠ ã€‚'
- en: ExerciseÂ 460\. Develop the algorithm integrate-dc, which integrates a function
    f between the boundaries a and b using a divide-and-conquer strategy. Use Keplerâ€™s
    method when the interval is sufficiently small.
  id: totrans-920
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  460ï¼šå¼€å‘ integrate-dc ç®—æ³•ï¼Œè¯¥ç®—æ³•ä½¿ç”¨åˆ†æ²»ç­–ç•¥åœ¨è¾¹ç•Œ a å’Œ b ä¹‹é—´å¯¹å‡½æ•° f è¿›è¡Œç§¯åˆ†ã€‚å½“åŒºé—´è¶³å¤Ÿå°çš„æ—¶å€™ä½¿ç”¨å¼€æ™®å‹’æ–¹æ³•ã€‚
- en: The divide-and-conquer approach of [exerciseÂ 460](#%28counter._%28exercise._ex~3aintegral-dc%29%29)
    is wasteful. Consider a function whose graph is level in one part and rapidly
    changes in another; see [figureÂ 166](#%28counter._%28figure._fig~3awave-y-function%29%29)
    for a concrete example. For the level part on the graph, it is pointless to keep
    splitting the interval. It is just as easy to compute the trapezoid for the complete
    interval as for the two halves. For the â€œwavyâ€ part, however, the algorithm must
    continue dividing the interval until the irregularities of the graph are reasonably
    small.
  id: totrans-921
  prefs: []
  type: TYPE_NORMAL
  zh: '[ç»ƒä¹ Â 460](#%28counter._%28exercise._ex~3aintegral-dc%29%29)ä¸­çš„åˆ†è€Œæ²»ä¹‹æ–¹æ³•æ•ˆç‡ä½ä¸‹ã€‚è€ƒè™‘ä¸€ä¸ªå›¾å½¢åœ¨æŸä¸€éƒ¨åˆ†æ˜¯æ°´å¹³çš„ï¼Œè€Œåœ¨å¦ä¸€éƒ¨åˆ†å¿«é€Ÿå˜åŒ–çš„å‡½æ•°ï¼›å‚è§[å›¾Â 166](#%28counter._%28figure._fig~3awave-y-function%29%29)ä¸­çš„å…·ä½“ç¤ºä¾‹ã€‚å¯¹äºå›¾å½¢ä¸Šçš„æ°´å¹³éƒ¨åˆ†ï¼Œç»§ç»­åˆ†å‰²åŒºé—´æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚è®¡ç®—æ•´ä¸ªåŒºé—´çš„æ¢¯å½¢ä¸è®¡ç®—ä¸¤ä¸ªåŠéƒ¨åˆ†ä¸€æ ·ç®€å•ã€‚ç„¶è€Œï¼Œå¯¹äºâ€œæ³¢æµªå½¢â€éƒ¨åˆ†ï¼Œç®—æ³•å¿…é¡»ç»§ç»­åˆ†å‰²åŒºé—´ï¼Œç›´åˆ°å›¾å½¢çš„ä¸è§„åˆ™æ€§åˆç†åœ°å°ã€‚'
- en: '![image](../Images/45bdb5a3eeb47516f4a35ad80cc9e013.png)'
  id: totrans-922
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/45bdb5a3eeb47516f4a35ad80cc9e013.png)'
- en: ''
  id: totrans-923
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 166: A candidate for adaptive integration'
  id: totrans-924
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 166ï¼šè‡ªé€‚åº”ç§¯åˆ†çš„å€™é€‰
- en: 'To discover when f is level, we can change the algorithm as follows. Instead
    of just testing how large the interval is, the new algorithm computes the area
    of three trapezoids: the given one and the two halves. If the difference between
    the two is less than the area of a small rectangle of height Îµ and width ![image](../Images/a13c58002b8aa926bb1523fb69a92b49.png),'
  id: totrans-925
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å‘ç°fä½•æ—¶æ˜¯æ°´å¹³çš„ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ç®—æ³•ã€‚ä¸æ˜¯ä»…ä»…æµ‹è¯•åŒºé—´æœ‰å¤šå¤§ï¼Œæ–°çš„ç®—æ³•è®¡ç®—ä¸‰ä¸ªæ¢¯å½¢çš„é¢ç§¯ï¼šç»™å®šçš„ä¸€ä¸ªå’Œä¸¤ä¸ªåŠéƒ¨åˆ†ã€‚å¦‚æœè¿™ä¸¤ä¸ªä¹‹é—´çš„å·®å¼‚å°äºé«˜åº¦ä¸ºÎµå’Œå®½åº¦![å›¾ç‰‡](../Images/a13c58002b8aa926bb1523fb69a92b49.png)çš„å°çŸ©å½¢çš„é¢ç§¯ï¼Œ
- en: '![image](../Images/7fcc79d6366a66190749ac2a4b5ab999.png)'
  id: totrans-926
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/7fcc79d6366a66190749ac2a4b5ab999.png)'
- en: it is safe to assume that the overall area is a good approximation. In other
    words, the algorithm determines whether f changes so much that it affects the
    error margin. If so, it continues with the divide-and-conquer approach; otherwise
    it stops and uses the Kepler approximation.
  id: totrans-927
  prefs: []
  type: TYPE_NORMAL
  zh: å¯ä»¥å®‰å…¨åœ°å‡è®¾æ•´ä½“é¢ç§¯æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¿‘ä¼¼ã€‚æ¢å¥è¯è¯´ï¼Œç®—æ³•ç¡®å®šfæ˜¯å¦å˜åŒ–å¾—å¤ªå¤šä»¥è‡³äºå½±å“è¯¯å·®èŒƒå›´ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå®ƒå°†ç»§ç»­ä½¿ç”¨åˆ†è€Œæ²»ä¹‹çš„æ–¹æ³•ï¼›å¦åˆ™å®ƒåœæ­¢å¹¶ä½¿ç”¨å¼€æ™®å‹’è¿‘ä¼¼ã€‚
- en: ExerciseÂ 461\. Design integrate-adaptive. That is, turn the recursive process
    description into an ISL+ algorithm. Make sure to adapt the test cases from [figureÂ 165](#%28counter._%28figure._fig~3aintegrate-test%29%29)
    to this use.
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ Â 461ã€‚è®¾è®¡ç§¯åˆ†è‡ªé€‚åº”ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå°†é€’å½’è¿‡ç¨‹æè¿°è½¬æ¢ä¸ºISL+ç®—æ³•ã€‚ç¡®ä¿å°†[å›¾Â 165](#(counter._%28figure._fig~3aintegrate-test%29%29)ä¸­çš„æµ‹è¯•ç”¨ä¾‹é€‚åº”äºæ­¤ç”¨é€”ã€‚
- en: Do not discuss the termination of integrate-adaptive.
  id: totrans-929
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¦è®¨è®ºç§¯åˆ†è‡ªé€‚åº”çš„ç»ˆæ­¢é—®é¢˜ã€‚
- en: Does integrate-adaptive always compute a better answer than either integrate-kepler
    or integrate-rectangles from [exerciseÂ 459](#%28counter._%28exercise._ex~3aintegral-rectangle%29%29)?
    Which aspect is integrate-adaptive guaranteed to improve?
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
  zh: ç§¯åˆ†è‡ªé€‚åº”æ˜¯å¦æ€»æ˜¯æ¯”[ç»ƒä¹ Â 459](#%28counter._%28exercise._ex~3aintegral-rectangle%29%29)ä¸­çš„ç§¯åˆ†-å¼€æ™®å‹’æˆ–ç§¯åˆ†-çŸ©å½¢è®¡ç®—æ›´å¥½çš„ç­”æ¡ˆï¼Ÿç§¯åˆ†è‡ªé€‚åº”ä¿è¯æ”¹å–„å“ªä¸ªæ–¹é¢ï¼Ÿ
- en: Terminology The algorithm is called adaptive integration because it automatically
    allocates time to those parts of the graph that need it and spends little time
    on the others. Specifically, for those parts of f that are level, it performs
    just a few calculations; for the other parts, it inspects small intervals to decrease
    the error margin. Computer science knows many adaptive algorithms, and integrate-adaptive
    is just one of them.
  id: totrans-931
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¯è¯­è¯¥ç®—æ³•è¢«ç§°ä¸ºè‡ªé€‚åº”ç§¯åˆ†ï¼Œå› ä¸ºå®ƒè‡ªåŠ¨å°†æ—¶é—´åˆ†é…ç»™é‚£äº›éœ€è¦å®ƒçš„å›¾å½¢éƒ¨åˆ†ï¼Œå¹¶åœ¨å…¶ä»–éƒ¨åˆ†èŠ±è´¹å¾ˆå°‘çš„æ—¶é—´ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºfä¸­æ°´å¹³çš„éƒ¨åˆ†ï¼Œå®ƒåªè¿›è¡Œå°‘é‡è®¡ç®—ï¼›å¯¹äºå…¶ä»–éƒ¨åˆ†ï¼Œå®ƒæ£€æŸ¥å°åŒºé—´ä»¥å‡å°è¯¯å·®èŒƒå›´ã€‚è®¡ç®—æœºç§‘å­¦çŸ¥é“è®¸å¤šè‡ªé€‚åº”ç®—æ³•ï¼Œè€Œç§¯åˆ†è‡ªé€‚åº”åªæ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚
- en: '28.3Project: Gaussian Elimination[ğŸ”—](#(part._sec~3aproj-gauss) "Link to here")'
  id: totrans-932
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 28.3é¡¹ç›®ï¼šé«˜æ–¯æ¶ˆå…ƒæ³•[ğŸ”—](#(part._sec~3aproj-gauss) "é“¾æ¥è‡³æ­¤")
- en: 'Mathematicians not only search for solutions of equations in one variable;
    they also study whole systems of linear equations:'
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°å­¦å®¶ä¸ä»…å¯»æ‰¾ä¸€å…ƒæ–¹ç¨‹çš„è§£ï¼›ä»–ä»¬è¿˜ç ”ç©¶æ•´ä¸ªçº¿æ€§æ–¹ç¨‹ç»„ï¼š
- en: 'Sample Problem In a bartering world, the values of coal (x), oil (y), and gas
    (z) are determined by these exchange equations:'
  id: totrans-934
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜åœ¨ä¸€ä¸ªä»¥ç‰©æ˜“ç‰©çš„ä¸–ç•Œä¸­ï¼Œç…¤ç‚­ï¼ˆxï¼‰ã€çŸ³æ²¹ï¼ˆyï¼‰å’Œå¤©ç„¶æ°”ï¼ˆzï¼‰çš„ä»·å€¼ç”±ä»¥ä¸‹äº¤æ¢æ–¹ç¨‹ç¡®å®šï¼š
- en: ''
  id: totrans-935
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![image](../Images/bb199275831170b5fcf2b8160676179a.png)'
  id: totrans-936
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/bb199275831170b5fcf2b8160676179a.png)'
- en: A solution to such a system of equations consists of a collection of numbers,
    one per variable, such that if we replace the variable with its corresponding
    number, the two sides of each equation evaluate to the same number. In our running
    example, the solution is
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·ä¸€ä¸ªæ–¹ç¨‹ç»„çš„è§£æ˜¯ä¸€ç»„æ•°å­—çš„é›†åˆï¼Œæ¯ä¸ªå˜é‡å¯¹åº”ä¸€ä¸ªæ•°å­—ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ç›¸åº”çš„æ•°å­—æ›¿æ¢å˜é‡ï¼Œæ¯ä¸ªæ–¹ç¨‹çš„ä¸¤è¾¹éƒ½ä¼šå¾—åˆ°ç›¸åŒçš„æ•°å­—ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè§£æ˜¯
- en: x = 1, y = 1, and z = 2.
  id: totrans-938
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: x = 1, y = 1, å’Œ z = 2ã€‚
- en: 'We can easily check this claim:'
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°éªŒè¯è¿™ä¸ªè¯´æ³•ï¼š
- en: '![image](../Images/0e8a8f9ea488f612e2d9dff27b0cd951.png)'
  id: totrans-940
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/0e8a8f9ea488f612e2d9dff27b0cd951.png)'
- en: The three equations reduce to
  id: totrans-941
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‰ä¸ªæ–¹ç¨‹å¯ä»¥åŒ–ç®€ä¸º
- en: 10 = 10, 31 = 31, and 1 =1.
  id: totrans-942
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 10 = 10, 31 = 31, å’Œ 1 =1ã€‚
- en: '| ;Â An SOE is a non-empty [Matrix](part_two.html#%28tech._matrix%29). |'
  id: totrans-943
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ª SOE æ˜¯ä¸€ä¸ªéç©º [çŸ©é˜µ](part_two.html#%28tech._matrix%29)ã€‚ |'
- en: '| ;Â constraint for ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  r1
    [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  rn),
    (length  ri) is ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  n  1)
    |'
  id: totrans-944
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¯¹äº ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  r1
    [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  rn),
    (é•¿åº¦ ri) æ˜¯ ([+](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._%2B%29%29)  n  1)
    |'
- en: '| ;Â interpretation represents a system of linear equations |'
  id: totrans-945
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šè¡¨ç¤ºä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ç»„ |'
- en: '| Â  |'
  id: totrans-946
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â An Equation is a [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)].
    |'
  id: totrans-947
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªæ–¹ç¨‹æ˜¯ä¸€ä¸ª [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]ã€‚
    |'
- en: '| ;Â constraint an [Equation](#%28tech._equation%29) contains at least two numbers.
    |'
  id: totrans-948
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â çº¦æŸä¸€ä¸ª [æ–¹ç¨‹](#%28tech._equation%29) è‡³å°‘åŒ…å«ä¸¤ä¸ªæ•°å­—ã€‚ |'
- en: '| ;Â interpretation if ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  a1
    [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  an
    b) is an [Equation](#%28tech._equation%29), |'
  id: totrans-949
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Šå¦‚æœ ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  a1
    [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)  an
    b) æ˜¯ä¸€ä¸ª [æ–¹ç¨‹](#%28tech._equation%29)ï¼Œ |'
- en: '| ;Â a1, ..., an are the left-hand-side variable coefficients |'
  id: totrans-950
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â a1, ..., an æ˜¯å·¦ä¾§å˜é‡çš„ç³»æ•° |'
- en: '| ;Â and b is the right-hand side |'
  id: totrans-951
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¹¶ä¸” b æ˜¯å³ä¾§ |'
- en: '| Â  |'
  id: totrans-952
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â A Solution is a [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-953
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªè§£æ˜¯ä¸€ä¸ª [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    |'
- en: '| Â  |'
  id: totrans-954
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â MÂ ;Â an
    [SOE](#%28tech._soe%29) |'
  id: totrans-955
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â MÂ ;Â ä¸€ä¸ª
    [SOE](#%28tech._soe%29) |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 2Â Â 3Â 10)Â ;Â an
    [Equation](#%28tech._equation%29) |'
  id: totrans-956
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 2Â Â 3Â 10)Â ;Â ä¸€ä¸ª
    [æ–¹ç¨‹](#%28tech._equation%29) |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 5Â 12Â 31)
    |'
  id: totrans-957
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 5Â 12Â 31)
    |'
- en: '| Â Â Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 1Â -2Â Â 1)))
    |'
  id: totrans-958
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 1Â -2Â Â 1)))
    |'
- en: '| Â  |'
  id: totrans-959
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â SÂ ''(1Â 1Â 2))Â ;Â a
    [Solution](#%28tech._solution%29) |'
  id: totrans-960
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â SÂ ''(1Â 1Â 2))Â ;Â [è§£](#%28tech._solution%29)
    |'
- en: ''
  id: totrans-961
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 167: A data representation for systems of equations'
  id: totrans-962
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾167ï¼šæ–¹ç¨‹ç»„çš„è¡¨ç¤º
- en: '[FigureÂ 167](#%28counter._%28figure._fig~3amatrix%29%29) introduces a data
    representation for our problem domain. It includes an example of a system of equations
    and its solution. This representation captures the essence of a system of equations,
    namely, the numeric coefficients of the variables on the left-hand side and the
    right-hand-side values. The names of the variables donâ€™t play any role because
    they are like parameters of functions; meaning, as long as they are consistently
    renamed the equations have the same solutions.'
  id: totrans-963
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾167](#%28counter._%28figure._fig~3amatrix%29%29) ä»‹ç»äº†æˆ‘ä»¬é—®é¢˜åŸŸçš„æ•°æ®è¡¨ç¤ºã€‚å®ƒåŒ…æ‹¬ä¸€ä¸ªæ–¹ç¨‹ç»„çš„ç¤ºä¾‹åŠå…¶è§£ã€‚è¿™ç§è¡¨ç¤ºæ•æ‰äº†æ–¹ç¨‹ç»„çš„æœ¬è´¨ï¼Œå³å·¦ä¾§å˜é‡çš„æ•°å€¼ç³»æ•°å’Œå³ä¾§çš„å€¼ã€‚å˜é‡çš„åç§°ä¸èµ·ä»»ä½•ä½œç”¨ï¼Œå› ä¸ºå®ƒä»¬å°±åƒå‡½æ•°çš„å‚æ•°ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦å®ƒä»¬è¢«ä¸€è‡´åœ°é‡å‘½åï¼Œæ–¹ç¨‹å°±æœ‰ç›¸åŒçš„è§£ã€‚'
- en: 'For the rest of this section, it is convenient to use these functions:'
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬èŠ‚çš„å…¶ä½™éƒ¨åˆ†ï¼Œä½¿ç”¨è¿™äº›å‡½æ•°æ˜¯æ–¹ä¾¿çš„ï¼š
- en: '| ;Â [Equation](#%28tech._equation%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Number](part_one.html#%28tech._number%29)]
    |'
  id: totrans-965
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ–¹ç¨‹](#%28tech._equation%29) -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [æ•°å­—](part_one.html#%28tech._number%29)]
    |'
- en: '| ;Â extracts the left-hand side from a row in a matrix |'
  id: totrans-966
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»çŸ©é˜µçš„è¡Œä¸­æå–å·¦ä¾§ |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (lhsÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â M))Â ''(2Â 2Â 3))
    |'
  id: totrans-967
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (lhsÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â M))Â ''(2Â 2Â 3))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (lhsÂ e)
    |'
  id: totrans-968
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (lhsÂ e)
    |'
- en: '| Â Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â e))))
    |'
  id: totrans-969
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â e))))
    |'
- en: '| Â  |'
  id: totrans-970
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Equation](#%28tech._equation%29) -> [Number](part_one.html#%28tech._number%29)
    |'
  id: totrans-971
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ–¹ç¨‹](#%28tech._equation%29) -> [æ•°å­—](part_one.html#%28tech._number%29) |'
- en: '| ;Â extracts the right-hand side from a row in a matrix |'
  id: totrans-972
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»çŸ©é˜µçš„è¡Œä¸­æå–å³ä¾§ |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (rhsÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â M))Â 10)
    |'
  id: totrans-973
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (rhsÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â M))Â 10)
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (rhsÂ e)
    |'
  id: totrans-974
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (rhsÂ e)
    |'
- en: '| Â Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â e)))
    |'
  id: totrans-975
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â ([reverse](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._reverse%29%29)Â e)))
    |'
- en: 'ExerciseÂ 462\. Design the function check-solution. It consumes an [SOE](#%28tech._soe%29)
    and a [Solution](#%28tech._solution%29). Its result is #true if plugging in the
    numbers from the [Solution](#%28tech._solution%29) for the variables in the [Equation](#%28tech._equation%29)s
    of the [SOE](#%28tech._soe%29) produces equal left-hand-side values and right-hand-side
    values; otherwise the function produces #false. Use check-solution to formulate
    tests with [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29).'
  id: totrans-976
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 462ã€‚è®¾è®¡å‡½æ•°check-solutionã€‚å®ƒæ¶ˆè€—ä¸€ä¸ª[SOE](#%28tech._soe%29)å’Œä¸€ä¸ª[è§£](#%28tech._solution%29)ã€‚å¦‚æœå°†[è§£](#%28tech._solution%29)ä¸­çš„æ•°å­—ç”¨äº[SOE](#%28tech._soe%29)ä¸­çš„[æ–¹ç¨‹](#%28tech._equation%29)ä¸­çš„å˜é‡ï¼Œäº§ç”Ÿç›¸ç­‰çš„å·¦ä¾§å€¼å’Œå³ä¾§å€¼ï¼Œåˆ™å…¶ç»“æœä¸º#trueï¼›å¦åˆ™ï¼Œå‡½æ•°äº§ç”Ÿ#falseã€‚ä½¿ç”¨check-solutionæ¥åˆ¶å®š[check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)æµ‹è¯•ã€‚
- en: Hint Design the function plug-in first. It consumes the left-hand side of an
    [Equation](#%28tech._equation%29) and a [Solution](#%28tech._solution%29) and
    calculates out the value of the left-hand side when the numbers from the solution
    are plugged in for the variables.
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šé¦–å…ˆè®¾è®¡å‡½æ•°æ’ä»¶ã€‚å®ƒæ¶ˆè€—ä¸€ä¸ªæ–¹ç¨‹çš„å·¦ä¾§å’Œä¸€ä¸ªè§£ï¼Œå¹¶è®¡ç®—å‡ºå½“è§£ä¸­çš„æ•°å­—ç”¨äºå˜é‡æ—¶å·¦ä¾§çš„å€¼ã€‚
- en: Gaussian elimination is a standard method for finding solutions to systems of
    linear equations. It consists of two steps. The first step is to transform the
    system of equations into a system of different shape but with the same solution.
    The second step is to find solutions to one equation at a time. Here we focus
    on the first step because it is another interesting instance of generative recursion.
  id: totrans-978
  prefs: []
  type: TYPE_NORMAL
  zh: é«˜æ–¯æ¶ˆå…ƒæ³•æ˜¯æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„çš„æ ‡å‡†æ–¹æ³•ã€‚å®ƒåŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤ã€‚ç¬¬ä¸€æ­¥æ˜¯å°†æ–¹ç¨‹ç»„è½¬æ¢æˆå½¢çŠ¶ä¸åŒä½†å…·æœ‰ç›¸åŒè§£çš„æ–¹ç¨‹ç»„ã€‚ç¬¬äºŒæ­¥æ˜¯é€ä¸ªæ±‚è§£ä¸€ä¸ªæ–¹ç¨‹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å…³æ³¨ç¬¬ä¸€æ­¥ï¼Œå› ä¸ºå®ƒåˆæ˜¯ç”Ÿæˆé€’å½’çš„å¦ä¸€ä¸ªæœ‰è¶£å®ä¾‹ã€‚
- en: 'The first step of the Gaussian elimination algorithm is called â€œtriangulationâ€
    because the result is a system of equations in the shape of a triangle. In contrast,
    the original system is a rectangle. To understand this terminology, take a look
    at this list, which represents the original system:'
  id: totrans-979
  prefs: []
  type: TYPE_NORMAL
  zh: é«˜æ–¯æ¶ˆå…ƒç®—æ³•çš„ç¬¬ä¸€æ­¥è¢«ç§°ä¸ºâ€œä¸‰è§’åŒ–â€ï¼Œå› ä¸ºç»“æœæ˜¯ä¸‰è§’å½¢å½¢çŠ¶çš„æ–¹ç¨‹ç»„ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒåŸå§‹ç³»ç»Ÿæ˜¯ä¸€ä¸ªçŸ©å½¢ã€‚ä¸ºäº†ç†è§£è¿™ä¸ªæœ¯è¯­ï¼Œè¯·çœ‹è¿™ä¸ªåˆ—è¡¨ï¼Œå®ƒä»£è¡¨äº†åŸå§‹ç³»ç»Ÿï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 2Â Â 3Â 10)
    |'
  id: totrans-980
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 2Â Â 3Â 10)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 5Â 12Â 31)
    |'
  id: totrans-981
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 5Â 12Â 31)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 1Â -2Â 1))
    |'
  id: totrans-982
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â Â  ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 1Â -2Â 1))
    |'
- en: 'Triangulation transforms this matrix into the following:'
  id: totrans-983
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‰è§’åŒ–å°†è¿™ä¸ªçŸ©é˜µè½¬æ¢æˆä»¥ä¸‹å½¢å¼ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 2Â Â 3Â 10)
    |'
  id: totrans-984
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 2 3 10)ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â 3Â Â 9Â 21)
    |'
  id: totrans-985
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    3 9 21ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â Â Â 1Â Â 2))
    |'
  id: totrans-986
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    1 2ï¼‰|'
- en: As promised, the shape of this system of equations is (roughly) a triangle.ExerciseÂ 463\.
    Check that the following system of equations
  id: totrans-987
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æ‰¿è¯ºçš„é‚£æ ·ï¼Œè¿™ä¸ªæ–¹ç¨‹ç»„çš„å½¢çŠ¶ï¼ˆå¤§è‡´ï¼‰æ˜¯ä¸€ä¸ªä¸‰è§’å½¢ã€‚ç»ƒä¹ 463ã€‚æ£€æŸ¥ä»¥ä¸‹æ–¹ç¨‹ç»„
- en: '![image](../Images/a561dcc0f110c4c0c9a4ba15d977dc8a.png)'
  id: totrans-988
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/a561dcc0f110c4c0c9a4ba15d977dc8a.png)'
- en: 'has the same solution as the one labeled with (![image](../Images/0b76de6a3894b6b766bc6df0bf7746a7.png)).
    Do so by hand and with check-solution from [exerciseÂ 462](#%28counter._%28exercise._ex~3agauss-data%29%29).The
    key idea of triangulation is to subtract the first [Equation](#%28tech._equation%29)
    from the remaining ones. To subtract one [Equation](#%28tech._equation%29) from
    another means to subtract the corresponding coefficients in the two [Equation](#%28tech._equation%29)s.
    With our running example, subtracting the first equation from the second yields
    the following matrix:'
  id: totrans-989
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä¸æ ‡è®°ä¸º ![image](../Images/0b76de6a3894b6b766bc6df0bf7746a7.png) çš„è§£ç›¸åŒã€‚é€šè¿‡æ‰‹åŠ¨æ“ä½œå’Œæ£€æŸ¥
    [ç»ƒä¹ 462](#%28counter._%28exercise._ex~3agauss-data%29%29) ä¸­çš„ check-solution æ¥å®Œæˆæ­¤æ“ä½œã€‚ä¸‰è§’åŒ–çš„å…³é”®æ€æƒ³æ˜¯ä»å‰©ä½™çš„æ–¹ç¨‹ä¸­å‡å»ç¬¬ä¸€ä¸ª
    [æ–¹ç¨‹](#%28tech._equation%29)ã€‚ä»ä¸€ä¸ª [æ–¹ç¨‹](#%28tech._equation%29) å‡å»å¦ä¸€ä¸ª [æ–¹ç¨‹](#%28tech._equation%29)
    æ„å‘³ç€ä»ä¸¤ä¸ª [æ–¹ç¨‹](#%28tech._equation%29) ä¸­çš„å¯¹åº”ç³»æ•°ä¸­å‡å»ã€‚ä»¥æˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ï¼Œä»ç¬¬äºŒä¸ªæ–¹ç¨‹ä¸­å‡å»ç¬¬ä¸€ä¸ªæ–¹ç¨‹å¾—åˆ°ä»¥ä¸‹çŸ©é˜µï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â 2Â Â 3Â 10)
    |'
  id: totrans-990
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 2 3 10)ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0Â 3Â Â 9Â 21)
    |'
  id: totrans-991
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    0 3 9 21ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â 1Â -2Â Â 1))
    |'
  id: totrans-992
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    4 1 -2 1ï¼‰|'
- en: 'The goal of these subtractions is to put a 0 into the first column of all but
    the first equation. For the third equation, getting a 0 into the first position
    means subtracting the first equation twice from the third one:'
  id: totrans-993
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›å‡æ³•çš„ç›®æ ‡æ˜¯å°†é™¤äº†ç¬¬ä¸€ä¸ªæ–¹ç¨‹ä¹‹å¤–çš„æ‰€æœ‰æ–¹ç¨‹çš„ç¬¬ä¸€åˆ—ç½®ä¸º0ã€‚å¯¹äºç¬¬ä¸‰ä¸ªæ–¹ç¨‹ï¼Œå°†ç¬¬ä¸€ä¸ªæ–¹ç¨‹ä»ç¬¬ä¸‰ä¸ªæ–¹ç¨‹ä¸­å‡å»ä¸¤æ¬¡ï¼Œä»¥åœ¨ç¬¬ä¸€ä¸ªä½ç½®å¾—åˆ°0ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 2Â Â 3Â Â 10)
    |'
  id: totrans-994
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 2 3 10)ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0Â Â 3Â Â 9Â Â 21)
    |'
  id: totrans-995
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    0 3 9 21ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0Â -3Â -8Â -19))
    |'
  id: totrans-996
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0Â -3Â -8Â -19))
    |'
- en: 'Following convention, we drop the leading 0â€™s from the last two equations:'
  id: totrans-997
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬ä»æœ€åä¸¤ä¸ªæ–¹ç¨‹ä¸­çœç•¥äº†å‰å¯¼çš„0ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 2Â Â 3Â Â Â 10)
    |'
  id: totrans-998
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 2Â Â 3Â Â Â 10)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â 3Â Â 9Â Â Â 21)
    |'
  id: totrans-999
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â 3Â Â 9Â Â Â 21)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â -3Â -8Â Â -19))
    |'
  id: totrans-1000
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â -3Â -8Â Â -19))
    |'
- en: That is, we first multiply each item in the first row with 2 and then subtract
    the result from the last row.Mathematics teaches how to prove such facts. We use
    them. As mentioned, these subtractions do not change the solution; that is, the
    solution of the original system is also the solution of the transformed one.ExerciseÂ 464\.
    Check that the following system of equations
  id: totrans-1001
  prefs: []
  type: TYPE_NORMAL
  zh: å³ï¼Œæˆ‘ä»¬é¦–å…ˆå°†ç¬¬ä¸€è¡Œä¸­çš„æ¯ä¸ªé¡¹ä¹˜ä»¥2ï¼Œç„¶åä»æœ€åä¸€è¡Œå‡å»è¿™ä¸ªç»“æœã€‚æ•°å­¦æ•™æˆ‘ä»¬å¦‚ä½•è¯æ˜è¿™æ ·çš„äº‹å®ã€‚æˆ‘ä»¬ä½¿ç”¨å®ƒä»¬ã€‚å¦‚å‰æ‰€è¿°ï¼Œè¿™äº›å‡æ³•æ“ä½œä¸ä¼šæ”¹å˜è§£ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸå§‹ç³»ç»Ÿçš„è§£ä¹Ÿæ˜¯å˜æ¢åç³»ç»Ÿçš„è§£ã€‚ç»ƒä¹ 
    464. æ£€æŸ¥ä»¥ä¸‹æ–¹ç¨‹ç»„
- en: '![image](../Images/cc05fe8a6b523170ea3f94d0e477418c.png)'
  id: totrans-1002
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/cc05fe8a6b523170ea3f94d0e477418c.png)'
- en: has the same solution as the one labeled with (![image](../Images/e4439750f1cc7c4f63b30b1ceb5be292.png)).
    Again do so by hand and with check-solution from [exerciseÂ 462](#%28counter._%28exercise._ex~3agauss-data%29%29).
  id: totrans-1003
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯å¦ä¸æ ‡è®°ä¸º ![å›¾ç‰‡](../Images/e4439750f1cc7c4f63b30b1ceb5be292.png) çš„æ–¹ç¨‹ç»„æœ‰ç›¸åŒçš„è§£ã€‚å†æ¬¡é€šè¿‡æ‰‹å·¥å’Œ
    [ç»ƒä¹  462](#%28counter._%28exercise._ex~3agauss-data%29%29) ä¸­çš„ check-solution æ¥åšã€‚
- en: ExerciseÂ 465\. Design subtract. The function consumes two [Equation](#%28tech._equation%29)s
    of equal length. It â€œsubtractsâ€ a multiple of the second equation from the first,
    item by item, so that the resulting [Equation](#%28tech._equation%29) has a 0
    in the first position. Since the leading coefficient is known to be 0, subtract
    returns the rest of the list that results from the subtractions.
  id: totrans-1004
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  465. è®¾è®¡å‡æ³•å‡½æ•°ã€‚è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„[æ–¹ç¨‹](#%28tech._equation%29)ã€‚å®ƒé€é¡¹â€œå‡å»â€ç¬¬äºŒä¸ªæ–¹ç¨‹çš„å€æ•°ï¼Œä½¿å¾—ç»“æœ[æ–¹ç¨‹](#%28tech._equation%29)çš„ç¬¬ä¸€ä¸ªä½ç½®ä¸º0ã€‚ç”±äºé¦–é¡¹ç³»æ•°å·²çŸ¥ä¸º0ï¼Œå‡æ³•å‡½æ•°è¿”å›å‡æ³•æ“ä½œåå¾—åˆ°çš„åˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†ã€‚
- en: 'Now consider the rest of the [SOE](#%28tech._soe%29):'
  id: totrans-1005
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è€ƒè™‘å‰©ä½™çš„[SOE](#%28tech._soe%29)ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â 3Â Â 9Â Â Â 21)
    |'
  id: totrans-1006
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â 3Â Â 9Â Â Â 21)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â -3Â -8Â Â -19))
    |'
  id: totrans-1007
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â -3Â -8Â Â -19))
    |'
- en: It is also an [SOE](#%28tech._soe%29), so we can apply the same algorithm again.
    For our running example, this next subtraction step calls for subtracting the
    first [Equation](#%28tech._equation%29) -1 times from the second one. Doing so
    yields
  id: totrans-1008
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä¹Ÿæ˜¯ä¸€ä¸ª[SOE](#%28tech._soe%29)ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å†æ¬¡åº”ç”¨ç›¸åŒçš„ç®—æ³•ã€‚å¯¹äºæˆ‘ä»¬çš„è¿è¡Œç¤ºä¾‹ï¼Œæ¥ä¸‹æ¥çš„å‡æ³•æ­¥éª¤éœ€è¦ä»ç¬¬äºŒä¸ªæ–¹ç¨‹ä¸­å‡å»ç¬¬ä¸€ä¸ª[æ–¹ç¨‹](#%28tech._equation%29)
    -1æ¬¡ã€‚è¿™æ ·åšå¾—åˆ°
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â Â 9Â 21)
    |'
  id: totrans-1009
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3Â Â 9Â 21)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â 1Â Â 2))
    |'
  id: totrans-1010
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â 1Â Â 2))
    |'
- en: 'The rest of this SOE is a single equation and cannot be simplified.ExerciseÂ 466\.
    Here is a representation for triangular SOEs:'
  id: totrans-1011
  prefs: []
  type: TYPE_NORMAL
  zh: 'The rest of this SOE is a single equation and cannot be simplified.ExerciseÂ 466\.
    Here is a representation for triangular SOEs:'
- en: '| ;Â A TM is an [[NEList-of](part_three.html#%28tech._sim-dd._nelist._of%29)  [Equation](#%28tech._equation%29)]
    |'
  id: totrans-1012
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A TM is an [[NEList-of](part_three.html#%28tech._sim-dd._nelist._of%29)  [Equation](#%28tech._equation%29)]
    |'
- en: '| ;Â such that the [Equation](#%28tech._equation%29)s are of decreasing length:
    |'
  id: totrans-1013
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â such that the [Equation](#%28tech._equation%29)s are of decreasing length:
    |'
- en: '| ;Â Â Â n + 1, n, n - 1, ..., 2. |'
  id: totrans-1014
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â n + 1, n, n - 1, ..., 2. |'
- en: '| ;Â interpretation represents a triangular matrix |'
  id: totrans-1015
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation represents a triangular matrix |'
- en: 'Design the triangulate algorithm:'
  id: totrans-1016
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸‰è§’åŒ–ç®—æ³•ï¼š
- en: '| ;Â [SOE](#%28tech._soe%29) -> [TM](#%28tech._tm%29) |'
  id: totrans-1017
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [SOE](#%28tech._soe%29) -> [TM](#%28tech._tm%29) |'
- en: '| ;Â triangulates the given system of equations |'
  id: totrans-1018
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â triangulates the given system of equations |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (triangulateÂ M)
    |'
  id: totrans-1019
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (triangulateÂ M)
    |'
- en: '| Â Â ''(1Â 2)) |'
  id: totrans-1020
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ''(1Â 2)) |'
- en: Turn the above example into a test and spell out explicit answers for the four
    questions based on our loose description.
  id: totrans-1021
  prefs: []
  type: TYPE_NORMAL
  zh: Turn the above example into a test and spell out explicit answers for the four
    questions based on our loose description.
- en: Do not yet deal with the termination step of the design recipe.
  id: totrans-1022
  prefs: []
  type: TYPE_NORMAL
  zh: Do not yet deal with the termination step of the design recipe.
- en: 'Unfortunately, the solution to [exerciseÂ 466](#%28counter._%28exercise._ex~3atriangulate1%29%29)
    occasionally fails to produce the desired triangular system. Consider the following
    representation of a system of equations:'
  id: totrans-1023
  prefs: []
  type: TYPE_NORMAL
  zh: 'Unfortunately, the solution to [exerciseÂ 466](#%28counter._%28exercise._ex~3atriangulate1%29%29)
    occasionally fails to produce the desired triangular system. Consider the following
    representation of a system of equations:'
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 3Â Â 3Â 8)
    |'
  id: totrans-1024
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 3Â Â 3Â 8)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 3Â -2Â 3)
    |'
  id: totrans-1025
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 3Â -2Â 3)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â -2Â Â 2Â 4))
    |'
  id: totrans-1026
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 4Â -2Â Â 2Â 4))
    |'
- en: 'Its solution is x = 1, y = 1, and z = 1.The first step is to subtract the first
    row from the second and to subtract it twice from the last one, which yields the
    following matrix:'
  id: totrans-1027
  prefs: []
  type: TYPE_NORMAL
  zh: 'Its solution is x = 1, y = 1, and z = 1.The first step is to subtract the first
    row from the second and to subtract it twice from the last one, which yields the
    following matrix:'
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â 2Â Â 3Â Â 3Â Â Â 8)
    |'
  id: totrans-1028
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 3Â Â 3Â Â Â 8)
    |'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â Â 0Â -5Â Â -5)
    |'
  id: totrans-1029
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    0 -5 -5ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â -8Â -4Â -12))
    |'
  id: totrans-1030
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    -8 -4 -12ï¼‰|'
- en: 'Next, triangulation would focus on the rest of the matrix:'
  id: totrans-1031
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œä¸‰è§’åŒ–å°†ä¸“æ³¨äºçŸ©é˜µçš„å…¶ä½™éƒ¨åˆ†ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â 0Â -5Â Â -5)
    |'
  id: totrans-1032
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    0 -5 -5ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â -8Â -4Â -12))
    |'
  id: totrans-1033
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    -8 -4 -12ï¼‰|'
- en: 'but the first item of this matrix is 0. Since it is impossible to divide by
    0, the algorithm signals an error via subtract.To overcome this problem, we need
    to use another piece of knowledge from our problem domain. Mathematics tells us
    that switching equations in a system of equations does not affect the solution.
    Of course, as we switch equations, we must eventually find an equation whose leading
    coefficient is not 0. Here we can simply swap the first two:'
  id: totrans-1034
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯è¿™ä¸ªçŸ©é˜µçš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯0ã€‚ç”±äºé™¤ä»¥0æ˜¯ä¸å¯èƒ½çš„ï¼Œç®—æ³•é€šè¿‡å‡æ³•æ¥å‘å‡ºé”™è¯¯ä¿¡å·ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä»æˆ‘ä»¬çš„é—®é¢˜åŸŸä¸­è¿ç”¨å¦ä¸€å—çŸ¥è¯†ã€‚æ•°å­¦å‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨ä¸€ä¸ªæ–¹ç¨‹ç»„ä¸­äº¤æ¢æ–¹ç¨‹ä¸ä¼šå½±å“è§£ã€‚å½“ç„¶ï¼Œå½“æˆ‘ä»¬äº¤æ¢æ–¹ç¨‹æ—¶ï¼Œæˆ‘ä»¬æœ€ç»ˆå¿…é¡»æ‰¾åˆ°ä¸€ä¸ªé¦–é¡¹ç³»æ•°ä¸ä¸º0çš„æ–¹ç¨‹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°äº¤æ¢å‰ä¸¤ä¸ªï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â -8Â -4Â -12)
    |'
  id: totrans-1035
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    -8 -4 -12ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â 0Â -5Â Â -5))
    |'
  id: totrans-1036
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    0 -5 -5ï¼‰|'
- en: 'From here we may continue as before, subtracting the first equation from the
    remaining one 0 times. The final triangular matrix is:'
  id: totrans-1037
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™é‡Œæˆ‘ä»¬å¯ä»¥åƒä»¥å‰ä¸€æ ·ç»§ç»­ï¼Œä»å‰©ä½™çš„æ–¹ç¨‹ä¸­å‡å»ç¬¬ä¸€ä¸ªæ–¹ç¨‹0æ¬¡ã€‚æœ€ç»ˆçš„ä¸‰è§’çŸ©é˜µæ˜¯ï¼š
- en: '| ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 2Â Â 3Â Â 3Â Â Â 8)
    |'
  id: totrans-1038
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    2 3 3 8ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â -8Â -4Â -12)
    |'
  id: totrans-1039
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    -8 -4 -12ï¼‰|'
- en: '| Â Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â Â Â Â Â -5Â Â -5))
    |'
  id: totrans-1040
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ï¼ˆ[åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    -5 -5ï¼‰|'
- en: Stop! Show that x = 1, y = 1, and z = 1 is still a solution for these equations.
  id: totrans-1041
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼è¯æ˜x = 1ï¼Œy = 1å’Œz = 1ä»ç„¶æ˜¯è¿™äº›æ–¹ç¨‹çš„è§£ã€‚
- en: ExerciseÂ 467\. Revise the algorithm triangulate from [exerciseÂ 466](#%28counter._%28exercise._ex~3atriangulate1%29%29)
    so that it rotates the equations first to find one with a leading coefficient
    that is not 0 before it subtracts the first equation from the remaining ones.
  id: totrans-1042
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  467ã€‚ä¿®æ”¹ [ç»ƒä¹  466](#%28counter._%28exercise._ex~3atriangulate1%29%29) ä¸­çš„ triangulate
    ç®—æ³•ï¼Œä»¥ä¾¿å®ƒåœ¨ä»å‰©ä½™æ–¹ç¨‹ä¸­å‡å»ç¬¬ä¸€ä¸ªæ–¹ç¨‹ä¹‹å‰ï¼Œé¦–å…ˆæ—‹è½¬æ–¹ç¨‹ä»¥æ‰¾åˆ°ä¸€ä¸ªé¦–é¡¹ç³»æ•°ä¸ä¸º 0 çš„æ–¹ç¨‹ã€‚
- en: Does this algorithm terminate for all possible systems of equations?
  id: totrans-1043
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªç®—æ³•å¯¹æ‰€æœ‰å¯èƒ½çš„æ–¹ç¨‹ç»„ç³»ç»Ÿéƒ½ç»ˆæ­¢å—ï¼Ÿ
- en: 'Hint The following expression rotates a non-empty list L:'
  id: totrans-1044
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šä»¥ä¸‹è¡¨è¾¾å¼æ—‹è½¬ä¸€ä¸ªéç©ºåˆ—è¡¨ Lï¼š
- en: ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â L)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â L)))
  id: totrans-1045
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â L)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â L)))
- en: 'Explain why.Some [SOE](#%28tech._soe%29)s donâ€™t have a solution. Consider this
    one:'
  id: totrans-1046
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡ŠåŸå› ã€‚ä¸€äº› [SOE](#%28tech._soe%29) æ²¡æœ‰è§£ã€‚è€ƒè™‘è¿™ä¸ªä¾‹å­ï¼š
- en: '![image](../Images/552f7e7428765d3d32b9e430fb80ff59.png)'
  id: totrans-1047
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/552f7e7428765d3d32b9e430fb80ff59.png)'
- en: 'If you try to triangulate this SOEâ€”<wbr>by hand or with your solution from
    [exerciseÂ 467](#%28counter._%28exercise._ex~3atriangulate2%29%29)â€”<wbr>you arrive
    at an intermediate matrix all of whose equations start with 0:'
  id: totrans-1048
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å°è¯•ä¸‰è§’åŒ–è¿™ä¸ª SOEâ€”â€”<wbr>æ‰‹åŠ¨æˆ–ä½¿ç”¨ä½ ä» [ç»ƒä¹  467](#%28counter._%28exercise._ex~3atriangulate2%29%29)
    å¾—åˆ°çš„è§£å†³æ–¹æ¡ˆâ€”â€”<wbr>ä½ å°†å¾—åˆ°ä¸€ä¸ªä¸­é—´çŸ©é˜µï¼Œå…¶ä¸­æ‰€æœ‰æ–¹ç¨‹éƒ½ä»¥ 0 å¼€å¤´ï¼š
- en: '![image](../Images/b1f4118077222e5fad78ea744b267947.png)'
  id: totrans-1049
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/b1f4118077222e5fad78ea744b267947.png)'
- en: ExerciseÂ 468\. Modify triangulate from [exerciseÂ 467](#%28counter._%28exercise._ex~3atriangulate2%29%29)
    so that it signals an error if it encounters an [SOE](#%28tech._soe%29) whose
    leading coefficients are all 0.
  id: totrans-1050
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  468ã€‚ä¿®æ”¹ [ç»ƒä¹  467](#%28counter._%28exercise._ex~3atriangulate2%29%29) ä¸­çš„ triangulateï¼Œä»¥ä¾¿å®ƒåœ¨é‡åˆ°æ‰€æœ‰é¦–é¡¹ç³»æ•°éƒ½ä¸º
    0 çš„ [SOE](#%28tech._soe%29) æ—¶å‘å‡ºé”™è¯¯ä¿¡å·ã€‚
- en: 'After we obtain a triangular system of equations such as (*) in [exerciseÂ 463](#%28counter._%28exercise._ex~3agauss-equiv2%29%29),
    we can solve the equations, one at a time. In our specific example, the last equation
    says that z is 2. Equipped with this knowledge, we can eliminate z from the second
    equation through a substitution:'
  id: totrans-1051
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬è·å¾—å¦‚ [ç»ƒä¹  463](#%28counter._%28exercise._ex~3agauss-equiv2%29%29) ä¸­çš„ (*) çš„ä¸‰è§’å½¢æ–¹ç¨‹ç»„åï¼Œæˆ‘ä»¬å¯ä»¥é€ä¸ªè§£å†³è¿™äº›æ–¹ç¨‹ã€‚åœ¨æˆ‘ä»¬çš„å…·ä½“ä¾‹å­ä¸­ï¼Œæœ€åä¸€ä¸ªæ–¹ç¨‹è¡¨æ˜
    z æ˜¯ 2ã€‚æœ‰äº†è¿™ä¸ªçŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ›¿æ¢ä»ç¬¬äºŒä¸ªæ–¹ç¨‹ä¸­æ¶ˆé™¤ zï¼š
- en: '![image](../Images/903a2558767ba621aa12391d511a1b79.png)'
  id: totrans-1052
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/903a2558767ba621aa12391d511a1b79.png)'
- en: 'Doing so, in turn, determines the value for y:'
  id: totrans-1053
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·åšï¼Œåè¿‡æ¥ï¼Œç¡®å®šäº† y çš„å€¼ï¼š
- en: '![image](../Images/173c90ddd1870a4c8292816430bc50b6.png)'
  id: totrans-1054
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/173c90ddd1870a4c8292816430bc50b6.png)'
- en: 'Now that we have z = 2 and y = 1, we can plug these values into the first equation:'
  id: totrans-1055
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬æœ‰äº† z = 2 å’Œ y = 1ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›å€¼ä»£å…¥ç¬¬ä¸€ä¸ªæ–¹ç¨‹ï¼š
- en: '![image](../Images/d6037c5163e3fe364d6aed655eb5406d.png)'
  id: totrans-1056
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d6037c5163e3fe364d6aed655eb5406d.png)'
- en: 'This yields another equation in a single variable, which we solve like this:'
  id: totrans-1057
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº§ç”Ÿäº†ä¸€ä¸ªå•å˜é‡æ–¹ç¨‹ï¼Œæˆ‘ä»¬åƒè¿™æ ·è§£å†³å®ƒï¼š
- en: '![image](../Images/9b61f7f4ff010b73c5fad3b0e6950e59.png)'
  id: totrans-1058
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/9b61f7f4ff010b73c5fad3b0e6950e59.png)'
- en: This finally yields a value for x and thus the complete solution for the entire
    [SOE](#%28tech._soe%29).
  id: totrans-1059
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æœ€ç»ˆå¾—åˆ°äº† x çš„ä¸€ä¸ªå€¼ï¼Œä»è€Œå¾—åˆ°äº†æ•´ä¸ª [SOE](#%28tech._soe%29) çš„å®Œæ•´è§£ã€‚
- en: ExerciseÂ 469\. Design the solve function. It consumes triangular [SOE](#%28tech._soe%29)s
    and produces a solution.
  id: totrans-1060
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  469ã€‚è®¾è®¡ solve å‡½æ•°ã€‚å®ƒæ¶ˆè€—ä¸‰è§’å½¢çš„ [SOE](#%28tech._soe%29) å¹¶äº§ç”Ÿä¸€ä¸ªè§£ã€‚
- en: Hint Use structural recursion for the design. Start with the design of a function
    that solves a single linear equation in n+1 variables, given a solution for the
    last n variables. In general, this function plugs in the values for the rest of
    the left-hand side, subtracts the result from the right-hand side, and divides
    by the first coefficient. Experiment with this suggestion and the above examples.
  id: totrans-1061
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šä½¿ç”¨ç»“æ„é€’å½’è¿›è¡Œè®¾è®¡ã€‚ä»ä¸€ä¸ªè§£å†³n+1ä¸ªå˜é‡ä¸­ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹çš„å‡½æ•°çš„è®¾è®¡å¼€å§‹ï¼Œç»™å®šæœ€ånä¸ªå˜é‡çš„è§£ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°å°†å·¦ä¾§å‰©ä½™çš„å€¼æ’å…¥è¿›å»ï¼Œä»å³ä¾§å‡å»ç»“æœï¼Œç„¶åé™¤ä»¥ç¬¬ä¸€ä¸ªç³»æ•°ã€‚å°è¯•è¿™ä¸ªå»ºè®®å’Œä¸Šé¢çš„ä¾‹å­ã€‚
- en: Challenge Use an existing abstraction and [lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)
    to design solve.
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‘æˆ˜ï¼šä½¿ç”¨ç°æœ‰çš„æŠ½è±¡å’Œ[lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)æ¥è®¾è®¡è§£å†³æ–¹æ¡ˆã€‚
- en: ExerciseÂ 470\. Define gauss, which combines the triangulate function from [exerciseÂ 468](#%28counter._%28exercise._ex~3atriangulate3%29%29)
    and the solve function from [exerciseÂ 469](#%28counter._%28exercise._ex~3agauss-solve%29%29).
  id: totrans-1063
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 470ï¼šå®šä¹‰gaussï¼Œå®ƒç»“åˆäº†[ç»ƒä¹ 468](#%28counter._%28exercise._ex~3atriangulate3%29%29)ä¸­çš„ä¸‰è§’åŒ–å‡½æ•°å’Œ[ç»ƒä¹ 469](#%28counter._%28exercise._ex~3agauss-solve%29%29)ä¸­çš„æ±‚è§£å‡½æ•°ã€‚
- en: 29Algorithms that Backtrack[ğŸ”—](#(part._ch~3abacktrack) "Link to here")
  id: totrans-1064
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 29å›æº¯ç®—æ³•[ğŸ”—](#(part._ch~3abacktrack) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: Problem solving doesnâ€™t always progress along some straight line. Sometimes
    we may follow one approach and discover that we are stuck because we took a wrong
    turn. One obvious option is to backtrack to the place where we made the fateful
    decision and to take a different turn. Some algorithms work just like that. This
    chapter presents two instances. The first section deals with an algorithm for
    traversing graphs. The second one is an extended exercise that uses backtracking
    in the context of a chess puzzle.
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: é—®é¢˜è§£å†³å¹¶ä¸æ€»æ˜¯æ²¿ç€ä¸€æ¡ç›´çº¿å‰è¿›ã€‚æœ‰æ—¶æˆ‘ä»¬å¯èƒ½éµå¾ªä¸€ç§æ–¹æ³•ï¼Œå´å‘ç°æˆ‘ä»¬é™·å…¥äº†å›°å¢ƒï¼Œå› ä¸ºæˆ‘ä»¬èµ°é”™äº†è·¯ã€‚ä¸€ä¸ªæ˜æ˜¾çš„é€‰æ‹©æ˜¯å›æº¯åˆ°æˆ‘ä»¬åšå‡ºè‡´å‘½å†³å®šçš„åœ°æ–¹ï¼Œå¹¶é€‰æ‹©ä¸åŒçš„æ–¹å‘ã€‚ä¸€äº›ç®—æ³•å°±æ˜¯è¿™æ ·å·¥ä½œçš„ã€‚æœ¬ç« ä»‹ç»äº†ä¸¤ä¸ªå®ä¾‹ã€‚ç¬¬ä¸€éƒ¨åˆ†è®¨è®ºäº†éå†å›¾çš„ç®—æ³•ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸€ä¸ªæ‰©å±•ç»ƒä¹ ï¼Œå®ƒåœ¨æ£‹ç›˜è°œé¢˜çš„èƒŒæ™¯ä¸‹ä½¿ç”¨å›æº¯ã€‚
- en: 29.1Traversing Graphs[ğŸ”—](#(part._fsm._sec~3atraverse-graph1) "Link to here")
  id: totrans-1066
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 29.1éå†å›¾[ğŸ”—](#(part._fsm._sec~3atraverse-graph1) "é“¾æ¥åˆ°è¿™é‡Œ")
- en: Graphs are ubiquitous in our world and the world of computing. Imagine a group
    of people, say, the students in your school. Write down all the names, and connect
    the names of those people who know each other. You have just created your first
    undirected graph.
  id: totrans-1067
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾åœ¨æˆ‘ä»¬çš„ä¸–ç•Œå’Œè®¡ç®—ä¸–ç•Œä¸­æ— å¤„ä¸åœ¨ã€‚æƒ³è±¡ä¸€ä¸‹ä¸€ç¾¤äººï¼Œæ¯”å¦‚ä½ å­¦æ ¡çš„å­¦ç”Ÿã€‚å†™ä¸‹æ‰€æœ‰åå­—ï¼Œå¹¶è¿æ¥é‚£äº›å½¼æ­¤è®¤è¯†çš„äººçš„åå­—ã€‚ä½ åˆšåˆšåˆ›å»ºäº†ä½ ç¬¬ä¸€ä¸ªæ— å‘å›¾ã€‚
- en: Now take a look at [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29),
    which displays a small directed graph. It consists of seven nodesâ€”<wbr>the circled
    lettersâ€”<wbr>and nine edgesâ€”<wbr>the arrows. The graph may represent a small version
    of an email network. Imagine a company and all the emails that go back and forth.
    Write down the email addresses of all employees. Then, address by address, draw
    an arrow from the address to all those addresses to whom the owner sends emails
    during a week. This is how you would create the directed graph in [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29),
    though it might end up looking much more complex, almost impenetrable.
  id: totrans-1068
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨çœ‹çœ‹[å›¾168](#%28counter._fsm._%28figure._fig~3agraph%29%29)ï¼Œå®ƒæ˜¾ç¤ºäº†ä¸€ä¸ªå°å‹çš„æœ‰å‘å›¾ã€‚å®ƒç”±ä¸ƒä¸ªèŠ‚ç‚¹â€”â€”<wbr>åœˆå‡ºçš„å­—æ¯â€”â€”<wbr>å’Œä¹æ¡è¾¹â€”â€”<wbr>ç®­å¤´ç»„æˆã€‚è¿™ä¸ªå›¾å¯èƒ½ä»£è¡¨äº†ä¸€ä¸ªç”µå­é‚®ä»¶ç½‘ç»œçš„ç®€åŒ–ç‰ˆæœ¬ã€‚æƒ³è±¡ä¸€ä¸‹ä¸€å®¶å…¬å¸ä»¥åŠæ‰€æœ‰æ¥å›å‘é€çš„ç”µå­é‚®ä»¶ã€‚å†™ä¸‹æ‰€æœ‰å‘˜å·¥çš„ç”µå­é‚®ä»¶åœ°å€ã€‚ç„¶åï¼Œé€ä¸ªåœ°å€åœ°ï¼Œä»åœ°å€ç”»ç®­å¤´åˆ°åœ¨ä¸€å‘¨å†…æ‰€æœ‰æ”¶ä»¶äººåœ°å€ã€‚è¿™å°±æ˜¯ä½ å¦‚ä½•åˆ›å»º[å›¾168](#%28counter._fsm._%28figure._fig~3agraph%29%29)ä¸­çš„æœ‰å‘å›¾ï¼Œå°½ç®¡å®ƒæœ€ç»ˆå¯èƒ½çœ‹èµ·æ¥è¦å¤æ‚å¾—å¤šï¼Œå‡ ä¹æ— æ³•ç©¿é€ã€‚
- en: '![image](../Images/ee7c403a9d51874449adfeaaa41a8a72.png)'
  id: totrans-1069
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/ee7c403a9d51874449adfeaaa41a8a72.png)'
- en: ''
  id: totrans-1070
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 168: A directed graph'
  id: totrans-1071
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾168ï¼šä¸€ä¸ªæœ‰å‘å›¾
- en: In general, a graph consists of a collection of nodes and a collection of edges,
    which connect nodes. In a directed graph, the edges represent one-way connections
    between the nodes; in an undirected graph, the edges represent two-way connections
    between the nodes. In this context, the following is a common type of problem:Social
    scientists use such algorithms to figure out the power structure in a company.
    Similarly they use such graphs to predict the probable activities of people, even
    without knowledge of the content of their emails.
  id: totrans-1072
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œä¸€ä¸ªå›¾ç”±èŠ‚ç‚¹é›†åˆå’Œè¾¹é›†åˆç»„æˆï¼Œè¿™äº›è¾¹è¿æ¥èŠ‚ç‚¹ã€‚åœ¨æœ‰å‘å›¾ä¸­ï¼Œè¾¹è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„ä¸€å‘è¿æ¥ï¼›åœ¨æ— å‘å›¾ä¸­ï¼Œè¾¹è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„åŒå‘è¿æ¥ã€‚åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ç±»å‹ï¼šç¤¾ä¼šç§‘å­¦å®¶ä½¿ç”¨è¿™æ ·çš„ç®—æ³•æ¥äº†è§£å…¬å¸ä¸­çš„æƒåŠ›ç»“æ„ã€‚åŒæ ·ï¼Œä»–ä»¬ä½¿ç”¨è¿™æ ·çš„å›¾æ¥é¢„æµ‹äººä»¬çš„å¯èƒ½æ´»åŠ¨ï¼Œå³ä½¿ä¸çŸ¥é“ä»–ä»¬ç”µå­é‚®ä»¶çš„å†…å®¹ã€‚
- en: Sample Problem Design an algorithm that proposes a way to introduce one person
    to another in a directed email graph for a large company. The program consumes
    a directed graph representing established email connections and two email addresses.
    It returns a sequence of email addresses that connect the first email with the
    second.
  id: totrans-1073
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ ·ä¾‹é—®é¢˜ è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œæå‡ºä¸€ç§åœ¨å¤§å‹å…¬å¸ä¸­é€šè¿‡æœ‰å‘ç”µå­é‚®ä»¶å›¾å°†ä¸€ä¸ªäººä»‹ç»ç»™å¦ä¸€ä¸ªäººçš„æ–¹æ³•ã€‚è¯¥ç¨‹åºæ¶ˆè€—ä¸€ä¸ªè¡¨ç¤ºå·²å»ºç«‹ç”µå­é‚®ä»¶è¿æ¥çš„æœ‰å‘å›¾å’Œä¸¤ä¸ªç”µå­é‚®ä»¶åœ°å€ã€‚å®ƒè¿”å›ä¸€ä¸ªç”µå­é‚®ä»¶åœ°å€åºåˆ—ï¼Œè¿™äº›åœ°å€å°†ç¬¬ä¸€ä¸ªç”µå­é‚®ä»¶åœ°å€ä¸ç¬¬äºŒä¸ªç”µå­é‚®ä»¶åœ°å€è¿æ¥èµ·æ¥ã€‚
- en: 'Mathematical scientists call the desired sequence a path.[FigureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29)
    makes the sample problem concrete. For example, you may wish to test whether the
    program can find a path from C to D. This particular path consists of the origination
    node C and the destination node D. In contrast, if you wish to connect E with
    D, there are two paths:'
  id: totrans-1074
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°å­¦ç§‘å­¦å®¶å°†æ‰€éœ€çš„åºåˆ—ç§°ä¸ºè·¯å¾„ã€‚[å›¾ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29)ä½¿æ ·ä¾‹é—®é¢˜å…·ä½“åŒ–ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½å¸Œæœ›æµ‹è¯•ç¨‹åºæ˜¯å¦å¯ä»¥æ‰¾åˆ°ä»
    C åˆ° D çš„è·¯å¾„ã€‚è¿™æ¡ç‰¹å®šçš„è·¯å¾„ç”±èµ·ç‚¹èŠ‚ç‚¹ C å’Œç»ˆç‚¹èŠ‚ç‚¹ D ç»„æˆã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœä½ å¸Œæœ›è¿æ¥ E å’Œ Dï¼Œåˆ™å­˜åœ¨ä¸¤æ¡è·¯å¾„ï¼š
- en: send email from E to F and then to D.
  id: totrans-1075
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä» E å‘é€ç”µå­é‚®ä»¶åˆ° Fï¼Œç„¶åå†å‘é€åˆ° Dã€‚
- en: send it from E to C and then to D.
  id: totrans-1076
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä» E å‘é€ç”µå­é‚®ä»¶åˆ° Cï¼Œç„¶åå†å‘é€åˆ° Dã€‚
- en: Sometimes it is impossible to connect two nodes with a path. In the graph of
    [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29), you cannot move
    from C to G by following the arrows.
  id: totrans-1077
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰æ—¶å¯èƒ½æ— æ³•é€šè¿‡è·¯å¾„è¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹ã€‚åœ¨[å›¾ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29)çš„å›¾ä¸­ï¼Œæ‚¨æ— æ³•é€šè¿‡è·Ÿéšç®­å¤´ä»
    C ç§»åŠ¨åˆ° Gã€‚
- en: Looking at [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29) you
    can easily figure out how to get from one node to another without thinking much
    about how you did it. So imagine for a moment that the graph in [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29)
    is a large park. Also imagine someone says you are located at E and you need to
    get to G. You can clearly see two paths, one leading to C and another one leading
    to F. Follow the first one and make sure to remember that it is also possible
    to get from E to F. Now you have a new problem, namely, how to get from C to G.
    The key insight is that this new problem is just like the original problem; it
    asks you to find a path from one node to another. Furthermore, if you can solve
    the problem, you know how to get from E to Gâ€”<wbr>just add the step from E to
    C. But there is no path from C to G. Fortunately, you remember that it is also
    possible to go from E to F, meaning you can backtrack to some point where you
    have a choice to make and restart the search from there.
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: è§‚å¯Ÿåˆ°[å›¾ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29)ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°æ‰¾å‡ºå¦‚ä½•ä»ä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œä¸å¿…è¿‡å¤šåœ°æ€è€ƒæ‚¨æ˜¯å¦‚ä½•åšåˆ°çš„ã€‚æ‰€ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œ[å›¾
    168](#%28counter._fsm._%28figure._fig~3agraph%29%29)æ˜¯ä¸€ä¸ªå¤§å…¬å›­ã€‚ä¹Ÿæƒ³è±¡ä¸€ä¸‹ï¼Œæœ‰äººå‘Šè¯‰ä½ ä½ ç°åœ¨ä½äº Eï¼Œä½ éœ€è¦åˆ°è¾¾
    Gã€‚ä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ä¸¤æ¡è·¯å¾„ï¼Œä¸€æ¡é€šå‘ Cï¼Œå¦ä¸€æ¡é€šå‘ Fã€‚è·Ÿéšç¬¬ä¸€æ¡è·¯å¾„ï¼Œå¹¶ç¡®ä¿è®°ä½ä» E åˆ° F ä¹Ÿæ˜¯å¯èƒ½çš„ã€‚ç°åœ¨ä½ æœ‰ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œå³å¦‚ä½•ä» C åˆ° Gã€‚å…³é”®æ´å¯Ÿæ˜¯ï¼Œè¿™ä¸ªæ–°é—®é¢˜å°±åƒåŸå§‹é—®é¢˜ä¸€æ ·ï¼›å®ƒè¦æ±‚ä½ æ‰¾åˆ°ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„è·¯å¾„ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å°±çŸ¥é“å¦‚ä½•ä»
    E åˆ° Gâ€”â€”åªéœ€æ·»åŠ ä» E åˆ° C çš„æ­¥éª¤ã€‚ä½†æ˜¯ä» C åˆ° G æ²¡æœ‰è·¯å¾„ã€‚å¹¸è¿çš„æ˜¯ï¼Œä½ è®°å¾—ä» E åˆ° F ä¹Ÿæ˜¯å¯èƒ½çš„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥å›æº¯åˆ°æŸä¸ªä½ å¯ä»¥åšå‡ºé€‰æ‹©çš„ç‚¹ï¼Œå¹¶ä»é‚£é‡Œé‡æ–°å¼€å§‹æœç´¢ã€‚
- en: 'Now letâ€™s design this algorithm in a systematic manner. Following the general
    design recipe, we start with a data analysis. Here are two compact list-based
    representations of the graph in [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29):'
  id: totrans-1079
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬ä»¥ç³»ç»ŸåŒ–çš„æ–¹å¼è®¾è®¡è¿™ä¸ªç®—æ³•ã€‚éµå¾ªä¸€èˆ¬çš„è®¾è®¡é…æ–¹ï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œæ•°æ®åˆ†æã€‚ä»¥ä¸‹æ˜¯[å›¾ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29)ä¸­å›¾çš„ä¸¤ç§ç´§å‡‘çš„åŸºäºåˆ—è¡¨çš„è¡¨ç¤ºï¼š
- en: '|'
  id: totrans-1080
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: ''
  id: totrans-1081
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sample-graph
    &#124;'
  id: totrans-1082
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    sample-graph | '
- en: '&#124; Â Â ''((AÂ (BÂ E)) &#124;'
  id: totrans-1083
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ''((AÂ (BÂ E)) &#124;'
- en: '&#124; Â Â Â Â (BÂ (EÂ F)) &#124;'
  id: totrans-1084
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (BÂ (EÂ F)) &#124;'
- en: '&#124; Â Â Â Â (CÂ (D)) &#124;'
  id: totrans-1085
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (CÂ (D)) &#124;'
- en: '&#124; Â Â Â Â (DÂ ()) &#124;'
  id: totrans-1086
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (DÂ ()) &#124;'
- en: '&#124; Â Â Â Â (EÂ (CÂ F)) &#124;'
  id: totrans-1087
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (EÂ (CÂ F)) &#124;'
- en: '&#124; Â Â Â Â (FÂ (DÂ G)) &#124;'
  id: totrans-1088
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (FÂ (DÂ G)) &#124;'
- en: '&#124; Â Â Â Â (GÂ ()))) &#124;'
  id: totrans-1089
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (GÂ ()))) &#124;'
- en: ''
  id: totrans-1090
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|  |'
  id: totrans-1091
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|  |'
- en: ''
  id: totrans-1092
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sample-graph
    &#124;'
  id: totrans-1093
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â sample-graph
    &#124;'
- en: '&#124; Â Â ''((AÂ BÂ E) &#124;'
  id: totrans-1094
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â ''((AÂ BÂ E) &#124;'
- en: '&#124; Â Â Â Â (BÂ EÂ F) &#124;'
  id: totrans-1095
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (BÂ EÂ F) &#124;'
- en: '&#124; Â Â Â Â (CÂ D) &#124;'
  id: totrans-1096
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (CÂ D) &#124;'
- en: '&#124; Â Â Â Â (D) &#124;'
  id: totrans-1097
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (D) &#124;'
- en: '&#124; Â Â Â Â (EÂ CÂ F) &#124;'
  id: totrans-1098
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (EÂ CÂ F) &#124;'
- en: '&#124; Â Â Â Â (FÂ DÂ G) &#124;'
  id: totrans-1099
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (FÂ DÂ G) &#124;'
- en: '&#124; Â Â Â Â (G))) &#124;'
  id: totrans-1100
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '&#124; Â Â Â Â (G))) &#124;'
- en: ''
  id: totrans-1101
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|'
  id: totrans-1102
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '|'
- en: 'Both contain one list per node. Each of these lists starts with the name of
    a node followed by its (immediate) neighbors, that is, nodes reachable by following
    a single arrow. The two differ in how they connect the (name of the) node and
    its neighbors: the left one uses [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    while the right one uses [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29).
    For example, the second list represents node B with its two outgoing edges to
    E and F in [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29). On the
    left ''B is the first name on a two-element list; on the right it is the first
    name on a three-element list.'
  id: totrans-1103
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä»¬éƒ½åŒ…å«æ¯ä¸ªèŠ‚ç‚¹çš„ä¸€ä¸ªåˆ—è¡¨ã€‚è¿™äº›åˆ—è¡¨ä»¥èŠ‚ç‚¹çš„åç§°å¼€å¤´ï¼Œåé¢è·Ÿç€å…¶ï¼ˆç›´æ¥ï¼‰é‚»å±…ï¼Œå³é€šè¿‡è·Ÿéšå•ä¸ªç®­å¤´å¯åˆ°è¾¾çš„èŠ‚ç‚¹ã€‚ä¸¤è€…åœ¨è¿æ¥èŠ‚ç‚¹åŠå…¶é‚»å±…çš„æ–¹å¼ä¸Šæœ‰æ‰€ä¸åŒï¼šå·¦è¾¹çš„ä¸€ä¸ªä½¿ç”¨
    [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)ï¼Œè€Œå³è¾¹çš„ä¸€ä¸ªä½¿ç”¨
    [cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)ã€‚ä¾‹å¦‚ï¼Œç¬¬äºŒä¸ªåˆ—è¡¨è¡¨ç¤ºèŠ‚ç‚¹
    Bï¼Œå®ƒæœ‰ä¸¤ä¸ªæŒ‡å‘ E å’Œ F çš„å‡ºè¾¹ï¼Œå¦‚ [å›¾168](#%28counter._fsm._%28figure._fig~3agraph%29%29) æ‰€ç¤ºã€‚åœ¨å·¦è¾¹ï¼Œ'B
    æ˜¯ä¸€ä¸ªä¸¤å…ƒç´ åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªåç§°ï¼›åœ¨å³è¾¹ï¼Œå®ƒæ˜¯ä¸‰ä¸ªå…ƒç´ åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªåç§°ã€‚
- en: ExerciseÂ 471\. Translate one of the above definitions into proper list form
    using [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    and proper symbols.
  id: totrans-1104
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 471. ä½¿ç”¨ [list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    å’Œåˆé€‚çš„ç¬¦å·å°†ä¸Šè¿°å®šä¹‰ä¹‹ä¸€è½¬æ¢ä¸ºæ­£ç¡®çš„åˆ—è¡¨å½¢å¼ã€‚
- en: 'The data representation for nodes is straightforward:'
  id: totrans-1105
  prefs: []
  type: TYPE_NORMAL
  zh: èŠ‚ç‚¹çš„æ•°æ®è¡¨ç¤ºæ–¹æ³•ç®€å•æ˜äº†ï¼š
- en: ;Â A Node is a [Symbol](i2-3.html#%28tech._symbol%29).
  id: totrans-1106
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ;Â ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ª [ç¬¦å·](i2-3.html#%28tech._symbol%29).
- en: Formulate a data definition to describe the class of all Graph representations,
    allowing an arbitrary number of nodes and edges. Only one of the above representations
    has to belong to [Graph](#%28tech._fsm._graph%29).
  id: totrans-1107
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ¶å®šä¸€ä¸ªæ•°æ®å®šä¹‰æ¥æè¿°æ‰€æœ‰å›¾è¡¨ç¤ºç±»çš„ç±»åˆ«ï¼Œå…è®¸ä»»æ„æ•°é‡çš„èŠ‚ç‚¹å’Œè¾¹ã€‚ä¸Šè¿°è¡¨ç¤ºä¸­åªéœ€æœ‰ä¸€ä¸ªå±äº [å›¾](#%28tech._fsm._graph%29)ã€‚
- en: Design the function neighbors. It consumes a [Node](#%28tech._fsm._node%29)
    n and a [Graph](#%28tech._fsm._graph%29) g and produces the list of immediate
    neighbors of n in g.
  id: totrans-1108
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ neighbors å‡½æ•°ã€‚å®ƒæ¶ˆè€—ä¸€ä¸ª [èŠ‚ç‚¹](#%28tech._fsm._node%29) n å’Œä¸€ä¸ª [å›¾](#%28tech._fsm._graph%29)
    gï¼Œå¹¶äº§ç”Ÿ n åœ¨ g ä¸­çš„ç›´æ¥é‚»å±…åˆ—è¡¨ã€‚
- en: 'Using your data definitions for [Node](#%28tech._fsm._node%29) and [Graph](#%28tech._fsm._graph%29)â€”<wbr>regardless
    of which one you chose, as long as you also designed neighborsâ€”<wbr>we can now
    formulate a signature and a purpose statement for find-path, the function that
    searches a path in a graph:'
  id: totrans-1109
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä½ çš„ [èŠ‚ç‚¹](#%28tech._fsm._node%29) å’Œ [å›¾](#%28tech._fsm._graph%29) æ•°æ®å®šä¹‰â€”â€”æ— è®ºä½ é€‰æ‹©å“ªä¸€ä¸ªï¼Œåªè¦ä½ ä¹Ÿè®¾è®¡äº†é‚»å±…â€”â€”æˆ‘ä»¬ç°åœ¨å¯ä»¥ä¸º
    find-path å‡½æ•°åˆ¶å®šä¸€ä¸ªç­¾åå’Œç”¨é€”è¯´æ˜ï¼Œè¯¥å‡½æ•°ç”¨äºåœ¨å›¾ä¸­æœç´¢è·¯å¾„ï¼š
- en: '| ;Â [Node](#%28tech._fsm._node%29)  [Node](#%28tech._fsm._node%29)  [Graph](#%28tech._fsm._graph%29)
    -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Node](#%28tech._fsm._node%29)]
    |'
  id: totrans-1110
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [èŠ‚ç‚¹](#%28tech._fsm._node%29)  [èŠ‚ç‚¹](#%28tech._fsm._node%29)  [å›¾](#%28tech._fsm._graph%29)
    -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [èŠ‚ç‚¹](#%28tech._fsm._node%29)]
    |'
- en: '| ;Â finds a path from origination to destination in G |'
  id: totrans-1111
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨å›¾Gä¸­ä»èµ·ç‚¹åˆ°ç»ˆç‚¹æŸ¥æ‰¾è·¯å¾„ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ originationÂ destinationÂ G)
    |'
  id: totrans-1112
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ originationÂ destinationÂ G)
    |'
- en: '| Â Â ''()) |'
  id: totrans-1113
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ''()) |'
- en: 'What this header leaves open is the exact shape of the result. It implies that
    the result is a list of nodes, but it does not say which nodes it contains.To
    appreciate this ambiguity and why it matters, letâ€™s study the examples from above.
    In ISL+, we can now formulate them like this:'
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå¤´ä¿¡æ¯ç•™å‡ºçš„ç©ºé—´æ˜¯ç»“æœçš„ç²¾ç¡®å½¢çŠ¶ã€‚å®ƒæš—ç¤ºç»“æœæ˜¯èŠ‚ç‚¹åˆ—è¡¨ï¼Œä½†å®ƒæ²¡æœ‰è¯´æ˜åŒ…å«å“ªäº›èŠ‚ç‚¹ã€‚ä¸ºäº†æ¬£èµè¿™ç§æ­§ä¹‰åŠå…¶é‡è¦æ€§ï¼Œè®©æˆ‘ä»¬ç ”ç©¶ä¸Šé¢çš„ä¾‹å­ã€‚åœ¨ISL+ä¸­ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åƒè¿™æ ·è¡¨è¾¾å®ƒä»¬ï¼š
- en: '| (find-pathÂ ''CÂ ''DÂ sample-graph) |'
  id: totrans-1115
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (find-pathÂ ''CÂ ''DÂ sample-graph) |'
- en: '| (find-pathÂ ''EÂ ''DÂ sample-graph) |'
  id: totrans-1116
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (find-pathÂ ''EÂ ''DÂ sample-graph) |'
- en: '| (find-pathÂ ''CÂ ''GÂ sample-graph) |'
  id: totrans-1117
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (find-pathÂ ''CÂ ''GÂ sample-graph) |'
- en: 'The first call to find-path must return a unique path, the second one must
    choose one from two, and the third one must signal that there is no path from
    ''C to ''G in sample-graph. Here are two possibilities, then, on how to construct
    the return value:'
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: find-pathçš„ç¬¬ä¸€ä¸ªè°ƒç”¨å¿…é¡»è¿”å›ä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„ï¼Œç¬¬äºŒä¸ªè°ƒç”¨å¿…é¡»ä»ä¸¤ä¸ªä¸­é€‰æ‹©ä¸€ä¸ªï¼Œç¬¬ä¸‰ä¸ªè°ƒç”¨å¿…é¡»è¡¨ç¤ºåœ¨sample-graphä¸­ä»'Cåˆ°'Gæ²¡æœ‰è·¯å¾„ã€‚å› æ­¤ï¼Œæœ‰ä¸¤ç§å¯èƒ½çš„è¿”å›å€¼æ„é€ æ–¹å¼ï¼š
- en: The result of the function consists of all nodes leading from the origination
    node to the destination node, including those two.It is easy to imagine others,
    such as skipping either of the two given nodes. In this case, an empty path could
    be used to express the lack of a path between two nodes.
  id: totrans-1119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‡½æ•°çš„ç»“æœåŒ…æ‹¬ä»èµ·å§‹èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬è¿™ä¸¤ä¸ªèŠ‚ç‚¹ã€‚å¯ä»¥æƒ³è±¡å…¶ä»–æƒ…å†µï¼Œä¾‹å¦‚è·³è¿‡è¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ç©ºè·¯å¾„æ¥è¡¨ç¤ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰è·¯å¾„ã€‚
- en: Alternatively, since the call itself already lists two of the nodes, the output
    could mention only the â€œinteriorâ€ nodes of the path. Then the answer for the first
    call would be '() because 'D is an immediate neighbor of 'C. Of course, '() could
    then no longer signal failure.
  id: totrans-1120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œç”±äºè°ƒç”¨æœ¬èº«å·²ç»åˆ—å‡ºäº†ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè¾“å‡ºå¯ä»¥åªæåˆ°è·¯å¾„çš„â€œå†…éƒ¨â€èŠ‚ç‚¹ã€‚é‚£ä¹ˆç¬¬ä¸€æ¬¡è°ƒç”¨çš„ç­”æ¡ˆå°†æ˜¯'()ï¼Œå› ä¸º'Dæ˜¯'Cçš„ç›´æ¥é‚»å±…ã€‚å½“ç„¶ï¼Œ'()éšåå°±ä¸å†è¡¨ç¤ºå¤±è´¥ã€‚
- en: 'Concerning the lack-of-a-path issue, we must choose a distinct value for signaling
    this notion. Because #false is distinct, is meaningful, and works in either case,
    we opt for it. As for the multiple-paths issue, we postpone making a choice for
    now and list both possibilities in the example section:'
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºæ²¡æœ‰è·¯å¾„çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»é€‰æ‹©ä¸€ä¸ªä¸åŒçš„å€¼æ¥è¡¨ç¤ºè¿™ä¸ªæ¦‚å¿µã€‚å› ä¸º#falseæ˜¯ä¸åŒçš„ï¼Œæœ‰æ„ä¹‰çš„ï¼Œå¹¶ä¸”åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æœ‰æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©å®ƒã€‚è‡³äºå¤šæ¡è·¯å¾„çš„é—®é¢˜ï¼Œæˆ‘ä»¬ç°åœ¨æ¨è¿Ÿåšå‡ºé€‰æ‹©ï¼Œå¹¶åœ¨ç¤ºä¾‹éƒ¨åˆ†åˆ—å‡ºä¸¤ç§å¯èƒ½æ€§ï¼š
- en: '| ;Â A Path is a [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Node](#%28tech._fsm._node%29)].
    |'
  id: totrans-1122
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A Path is a [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Node](#%28tech._fsm._node%29)].
    |'
- en: '| ;Â interpretation The list of nodes specifies a sequence |'
  id: totrans-1123
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â interpretation The list of nodes specifies a sequence |'
- en: '| ;Â of immediate neighbors that leads from the first |'
  id: totrans-1124
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â of immediate neighbors that leads from the first |'
- en: '| ;Â [Node](#%28tech._fsm._node%29) on the list to the last one. |'
  id: totrans-1125
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Node](#%28tech._fsm._node%29) on the list to the last one. |'
- en: '| Â  |'
  id: totrans-1126
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Node](#%28tech._fsm._node%29)  [Node](#%28tech._fsm._node%29)  [Graph](#%28tech._fsm._graph%29)
    -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)  [Path](#%28tech._fsm._path%29)]
    |'
  id: totrans-1127
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [Node](#%28tech._fsm._node%29)  [Node](#%28tech._fsm._node%29)  [Graph](#%28tech._fsm._graph%29)
    -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)  [Path](#%28tech._fsm._path%29)]
    |'
- en: '| ;Â finds a path from origination to destination in G |'
  id: totrans-1128
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â finds a path from origination to destination in G |'
- en: '| ;Â if there is no path, the function produces #false |'
  id: totrans-1129
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â if there is no path, the function produces #false |'
- en: '| Â  |'
  id: totrans-1130
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (find-pathÂ ''CÂ ''DÂ sample-graph)
    |'
  id: totrans-1131
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (find-pathÂ ''CÂ ''DÂ sample-graph)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''(CÂ D)) |'
  id: totrans-1132
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''(CÂ D)) |'
- en: '| ([check-member-of](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-member-of%29%29)Â (find-pathÂ ''EÂ ''DÂ sample-graph)
    |'
  id: totrans-1133
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-member-of](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-member-of%29%29)Â (find-pathÂ ''EÂ ''DÂ sample-graph)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''(EÂ FÂ D)Â ''(EÂ CÂ D)) |'
  id: totrans-1134
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ''(EÂ FÂ D)Â ''(EÂ CÂ D)) |'
- en: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (find-pathÂ ''CÂ ''GÂ sample-graph)
    |'
  id: totrans-1135
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-expect](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29)Â (find-pathÂ ''CÂ ''GÂ sample-graph)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #false) |'
  id: totrans-1136
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â #false) |'
- en: '| Â  |'
  id: totrans-1137
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ originationÂ destinationÂ G)
    |'
  id: totrans-1138
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ originationÂ destinationÂ G)
    |'
- en: '| Â Â #false) |'
  id: totrans-1139
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â #false) |'
- en: 'Our next design step is to understand the four essential pieces of the function:
    the â€œtrivial problemâ€ condition, a matching solution, the generation of a new
    problem, and the combination step. The above discussion of the search process
    and the analysis of the three examples suggest answers:'
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„ä¸‹ä¸€æ­¥è®¾è®¡æ­¥éª¤æ˜¯ç†è§£å‡½æ•°çš„å››ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼šâ€œç®€å•é—®é¢˜â€æ¡ä»¶ã€åŒ¹é…è§£å†³æ–¹æ¡ˆã€ç”Ÿæˆæ–°é—®é¢˜ä»¥åŠç»„åˆæ­¥éª¤ã€‚ä¸Šè¿°å¯¹æœç´¢è¿‡ç¨‹å’Œä¸‰ä¸ªä¾‹å­çš„åˆ†ææå‡ºäº†ç­”æ¡ˆï¼š
- en: If the two given nodes are directly connected with an arrow in the given graph,
    the path consists of just these two nodes. But there is an even simpler case,
    namely, when the origination argument of find-path is equal to its destination.
  id: totrans-1141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœç»™å®šçš„ä¸¤ä¸ªèŠ‚ç‚¹åœ¨ç»™å®šçš„å›¾ä¸­é€šè¿‡ç®­å¤´ç›´æ¥è¿æ¥ï¼Œè·¯å¾„å°±åªåŒ…å«è¿™ä¸¤ä¸ªèŠ‚ç‚¹ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æƒ…å†µï¼Œå³å½“find-pathçš„èµ·æºå‚æ•°ç­‰äºå…¶ç›®çš„åœ°æ—¶ã€‚
- en: In that second case, the problem is truly trivial and the matching answer is
    ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  destination).
  id: totrans-1142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œé—®é¢˜çœŸæ­£æ˜¯å¾®ä¸è¶³é“çš„ï¼ŒåŒ¹é…çš„ç­”æ¡ˆæ˜¯([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)  ç›®çš„åœ°)ã€‚
- en: If the arguments are different, the algorithm must inspect all immediate neighbors
    of origination and determine whether there is a path from any one of those to
    destination. In other words, picking one of those neighbors generates a new instance
    of the â€œfind a pathâ€ problem.
  id: totrans-1143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœå‚æ•°ä¸åŒï¼Œç®—æ³•å¿…é¡»æ£€æŸ¥èµ·æºç‚¹çš„æ‰€æœ‰ç›´æ¥é‚»å±…ï¼Œå¹¶ç¡®å®šä»è¿™äº›é‚»å±…ä¸­çš„ä»»ä½•ä¸€ä¸ªåˆ°ç›®çš„åœ°çš„è·¯å¾„ã€‚æ¢å¥è¯è¯´ï¼Œé€‰æ‹©è¿™äº›é‚»å±…ä¸­çš„ä»»ä½•ä¸€ä¸ªä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„â€œæ‰¾åˆ°è·¯å¾„â€é—®é¢˜ã€‚
- en: Finally, once the algorithm has a path from a neighbor of origination to destination,
    it is easy to construct a complete path from the former to the latterâ€”<wbr>just
    add the origination node to the list.
  id: totrans-1144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼Œä¸€æ—¦ç®—æ³•ä»èµ·æºç‚¹çš„é‚»å±…åˆ°ç›®çš„åœ°æ‰¾åˆ°äº†è·¯å¾„ï¼Œæ„å»ºä»å‰è€…åˆ°åè€…çš„å®Œæ•´è·¯å¾„å°±å¾ˆå®¹æ˜“äº†â€”â€”åªéœ€å°†èµ·æºèŠ‚ç‚¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚
- en: 'From a programming perspective, the third point is critical. Since a node can
    have an arbitrary number of neighbors, the â€œinspect all neighborsâ€ task is too
    complex for a single primitive. We need an auxiliary function that consumes a
    list of nodes and generates a new path problem for each of them. Put differently,
    the function is a list-oriented version of find-path.Letâ€™s call this auxiliary
    function find-path/list and letâ€™s formulate a wish for it:'
  id: totrans-1145
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç¼–ç¨‹çš„è§’åº¦æ¥çœ‹ï¼Œç¬¬ä¸‰ç‚¹æ˜¯å…³é”®çš„ã€‚ç”±äºä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„é‚»å±…ï¼Œå› æ­¤â€œæ£€æŸ¥æ‰€æœ‰é‚»å±…â€çš„ä»»åŠ¡å¯¹äºå•ä¸ªåŸè¯­æ¥è¯´è¿‡äºå¤æ‚ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªèŠ‚ç‚¹åˆ—è¡¨å¹¶ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆä¸€ä¸ªæ–°çš„è·¯å¾„é—®é¢˜ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯find-pathçš„é¢å‘åˆ—è¡¨ç‰ˆæœ¬ã€‚è®©æˆ‘ä»¬ç§°è¿™ä¸ªè¾…åŠ©å‡½æ•°ä¸ºfind-path/listï¼Œå¹¶è®©æˆ‘ä»¬ä¸ºå®ƒåˆ¶å®šä¸€ä¸ªæ„¿æœ›ï¼š
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Node](#%28tech._fsm._node%29)]
    [Node](#%28tech._fsm._node%29)  [Graph](#%28tech._fsm._graph%29) -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)  [Path](#%28tech._fsm._path%29)]
    |'
  id: totrans-1146
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [èŠ‚ç‚¹](#%28tech._fsm._node%29)]
    [èŠ‚ç‚¹](#%28tech._fsm._node%29)  [å›¾](#%28tech._fsm._graph%29) -> [[å¯èƒ½](part_three.html#%28tech._sim-dd._maybe%29)  [è·¯å¾„](#%28tech._fsm._path%29)]
    |'
- en: '| ;Â finds a path from some node on lo-originations to |'
  id: totrans-1147
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»lo-originationsä¸Šçš„æŸä¸ªèŠ‚ç‚¹æ‰¾åˆ°è·¯å¾„ |'
- en: '| ;Â destination; otherwise, it produces #false |'
  id: totrans-1148
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â destination; å¦åˆ™ï¼Œå®ƒäº§ç”Ÿ #false |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-path/listÂ lo-originationsÂ destinationÂ G)
    |'
  id: totrans-1149
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-path/listÂ lo-originationsÂ ç›®çš„åœ°Â G)
    |'
- en: '| Â Â #false) |'
  id: totrans-1150
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â #false) |'
- en: 'Using this wish, we can fill in the generic template for generative-recursive
    functions to get a first draft of find-path:'
  id: totrans-1151
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™ä¸ªæ„¿æœ›ï¼Œæˆ‘ä»¬å¯ä»¥å¡«å†™ç”Ÿæˆé€’å½’å‡½æ•°çš„é€šç”¨æ¨¡æ¿ï¼Œä»¥è·å¾—find-pathçš„ç¬¬ä¸€ä¸ªè‰æ¡ˆï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ originationÂ destinationÂ G)
    |'
  id: totrans-1152
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ èµ·æºÂ ç›®çš„åœ°Â G)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1153
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([symbol=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._symbol~3d~3f%29%29)Â originationÂ destination)
    |'
  id: totrans-1154
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([ç¬¦å·=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._symbol~3d~3f%29%29)Â èµ·æºÂ ç›®çš„åœ°)
    |'
- en: '| Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â destination)]
    |'
  id: totrans-1155
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    destination)] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1156
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)Â originationÂ [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-1157
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     ([...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    origination [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| Â Â Â Â Â Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)(find-path/listÂ (neighborsÂ originationÂ G)
    |'
  id: totrans-1158
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| [...]([find-path/list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)(neighbors
    origination G)) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â destinationÂ G)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]))
    |'
  id: totrans-1159
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|         destination G) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))]))
    |'
- en: 'It uses the neighbors from [exerciseÂ 471](#%28counter._fsm._%28exercise._ex~3arepresent-graph%29%29)
    and the wish-list function find-path/list and otherwise uses the answers to the
    four questions about generative recursive functions.The rest of the design process
    is about details of composing these functions properly. Consider the signature
    of find-path/list. Like find-path, it produces [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)
    [Path](#%28tech._fsm._path%29)]. That is, if it finds a path from any of the neighbors,
    it produces this path; otherwise, if none of the neighbors is connected to destination,
    the function produces #false. Hence the answer of find-path depends on the kind
    of result that find-path/list produces, meaning the code must distinguish the
    two possible answers with a [cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    expression:'
  id: totrans-1160
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä½¿ç”¨äº†æ¥è‡ª[ç»ƒä¹ 471](#%28counter._fsm._%28exercise._ex~3arepresent-graph%29%29)çš„é‚»å±…å’Œfind-path/listæ„¿æœ›åˆ—è¡¨å‡½æ•°ï¼Œå¦åˆ™ä½¿ç”¨å…³äºç”Ÿæˆé€’å½’å‡½æ•°çš„å››ä¸ªé—®é¢˜çš„ç­”æ¡ˆã€‚è®¾è®¡è¿‡ç¨‹çš„å…¶ä½™éƒ¨åˆ†æ˜¯å…³äºå¦‚ä½•æ­£ç¡®ç»„åˆè¿™äº›å‡½æ•°çš„ç»†èŠ‚ã€‚è€ƒè™‘find-path/listçš„ç­¾åã€‚åƒfind-pathä¸€æ ·ï¼Œå®ƒäº§ç”Ÿ[[Maybe](part_three.html#%28tech._sim-dd._maybe%29)
    [Path](#%28tech._fsm._path%29)]ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå®ƒä»ä»»ä½•é‚»å±…ä¸­æ‰¾åˆ°ä¸€æ¡è·¯å¾„ï¼Œå®ƒå°±ä¼šäº§ç”Ÿè¿™æ¡è·¯å¾„ï¼›å¦åˆ™ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•é‚»å±…è¿æ¥åˆ°ç›®çš„åœ°ï¼Œå‡½æ•°å°†äº§ç”Ÿ#falseã€‚å› æ­¤ï¼Œfind-pathçš„ç­”æ¡ˆå–å†³äºfind-path/listäº§ç”Ÿçš„ç»“æœç±»å‹ï¼Œè¿™æ„å‘³ç€ä»£ç å¿…é¡»ç”¨[cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)è¡¨è¾¾å¼åŒºåˆ†ä¸¤ç§å¯èƒ½çš„ç­”æ¡ˆï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ originationÂ destinationÂ G)
    |'
  id: totrans-1161
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (find-path origination destination G) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1162
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([symbol=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._symbol~3d~3f%29%29)Â originationÂ destination)
    |'
  id: totrans-1163
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     ([symbol=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._symbol~3d~3f%29%29)
    origination destination) |'
- en: '| Â Â Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â destination)]
    |'
  id: totrans-1164
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    destination)] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1165
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '|     [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â nextÂ (neighborsÂ originationÂ G))
    |'
  id: totrans-1166
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)
    ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    ä¸‹ä¸€ä¸ª (é‚»å±… èµ·ç‚¹ G)) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â candidate
    |'
  id: totrans-1167
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    å€™é€‰ |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (find-path/listÂ nextÂ destinationÂ G))) |'
  id: totrans-1168
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (æŸ¥æ‰¾è·¯å¾„/åˆ—è¡¨ ä¸‹ä¸€ä¸ªç›®çš„åœ° G))) |'
- en: '| Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1169
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)Â candidate)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
  id: totrans-1170
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([([å¸ƒå°”?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)
    å€™é€‰) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]
    |'
- en: '| Â Â Â Â Â Â Â Â Â [([cons?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)Â candidate)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]))]))
    |'
  id: totrans-1171
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â [([åˆ—è¡¨?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons~3f%29%29)
    å€™é€‰) [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)]))]))
    |'
- en: 'The two cases reflect the two kinds of answers we might receive: a [Boolean](part_one.html#%28tech._boolean%29)
    or a list. In the first case, find-path/list cannot find a path from any neighbor
    to destination, meaning find-path itself cannot construct such a path either.
    In the second case, the auxiliary function found a path, but find-path must still
    add origination to the front of this path because candidate starts with one of
    originationâ€™s neighbors, not origination itself as agreed upon above.'
  id: totrans-1172
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤ç§æƒ…å†µåæ˜ äº†æˆ‘ä»¬å¯èƒ½æ”¶åˆ°çš„ä¸¤ç§ç­”æ¡ˆï¼šä¸€ä¸ª [å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29) æˆ–ä¸€ä¸ªåˆ—è¡¨ã€‚åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾è·¯å¾„/åˆ—è¡¨æ— æ³•ä»ä»»ä½•é‚»å±…æ‰¾åˆ°ç»ˆç‚¹è·¯å¾„ï¼Œè¿™æ„å‘³ç€æŸ¥æ‰¾è·¯å¾„æœ¬èº«ä¹Ÿæ— æ³•æ„å»ºè¿™æ ·çš„è·¯å¾„ã€‚åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œè¾…åŠ©å‡½æ•°æ‰¾åˆ°äº†è·¯å¾„ï¼Œä½†æŸ¥æ‰¾è·¯å¾„å¿…é¡»ä»ç„¶å°†èµ·ç‚¹æ·»åŠ åˆ°è¿™æ¡è·¯å¾„çš„å‰é¢ï¼Œå› ä¸ºå€™é€‰ä»¥èµ·ç‚¹çš„ä¸€ä¸ªé‚»å±…å¼€å§‹ï¼Œè€Œä¸æ˜¯åƒä¸Šé¢æ‰€çº¦å®šçš„é‚£æ ·ä»¥èµ·ç‚¹æœ¬èº«å¼€å§‹ã€‚
- en: '| ;Â [Node](#%28tech._fsm._node%29)  [Node](#%28tech._fsm._node%29)  [Graph](#%28tech._fsm._graph%29)
    -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)  [Path](#%28tech._fsm._path%29)]
    |'
  id: totrans-1173
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [èŠ‚ç‚¹](#%28tech._fsm._node%29) [èŠ‚ç‚¹](#%28tech._fsm._node%29) [å›¾](#%28tech._fsm._graph%29)
    -> [[å¯èƒ½](part_three.html#%28tech._sim-dd._maybe%29) [è·¯å¾„](#%28tech._fsm._path%29)]
    |'
- en: '| ;Â finds a path from origination to destination in G |'
  id: totrans-1174
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨ G ä¸­ä»èµ·ç‚¹æ‰¾åˆ°ç»ˆç‚¹è·¯å¾„ |'
- en: '| ;Â if there is no path, the function produces #false |'
  id: totrans-1175
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœæ²¡æœ‰è·¯å¾„ï¼Œå‡½æ•°è¿”å› #false |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-pathÂ originationÂ destinationÂ G)
    |'
  id: totrans-1176
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)
    (æŸ¥æ‰¾è·¯å¾„ èµ·ç‚¹ ç»ˆç‚¹ G)) |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1177
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([symbol=?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._symbol~3d~3f%29%29)Â originationÂ destination)Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â destination)]
    |'
  id: totrans-1178
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([ç¬¦å·=ï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._symbol~3d~3f%29%29)
    èµ·ç‚¹ ç»ˆç‚¹) ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)
    ç»ˆç‚¹)] |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â nextÂ (neighborsÂ originationÂ G))
    |'
  id: totrans-1179
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â nextÂ (neighborsÂ originationÂ G))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â candidate
    |'
  id: totrans-1180
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â candidate
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (find-path/listÂ nextÂ destinationÂ G))) |'
  id: totrans-1181
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (find-path/listÂ nextÂ destinationÂ G))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1182
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)Â candidate)Â #false]
    |'
  id: totrans-1183
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([å¸ƒå°”ï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)Â candidate)Â #false]
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â originationÂ candidate)]))]))
    |'
  id: totrans-1184
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â originationÂ candidate)]))]))
    |'
- en: '| Â  |'
  id: totrans-1185
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [Node](#%28tech._fsm._node%29)]
    [Node](#%28tech._fsm._node%29)  [Graph](#%28tech._fsm._graph%29) -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)  [Path](#%28tech._fsm._path%29)]
    |'
  id: totrans-1186
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [èŠ‚ç‚¹](#%28tech._fsm._node%29)  [èŠ‚ç‚¹](#%28tech._fsm._node%29)  [å›¾](#%28tech._fsm._graph%29)
    -> [[å¯èƒ½](part_three.html#%28tech._sim-dd._maybe%29)  [è·¯å¾„](#%28tech._fsm._path%29)]
    |'
- en: '| ;Â finds a path from some node on lo-Os to D |'
  id: totrans-1187
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä»lo-Osä¸Šçš„æŸä¸ªèŠ‚ç‚¹æ‰¾åˆ°åˆ°Dçš„è·¯å¾„ |'
- en: '| ;Â if there is no path, the function produces #false |'
  id: totrans-1188
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å¦‚æœæ²¡æœ‰è·¯å¾„ï¼Œå‡½æ•°è¿”å›#false |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-path/listÂ lo-OsÂ DÂ G)
    |'
  id: totrans-1189
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-path/listÂ lo-OsÂ DÂ G)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1190
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â lo-Os)Â #false]
    |'
  id: totrans-1191
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [([ç©ºï¼Ÿ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â lo-Os)Â #false]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â candidate
    |'
  id: totrans-1192
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â candidate
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (find-pathÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â lo-Os)Â DÂ G)))
    |'
  id: totrans-1193
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (find-pathÂ ([first](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._first%29%29)Â lo-Os)Â DÂ G)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1194
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [([boolean?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)Â candidate)
    |'
  id: totrans-1195
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [([boolean?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._boolean~3f%29%29)
    candidate) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (find-path/listÂ ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)Â lo-Os)Â DÂ G)]
    |'
  id: totrans-1196
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  (find-path/list ([rest](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._rest%29%29)
    lo-Os) D G)]'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)Â candidate]))]))
    |'
  id: totrans-1197
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '|Â Â  [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    candidate]))]]'
- en: ''
  id: totrans-1198
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 169: Finding a path in a graph'
  id: totrans-1199
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾169ï¼šåœ¨å›¾ä¸­å¯»æ‰¾è·¯å¾„
- en: '[FigureÂ 169](#%28counter._fsm._%28figure._fig~3afind-path-code%29%29) contains
    the complete definition of find-path. It also contains a definition of find-path/list,
    which processes its first argument via structural recursion. For each node in
    the list, find-path/list uses find-path to check for a path. If find-path indeed
    produces a path, that path is its answer. Otherwise, find-path/list backtracks.'
  id: totrans-1200
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾169](#%28counter._fsm._%28figure._fig~3afind-path-code%29%29) åŒ…å«äº† find-path
    çš„å®Œæ•´å®šä¹‰ã€‚å®ƒè¿˜åŒ…å«äº†ä¸€ä¸ª find-path/list çš„å®šä¹‰ï¼Œè¯¥å®šä¹‰é€šè¿‡ç»“æ„é€’å½’å¤„ç†å…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¯¹äºåˆ—è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œfind-path/list ä½¿ç”¨
    find-path æ¥æ£€æŸ¥è·¯å¾„ã€‚å¦‚æœ find-path ç¡®å®äº§ç”Ÿäº†ä¸€æ¡è·¯å¾„ï¼Œé‚£ä¹ˆè¿™æ¡è·¯å¾„å°±æ˜¯å®ƒçš„ç­”æ¡ˆã€‚å¦åˆ™ï¼Œfind-path/list ä¼šå›æº¯ã€‚'
- en: 'Note [Trees](part_four.html#%28part._sec~3abtrees%29) discusses backtracking
    in the structural world. A particularly good example is the function that searches
    blue-eyed ancestors in a family tree. When the function encounters a node, it
    first searches one branch of the family tree, say the fatherâ€™s, and if this search
    produces #false, it searches the other half. Since graphs generalize trees, comparing
    this function with find-path is an instructive exercise. End'
  id: totrans-1201
  prefs: []
  type: TYPE_NORMAL
  zh: 'æ³¨æ„ [æ ‘](part_four.html#%28part._sec~3abtrees%29) è®¨è®ºäº†ç»“æ„ä¸–ç•Œä¸­çš„å›æº¯ã€‚ä¸€ä¸ªç‰¹åˆ«å¥½çš„ä¾‹å­æ˜¯æœç´¢å®¶è°±ä¸­è“çœ¼ç›ç¥–å…ˆçš„å‡½æ•°ã€‚å½“å‡½æ•°é‡åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå®ƒé¦–å…ˆæœç´¢å®¶è°±çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚çˆ¶äº²çš„ï¼Œå¦‚æœè¿™ä¸ªæœç´¢äº§ç”Ÿ
    #falseï¼Œå®ƒå°±æœç´¢å¦ä¸€åŠã€‚ç”±äºå›¾æ˜¯æ ‘çš„æ³›åŒ–ï¼Œå°†è¿™ä¸ªå‡½æ•°ä¸ find-path è¿›è¡Œæ¯”è¾ƒæ˜¯ä¸€ä¸ªæœ‰æ•™è‚²æ„ä¹‰çš„ç»ƒä¹ ã€‚ç»“æŸ'
- en: Lastly, we need to check whether find-path produces an answer for all possible
    inputs. It is relatively easy to check that, when given the graph in [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29)
    and any two nodes in this graph, find-path always produces some answer. Stop!
    Solve the next exercise before you read on.
  id: totrans-1202
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥ find-path æ˜¯å¦å¯¹æ‰€æœ‰å¯èƒ½çš„è¾“å…¥éƒ½äº§ç”Ÿç­”æ¡ˆã€‚è¿™ç›¸å¯¹å®¹æ˜“æ£€æŸ¥ï¼Œå½“ç»™å®š [å›¾168](#%28counter._fsm._%28figure._fig~3agraph%29%29)
    ä¸­çš„å›¾å’Œè¯¥å›¾ä¸­çš„ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹æ—¶ï¼Œfind-path æ€»æ˜¯ä¼šäº§ç”Ÿä¸€äº›ç­”æ¡ˆã€‚åœæ­¢ï¼åœ¨ä½ ç»§ç»­é˜…è¯»ä¹‹å‰è§£å†³ä¸‹ä¸€ä¸ªç»ƒä¹ ã€‚
- en: ExerciseÂ 472\. Develop a test for find-path on the inputs 'A, 'G, and sample-graph.
  id: totrans-1203
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 472ã€‚ä¸º 'A, 'G å’Œ sample-graph å¼€å‘ä¸€ä¸ª find-path çš„æµ‹è¯•ã€‚
- en: Take a look at [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29).
    Which path will the function find? Why?
  id: totrans-1204
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹ä¸€ä¸‹ [å›¾168](#%28counter._fsm._%28figure._fig~3agraph%29%29)ã€‚å‡½æ•°ä¼šæ‰¾åˆ°å“ªæ¡è·¯å¾„ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
- en: Design test-on-all-nodes, a function that consumes a graph g and determines
    whether there is a path between every pair of nodes.
  id: totrans-1205
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡ test-on-all-nodesï¼Œä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªå›¾ g å¹¶ç¡®å®šæ˜¯å¦åœ¨æ¯å¯¹èŠ‚ç‚¹ä¹‹é—´å­˜åœ¨è·¯å¾„ã€‚
- en: '![image](../Images/d2aa8714394a67061198c78840960071.png)'
  id: totrans-1206
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d2aa8714394a67061198c78840960071.png)'
- en: ''
  id: totrans-1207
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 170: A directed graph with cycle'
  id: totrans-1208
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾170ï¼šä¸€ä¸ªå¸¦æœ‰ç¯çš„æœ‰å‘å›¾
- en: For other graphs, however, find-path may not terminate for certain pairs of
    nodes. Consider the graph in [figureÂ 170](#%28counter._fsm._%28figure._fig~3acyclic-graph%29%29).
  id: totrans-1209
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºå…¶ä»–å›¾ï¼Œfind-path å¯¹äºæŸäº›èŠ‚ç‚¹å¯¹å¯èƒ½ä¸ä¼šç»ˆæ­¢ã€‚è€ƒè™‘ [å›¾170](#%28counter._fsm._%28figure._fig~3acyclic-graph%29%29)
    ä¸­çš„å›¾ã€‚
- en: Stop! Define cyclic-graph to represent the graph in this figure.
  id: totrans-1210
  prefs: []
  type: TYPE_NORMAL
  zh: åœæ­¢ï¼å®šä¹‰ cyclic-graph æ¥è¡¨ç¤ºè¿™ä¸ªå›¾ã€‚
- en: 'Compared to [figureÂ 168](#%28counter._fsm._%28figure._fig~3agraph%29%29), this
    new graph contains only one extra edge, from C to B. This seemingly small addition,
    though, allows us to start a search in a node and to return to the same node.
    Specifically, it is possible to move from B to E to C and back to B. Indeed, when
    find-path is applied to ''B, ''D, and this graph, it fails to stop, as a hand-evaluation
    confirms:'
  id: totrans-1211
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸[å›¾168](#%28counter._fsm._%28figure._fig~3agraph%29%29)ç›¸æ¯”ï¼Œè¿™ä¸ªæ–°çš„å›¾åªå¤šäº†ä¸€æ¡è¾¹ï¼Œä»Cåˆ°Bã€‚ç„¶è€Œï¼Œè¿™ä¸ªçœ‹ä¼¼å¾®å°çš„å¢åŠ ï¼Œå´å…è®¸æˆ‘ä»¬ä»èŠ‚ç‚¹å¼€å§‹æœç´¢å¹¶è¿”å›åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚å…·ä½“æ¥è¯´ï¼Œå¯ä»¥ä»Bç§»åŠ¨åˆ°Eå†åˆ°Cï¼Œç„¶åè¿”å›åˆ°Bã€‚å®é™…ä¸Šï¼Œå½“å°†find-pathåº”ç”¨äº'Bã€'Då’Œæ­¤å›¾æ—¶ï¼Œå®ƒæ— æ³•åœæ­¢ï¼Œæ­£å¦‚æ‰‹åŠ¨è¯„ä¼°æ‰€ç¡®è®¤çš„ï¼š
- en: '| (find-pathÂ ''BÂ ''DÂ cyclic-graph) |'
  id: totrans-1212
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| (find-pathÂ ''BÂ ''DÂ cyclic-graph) |'
- en: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''BÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
  id: totrans-1213
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''BÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
- en: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-path/listÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ''EÂ ''F)Â ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
  id: totrans-1214
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-path/listÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ''EÂ ''F)Â ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
- en: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''EÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
  id: totrans-1215
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''EÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
- en: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-path/listÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ''CÂ ''F)Â ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
  id: totrans-1216
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-path/listÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ''CÂ ''F)Â ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
- en: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''CÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
  id: totrans-1217
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''CÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
- en: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-path/listÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ''BÂ ''D)Â ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
  id: totrans-1218
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-path/listÂ ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â ''BÂ ''D)Â ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
- en: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''BÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
  id: totrans-1219
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ==Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)Â (find-pathÂ ''BÂ ''DÂ cyclic-graph)Â [..](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._....%29%29)
    |'
- en: 'The hand-evaluation shows that after seven applications of find-path and find-path/list,
    ISL+ must evaluate the exact same expression that it started with.You know only
    one exception to this rule: [random](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29).
    Since the same input triggers the same evaluation for any function, find-path
    does not terminate for these inputs.'
  id: totrans-1220
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨è¯„ä¼°æ˜¾ç¤ºï¼Œåœ¨åº”ç”¨äº†find-pathå’Œfind-path/listä¸ƒæ¬¡ä¹‹åï¼ŒISL+å¿…é¡»è¯„ä¼°ä¸å®ƒå¼€å§‹æ—¶ç›¸åŒçš„ç²¾ç¡®è¡¨è¾¾å¼ã€‚ä½ åªçŸ¥é“ä¸€ä¸ªä¾‹å¤–ï¼š[éšæœº](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._random%29%29)ã€‚ç”±äºç›¸åŒçš„è¾“å…¥ä¼šè§¦å‘ä»»ä½•å‡½æ•°ç›¸åŒçš„è¯„ä¼°ï¼Œå› æ­¤find-pathå¯¹äºè¿™äº›è¾“å…¥ä¸ä¼šç»ˆæ­¢ã€‚
- en: In summary, the termination argument goes like this. If some given graph is
    free of cycles, find-path produces some output for any given inputs. After all,
    every path can only contain a finite number of nodes, and the number of paths
    is finite, too. The function therefore either exhaustively inspects all solutions
    starting from some given node or finds a path from the origination to the destination
    node. If, however, a graph contains a cycle, that is, a path from some node back
    to itself, find-path may not produce a result for some inputs.
  id: totrans-1221
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ç»“æ¥è¯´ï¼Œç»ˆæ­¢æ€§è®ºè¯å¦‚ä¸‹ã€‚å¦‚æœä¸€ä¸ªç»™å®šçš„å›¾æ²¡æœ‰å¾ªç¯ï¼Œfind-path å¯¹äºä»»ä½•ç»™å®šçš„è¾“å…¥éƒ½ä¼šäº§ç”Ÿä¸€äº›è¾“å‡ºã€‚æ¯•ç«Ÿï¼Œæ¯æ¡è·¯å¾„åªèƒ½åŒ…å«æœ‰é™æ•°é‡çš„èŠ‚ç‚¹ï¼Œè·¯å¾„çš„æ•°é‡ä¹Ÿæ˜¯æœ‰é™çš„ã€‚å› æ­¤ï¼Œè¯¥å‡½æ•°è¦ä¹ˆä»æŸä¸ªç»™å®šçš„èŠ‚ç‚¹å¼€å§‹å…¨é¢æ£€æŸ¥æ‰€æœ‰è§£å†³æ–¹æ¡ˆï¼Œè¦ä¹ˆæ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹èŠ‚ç‚¹çš„è·¯å¾„ã€‚ç„¶è€Œï¼Œå¦‚æœä¸€ä¸ªå›¾ä¸­åŒ…å«å¾ªç¯ï¼Œå³ä»æŸä¸ªèŠ‚ç‚¹å›åˆ°è‡ªèº«çš„è·¯å¾„ï¼Œfind-path
    å¯¹äºæŸäº›è¾“å…¥å¯èƒ½ä¸ä¼šäº§ç”Ÿç»“æœã€‚
- en: The next part presents a program design technique that addresses just this kind
    of problem. In particular, it presents a variant of find-path that can deal with
    cycles in a graph.
  id: totrans-1222
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹ä¸€ä¸ªéƒ¨åˆ†å°†ä»‹ç»ä¸€ç§ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œå®ƒä¸“é—¨è§£å†³è¿™ç±»é—®é¢˜ã€‚ç‰¹åˆ«æ˜¯ï¼Œå®ƒä»‹ç»äº†ä¸€ç§find-pathçš„å˜ä½“ï¼Œå¯ä»¥å¤„ç†å›¾ä¸­çš„å¾ªç¯ã€‚
- en: ExerciseÂ 473\. Test find-path on 'B, 'C, and the graph in [figureÂ 170](#%28counter._fsm._%28figure._fig~3acyclic-graph%29%29).
    Also use test-on-all-nodes from [exerciseÂ 472](#%28counter._fsm._%28exercise._ex~3afind-path2%29%29)
    on this graph.
  id: totrans-1223
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 473ã€‚åœ¨'Bã€'Cä»¥åŠ[å›¾170](#%28counter._fsm._%28figure._fig~3acyclic-graph%29%29)ä¸­æµ‹è¯•find-pathã€‚åŒæ—¶ï¼Œä½¿ç”¨[ç»ƒä¹ 472](#%28counter._fsm._%28exercise._ex~3afind-path2%29%29)ä¸­çš„test-on-all-nodesæ¥æµ‹è¯•è¿™ä¸ªå›¾ã€‚
- en: ExerciseÂ 474\. Redesign the find-path program as a single function.
  id: totrans-1224
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 474ã€‚å°†find-pathç¨‹åºé‡æ–°è®¾è®¡ä¸ºä¸€ä¸ªå•ä¸€å‡½æ•°ã€‚
- en: ExerciseÂ 475\. Redesign find-path/list so that it uses an existing list abstraction
    from [figuresÂ 95](part_three.html#%28counter._%28figure._fig~3aisl-ho-list%29%29)
    and [96](part_three.html#%28counter._%28figure._fig~3aisl-ho-list2%29%29) instead
    of explicit structural recursion. Hint Read the documentation for Racketâ€™s [ormap](http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._ormap%29%29).
    How does it differ from ISL+â€™s [ormap](http://docs.racket-lang.org/htdp-langs/intermediate.html#%28def._htdp-intermediate._%28%28lib._lang%2Fhtdp-intermediate..rkt%29._ormap%29%29)
    function? Would the former be helpful here?
  id: totrans-1225
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 475ã€‚é‡æ–°è®¾è®¡find-path/listï¼Œä½¿å…¶ä½¿ç”¨[å›¾95](part_three.html#%28counter._%28figure._fig~3aisl-ho-list%29%29)å’Œ[96](part_three.html#%28counter._%28figure._fig~3aisl-ho-list2%29%29)ä¸­çš„ç°æœ‰åˆ—è¡¨æŠ½è±¡ï¼Œè€Œä¸æ˜¯æ˜¾å¼çš„ç»“æ„é€’å½’ã€‚æç¤ºï¼šé˜…è¯»Racketçš„[ormap](http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._ormap%29%29)æ–‡æ¡£ã€‚å®ƒä¸ISL+çš„[ormap](http://docs.racket-lang.org/htdp-langs/intermediate.html#%28def._htdp-intermediate._%28%28lib._lang%2Fhtdp-intermediate..rkt%29._ormap%29%29)å‡½æ•°æœ‰ä½•ä¸åŒï¼Ÿå‰è€…åœ¨è¿™é‡Œä¼šæœ‰å¸®åŠ©å—ï¼Ÿ
- en: Note on Data Abstraction You may have noticed that the find-path function does
    not need to know how [Graph](#%28tech._fsm._graph%29) is defined. As long as you
    provide a correct neighbors function for [Graph](#%28tech._fsm._graph%29), find-path
    works perfectly fine. In short, the find-path program uses data abstraction.
  id: totrans-1226
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æŠ½è±¡ç¬”è®° ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œfind-path å‡½æ•°ä¸éœ€è¦çŸ¥é“[å›¾](#%28tech._fsm._graph%29)æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚åªè¦ä¸º[å›¾](#%28tech._fsm._graph%29)æä¾›ä¸€ä¸ªæ­£ç¡®çš„é‚»å±…å‡½æ•°ï¼Œfind-path
    å°±èƒ½å®Œç¾åœ°å·¥ä½œã€‚ç®€è€Œè¨€ä¹‹ï¼Œfind-path ç¨‹åºä½¿ç”¨äº†æ•°æ®æŠ½è±¡ã€‚
- en: 'As [Abstraction](part_three.html) says, data abstraction works just like function
    abstraction. Here you could create a function abstract-find-path, which would
    consume one more parameter than find-path: neighbors. As long as you always handed
    abstract-find-path a graph G from [Graph](#%28tech._fsm._graph%29) and the matching
    neighbors function, it would process the graph properly. While the extra parameter
    suggests abstraction in the conventional sense, the required relationship between
    two of the parametersâ€”<wbr>G and neighborsâ€”<wbr>really means that abstract-find-path
    is also abstracted over the definition of [Graph](#%28tech._fsm._graph%29). Since
    the latter is a data definition, the idea is dubbed data abstraction.'
  id: totrans-1227
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ [æŠ½è±¡](part_three.html) æ‰€è¯´ï¼Œæ•°æ®æŠ½è±¡å°±åƒå‡½æ•°æŠ½è±¡ä¸€æ ·å·¥ä½œã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæŠ½è±¡-find-path å‡½æ•°ï¼Œå®ƒæ¯” find-path
    å¤šä¸€ä¸ªå‚æ•°ï¼šé‚»å±…ã€‚åªè¦ä½ æ€»æ˜¯å‘ abstract-find-path æä¾›æ¥è‡ª [Graph](#%28tech._fsm._graph%29) çš„å›¾ G
    å’ŒåŒ¹é…çš„é‚»å±…å‡½æ•°ï¼Œå®ƒå°±ä¼šæ­£ç¡®å¤„ç†å›¾ã€‚è™½ç„¶é¢å¤–çš„å‚æ•°æš—ç¤ºäº†ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„æŠ½è±¡ï¼Œä½†ä¸¤ä¸ªå‚æ•°ä¹‹é—´æ‰€éœ€çš„å…³ç³»â€”â€”<wbr>G å’Œ neighborsâ€”â€”<wbr>å®é™…ä¸Šæ„å‘³ç€
    abstract-find-path ä¹ŸæŠ½è±¡äº† [Graph](#%28tech._fsm._graph%29) çš„å®šä¹‰ã€‚ç”±äºåè€…æ˜¯ä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œè¿™ä¸ªæƒ³æ³•è¢«ç§°ä¸ºæ•°æ®æŠ½è±¡ã€‚
- en: When programs grow large, data abstraction becomes a critical tool for the construction
    of a programâ€™s components. The next volume in the How to Design series addresses
    this idea in depth; the next section illustrates the idea with another example.
    End
  id: totrans-1228
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç¨‹åºå˜å¾—å¾ˆå¤§æ—¶ï¼Œæ•°æ®æŠ½è±¡æˆä¸ºæ„å»ºç¨‹åºç»„ä»¶çš„å…³é”®å·¥å…·ã€‚æœ¬ç³»åˆ—ä¸‹ä¸€å·æ·±å…¥æ¢è®¨äº†è¿™ä¸€æƒ³æ³•ï¼›ä¸‹ä¸€èŠ‚å°†é€šè¿‡å¦ä¸€ä¸ªç¤ºä¾‹è¯´æ˜è¿™ä¸€æƒ³æ³•ã€‚ç»“æŸ
- en: ExerciseÂ 476\. [Finite State Machines](part_two.html#%28part._sec~3asec-fsm-list%29)
    poses a problem concerning finite state machines and strings but immediately defers
    to this chapter because the solution calls for generative recursion. You have
    now acquired the design knowledge needed to tackle the problem.
  id: totrans-1229
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  476\. [æœ‰é™çŠ¶æ€æœº](part_two.html#%28part._sec~3asec-fsm-list%29) æå‡ºäº†ä¸€ä¸ªå…³äºæœ‰é™çŠ¶æ€æœºå’Œå­—ç¬¦ä¸²çš„é—®é¢˜ï¼Œä½†ç«‹å³å°†é—®é¢˜æ¨è¿Ÿåˆ°æœ¬ç« ï¼Œå› ä¸ºè§£å†³æ–¹æ¡ˆéœ€è¦ç”Ÿæˆé€’å½’ã€‚ä½ ç°åœ¨å·²ç»è·å¾—äº†è§£å†³è¿™ä¸ªé—®é¢˜çš„è®¾è®¡çŸ¥è¯†ã€‚
- en: 'Design the function fsm-match. It consumes the data representation of a finite
    state machine and a string. It produces #true if the sequence of characters in
    the string causes the finite state machine to transition from an initial state
    to a final state.'
  id: totrans-1230
  prefs: []
  type: TYPE_NORMAL
  zh: 'è®¾è®¡å‡½æ•° fsm-matchã€‚å®ƒæ¶ˆè€—æœ‰é™çŠ¶æ€æœºçš„æ•°æ®è¡¨ç¤ºå’Œå­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦åºåˆ—å¯¼è‡´æœ‰é™çŠ¶æ€æœºä»åˆå§‹çŠ¶æ€è½¬æ¢åˆ°æœ€ç»ˆçŠ¶æ€ï¼Œåˆ™äº§ç”Ÿ #trueã€‚'
- en: 'Since this problem is about the design of generative recursive functions, we
    provide the essential data definition and a data example:'
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè¿™ä¸ªé—®é¢˜æ˜¯å…³äºç”Ÿæˆé€’å½’å‡½æ•°çš„è®¾è®¡ï¼Œæˆ‘ä»¬æä¾›äº†å¿…è¦çš„æ•°æ®å®šä¹‰å’Œæ•°æ®ç¤ºä¾‹ï¼š
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â transitionÂ [currentÂ keyÂ next])
    |'
  id: totrans-1232
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â transitionÂ [currentÂ keyÂ next])
    |'
- en: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â fsmÂ [initialÂ transitionsÂ final])
    |'
  id: totrans-1233
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define-struct](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define-struct%29%29)Â fsmÂ [initialÂ transitionsÂ final])
    |'
- en: '| Â  |'
  id: totrans-1234
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â An FSM is a structure: |'
  id: totrans-1235
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An FSM is a structure: |'
- en: '| ;Â Â Â (make-fsm  [FSM-State](#%28tech._fsm._fsm._state%29)  [List-of  [1Transition](#%28tech._fsm._1transition%29)]  [FSM-State](#%28tech._fsm._fsm._state%29))
    |'
  id: totrans-1236
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-fsm  [FSM-State](#%28tech._fsm._fsm._state%29)  [List-of  [1Transition](#%28tech._fsm._1transition%29)]  [FSM-State](#%28tech._fsm._fsm._state%29))
    |'
- en: '| ;Â A 1Transition is a structure: |'
  id: totrans-1237
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â A 1Transition is a structure: |'
- en: '| ;Â Â Â (make-transition  [FSM-State](#%28tech._fsm._fsm._state%29)  [1String](part_one.html#%28tech._1string%29)  [FSM-State](#%28tech._fsm._fsm._state%29))
    |'
  id: totrans-1238
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â (make-transition  [FSM-State](#%28tech._fsm._fsm._state%29)  [1String](part_one.html#%28tech._1string%29)  [FSM-State](#%28tech._fsm._fsm._state%29))
    |'
- en: '| ;Â An FSM-State is [String](part_one.html#%28tech._string%29). |'
  id: totrans-1239
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â An FSM-State is [String](part_one.html#%28tech._string%29). |'
- en: '| Â  |'
  id: totrans-1240
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â data example: see [exerciseÂ 109](part_one.html#%28counter._%28exercise._ex~3afsm%29%29)
    |'
  id: totrans-1241
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ•°æ®ç¤ºä¾‹ï¼šå‚è§ [ç»ƒä¹  109](part_one.html#%28counter._%28exercise._ex~3afsm%29%29)
    |'
- en: '| Â  |'
  id: totrans-1242
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â fsm-a-bc*-d
    |'
  id: totrans-1243
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â fsm-a-bc*-d
    |'
- en: '| Â Â (make-fsm |'
  id: totrans-1244
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (make-fsm |'
- en: '| Â Â Â "AA" |'
  id: totrans-1245
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â "AA" |'
- en: '| Â Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (make-transitionÂ "AA"Â "a"Â "BC")
    |'
  id: totrans-1246
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â (åˆ›å»ºè½¬æ¢Â "AA"Â "a"Â "BC")
    |'
- en: '| Â Â Â Â Â Â Â Â Â (make-transitionÂ "BC"Â "b"Â "BC") |'
  id: totrans-1247
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (åˆ›å»ºè½¬æ¢Â "BC"Â "b"Â "BC") |'
- en: '| Â Â Â Â Â Â Â Â Â (make-transitionÂ "BC"Â "c"Â "BC") |'
  id: totrans-1248
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (åˆ›å»ºè½¬æ¢Â "BC"Â "c"Â "BC") |'
- en: '| Â Â Â Â Â Â Â Â Â (make-transitionÂ "BC"Â "d"Â "DD")) |'
  id: totrans-1249
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â (åˆ›å»ºè½¬æ¢Â "BC"Â "d"Â "DD")) |'
- en: '| Â Â Â "DD")) |'
  id: totrans-1250
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â "DD")) |'
- en: 'The data example corresponds to the regular expression a (b|c)* d. As mentioned
    in [exerciseÂ 109](part_one.html#%28counter._%28exercise._ex~3afsm%29%29), "acbd",
    "ad", and "abcd" are examples of acceptable strings; "da", "aa", or "d" do not
    match.In this context, you are designing the following function:'
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®ç¤ºä¾‹å¯¹åº”äºæ­£åˆ™è¡¨è¾¾å¼a (b|c)* dã€‚å¦‚[ç»ƒä¹ 109](part_one.html#%28counter._%28exercise._ex~3afsm%29%29)ä¸­æ‰€è¿°ï¼Œ"acbd"ã€"ad"å’Œ"abcd"æ˜¯å¯æ¥å—çš„å­—ç¬¦ä¸²ç¤ºä¾‹ï¼›"da"ã€"aa"æˆ–"d"ä¸åŒ¹é…ã€‚åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­ï¼Œä½ æ­£åœ¨è®¾è®¡ä»¥ä¸‹å‡½æ•°ï¼š
- en: '| ;Â [FSM](#%28tech._fsm._fsm%29)  [String](part_one.html#%28tech._string%29)
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1252
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [çŠ¶æ€æœº](#%28tech._fsm._fsm%29)  [å­—ç¬¦ä¸²](part_one.html#%28tech._string%29) ->
    [å¸ƒå°”å€¼](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â does an-fsm recognize the given string |'
  id: totrans-1253
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æœ‰é™çŠ¶æ€æœºæ˜¯å¦è¯†åˆ«ç»™å®šçš„å­—ç¬¦ä¸² |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fsm-match?Â an-fsmÂ a-string)
    |'
  id: totrans-1254
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (fsm-match?Â an-fsmÂ a-string)
    |'
- en: '| Â Â #false) |'
  id: totrans-1255
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â #false) |'
- en: 'Hint Design the necessary auxiliary function locally to the fsm-match? function.
    In this context, represent the problem as a pair of parameters: the current state
    of the finite state machine and the remaining list of [1String](part_one.html#%28tech._1string%29)s.'
  id: totrans-1256
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šåœ¨è®¾è®¡å¿…è¦çš„è¾…åŠ©å‡½æ•°æ—¶ï¼Œå°†å…¶å±€éƒ¨åŒ–åˆ°fsm-match?å‡½æ•°ã€‚åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­ï¼Œå°†é—®é¢˜è¡¨ç¤ºä¸ºä¸¤ä¸ªå‚æ•°çš„é…å¯¹ï¼šæœ‰é™çŠ¶æ€æœºçš„å½“å‰çŠ¶æ€å’Œå‰©ä½™çš„[1å­—ç¬¦ä¸²](part_one.html#%28tech._1string%29)åˆ—è¡¨ã€‚
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X] -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)
    [[List-of](part_three.html#%28tech._sim-dd._list._of%29) X]] |'
  id: totrans-1257
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29) X] -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)
    [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29) X]] |'
- en: '| ;Â creates a list of all rearrangements of the items in w |'
  id: totrans-1258
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ›å»ºwä¸­æ‰€æœ‰é¡¹çš„æ’åˆ—åˆ—è¡¨ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (arrangementsÂ w)
    |'
  id: totrans-1259
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (æ’åˆ—Â w)
    |'
- en: '| Â Â ([cond](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
  id: totrans-1260
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cond%29%29)
    |'
- en: '| Â Â Â Â [([empty?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â w)Â ''(())]
    |'
  id: totrans-1261
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â ([ç©º?](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._empty~3f%29%29)Â w)Â ''(())]
    |'
- en: '| Â Â Â Â [[else](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
  id: totrans-1262
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â [[å¦åˆ™](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._else%29%29)
    |'
- en: '| Â Â Â Â Â Â ([foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (itemÂ others)
    |'
  id: totrans-1263
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â ([æŠ˜å å³](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (itemÂ others)
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([local](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â without-item
    |'
  id: totrans-1264
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([å±€éƒ¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._local%29%29)Â (([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â without-item
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (arrangementsÂ ([remove](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remove%29%29)Â itemÂ w)))
    |'
  id: totrans-1265
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (arrangementsÂ ([ç§»é™¤](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._remove%29%29)Â itemÂ w)))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â add-item-to-front
    |'
  id: totrans-1266
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â add-item-to-front
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (a)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â itemÂ a))
    |'
  id: totrans-1267
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([æ˜ å°„](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)Â ([lambda](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._lambda%29%29)Â (a)Â ([cons](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._cons%29%29)Â itemÂ a))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â without-item))) |'
  id: totrans-1268
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â without-item))) |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([append](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â add-item-to-frontÂ others)))
    |'
  id: totrans-1269
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ([é™„åŠ ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._append%29%29)Â add-item-to-frontÂ others)))
    |'
- en: '| Â Â Â Â Â Â Â Â ''() |'
  id: totrans-1270
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â ''() |'
- en: '| Â Â Â Â Â Â Â Â w)])) |'
  id: totrans-1271
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â w)])) |'
- en: '| Â  |'
  id: totrans-1272
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29) [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [1String](part_one.html#%28tech._1string%29)]]
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1273
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29) [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [1å­—ç¬¦ä¸²](part_one.html#%28tech._1string%29)]]
    -> [å¸ƒå°”](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â are the words "rat", "art", and "tar" members of the given list? |'
  id: totrans-1274
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â å•è¯ "rat", "art", å’Œ "tar" æ˜¯å¦æ˜¯ç»™å®šåˆ—è¡¨çš„æˆå‘˜ï¼Ÿ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (all-words-from-rat?Â w)
    |'
  id: totrans-1275
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (all-words-from-rat?Â w)
    |'
- en: '| Â Â ([and](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([member](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member%29%29)Â ([explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â "rat")Â w)
    |'
  id: totrans-1276
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([å’Œ](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._and%29%29)Â ([æˆå‘˜](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member%29%29)Â ([çˆ†ç‚¸](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â "rat")Â w)
    |'
- en: '| Â Â Â Â Â Â Â ([member](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member%29%29)Â ([explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â "art")Â w)
    |'
  id: totrans-1277
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([æˆå‘˜](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member%29%29)Â ([çˆ†ç‚¸](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â "art")Â w)
    |'
- en: '| Â Â Â Â Â Â Â ([member](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member%29%29)Â ([explode](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â "tar")Â w)))
    |'
  id: totrans-1278
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â ([æˆå‘˜](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._member%29%29)Â ([çˆ†ç‚¸](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._explode%29%29)Â "tar")Â w)))
    |'
- en: '| Â  |'
  id: totrans-1279
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (arrangementsÂ ''("r"Â "a"Â "t"))
    |'
  id: totrans-1280
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([æ£€æŸ¥æ»¡è¶³æ¡ä»¶](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)Â (arrangementsÂ ''("r"Â "a"Â "t"))
    |'
- en: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â all-words-from-rat?) |'
  id: totrans-1281
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â all-words-from-rat?) |'
- en: ''
  id: totrans-1282
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 171: A definition of arrangements using generative recursion'
  id: totrans-1283
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 171ï¼šä½¿ç”¨ç”Ÿæˆé€’å½’å®šä¹‰æ’åˆ—
- en: ExerciseÂ 477\. Inspect the function definition of arrangements in [figureÂ 171](#%28counter._fsm._%28figure._fig~3apermutation-gen%29%29).
    The figure displays a generative-recursive solution of the extended design problem
    covered by [Word Games, the Heart of the Problem](part_two.html#%28part._sec~3apermute%29),
    namelyWe thank Mark Engelberg for suggesting this exercise.
  id: totrans-1284
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ Â 477ã€‚æ£€æŸ¥[å›¾Â 171](#%28counter._fsm._%28figure._fig~3apermutation-gen%29%29)ä¸­æ’åˆ—å‡½æ•°çš„å®šä¹‰ã€‚è¯¥å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªæ‰©å±•è®¾è®¡é—®é¢˜çš„ç”Ÿæˆé€’å½’è§£å†³æ–¹æ¡ˆï¼Œå³[å•è¯æ¸¸æˆï¼Œé—®é¢˜çš„æ ¸å¿ƒ](part_two.html#%28part._sec~3apermute%29)ï¼Œæˆ‘ä»¬æ„Ÿè°¢Mark
    Engelbergæå‡ºè¿™ä¸ªç»ƒä¹ ã€‚
- en: given a word, create all possible rearrangements of the letters.
  id: totrans-1285
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç»™å®šä¸€ä¸ªå•è¯ï¼Œåˆ›å»ºæ‰€æœ‰å¯èƒ½çš„å­—æ¯æ’åˆ—ã€‚
- en: The extended exercise is a direct guide to the structurally recursive design
    of the main function and two auxiliaries, where the design of the latter requires
    the creation of two more helper functions. In contrast, [figureÂ 171](#%28counter._fsm._%28figure._fig~3apermutation-gen%29%29)
    uses the power of generative recursionâ€”<wbr>plus [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    and [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)â€”<wbr>to
    define the same program as a single function definition.
  id: totrans-1286
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰©å±•ç»ƒä¹ æ˜¯ç›´æ¥æŒ‡å¯¼ä¸»å‡½æ•°å’Œä¸¤ä¸ªè¾…åŠ©å‡½æ•°çš„ç»“æ„åŒ–é€’å½’è®¾è®¡ï¼Œå…¶ä¸­åè€…çš„è®¾è®¡éœ€è¦åˆ›å»ºä¸¤ä¸ªé¢å¤–çš„è¾…åŠ©å‡½æ•°ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ[å›¾Â 171](#%28counter._fsm._%28figure._fig~3apermutation-gen%29%29)
    ä½¿ç”¨ç”Ÿæˆé€’å½’çš„åŠ›é‡â€”â€”åŠ ä¸Š [foldr](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldr%29%29)
    å’Œ [map](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29)â€”â€”å°†ç›¸åŒçš„ç¨‹åºå®šä¹‰ä¸ºä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½å®šä¹‰ã€‚
- en: Explain the design of the generative-recursive version of arrangements. Answer
    all questions that the design recipe for generative recursion poses, including
    the question of termination.
  id: totrans-1287
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šæ’åˆ—çš„ç”Ÿæˆé€’å½’ç‰ˆæœ¬çš„è®¾è®¡ã€‚å›ç­”ç”Ÿæˆé€’å½’è®¾è®¡é…æ–¹æå‡ºçš„æ‰€æœ‰é—®é¢˜ï¼ŒåŒ…æ‹¬ç»ˆæ­¢é—®é¢˜ã€‚
- en: Does arrangements in [figureÂ 171](#%28counter._fsm._%28figure._fig~3apermutation-gen%29%29)
    create the same lists as the solution of [Word Games, the Heart of the Problem](part_two.html#%28part._sec~3apermute%29)?
  id: totrans-1288
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾Â 171](#%28counter._fsm._%28figure._fig~3apermutation-gen%29%29)ä¸­çš„æ’åˆ—æ˜¯å¦åˆ›å»ºä¸[å•è¯æ¸¸æˆï¼Œé—®é¢˜çš„æ ¸å¿ƒ](part_two.html#%28part._sec~3apermute%29)çš„è§£å†³æ–¹æ¡ˆç›¸åŒçš„åˆ—è¡¨ï¼Ÿ'
- en: '![image](../Images/7fc3ecbf300591a72d49fc1880acaa6a.png)'
  id: totrans-1289
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/7fc3ecbf300591a72d49fc1880acaa6a.png)'
- en: ''
  id: totrans-1290
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 172: A chess board with a single queen and the positions it threatens'
  id: totrans-1291
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾Â 172ï¼šä¸€ä¸ªåªæœ‰ä¸€ä¸ªçš‡åçš„æ£‹ç›˜åŠå…¶å¨èƒçš„ä½ç½®
- en: '29.2Project: Backtracking[ğŸ”—](#(part._sec~3aproj-backtrack) "Link to here")'
  id: totrans-1292
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 29.2é¡¹ç›®ï¼šå›æº¯[ğŸ”—](#(part._sec~3aproj-backtrack) "é“¾æ¥åˆ°æ­¤å¤„")
- en: The n queens puzzle is a famous problem from the world of chess that also illustrates
    the applicability of backtracking in a natural way. For our purposes, a chess
    board is a grid of n by n squares. The queen is a game piece that can move in
    a horizontal, vertical,We thank Mark Engelberg for his reformulation of this section.
    or diagonal direction arbitrarily far without â€œjumpingâ€ over another piece. We
    say that a queen threatens a square if it is on the square or can move to it.
    [FigureÂ 172](#%28counter._fsm._%28figure._fig~3aqueens%29%29) illustrates the
    notion in a graphical manner. The queen is in the second column and sixth row.
    The solid lines radiating out from the queen go through all those squares that
    are threatened by the queen.
  id: totrans-1293
  prefs: []
  type: TYPE_NORMAL
  zh: nçš‡åé—®é¢˜æ˜¯æ¥è‡ªæ£‹ç±»ä¸–ç•Œçš„è‘—åé—®é¢˜ï¼Œå®ƒä¹Ÿä»¥è‡ªç„¶çš„æ–¹å¼è¯´æ˜äº†å›æº¯çš„åº”ç”¨ã€‚å°±æˆ‘ä»¬çš„ç›®çš„è€Œè¨€ï¼Œæ£‹ç›˜æ˜¯ä¸€ä¸ªnä¹˜nçš„æ–¹æ ¼ã€‚çš‡åæ˜¯ä¸€ç§æ£‹å­ï¼Œå¯ä»¥åœ¨æ°´å¹³ã€å‚ç›´ã€æˆ–è€…å¯¹è§’æ–¹å‘ä»»æ„è¿œåœ°ç§»åŠ¨ï¼Œè€Œä¸â€œè·³è¿‡â€å¦ä¸€ä¸ªæ£‹å­ã€‚æˆ‘ä»¬è¯´å¦‚æœä¸€ä¸ªçš‡ååœ¨æ–¹æ ¼ä¸Šæˆ–è€…å¯ä»¥ç§»åŠ¨åˆ°è¯¥æ–¹æ ¼ï¼Œé‚£ä¹ˆå®ƒå¨èƒè¯¥æ–¹æ ¼ã€‚[å›¾Â 172](#%28counter._fsm._%28figure._fig~3aqueens%29%29)ä»¥å›¾å½¢æ–¹å¼è¯´æ˜äº†è¿™ä¸ªæ¦‚å¿µã€‚çš‡åä½äºç¬¬äºŒåˆ—å’Œç¬¬å…­è¡Œã€‚ä»çš‡åè¾å°„å‡ºçš„å®çº¿ç©¿è¿‡æ‰€æœ‰è¢«çš‡åå¨èƒçš„æ–¹æ ¼ã€‚
- en: The classical queens problem is to place 8 queens on an 8 by 8 chess board such
    that the queens on the board donâ€™t threaten each other. Computer scientists generalize
    the problem and ask whether it is possible to place n queens on a n by n, chess
    board such that the queens donâ€™t pose a threat to each other.
  id: totrans-1294
  prefs: []
  type: TYPE_NORMAL
  zh: ç»å…¸çš„çš‡åé—®é¢˜æ˜¯åœ¨ 8x8 å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šæ”¾ç½® 8 ä¸ªçš‡åï¼Œä½¿å¾—æ£‹ç›˜ä¸Šçš„çš‡åä¸ä¼šç›¸äº’å¨èƒã€‚è®¡ç®—æœºç§‘å­¦å®¶å°†è¿™ä¸ªé—®é¢˜æ¨å¹¿ï¼Œå¹¶è¯¢é—®æ˜¯å¦æœ‰å¯èƒ½åœ¨ä¸€ä¸ª n x n
    çš„æ£‹ç›˜ä¸Šæ”¾ç½® n ä¸ªçš‡åï¼Œä½¿å¾—çš‡åä¹‹é—´ä¸ä¼šæ„æˆå¨èƒã€‚
- en: For n = 2, the complete puzzle obviously has no solution. A queen placed on
    any of the four squares threatens all remaining squares.
  id: totrans-1295
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ n = 2 æ—¶ï¼Œå®Œæ•´çš„è°œé¢˜æ˜¾ç„¶æ²¡æœ‰è§£å†³æ–¹æ¡ˆã€‚æ”¾ç½®åœ¨ä»»ä½•å››ä¸ªæ–¹æ ¼ä¸­çš„å¥³ç‹éƒ½ä¼šå¨èƒåˆ°æ‰€æœ‰å‰©ä½™çš„æ–¹æ ¼ã€‚
- en: '![image](../Images/d1974c8ddcef351f3ed95e558af9674e.png) Â Â Â Â Â Â Â Â Â Â  ![image](../Images/ab4bfb3cd48212cc8b8cbb3fa5f7694a.png)
    Â Â Â Â Â Â Â Â Â Â  ![image](../Images/e22cfd1d5ab3b25da26932317be9d403.png)'
  id: totrans-1296
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/d1974c8ddcef351f3ed95e558af9674e.png) ![image](../Images/ab4bfb3cd48212cc8b8cbb3fa5f7694a.png)
    ![image](../Images/e22cfd1d5ab3b25da26932317be9d403.png)'
- en: ''
  id: totrans-1297
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 173: Three queen configurations for a 3 by 3 chess board'
  id: totrans-1298
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 173ï¼š3x3 æ£‹ç›˜ä¸Šçš„ä¸‰ä¸ªçš‡åé…ç½®
- en: There is also no solution for n = 3. [FigureÂ 173](#%28counter._%28figure._fig~3aqueens-non-solutions%29%29)
    presents all different placements of two queens, that is, solutions for k = 3
    and n = 2. In each case, the left queen occupies a square in the left column while
    a second queen is placed in one of two squares that the first one does not threaten.
    The placement of a second queen threatens all remaining, unoccupied squares, meaning
    it is impossible to place a third queen.
  id: totrans-1299
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ n = 3 æ—¶ï¼Œä¹Ÿæ²¡æœ‰è§£å†³æ–¹æ¡ˆã€‚[å›¾ 173](#%28counter._%28figure._fig~3aqueens-non-solutions%29%29)
    å±•ç¤ºäº†ä¸¤ä¸ªçš‡åçš„æ‰€æœ‰ä¸åŒæ”¾ç½®æ–¹å¼ï¼Œå³ k = 3 å’Œ n = 2 çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œå·¦è¾¹çš„çš‡åå æ®å·¦åˆ—ä¸­çš„ä¸€ä¸ªæ–¹æ ¼ï¼Œè€Œç¬¬äºŒä¸ªçš‡åè¢«æ”¾ç½®åœ¨ç¬¬ä¸€ä¸ªçš‡åä¸å¨èƒçš„ä¸¤ä¸ªæ–¹æ ¼ä¹‹ä¸€ã€‚ç¬¬äºŒä¸ªçš‡åçš„æ”¾ç½®ä¼šå¨èƒåˆ°æ‰€æœ‰å‰©ä½™çš„ã€æœªè¢«å æ®çš„æ–¹æ ¼ï¼Œè¿™æ„å‘³ç€ä¸å¯èƒ½æ”¾ç½®ç¬¬ä¸‰ä¸ªçš‡åã€‚
- en: ExerciseÂ 478\. You can also place the first queen in all squares of the top-most
    row, the right-most column, and the bottom-most row. Explain why all of these
    solutions are just like the three scenarios depicted in [figureÂ 173](#%28counter._%28figure._fig~3aqueens-non-solutions%29%29).
  id: totrans-1300
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹  478ã€‚ä½ è¿˜å¯ä»¥å°†ç¬¬ä¸€ä½å¥³ç‹æ”¾ç½®åœ¨é¡¶éƒ¨è¡Œçš„æ‰€æœ‰æ–¹æ ¼ã€æœ€å³ä¾§åˆ—å’Œåº•éƒ¨è¡Œçš„æ‰€æœ‰æ–¹æ ¼ä¸­ã€‚è§£é‡Šä¸ºä»€ä¹ˆæ‰€æœ‰è¿™äº›è§£å†³æ–¹æ¡ˆéƒ½ä¸å›¾ 173 ä¸­æè¿°çš„ä¸‰ç§æƒ…å†µç±»ä¼¼ã€‚[å›¾
    173](#%28counter._%28figure._fig~3aqueens-non-solutions%29%29)ã€‚
- en: This leaves the central square. Is it possible to place even a second queen
    after you place one on the central square of a 3 by 3 board?
  id: totrans-1301
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±ç•™ä¸‹äº†ä¸­å¤®æ–¹æ ¼ã€‚åœ¨ 3x3 æ£‹ç›˜çš„ä¸­å¤®æ–¹æ ¼æ”¾ç½®ä¸€ä¸ªçš‡ååï¼Œæ˜¯å¦è¿˜èƒ½æ”¾ç½®ç¬¬äºŒä¸ªçš‡åï¼Ÿ
- en: '| ![image](../Images/cd4c8385afa238d2a0efc46ef03c3585.png) |  | ![image](../Images/6fe558b1a4d1727a2ddfd51f67b9f545.png)
    |'
  id: totrans-1302
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ![image](../Images/cd4c8385afa238d2a0efc46ef03c3585.png) | ![image](../Images/6fe558b1a4d1727a2ddfd51f67b9f545.png)
    |'
- en: ''
  id: totrans-1303
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 174: Solutions for the n queens puzzle for 4 by 4 and 5 by 5 boards'
  id: totrans-1304
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾ 174ï¼š4x4 å’Œ 5x5 æ£‹ç›˜ä¸Š n çš‡åè°œé¢˜çš„è§£å†³æ–¹æ¡ˆ
- en: '[FigureÂ 174](#%28counter._%28figure._fig~3aqueens-solutions%29%29) displays
    two solutions for the n queens puzzle: the left one is for n = 4, the right one
    for n  = 5. The figure shows how in each case a solution has one queen in each
    row and column, which makes sense because a queen threatens the entire row and
    column that radiate out from its square.'
  id: totrans-1305
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾ 174](#%28counter._%28figure._fig~3aqueens-solutions%29%29) æ˜¾ç¤ºäº† n çš‡åè°œé¢˜çš„ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼šå·¦è¾¹çš„æ˜¯
    n = 4ï¼Œå³è¾¹çš„æ˜¯ n = 5ã€‚è¯¥å›¾æ˜¾ç¤ºäº†åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œè§£å†³æ–¹æ¡ˆéƒ½æœ‰ä¸€ä¸ªçš‡ååœ¨æ¯ä¸ªè¡Œå’Œåˆ—ä¸­ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸ºçš‡åå¨èƒä»å…¶æ–¹æ ¼è¾å°„å‡ºçš„æ•´ä¸ªè¡Œå’Œåˆ—ã€‚'
- en: 'Now that we have conducted a sufficiently detailed analysis, we can proceed
    to the solution phase. The analysis suggests several ideas:'
  id: totrans-1306
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å·²ç»è¿›è¡Œäº†è¶³å¤Ÿè¯¦ç»†çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥è¿›å…¥è§£å†³æ–¹æ¡ˆé˜¶æ®µã€‚åˆ†ææå‡ºäº†å‡ ä¸ªæƒ³æ³•ï¼š
- en: The problem is about placing one queen at a time. When we place a queen on a
    board, we can mark the corresponding rows, columns, and diagonals as unusable
    for other queens.
  id: totrans-1307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è¯¥é—®é¢˜å…³äºä¸€æ¬¡æ”¾ç½®ä¸€ä¸ªçš‡åã€‚å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªæ£‹ç›˜ä¸Šæ”¾ç½®ä¸€ä¸ªçš‡åæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ ‡è®°ç›¸åº”çš„è¡Œã€åˆ—å’Œå¯¹è§’çº¿ï¼Œè¡¨ç¤ºå…¶ä»–çš‡åä¸èƒ½ä½¿ç”¨ã€‚
- en: For another queen, we consider only nonthreatened spots.
  id: totrans-1308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¯¹äºå¦ä¸€ä½å¥³ç‹ï¼Œæˆ‘ä»¬åªè€ƒè™‘éå¨èƒç‚¹ã€‚
- en: Just in case this first choice of a spot leads to problems later, we remember
    what other squares are feasible for placing this queen.
  id: totrans-1309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°±æ€•è¿™ä¸ªä½ç½®çš„ç¬¬ä¸€é€‰æ‹©ä¼šå¯¼è‡´åç»­å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šè®°ä½å“ªäº›å…¶ä»–æ–¹æ ¼é€‚åˆæ”¾ç½®è¿™ä¸ªçš‡åã€‚
- en: If we are supposed to place a queen on a board but no safe squares are left,
    we backtrack to a previous point in the process where we chose one square over
    another and try one of the remaining squares.
  id: totrans-1310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬è¢«è¦æ±‚åœ¨ä¸€ä¸ªæ£‹ç›˜ä¸Šæ”¾ç½®ä¸€ä¸ªçš‡åï¼Œä½†æ²¡æœ‰å®‰å…¨çš„æ–¹æ ¼å‰©ä¸‹ï¼Œæˆ‘ä»¬å°±å›æº¯åˆ°è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªè¾ƒæ—©çš„ç‚¹ï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªæ–¹æ ¼è€Œä¸æ˜¯å¦ä¸€ä¸ªï¼Œå¹¶å°è¯•å‰©ä¸‹çš„ä¸€ä¸ªæ–¹æ ¼ã€‚
- en: 'In short, this solution process is like the â€œfind a pathâ€ algorithm.Moving
    from the process description to a designed algorithm clearly calls for two data
    representations: one for the chess boards and one for positions on the board.
    Letâ€™s start with the latter:'
  id: totrans-1311
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œè¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„è¿‡ç¨‹å°±åƒâ€œæ‰¾åˆ°è·¯å¾„â€ç®—æ³•ã€‚ä»è¿‡ç¨‹æè¿°åˆ°è®¾è®¡ç®—æ³•ï¼Œæ˜¾ç„¶éœ€è¦ä¸¤ç§æ•°æ®è¡¨ç¤ºï¼šä¸€ä¸ªæ˜¯æ£‹ç›˜ï¼Œå¦ä¸€ä¸ªæ˜¯æ£‹ç›˜ä¸Šçš„ä½ç½®ã€‚è®©æˆ‘ä»¬ä»åè€…å¼€å§‹ï¼š
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â QUEENSÂ 8)
    |'
  id: totrans-1312
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â çš‡åçš„æ•°é‡Â 8)
    |'
- en: '| ;Â A QP is a structure: |'
  id: totrans-1313
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªQPæ˜¯ä¸€ä¸ªç»“æ„ï¼š|'
- en: '| ;Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  [CI](#%28tech._ci%29)  [CI](#%28tech._ci%29))
    |'
  id: totrans-1314
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  [CI](#%28tech._ci%29)  [CI](#%28tech._ci%29))
    |'
- en: '| ;Â A CI is an [N](part_two.html#%28tech._n%29) in [0,QUEENS). |'
  id: totrans-1315
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ä¸€ä¸ªCIæ˜¯[0,çš‡åçš„æ•°é‡)åŒºé—´å†…çš„ä¸€ä¸ªNã€‚|'
- en: '| ;Â interpretation  ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  r  c)
    denotes the square at |'
  id: totrans-1316
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â è§£é‡Š  ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)  r  c)
    è¡¨ç¤º |'
- en: '| ;Â the r-th row and c-th column |'
  id: totrans-1317
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç¬¬rè¡Œå’Œç¬¬cåˆ— |'
- en: After all, the chess board basically dictates the choice.
  id: totrans-1318
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»çš„æ¥è¯´ï¼Œæ£‹ç›˜åŸºæœ¬ä¸Šå†³å®šäº†é€‰æ‹©ã€‚
- en: The definition for [CI](#%28tech._ci%29) could use [1,QUEENS] instead of [0,
    QUEENS), but the two definitions are basically equivalent and counting up from
    0 is what programmers do. Similarly, the so-called algebraic notation for chess
    positions uses the letters 'a through 'h for one of the boardâ€™s dimensions, meaning
    [QP](#%28tech._qp%29) could have used [CI](#%28tech._ci%29)s and such letters.
    Again, the two are roughly equivalent and with natural numbers it is easier in
    ISL+ to create many positions than with letters.
  id: totrans-1319
  prefs: []
  type: TYPE_NORMAL
  zh: '[CI](#%28tech._ci%29)çš„å®šä¹‰å¯ä»¥ä½¿ç”¨[1,çš‡åçš„æ•°é‡]è€Œä¸æ˜¯[0,çš‡åçš„æ•°é‡)ï¼Œä½†è¿™ä¸¤ä¸ªå®šä¹‰åŸºæœ¬ä¸Šæ˜¯ç­‰ä»·çš„ï¼Œä»0å¼€å§‹è®¡æ•°æ˜¯ç¨‹åºå‘˜çš„åšæ³•ã€‚åŒæ ·ï¼Œæ‰€è°“çš„æ£‹ç›˜ä½ç½®çš„ä»£æ•°è¡¨ç¤ºæ³•ä½¿ç”¨å­—æ¯''a''åˆ°''h''è¡¨ç¤ºæ£‹ç›˜çš„ä¸€ä¸ªç»´åº¦ï¼Œè¿™æ„å‘³ç€[QP](#%28tech._qp%29)å¯ä»¥ä½¿ç”¨[CI](#%28tech._ci%29)så’Œè¿™æ ·çš„å­—æ¯ã€‚å†æ¬¡ï¼Œè¿™ä¸¤ä¸ªåŸºæœ¬ä¸Šæ˜¯ç­‰ä»·çš„ï¼Œå¹¶ä¸”ä½¿ç”¨è‡ªç„¶æ•°åœ¨ISL+ä¸­åˆ›å»ºè®¸å¤šä½ç½®æ¯”ä½¿ç”¨å­—æ¯æ›´å®¹æ˜“ã€‚'
- en: ExerciseÂ 479\. Design the threatening? function. It consumes two [QP](#%28tech._qp%29)s
    and determines whether queens placed on the two respective squares would threaten
    each other.
  id: totrans-1320
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 479ã€‚è®¾è®¡å¨èƒå‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ª[QP](#%28tech._qp%29)sï¼Œå¹¶ç¡®å®šæ”¾ç½®åœ¨è¿™ä¸¤ä¸ªç›¸åº”æ–¹æ ¼ä¸Šçš„çš‡åæ˜¯å¦ä¼šç›¸äº’å¨èƒã€‚
- en: Domain Knowledge (1) Study [figureÂ 172](#%28counter._fsm._%28figure._fig~3aqueens%29%29).
    The queen in this figure threatens all squares on the horizontal, the vertical,
    and the diagonal lines. Conversely, a queen on any square on these lines threatens
    the queen.
  id: totrans-1321
  prefs: []
  type: TYPE_NORMAL
  zh: é¢†åŸŸçŸ¥è¯†ï¼ˆ1ï¼‰ç ”ç©¶[å›¾172](#%28counter._fsm._%28figure._fig~3aqueens%29%29)ã€‚åœ¨è¿™ä¸ªå›¾ä¸­çš„çš‡åå¨èƒç€æ°´å¹³çº¿ã€å‚ç›´çº¿å’Œæ–œçº¿ä¸Šçš„æ‰€æœ‰æ–¹æ ¼ã€‚ç›¸åï¼Œä»»ä½•è¿™äº›çº¿ä¸Šçš„æ–¹æ ¼ä¸Šçš„çš‡åéƒ½ä¼šå¨èƒåˆ°çš‡åã€‚
- en: (2) Translate your insights into mathematical conditions that relate the squaresâ€™
    coordinates to each other. For example, all squares on a horizontal have the same
    y-coordinate. Similarly, all squares on one diagonal have coordinates whose sums
    are the same. Which diagonal is that? For the other diagonal, the differences
    between the two coordinates remain the same. Which diagonal does this idea describe?
  id: totrans-1322
  prefs: []
  type: TYPE_NORMAL
  zh: (2) å°†ä½ çš„è§è§£è½¬åŒ–ä¸ºæ•°å­¦æ¡ä»¶ï¼Œè¿™äº›æ¡ä»¶å°†æ–¹æ ¼çš„åæ ‡ç›¸äº’å…³è”ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰æ°´å¹³çº¿ä¸Šçš„æ–¹æ ¼å…·æœ‰ç›¸åŒçš„yåæ ‡ã€‚åŒæ ·ï¼Œä¸€æ¡å¯¹è§’çº¿ä¸Šçš„æ‰€æœ‰æ–¹æ ¼çš„åæ ‡ä¹‹å’Œæ˜¯ç›¸åŒçš„ã€‚å“ªæ¡æ˜¯å¯¹è§’çº¿ï¼Ÿå¯¹äºå¦ä¸€æ¡å¯¹è§’çº¿ï¼Œä¸¤ä¸ªåæ ‡ä¹‹é—´çš„å·®æ˜¯ç›¸åŒçš„ã€‚è¿™ä¸ªæƒ³æ³•æè¿°çš„æ˜¯å“ªæ¡å¯¹è§’çº¿ï¼Ÿ
- en: 'Hint Once you have figured out the domain knowledge, formulate a test suite
    that covers horizontals, verticals, and diagonals. Donâ€™t forget to include arguments
    for which threatening? must produce #false.'
  id: totrans-1323
  prefs: []
  type: TYPE_NORMAL
  zh: æç¤ºï¼šä¸€æ—¦ä½ å¼„æ¸…æ¥šäº†é¢†åŸŸçŸ¥è¯†ï¼Œå°±åˆ¶å®šä¸€ä¸ªæµ‹è¯•å¥—ä»¶ï¼Œæ¶µç›–æ°´å¹³çº¿ã€å‚ç›´çº¿å’Œæ–œçº¿ã€‚åˆ«å¿˜äº†åŒ…æ‹¬é‚£äº›å¨èƒå‡½æ•°å¿…é¡»äº§ç”Ÿ#falseçš„å‚æ•°ã€‚
- en: ExerciseÂ 480\. Design render-queens. The function consumes a natural number
    n, a list of [QP](#%28tech._qp%29)s, and an [Image](part_one.html#%28tech._image%29).
    It produces an image of an n by n chess board with the given image placed according
    to the given [QP](#%28tech._qp%29)s.
  id: totrans-1324
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 480ã€‚è®¾è®¡æ¸²æŸ“çš‡åçš„å‡½æ•°ã€‚è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªè‡ªç„¶æ•°nï¼Œä¸€ä¸ªQPåˆ—è¡¨ï¼Œä»¥åŠä¸€ä¸ª[Image](part_one.html#%28tech._image%29)ã€‚å®ƒç”Ÿæˆä¸€ä¸ªnä¹˜nçš„æ£‹ç›˜å›¾åƒï¼Œå¹¶æ ¹æ®ç»™å®šçš„[QP](#%28tech._qp%29)sæ”¾ç½®å›¾åƒã€‚
- en: You may wish to look for an image for a chess queen on-line or create a simplistic
    one with the available image functions.
  id: totrans-1325
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½å¸Œæœ›åœ¨ç½‘ä¸Šå¯»æ‰¾ä¸€å¼ å›½é™…è±¡æ£‹çš‡åçš„å›¾ç‰‡ï¼Œæˆ–è€…ä½¿ç”¨å¯ç”¨çš„å›¾åƒå‡½æ•°åˆ›å»ºä¸€ä¸ªç®€åŒ–çš„å›¾ç‰‡ã€‚
- en: 'As for a data representation for Boards, we postpone this step until we know
    how the algorithm implements the process. Doing so is another exercise in data
    abstraction. Indeed, a data definition for [Board](#%28tech._board%29) isnâ€™t even
    necessary to state the signature for the algorithm proper:'
  id: totrans-1326
  prefs: []
  type: TYPE_NORMAL
  zh: è‡³äºæ£‹ç›˜çš„æ•°æ®è¡¨ç¤ºï¼Œæˆ‘ä»¬æ¨è¿Ÿè¿™ä¸€æ­¥ï¼Œç›´åˆ°æˆ‘ä»¬çŸ¥é“ç®—æ³•å¦‚ä½•å®ç°è¿™ä¸ªè¿‡ç¨‹ã€‚è¿™æ ·åšæ˜¯æ•°æ®æŠ½è±¡çš„å¦ä¸€ä¸ªç»ƒä¹ ã€‚å®é™…ä¸Šï¼Œç”šè‡³ä¸éœ€è¦ä¸º [Board](#%28tech._board%29)
    å®šä¹‰æ•°æ®å®šä¹‰ï¼Œå°±å¯ä»¥å£°æ˜ç®—æ³•çš„ç­¾åï¼š
- en: '| ;Â [N](part_two.html#%28tech._n%29) -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)
    [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]]
    |'
  id: totrans-1327
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29) -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)
    [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]]
    |'
- en: '| ;Â finds a solution to the n queens problem |'
  id: totrans-1328
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ‰¾åˆ° n åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆ |'
- en: '| Â  |'
  id: totrans-1329
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â data example: [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    |'
  id: totrans-1330
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ•°æ®ç¤ºä¾‹ï¼š[[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 4QUEEN-SOLUTION-2
    |'
  id: totrans-1331
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 4QUEEN-SOLUTION-2
    |'
- en: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 2)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 1Â 0)
    |'
  id: totrans-1332
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 2)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 1Â 0)
    |'
- en: '| Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 2Â 3)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 1)))
    |'
  id: totrans-1333
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â Â Â Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 2Â 3)Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 1)))
    |'
- en: '| Â  |'
  id: totrans-1334
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (n-queensÂ n)
    |'
  id: totrans-1335
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (n-queensÂ n)
    |'
- en: '| Â Â #false) |'
  id: totrans-1336
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â #false) |'
- en: The complete puzzle is about finding a placement for n queens on an n by n chess
    board. So clearly, the algorithm consumes nothing else but a natural number, and
    it produces a representation for the n queen placementsâ€”<wbr>if a solution exists.
    The latter can be represented with a list of [QP](#%28tech._qp%29)s, which is
    why we choose
  id: totrans-1337
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæ•´çš„è°œé¢˜æ˜¯å…³äºåœ¨ n x n å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šæ‰¾åˆ°ä¸€ä¸ª n åçš„ä½ç½®ã€‚å› æ­¤ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¯¥ç®—æ³•æ¶ˆè€—çš„åªæ˜¯è‡ªç„¶æ•°ï¼Œå¹¶ä¸”å®ƒä¸º n åçš„ä½ç½®ç”Ÿæˆä¸€ä¸ªè¡¨ç¤ºâ€”â€”å¦‚æœå­˜åœ¨è§£å†³æ–¹æ¡ˆçš„è¯ã€‚åè€…å¯ä»¥ç”¨
    [QP](#%28tech._qp%29) çš„åˆ—è¡¨æ¥è¡¨ç¤ºï¼Œè¿™å°±æ˜¯æˆ‘ä»¬é€‰æ‹©å®ƒçš„åŸå› ã€‚
- en: ';Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    or #false'
  id: totrans-1338
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ';Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    æˆ– #false'
- en: 'as the result. Naturally, #false represents the failure to find a solution.The
    next step is to develop examples and to formulate them as tests. We know that
    n-queens must fail when given 2 or 3. For 4, there are two solutions with real
    boards and four identical queens. [FigureÂ 174](#%28counter._%28figure._fig~3aqueens-solutions%29%29)
    shows one of them, on the left, and the other one is this:'
  id: totrans-1339
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºç»“æœã€‚è‡ªç„¶åœ°ï¼Œ#false è¡¨ç¤ºæ‰¾ä¸åˆ°è§£å†³æ–¹æ¡ˆã€‚ä¸‹ä¸€æ­¥æ˜¯å¼€å‘ç¤ºä¾‹å¹¶å°†å®ƒä»¬ä½œä¸ºæµ‹è¯•æ¥åˆ¶å®šã€‚æˆ‘ä»¬çŸ¥é“å½“ç»™å®š 2 æˆ– 3 æ—¶ï¼Œn-queens å¿…é¡»å¤±è´¥ã€‚å¯¹äº
    4ï¼Œæœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæœ‰çœŸå®çš„æ£‹ç›˜å’Œå››ä¸ªç›¸åŒçš„çš‡åã€‚[å›¾ 174](#%28counter._%28figure._fig~3aqueens-solutions%29%29)
    å±•ç¤ºäº†å…¶ä¸­ä¹‹ä¸€ï¼Œåœ¨å·¦è¾¹ï¼Œå¦ä¸€ä¸ªå¦‚ä¸‹ï¼š
- en: '![image](../Images/9f9b4eb3a186b0af933cff95a7c8ccbf.png)'
  id: totrans-1340
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![image](../Images/9f9b4eb3a186b0af933cff95a7c8ccbf.png)'
- en: In terms of data representations, however, there are many different ways to
    represent these two images. [FigureÂ 175](#%28counter._%28figure._fig~3asolutions-for-4%29%29)
    sketches some. Fill in the rest.
  id: totrans-1341
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®è¡¨ç¤ºæ–¹é¢ï¼Œç„¶è€Œï¼Œè¡¨ç¤ºè¿™ä¸¤ä¸ªå›¾åƒæœ‰è®¸å¤šä¸åŒçš„æ–¹å¼ã€‚[å›¾Â 175](#%28counter._%28figure._fig~3asolutions-for-4%29%29)
    ç•¥å›¾äº†ä¸€äº›ã€‚å¡«å†™å…¶ä½™éƒ¨åˆ†ã€‚
- en: '| ;Â [N](part_two.html#%28tech._n%29) -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)
    [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]]
    |'
  id: totrans-1342
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29) -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)
    [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]]
    |'
- en: '| ;Â finds a solution to the n queens problem |'
  id: totrans-1343
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æ‰¾åˆ°nçš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆ |'
- en: '| Â  |'
  id: totrans-1344
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 0-1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 1))
    |'
  id: totrans-1345
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 0-1Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 0Â 1))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 1-3Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 1Â 3))
    |'
  id: totrans-1346
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 1-3Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 1Â 3))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 2-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 2Â 0))
    |'
  id: totrans-1347
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 2-0Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 2Â 0))
    |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 3-2Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 2))
    |'
  id: totrans-1348
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â 3-2Â ([make-posn](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._make-posn%29%29)Â 3Â 2))
    |'
- en: '| Â  |'
  id: totrans-1349
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([check-member-of](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-member-of%29%29)
    |'
  id: totrans-1350
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([check-member-of](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-member-of%29%29)
    |'
- en: '| Â (n-queensÂ 4) |'
  id: totrans-1351
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â (n-queensÂ 4) |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 1-3Â 2-0Â 3-2)
    |'
  id: totrans-1352
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 1-3Â 2-0Â 3-2)
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 1-3Â 3-2Â 2-0)
    |'
  id: totrans-1353
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 1-3Â 3-2Â 2-0)
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 2-0Â 1-3Â 3-2)
    |'
  id: totrans-1354
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 2-0Â 1-3Â 3-2)
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 2-0Â 3-2Â 1-3)
    |'
  id: totrans-1355
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 2-0Â 3-2Â 1-3)
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 3-2Â 1-3Â 2-0)
    |'
  id: totrans-1356
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 3-2Â 1-3Â 2-0)
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 3-2Â 2-0Â 1-3)
    |'
  id: totrans-1357
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 0-1Â 3-2Â 2-0Â 1-3)
    |'
- en: '| Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
  id: totrans-1358
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29)
    |'
- en: '| Â ([list](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3-2Â 2-0Â 1-3Â 0-1))
    |'
  id: totrans-1359
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â ([åˆ—è¡¨](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._list%29%29)Â 3-2Â 2-0Â 1-3Â 0-1))
    |'
- en: '| Â  |'
  id: totrans-1360
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (n-queensÂ n)
    |'
  id: totrans-1361
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (n-queensÂ n)
    |'
- en: '| Â Â (place-queensÂ (board0Â n)Â n)) |'
  id: totrans-1362
  prefs:
  - PREF_BQ
  - PREF_BQ
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â (place-queensÂ (board0Â n)Â n)) |'
- en: ''
  id: totrans-1363
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'FigureÂ 175: Solutions for the 4 queens puzzle'
  id: totrans-1364
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å›¾175ï¼š4çš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆ
- en: ExerciseÂ 481\. The tests in [figureÂ 175](#%28counter._%28figure._fig~3asolutions-for-4%29%29)
    are awful. No real-world programmer ever spells out all these possible outcomes.
  id: totrans-1365
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ 481ã€‚å›¾175ä¸­çš„æµ‹è¯•å¾ˆç³Ÿç³•ã€‚æ²¡æœ‰ä»»ä½•ç°å®ä¸–ç•Œçš„ç¨‹åºå‘˜ä¼šæ˜ç¡®åˆ—å‡ºæ‰€æœ‰è¿™äº›å¯èƒ½çš„ç»“æœã€‚
- en: 'One solution is to use property testing again. Design the n-queens-solution?
    function, which consumes a natural number n and produces a predicate on queen
    placements that determines whether a given placement is a solution to an n queens
    puzzle:'
  id: totrans-1366
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯å†æ¬¡ä½¿ç”¨å±æ€§æµ‹è¯•ã€‚è®¾è®¡n-queens-solution?å‡½æ•°ï¼Œå®ƒæ¶ˆè€—ä¸€ä¸ªè‡ªç„¶æ•°nï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªå…³äºçš‡åæ”¾ç½®çš„è°“è¯ï¼Œè¯¥è°“è¯ç¡®å®šç»™å®šçš„æ”¾ç½®æ˜¯å¦æ˜¯nçš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š
- en: A solution for an n queens puzzle must have length n.
  id: totrans-1367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nçš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆå¿…é¡»å…·æœ‰é•¿åº¦nã€‚
- en: A [QP](#%28tech._qp%29) on such a list may not threaten any other, distinct
    [QP](#%28tech._qp%29).
  id: totrans-1368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨è¿™æ ·ä¸€ä¸ªåˆ—è¡¨ä¸Šçš„[QP](#%28tech._qp%29)å¯èƒ½ä¸ä¼šå¨èƒåˆ°ä»»ä½•å…¶ä»–ä¸åŒçš„[QP](#%28tech._qp%29)ã€‚
- en: Once you have tested this predicate, use it and [check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)
    to formulate the tests for n-queens.An alternative solution is to understand the
    lists of [QP](#%28tech._qp%29)s as sets. If two lists contain the same [QP](#%28tech._qp%29)s
    in different order, they are equivalent as the figure suggests. Hence you could
    formulate the test for n-queens as
  id: totrans-1369
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦æµ‹è¯•äº†è¿™ä¸ªè°“è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒå’Œ[check-satisfied](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-satisfied%29%29)æ¥åˆ¶å®šn-queensçš„æµ‹è¯•ã€‚å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯å°†[QP](#%28tech._qp%29)çš„åˆ—è¡¨ç†è§£ä¸ºé›†åˆã€‚å¦‚æœä¸¤ä¸ªåˆ—è¡¨åŒ…å«ç›¸åŒé¡ºåºä¸åŒçš„[QP](#%28tech._qp%29)sï¼Œå®ƒä»¬å°±åƒå›¾ä¸­æ‰€ç¤ºçš„é‚£æ ·ç­‰æ•ˆã€‚å› æ­¤ï¼Œä½ å¯ä»¥å°†n-queensçš„æµ‹è¯•åˆ¶å®šä¸º
- en: '| ;Â [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    -> [Boolean](part_one.html#%28tech._boolean%29) |'
  id: totrans-1370
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    -> [å¸ƒå°”](part_one.html#%28tech._boolean%29) |'
- en: '| ;Â is the result equal [as a set] to one of two lists |'
  id: totrans-1371
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â ç»“æœæ˜¯å¦ç­‰äºä¸¤ä¸ªåˆ—è¡¨ä¹‹ä¸€[ä½œä¸ºä¸€ä¸ªé›†åˆ] |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (is-queens-result?Â x)
    |'
  id: totrans-1372
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (is-queens-result?Â x)
    |'
- en: '| Â Â ([or](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â (set=?Â 4QUEEN-SOLUTION-1Â x)
    |'
  id: totrans-1373
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ([æˆ–](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._or%29%29)Â (set=?Â 4QUEEN-SOLUTION-1Â x)
    |'
- en: '| Â Â Â Â Â Â (set=?Â 4QUEEN-SOLUTION-2Â x))) |'
  id: totrans-1374
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â Â Â Â Â (set=?Â 4QUEEN-SOLUTION-2Â x))) |'
- en: 'Design the function set=?. It consumes two lists and determines whether they
    contain the same itemsâ€”<wbr>regardless of order.ExerciseÂ 482\. The key idea to
    is to design a function that places n queens on a chess board that may already
    contain some queens:'
  id: totrans-1375
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾è®¡set=?å‡½æ•°ã€‚å®ƒæ¶ˆè€—ä¸¤ä¸ªåˆ—è¡¨ï¼Œå¹¶ç¡®å®šå®ƒä»¬æ˜¯å¦åŒ…å«ç›¸åŒçš„é¡¹â€”â€”<wbr>æ— è®ºé¡ºåºå¦‚ä½•ã€‚ç»ƒä¹ 482ã€‚å…³é”®æ€æƒ³æ˜¯è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥åœ¨å¯èƒ½å·²ç»åŒ…å«ä¸€äº›çš‡åçš„æ£‹ç›˜ä¸Šæ”¾ç½®nä¸ªçš‡åï¼š
- en: '| ;Â [Board](#%28tech._board%29)  [N](part_two.html#%28tech._n%29) -> [[Maybe](part_three.html#%28tech._sim-dd._maybe%29)
    [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]]
    |'
  id: totrans-1376
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ£‹ç›˜](#%28tech._board%29)  [N](part_two.html#%28tech._n%29) -> [[å¯èƒ½](part_three.html#%28tech._sim-dd._maybe%29)
    [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]] |'
- en: '| ;Â places n queens on board; otherwise, returns #false |'
  id: totrans-1377
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨æ£‹ç›˜ä¸Šæ”¾ç½®nä¸ªçš‡åï¼›å¦åˆ™ï¼Œè¿”å›#false |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (place-queensÂ a-boardÂ n)
    |'
  id: totrans-1378
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (place-queensÂ a-boardÂ n)
    |'
- en: '| Â Â #false) |'
  id: totrans-1379
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â #false) |'
- en: '[FigureÂ 175](#%28counter._%28figure._fig~3asolutions-for-4%29%29) already refers
    to this function in the definition of n-queens.Design the place-queens algorithm.
    Assume you have the following functions to deal with [Board](#%28tech._board%29)s:'
  id: totrans-1380
  prefs: []
  type: TYPE_NORMAL
  zh: '[å›¾Â 175](#%28counter._%28figure._fig~3asolutions-for-4%29%29) å·²ç»åœ¨ n-queens çš„å®šä¹‰ä¸­å¼•ç”¨äº†è¿™ä¸ªå‡½æ•°ã€‚è®¾è®¡
    place-queens ç®—æ³•ã€‚å‡è®¾ä½ æœ‰ä»¥ä¸‹å‡½æ•°æ¥å¤„ç† [æ£‹ç›˜](#%28tech._board%29)sï¼š'
- en: '| ;Â [N](part_two.html#%28tech._n%29) -> [Board](#%28tech._board%29) |'
  id: totrans-1381
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [N](part_two.html#%28tech._n%29) -> [æ£‹ç›˜](#%28tech._board%29) |'
- en: '| ;Â creates the initial n by n board |'
  id: totrans-1382
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åˆ›å»ºåˆå§‹çš„ n x n æ£‹ç›˜ |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (board0Â n)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
  id: totrans-1383
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (board0Â n)Â [...](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._......%29%29))
    |'
- en: '| Â  |'
  id: totrans-1384
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Board](#%28tech._board%29)  [QP](#%28tech._qp%29) -> [Board](#%28tech._board%29)
    |'
  id: totrans-1385
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ£‹ç›˜](#%28tech._board%29)  [QP](#%28tech._qp%29) -> [æ£‹ç›˜](#%28tech._board%29)
    |'
- en: '| ;Â places a queen at qp on a-board |'
  id: totrans-1386
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â åœ¨ a-board ä¸Šå°†çš‡åæ”¾ç½®åœ¨ qp ä½ç½® |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-queenÂ a-boardÂ qp)
    |'
  id: totrans-1387
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (add-queenÂ a-boardÂ qp)
    |'
- en: '| Â Â a-board) |'
  id: totrans-1388
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â a-board) |'
- en: '| Â  |'
  id: totrans-1389
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â  |'
- en: '| ;Â [Board](#%28tech._board%29) -> [[List-of](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    |'
  id: totrans-1390
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â [æ£‹ç›˜](#%28tech._board%29) -> [[åˆ—è¡¨](part_three.html#%28tech._sim-dd._list._of%29)  [QP](#%28tech._qp%29)]
    |'
- en: '| ;Â finds spots where it is still safe to place a queen |'
  id: totrans-1391
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ;Â æŸ¥æ‰¾ä»ç„¶å¯ä»¥æ”¾ç½®çš‡åçš„ä½ç½® |'
- en: '| ([define](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-open-spotsÂ a-board)
    |'
  id: totrans-1392
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| ([å®šä¹‰](http://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._define%29%29)Â (find-open-spotsÂ a-board)
    |'
- en: '| Â Â ''()) |'
  id: totrans-1393
  prefs:
  - PREF_BQ
  type: TYPE_TB
  zh: '| Â Â ''()) |'
- en: The first function is used in [figureÂ 175](#%28counter._%28figure._fig~3asolutions-for-4%29%29)
    to create the initial board representation for place-queens. You will need the
    other two to describe the generative steps for the algorithm.
  id: totrans-1394
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªå‡½æ•°åœ¨ [å›¾Â 175](#%28counter._%28figure._fig~3asolutions-for-4%29%29) ä¸­ç”¨äºä¸º place-queens
    åˆ›å»ºåˆå§‹çš„æ£‹ç›˜è¡¨ç¤ºã€‚ä½ éœ€è¦å…¶ä»–ä¸¤ä¸ªæ¥æè¿°ç®—æ³•çš„ç”Ÿæˆæ­¥éª¤ã€‚
- en: You cannot confirm yet that your solution to the preceding exercise works because
    it relies on an extensive wish list. It calls for a data representation of [Board](#%28tech._board%29)s
    that supports the three functions on the wish list. This, then, is your remaining
    problem.
  id: totrans-1395
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ è¿˜ä¸èƒ½ç¡®è®¤å‰é¢ç»ƒä¹ çš„è§£å†³æ–¹æ¡ˆæ˜¯å¦æœ‰æ•ˆï¼Œå› ä¸ºå®ƒä¾èµ–äºä¸€ä¸ªåºå¤§çš„æ„¿æœ›æ¸…å•ã€‚å®ƒè¦æ±‚ä¸€ä¸ªæ”¯æŒæ„¿æœ›æ¸…å•ä¸­ä¸‰ä¸ªå‡½æ•°çš„ [æ£‹ç›˜](#%28tech._board%29)s
    æ•°æ®è¡¨ç¤ºã€‚è¿™å°±æ˜¯ä½ å‰©ä¸‹çš„é—®é¢˜ã€‚
- en: 'ExerciseÂ 483\. Develop a data definition for [Board](#%28tech._board%29) and
    design the three functions specified in [exerciseÂ 482](#%28counter._%28exercise._ex~3aqueens-solve%29%29).
    Consider the following ideas:'
  id: totrans-1396
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ƒä¹ Â 483ã€‚ä¸º [æ£‹ç›˜](#%28tech._board%29) å¼€å‘ä¸€ä¸ªæ•°æ®å®šä¹‰ï¼Œå¹¶è®¾è®¡ [ç»ƒä¹ Â 482](#%28counter._%28exercise._ex~3aqueens-solve%29%29)
    ä¸­æŒ‡å®šçš„ä¸‰ä¸ªå‡½æ•°ã€‚è€ƒè™‘ä»¥ä¸‹æƒ³æ³•ï¼š
- en: a [Board](#%28tech._board%29) collects those positions where a queen can still
    be placed;
  id: totrans-1397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª [æ£‹ç›˜](#%28tech._board%29) æ”¶é›†äº†å¯ä»¥æ”¾ç½®çš‡åçš„ä½ç½®ï¼›
- en: a [Board](#%28tech._board%29) contains the list of positions where a queen has
    been placed;
  id: totrans-1398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª [æ£‹ç›˜](#%28tech._board%29) åŒ…å«äº†æ”¾ç½®çš‡åçš„ä½ç½®åˆ—è¡¨ï¼›
- en: 'a [Board](#%28tech._board%29) is a grid of n by n squares, each possibly occupied
    by a queen. Use a structure with three fields to represent a square: one for x,
    one for y, and a third one saying whether the square is threatened.'
  id: totrans-1399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª [æ£‹ç›˜](#%28tech._board%29) æ˜¯ä¸€ä¸ª n x n çš„ç½‘æ ¼ï¼Œæ¯ä¸ªæ ¼å­å¯èƒ½è¢«çš‡åå æ®ã€‚ä½¿ç”¨å…·æœ‰ä¸‰ä¸ªå­—æ®µçš„ç»“æ„æ¥è¡¨ç¤ºä¸€ä¸ªæ ¼å­ï¼šä¸€ä¸ªç”¨äº
    xï¼Œä¸€ä¸ªç”¨äº yï¼Œç¬¬ä¸‰ä¸ªè¡¨ç¤ºæ ¼å­æ˜¯å¦å—åˆ°å¨èƒã€‚
- en: Use one of the above ideas to solve this exercise.
  id: totrans-1400
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä¸Šè¿°æƒ³æ³•ä¹‹ä¸€æ¥è§£å†³è¿™ä¸ªç»ƒä¹ ã€‚
- en: Challenge Use all three ideas to come up with three different data representations
    of [Board](#%28tech._board%29). Abstract your solution to [exerciseÂ 482](#%28counter._%28exercise._ex~3aqueens-solve%29%29)
    and confirm that it works with any of your data representations of [Board](#%28tech._board%29).
  id: totrans-1401
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‘æˆ˜ï¼šä½¿ç”¨è¿™ä¸‰ç§æƒ³æ³•æ¥ä¸º[Board](#%28tech._board%29)æå‡ºä¸‰ç§ä¸åŒçš„æ•°æ®è¡¨ç¤ºã€‚å°†ä½ çš„è§£å†³æ–¹æ¡ˆæŠ½è±¡åŒ–åˆ°[ç»ƒä¹ 482](#%28counter._%28exercise._ex~3aqueens-solve%29%29)ï¼Œå¹¶ç¡®è®¤å®ƒé€‚ç”¨äºä½ ä¸º[Board](#%28tech._board%29)æä¾›çš„ä»»ä½•æ•°æ®è¡¨ç¤ºã€‚
- en: 30Summary[ğŸ”—](#(part._ch~3asummary5) "Link to here")
  id: totrans-1402
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 30æ€»ç»“[ğŸ”—](#(part._ch~3asummary5) "é“¾æ¥åˆ°æ­¤å¤„")
- en: This fifth part of the book introduces the idea of eureka! into program design.
    Unlike the structural design of the first four parts, eureka! design starts from
    an idea of how the program should solve a problem or process data that represents
    a problem. Designing here means coming up with a clever way to call a recursive
    function on a new kind of problem that is like the given one but simpler.
  id: totrans-1403
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æœ¬ä¹¦çš„ç¬¬äº”éƒ¨åˆ†å¼•å…¥äº†â€œeurekaï¼â€è¿™ä¸€æ¦‚å¿µåˆ°ç¨‹åºè®¾è®¡ã€‚ä¸ç¬¬ä¸€åˆ°å››éƒ¨åˆ†çš„ç»“æ„åŒ–è®¾è®¡ä¸åŒï¼Œâ€œeurekaï¼â€è®¾è®¡æ˜¯ä»ç¨‹åºåº”è¯¥å¦‚ä½•è§£å†³é—®é¢˜æˆ–å¤„ç†è¡¨ç¤ºé—®é¢˜çš„æ•°æ®çš„æƒ³æ³•å¼€å§‹çš„ã€‚åœ¨è¿™é‡Œè®¾è®¡æ„å‘³ç€æƒ³å‡ºä¸€ä¸ªå·§å¦™çš„æ–¹æ³•æ¥å¯¹æ–°ç±»å‹çš„é—®é¢˜è°ƒç”¨é€’å½’å‡½æ•°ï¼Œè¿™ä¸ªé—®é¢˜ç±»ä¼¼äºç»™å®šçš„é—®é¢˜ä½†æ›´ç®€å•ã€‚
- en: Keep in mind that while we have dubbed it generative recursion, most computer
    scientists refer to these functions as algorithms.
  id: totrans-1404
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·è®°ä½ï¼Œè™½ç„¶æˆ‘ä»¬ç§°ä¹‹ä¸ºç”Ÿæˆé€’å½’ï¼Œä½†å¤§å¤šæ•°è®¡ç®—æœºç§‘å­¦å®¶å°†è¿™äº›å‡½æ•°ç§°ä¸ºç®—æ³•ã€‚
- en: 'Once you have completed this part of the book, you will understand the following
    about the design of generative recursion:'
  id: totrans-1405
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä½ å®Œæˆäº†è¿™æœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†ï¼Œä½ å°†äº†è§£å…³äºç”Ÿæˆé€’å½’è®¾è®¡çš„ä»¥ä¸‹å†…å®¹ï¼š
- en: The standard outline of the design recipe remains valid.
  id: totrans-1406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¾è®¡é£Ÿè°±çš„æ ‡å‡†å¤§çº²ä»ç„¶æœ‰æ•ˆã€‚
- en: The major change concerns the coding step. It introduces four new questions
    on going from the completely generic template for generative recursion to a complete
    function. With two of these questions, you work out the â€œtrivialâ€ parts of the
    solution process; and with the other two you work out the generative solution
    step.
  id: totrans-1407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸»è¦å˜åŒ–æ¶‰åŠç¼–ç æ­¥éª¤ã€‚å®ƒå¼•å…¥äº†å››ä¸ªæ–°é—®é¢˜ï¼Œä»å®Œå…¨é€šç”¨çš„ç”Ÿæˆé€’å½’æ¨¡æ¿åˆ°å®Œæ•´å‡½æ•°çš„è½¬å˜ã€‚å…¶ä¸­ä¸¤ä¸ªé—®é¢˜ï¼Œä½ å°†è§£å†³è§£å†³æ–¹æ¡ˆè¿‡ç¨‹ä¸­çš„â€œç®€å•â€éƒ¨åˆ†ï¼›è€Œå¦å¤–ä¸¤ä¸ªé—®é¢˜ï¼Œä½ å°†è§£å†³ç”Ÿæˆè§£å†³æ–¹æ¡ˆæ­¥éª¤ã€‚
- en: The minor change is about the termination behavior of generative recursive functions.
    Unlike structurally designed functions, algorithms may not terminate for some
    inputs. This problem might be due to inherent limitations in the idea or the translation
    of the idea into code. Regardless, the future reader of your program deserves
    a warning about potentially â€œbadâ€ inputs.
  id: totrans-1408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°çš„å˜åŒ–æ¶‰åŠç”Ÿæˆé€’å½’å‡½æ•°çš„ç»ˆæ­¢è¡Œä¸ºã€‚ä¸ç»“æ„åŒ–è®¾è®¡çš„å‡½æ•°ä¸åŒï¼Œç®—æ³•å¯¹äºæŸäº›è¾“å…¥å¯èƒ½ä¸ä¼šç»ˆæ­¢ã€‚è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯ç”±äºæƒ³æ³•æœ¬èº«æˆ–å°†å…¶è½¬åŒ–ä¸ºä»£ç çš„å›ºæœ‰å±€é™æ€§ã€‚æ— è®ºå¦‚ä½•ï¼Œä½ çš„ç¨‹åºçš„æœªæ¥è¯»è€…åº”å¾—åˆ°å…³äºå¯èƒ½â€œä¸è‰¯â€è¾“å…¥çš„è­¦å‘Šã€‚
- en: You will encounter some simple or well-known algorithms in your real-world programming
    tasks, and you will be expected to cope. For truly clever algorithms, software
    companies employ highly paid specialists, domain experts, and mathematicians to
    work out the conceptual details before they ask programmers to turn the concepts
    into programs. You must also be prepared for this kind of task, and the best preparation
    is practice.
  id: totrans-1409
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä½ çš„å®é™…ç¼–ç¨‹ä»»åŠ¡ä¸­ï¼Œä½ å°†é‡åˆ°ä¸€äº›ç®€å•æˆ–å·²çŸ¥çš„ç®—æ³•ï¼Œå¹¶ä¸”ä½ å°†è¢«æœŸæœ›åº”å¯¹ã€‚å¯¹äºçœŸæ­£å·§å¦™çš„ç®—æ³•ï¼Œè½¯ä»¶å…¬å¸ä¼šé›‡ä½£é«˜è–ªçš„ä¸“å®¶ã€é¢†åŸŸä¸“å®¶å’Œæ•°å­¦å®¶æ¥åœ¨ç¨‹åºå‘˜å°†æ¦‚å¿µè½¬åŒ–ä¸ºç¨‹åºä¹‹å‰è§£å†³æ¦‚å¿µç»†èŠ‚ã€‚ä½ ä¹Ÿå¿…é¡»ä¸ºæ­¤ç±»ä»»åŠ¡åšå¥½å‡†å¤‡ï¼Œè€Œæœ€å¥½çš„å‡†å¤‡å°±æ˜¯å®è·µã€‚
